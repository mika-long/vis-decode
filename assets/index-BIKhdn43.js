var dlt=Object.defineProperty;var hlt=(e,t,n)=>t in e?dlt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var plt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ll=(e,t,n)=>hlt(e,typeof t!="symbol"?t+"":t,n);var Bar=plt((Xur,xhe)=>{function mlt(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function glt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Hke={exports:{}},i7={},qke={exports:{}},_r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$=Symbol.for("react.element"),ylt=Symbol.for("react.portal"),vlt=Symbol.for("react.fragment"),blt=Symbol.for("react.strict_mode"),_lt=Symbol.for("react.profiler"),wlt=Symbol.for("react.provider"),xlt=Symbol.for("react.context"),Elt=Symbol.for("react.forward_ref"),Tlt=Symbol.for("react.suspense"),Slt=Symbol.for("react.memo"),Alt=Symbol.for("react.lazy"),yge=Symbol.iterator;function Clt(e){return e===null||typeof e!="object"?null:(e=yge&&e[yge]||e["@@iterator"],typeof e=="function"?e:null)}var Wke={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gke=Object.assign,Yke={};function dC(e,t,n){this.props=e,this.context=t,this.refs=Yke,this.updater=n||Wke}dC.prototype.isReactComponent={};dC.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dC.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kke(){}Kke.prototype=dC.prototype;function Gte(e,t,n){this.props=e,this.context=t,this.refs=Yke,this.updater=n||Wke}var Yte=Gte.prototype=new Kke;Yte.constructor=Gte;Gke(Yte,dC.prototype);Yte.isPureReactComponent=!0;var vge=Array.isArray,Xke=Object.prototype.hasOwnProperty,Kte={current:null},Qke={key:!0,ref:!0,__self:!0,__source:!0};function Jke(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Xke.call(t,r)&&!Qke.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:h$,type:e,key:s,ref:o,props:i,_owner:Kte.current}}function Ilt(e,t){return{$$typeof:h$,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xte(e){return typeof e=="object"&&e!==null&&e.$$typeof===h$}function klt(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bge=/\/+/g;function KV(e,t){return typeof e=="object"&&e!==null&&e.key!=null?klt(""+e.key):t.toString(36)}function zO(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case h$:case ylt:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+KV(o,0):r,vge(i)?(n="",e!=null&&(n=e.replace(bge,"$&/")+"/"),zO(i,t,n,"",function(l){return l})):i!=null&&(Xte(i)&&(i=Ilt(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(bge,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",vge(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+KV(s,a);o+=zO(s,t,n,u,i)}else if(u=Clt(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+KV(s,a++),o+=zO(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cP(e,t,n){if(e==null)return e;var r=[],i=0;return zO(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Rlt(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zl={current:null},VO={transition:null},$lt={ReactCurrentDispatcher:zl,ReactCurrentBatchConfig:VO,ReactCurrentOwner:Kte};function Zke(){throw Error("act(...) is not supported in production builds of React.")}_r.Children={map:cP,forEach:function(e,t,n){cP(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cP(e,function(){t++}),t},toArray:function(e){return cP(e,function(t){return t})||[]},only:function(e){if(!Xte(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_r.Component=dC;_r.Fragment=vlt;_r.Profiler=_lt;_r.PureComponent=Gte;_r.StrictMode=blt;_r.Suspense=Tlt;_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$lt;_r.act=Zke;_r.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gke({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Kte.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Xke.call(t,u)&&!Qke.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:h$,type:e.type,key:i,ref:s,props:r,_owner:o}};_r.createContext=function(e){return e={$$typeof:xlt,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wlt,_context:e},e.Consumer=e};_r.createElement=Jke;_r.createFactory=function(e){var t=Jke.bind(null,e);return t.type=e,t};_r.createRef=function(){return{current:null}};_r.forwardRef=function(e){return{$$typeof:Elt,render:e}};_r.isValidElement=Xte;_r.lazy=function(e){return{$$typeof:Alt,_payload:{_status:-1,_result:e},_init:Rlt}};_r.memo=function(e,t){return{$$typeof:Slt,type:e,compare:t===void 0?null:t}};_r.startTransition=function(e){var t=VO.transition;VO.transition={};try{e()}finally{VO.transition=t}};_r.unstable_act=Zke;_r.useCallback=function(e,t){return zl.current.useCallback(e,t)};_r.useContext=function(e){return zl.current.useContext(e)};_r.useDebugValue=function(){};_r.useDeferredValue=function(e){return zl.current.useDeferredValue(e)};_r.useEffect=function(e,t){return zl.current.useEffect(e,t)};_r.useId=function(){return zl.current.useId()};_r.useImperativeHandle=function(e,t,n){return zl.current.useImperativeHandle(e,t,n)};_r.useInsertionEffect=function(e,t){return zl.current.useInsertionEffect(e,t)};_r.useLayoutEffect=function(e,t){return zl.current.useLayoutEffect(e,t)};_r.useMemo=function(e,t){return zl.current.useMemo(e,t)};_r.useReducer=function(e,t,n){return zl.current.useReducer(e,t,n)};_r.useRef=function(e){return zl.current.useRef(e)};_r.useState=function(e){return zl.current.useState(e)};_r.useSyncExternalStore=function(e,t,n){return zl.current.useSyncExternalStore(e,t,n)};_r.useTransition=function(){return zl.current.useTransition()};_r.version="18.3.1";qke.exports=_r;var R=qke.exports;const ui=tf(R),f9=mlt({__proto__:null,default:ui},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nlt=R,Plt=Symbol.for("react.element"),Olt=Symbol.for("react.fragment"),Dlt=Object.prototype.hasOwnProperty,Llt=Nlt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mlt={key:!0,ref:!0,__self:!0,__source:!0};function eRe(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Dlt.call(t,r)&&!Mlt.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Plt,type:e,key:s,ref:o,props:i,_owner:Llt.current}}i7.Fragment=Olt;i7.jsx=eRe;i7.jsxs=eRe;Hke.exports=i7;var E=Hke.exports,IK={},tRe={exports:{}},rd={},nRe={exports:{}},rRe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,J){var F=K.length;K.push(J);e:for(;0<F;){var j=F-1>>>1,W=K[j];if(0<i(W,J))K[j]=J,K[F]=W,F=j;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var J=K[0],F=K.pop();if(F!==J){K[0]=F;e:for(var j=0,W=K.length,M=W>>>1;j<M;){var V=2*(j+1)-1,Q=K[V],se=V+1,be=K[se];if(0>i(Q,F))se<W&&0>i(be,Q)?(K[j]=be,K[se]=F,j=se):(K[j]=Q,K[V]=F,j=V);else if(se<W&&0>i(be,F))K[j]=be,K[se]=F,j=se;else break e}}return J}function i(K,J){var F=K.sortIndex-J.sortIndex;return F!==0?F:K.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(K){for(var J=n(l);J!==null;){if(J.callback===null)r(l);else if(J.startTime<=K)r(l),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(l)}}function w(K){if(m=!1,b(K),!p)if(n(u)!==null)p=!0,H(x);else{var J=n(l);J!==null&&G(w,J.startTime-K)}}function x(K,J){p=!1,m&&(m=!1,y(C),C=-1),h=!0;var F=d;try{for(b(J),f=n(u);f!==null&&(!(f.expirationTime>J)||K&&!P());){var j=f.callback;if(typeof j=="function"){f.callback=null,d=f.priorityLevel;var W=j(f.expirationTime<=J);J=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(u)&&r(u),b(J)}else r(u);f=n(u)}if(f!==null)var M=!0;else{var V=n(l);V!==null&&G(w,V.startTime-J),M=!1}return M}finally{f=null,d=F,h=!1}}var S=!1,A=null,C=-1,$=5,k=-1;function P(){return!(e.unstable_now()-k<$)}function L(){if(A!==null){var K=e.unstable_now();k=K;var J=!0;try{J=A(!0,K)}finally{J?O():(S=!1,A=null)}}else S=!1}var O;if(typeof v=="function")O=function(){v(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,q=B.port2;B.port1.onmessage=L,O=function(){q.postMessage(null)}}else O=function(){g(L,0)};function H(K){A=K,S||(S=!0,O())}function G(K,J){C=g(function(){K(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,H(x))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(K){switch(d){case 1:case 2:case 3:var J=3;break;default:J=d}var F=d;d=J;try{return K()}finally{d=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var F=d;d=K;try{return J()}finally{d=F}},e.unstable_scheduleCallback=function(K,J,F){var j=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?j+F:j):F=j,K){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,K={id:c++,callback:J,priorityLevel:K,startTime:F,expirationTime:W,sortIndex:-1},F>j?(K.sortIndex=F,t(l,K),n(u)===null&&K===n(l)&&(m?(y(C),C=-1):m=!0,G(w,F-j))):(K.sortIndex=W,t(u,K),p||h||(p=!0,H(x))),K},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(K){var J=d;return function(){var F=d;d=J;try{return K.apply(this,arguments)}finally{d=F}}}})(rRe);nRe.exports=rRe;var Flt=nRe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Blt=R,zf=Flt;function bt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iRe=new Set,_k={};function h2(e,t){qS(e,t),qS(e+"Capture",t)}function qS(e,t){for(_k[e]=t,e=0;e<t.length;e++)iRe.add(t[e])}var hy=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kK=Object.prototype.hasOwnProperty,jlt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_ge={},wge={};function Ult(e){return kK.call(wge,e)?!0:kK.call(_ge,e)?!1:jlt.test(e)?wge[e]=!0:(_ge[e]=!0,!1)}function zlt(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vlt(e,t,n,r){if(t===null||typeof t>"u"||zlt(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vl(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var lu={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lu[e]=new Vl(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lu[t]=new Vl(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lu[e]=new Vl(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lu[e]=new Vl(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lu[e]=new Vl(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lu[e]=new Vl(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lu[e]=new Vl(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lu[e]=new Vl(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lu[e]=new Vl(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qte=/[\-:]([a-z])/g;function Jte(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qte,Jte);lu[t]=new Vl(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qte,Jte);lu[t]=new Vl(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qte,Jte);lu[t]=new Vl(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lu[e]=new Vl(e,1,!1,e.toLowerCase(),null,!1,!1)});lu.xlinkHref=new Vl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lu[e]=new Vl(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zte(e,t,n,r){var i=lu.hasOwnProperty(t)?lu[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vlt(t,n,i,r)&&(n=null),r||i===null?Ult(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Uy=Blt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fP=Symbol.for("react.element"),RT=Symbol.for("react.portal"),$T=Symbol.for("react.fragment"),ene=Symbol.for("react.strict_mode"),RK=Symbol.for("react.profiler"),sRe=Symbol.for("react.provider"),oRe=Symbol.for("react.context"),tne=Symbol.for("react.forward_ref"),$K=Symbol.for("react.suspense"),NK=Symbol.for("react.suspense_list"),nne=Symbol.for("react.memo"),Z1=Symbol.for("react.lazy"),aRe=Symbol.for("react.offscreen"),xge=Symbol.iterator;function sI(e){return e===null||typeof e!="object"?null:(e=xge&&e[xge]||e["@@iterator"],typeof e=="function"?e:null)}var Vs=Object.assign,XV;function E4(e){if(XV===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);XV=t&&t[1]||""}return`
`+XV+e}var QV=!1;function JV(e,t){if(!e||QV)return"";QV=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{QV=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?E4(e):""}function Hlt(e){switch(e.tag){case 5:return E4(e.type);case 16:return E4("Lazy");case 13:return E4("Suspense");case 19:return E4("SuspenseList");case 0:case 2:case 15:return e=JV(e.type,!1),e;case 11:return e=JV(e.type.render,!1),e;case 1:return e=JV(e.type,!0),e;default:return""}}function PK(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $T:return"Fragment";case RT:return"Portal";case RK:return"Profiler";case ene:return"StrictMode";case $K:return"Suspense";case NK:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oRe:return(e.displayName||"Context")+".Consumer";case sRe:return(e._context.displayName||"Context")+".Provider";case tne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nne:return t=e.displayName||null,t!==null?t:PK(e.type)||"Memo";case Z1:t=e._payload,e=e._init;try{return PK(e(t))}catch{}}return null}function qlt(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PK(t);case 8:return t===ene?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ab(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uRe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wlt(e){var t=uRe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dP(e){e._valueTracker||(e._valueTracker=Wlt(e))}function lRe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uRe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function d9(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function OK(e,t){var n=t.checked;return Vs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ege(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ab(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cRe(e,t){t=t.checked,t!=null&&Zte(e,"checked",t,!1)}function DK(e,t){cRe(e,t);var n=ab(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?LK(e,t.type,n):t.hasOwnProperty("defaultValue")&&LK(e,t.type,ab(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tge(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function LK(e,t,n){(t!=="number"||d9(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var T4=Array.isArray;function nS(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ab(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function MK(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(bt(91));return Vs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sge(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(bt(92));if(T4(n)){if(1<n.length)throw Error(bt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ab(n)}}function fRe(e,t){var n=ab(t.value),r=ab(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Age(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dRe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FK(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dRe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hP,hRe=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hP=hP||document.createElement("div"),hP.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hP.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wk(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var y6={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Glt=["Webkit","ms","Moz","O"];Object.keys(y6).forEach(function(e){Glt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),y6[t]=y6[e]})});function pRe(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||y6.hasOwnProperty(e)&&y6[e]?(""+t).trim():t+"px"}function mRe(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pRe(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ylt=Vs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BK(e,t){if(t){if(Ylt[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(bt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(bt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(bt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(bt(62))}}function jK(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UK=null;function rne(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zK=null,rS=null,iS=null;function Cge(e){if(e=g$(e)){if(typeof zK!="function")throw Error(bt(280));var t=e.stateNode;t&&(t=l7(t),zK(e.stateNode,e.type,t))}}function gRe(e){rS?iS?iS.push(e):iS=[e]:rS=e}function yRe(){if(rS){var e=rS,t=iS;if(iS=rS=null,Cge(e),t)for(e=0;e<t.length;e++)Cge(t[e])}}function vRe(e,t){return e(t)}function bRe(){}var ZV=!1;function _Re(e,t,n){if(ZV)return e(t,n);ZV=!0;try{return vRe(e,t,n)}finally{ZV=!1,(rS!==null||iS!==null)&&(bRe(),yRe())}}function xk(e,t){var n=e.stateNode;if(n===null)return null;var r=l7(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(bt(231,t,typeof n));return n}var VK=!1;if(hy)try{var oI={};Object.defineProperty(oI,"passive",{get:function(){VK=!0}}),window.addEventListener("test",oI,oI),window.removeEventListener("test",oI,oI)}catch{VK=!1}function Klt(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var v6=!1,h9=null,p9=!1,HK=null,Xlt={onError:function(e){v6=!0,h9=e}};function Qlt(e,t,n,r,i,s,o,a,u){v6=!1,h9=null,Klt.apply(Xlt,arguments)}function Jlt(e,t,n,r,i,s,o,a,u){if(Qlt.apply(this,arguments),v6){if(v6){var l=h9;v6=!1,h9=null}else throw Error(bt(198));p9||(p9=!0,HK=l)}}function p2(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wRe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ige(e){if(p2(e)!==e)throw Error(bt(188))}function Zlt(e){var t=e.alternate;if(!t){if(t=p2(e),t===null)throw Error(bt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ige(i),e;if(s===r)return Ige(i),t;s=s.sibling}throw Error(bt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(bt(189))}}if(n.alternate!==r)throw Error(bt(190))}if(n.tag!==3)throw Error(bt(188));return n.stateNode.current===n?e:t}function xRe(e){return e=Zlt(e),e!==null?ERe(e):null}function ERe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ERe(e);if(t!==null)return t;e=e.sibling}return null}var TRe=zf.unstable_scheduleCallback,kge=zf.unstable_cancelCallback,ect=zf.unstable_shouldYield,tct=zf.unstable_requestPaint,go=zf.unstable_now,nct=zf.unstable_getCurrentPriorityLevel,ine=zf.unstable_ImmediatePriority,SRe=zf.unstable_UserBlockingPriority,m9=zf.unstable_NormalPriority,rct=zf.unstable_LowPriority,ARe=zf.unstable_IdlePriority,s7=null,z0=null;function ict(e){if(z0&&typeof z0.onCommitFiberRoot=="function")try{z0.onCommitFiberRoot(s7,e,void 0,(e.current.flags&128)===128)}catch{}}var dp=Math.clz32?Math.clz32:act,sct=Math.log,oct=Math.LN2;function act(e){return e>>>=0,e===0?32:31-(sct(e)/oct|0)|0}var pP=64,mP=4194304;function S4(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function g9(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=S4(a):(s&=o,s!==0&&(r=S4(s)))}else o=n&~i,o!==0?r=S4(o):s!==0&&(r=S4(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dp(t),i=1<<n,r|=e[n],t&=~i;return r}function uct(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lct(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-dp(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=uct(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function qK(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function CRe(){var e=pP;return pP<<=1,!(pP&4194240)&&(pP=64),e}function eH(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function p$(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dp(t),e[t]=n}function cct(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dp(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function sne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dp(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Oi=0;function IRe(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kRe,one,RRe,$Re,NRe,WK=!1,gP=[],Mv=null,Fv=null,Bv=null,Ek=new Map,Tk=new Map,fv=[],fct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rge(e,t){switch(e){case"focusin":case"focusout":Mv=null;break;case"dragenter":case"dragleave":Fv=null;break;case"mouseover":case"mouseout":Bv=null;break;case"pointerover":case"pointerout":Ek.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tk.delete(t.pointerId)}}function aI(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=g$(t),t!==null&&one(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dct(e,t,n,r,i){switch(t){case"focusin":return Mv=aI(Mv,e,t,n,r,i),!0;case"dragenter":return Fv=aI(Fv,e,t,n,r,i),!0;case"mouseover":return Bv=aI(Bv,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ek.set(s,aI(Ek.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tk.set(s,aI(Tk.get(s)||null,e,t,n,r,i)),!0}return!1}function PRe(e){var t=jw(e.target);if(t!==null){var n=p2(t);if(n!==null){if(t=n.tag,t===13){if(t=wRe(n),t!==null){e.blockedOn=t,NRe(e.priority,function(){RRe(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function HO(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=GK(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);UK=r,n.target.dispatchEvent(r),UK=null}else return t=g$(n),t!==null&&one(t),e.blockedOn=n,!1;t.shift()}return!0}function $ge(e,t,n){HO(e)&&n.delete(t)}function hct(){WK=!1,Mv!==null&&HO(Mv)&&(Mv=null),Fv!==null&&HO(Fv)&&(Fv=null),Bv!==null&&HO(Bv)&&(Bv=null),Ek.forEach($ge),Tk.forEach($ge)}function uI(e,t){e.blockedOn===t&&(e.blockedOn=null,WK||(WK=!0,zf.unstable_scheduleCallback(zf.unstable_NormalPriority,hct)))}function Sk(e){function t(i){return uI(i,e)}if(0<gP.length){uI(gP[0],e);for(var n=1;n<gP.length;n++){var r=gP[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mv!==null&&uI(Mv,e),Fv!==null&&uI(Fv,e),Bv!==null&&uI(Bv,e),Ek.forEach(t),Tk.forEach(t),n=0;n<fv.length;n++)r=fv[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fv.length&&(n=fv[0],n.blockedOn===null);)PRe(n),n.blockedOn===null&&fv.shift()}var sS=Uy.ReactCurrentBatchConfig,y9=!0;function pct(e,t,n,r){var i=Oi,s=sS.transition;sS.transition=null;try{Oi=1,ane(e,t,n,r)}finally{Oi=i,sS.transition=s}}function mct(e,t,n,r){var i=Oi,s=sS.transition;sS.transition=null;try{Oi=4,ane(e,t,n,r)}finally{Oi=i,sS.transition=s}}function ane(e,t,n,r){if(y9){var i=GK(e,t,n,r);if(i===null)cH(e,t,r,v9,n),Rge(e,r);else if(dct(i,e,t,n,r))r.stopPropagation();else if(Rge(e,r),t&4&&-1<fct.indexOf(e)){for(;i!==null;){var s=g$(i);if(s!==null&&kRe(s),s=GK(e,t,n,r),s===null&&cH(e,t,r,v9,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cH(e,t,r,null,n)}}var v9=null;function GK(e,t,n,r){if(v9=null,e=rne(r),e=jw(e),e!==null)if(t=p2(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wRe(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return v9=e,null}function ORe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nct()){case ine:return 1;case SRe:return 4;case m9:case rct:return 16;case ARe:return 536870912;default:return 16}default:return 16}}var xv=null,une=null,qO=null;function DRe(){if(qO)return qO;var e,t=une,n=t.length,r,i="value"in xv?xv.value:xv.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return qO=i.slice(e,1<r?1-r:void 0)}function WO(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yP(){return!0}function Nge(){return!1}function id(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yP:Nge,this.isPropagationStopped=Nge,this}return Vs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yP)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yP)},persist:function(){},isPersistent:yP}),t}var hC={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lne=id(hC),m$=Vs({},hC,{view:0,detail:0}),gct=id(m$),tH,nH,lI,o7=Vs({},m$,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cne,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lI&&(lI&&e.type==="mousemove"?(tH=e.screenX-lI.screenX,nH=e.screenY-lI.screenY):nH=tH=0,lI=e),tH)},movementY:function(e){return"movementY"in e?e.movementY:nH}}),Pge=id(o7),yct=Vs({},o7,{dataTransfer:0}),vct=id(yct),bct=Vs({},m$,{relatedTarget:0}),rH=id(bct),_ct=Vs({},hC,{animationName:0,elapsedTime:0,pseudoElement:0}),wct=id(_ct),xct=Vs({},hC,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ect=id(xct),Tct=Vs({},hC,{data:0}),Oge=id(Tct),Sct={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Act={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ict(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cct[e])?!!t[e]:!1}function cne(){return Ict}var kct=Vs({},m$,{key:function(e){if(e.key){var t=Sct[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=WO(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Act[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cne,charCode:function(e){return e.type==="keypress"?WO(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?WO(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rct=id(kct),$ct=Vs({},o7,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dge=id($ct),Nct=Vs({},m$,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cne}),Pct=id(Nct),Oct=Vs({},hC,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dct=id(Oct),Lct=Vs({},o7,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mct=id(Lct),Fct=[9,13,27,32],fne=hy&&"CompositionEvent"in window,b6=null;hy&&"documentMode"in document&&(b6=document.documentMode);var Bct=hy&&"TextEvent"in window&&!b6,LRe=hy&&(!fne||b6&&8<b6&&11>=b6),Lge=" ",Mge=!1;function MRe(e,t){switch(e){case"keyup":return Fct.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FRe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var NT=!1;function jct(e,t){switch(e){case"compositionend":return FRe(t);case"keypress":return t.which!==32?null:(Mge=!0,Lge);case"textInput":return e=t.data,e===Lge&&Mge?null:e;default:return null}}function Uct(e,t){if(NT)return e==="compositionend"||!fne&&MRe(e,t)?(e=DRe(),qO=une=xv=null,NT=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LRe&&t.locale!=="ko"?null:t.data;default:return null}}var zct={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fge(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zct[e.type]:t==="textarea"}function BRe(e,t,n,r){gRe(r),t=b9(t,"onChange"),0<t.length&&(n=new lne("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _6=null,Ak=null;function Vct(e){XRe(e,0)}function a7(e){var t=DT(e);if(lRe(t))return e}function Hct(e,t){if(e==="change")return t}var jRe=!1;if(hy){var iH;if(hy){var sH="oninput"in document;if(!sH){var Bge=document.createElement("div");Bge.setAttribute("oninput","return;"),sH=typeof Bge.oninput=="function"}iH=sH}else iH=!1;jRe=iH&&(!document.documentMode||9<document.documentMode)}function jge(){_6&&(_6.detachEvent("onpropertychange",URe),Ak=_6=null)}function URe(e){if(e.propertyName==="value"&&a7(Ak)){var t=[];BRe(t,Ak,e,rne(e)),_Re(Vct,t)}}function qct(e,t,n){e==="focusin"?(jge(),_6=t,Ak=n,_6.attachEvent("onpropertychange",URe)):e==="focusout"&&jge()}function Wct(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return a7(Ak)}function Gct(e,t){if(e==="click")return a7(t)}function Yct(e,t){if(e==="input"||e==="change")return a7(t)}function Kct(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xp=typeof Object.is=="function"?Object.is:Kct;function Ck(e,t){if(xp(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kK.call(t,i)||!xp(e[i],t[i]))return!1}return!0}function Uge(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zge(e,t){var n=Uge(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uge(n)}}function zRe(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zRe(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function VRe(){for(var e=window,t=d9();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=d9(e.document)}return t}function dne(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xct(e){var t=VRe(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zRe(n.ownerDocument.documentElement,n)){if(r!==null&&dne(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=zge(n,s);var o=zge(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qct=hy&&"documentMode"in document&&11>=document.documentMode,PT=null,YK=null,w6=null,KK=!1;function Vge(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;KK||PT==null||PT!==d9(r)||(r=PT,"selectionStart"in r&&dne(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),w6&&Ck(w6,r)||(w6=r,r=b9(YK,"onSelect"),0<r.length&&(t=new lne("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=PT)))}function vP(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var OT={animationend:vP("Animation","AnimationEnd"),animationiteration:vP("Animation","AnimationIteration"),animationstart:vP("Animation","AnimationStart"),transitionend:vP("Transition","TransitionEnd")},oH={},HRe={};hy&&(HRe=document.createElement("div").style,"AnimationEvent"in window||(delete OT.animationend.animation,delete OT.animationiteration.animation,delete OT.animationstart.animation),"TransitionEvent"in window||delete OT.transitionend.transition);function u7(e){if(oH[e])return oH[e];if(!OT[e])return e;var t=OT[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in HRe)return oH[e]=t[n];return e}var qRe=u7("animationend"),WRe=u7("animationiteration"),GRe=u7("animationstart"),YRe=u7("transitionend"),KRe=new Map,Hge="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yb(e,t){KRe.set(e,t),h2(t,[e])}for(var aH=0;aH<Hge.length;aH++){var uH=Hge[aH],Jct=uH.toLowerCase(),Zct=uH[0].toUpperCase()+uH.slice(1);Yb(Jct,"on"+Zct)}Yb(qRe,"onAnimationEnd");Yb(WRe,"onAnimationIteration");Yb(GRe,"onAnimationStart");Yb("dblclick","onDoubleClick");Yb("focusin","onFocus");Yb("focusout","onBlur");Yb(YRe,"onTransitionEnd");qS("onMouseEnter",["mouseout","mouseover"]);qS("onMouseLeave",["mouseout","mouseover"]);qS("onPointerEnter",["pointerout","pointerover"]);qS("onPointerLeave",["pointerout","pointerover"]);h2("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));h2("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));h2("onBeforeInput",["compositionend","keypress","textInput","paste"]);h2("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));h2("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));h2("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A4="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eft=new Set("cancel close invalid load scroll toggle".split(" ").concat(A4));function qge(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jlt(r,t,void 0,e),e.currentTarget=null}function XRe(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;qge(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;qge(i,a,l),s=u}}}if(p9)throw e=HK,p9=!1,HK=null,e}function ys(e,t){var n=t[eX];n===void 0&&(n=t[eX]=new Set);var r=e+"__bubble";n.has(r)||(QRe(t,e,2,!1),n.add(r))}function lH(e,t,n){var r=0;t&&(r|=4),QRe(n,e,r,t)}var bP="_reactListening"+Math.random().toString(36).slice(2);function Ik(e){if(!e[bP]){e[bP]=!0,iRe.forEach(function(n){n!=="selectionchange"&&(eft.has(n)||lH(n,!1,e),lH(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bP]||(t[bP]=!0,lH("selectionchange",!1,t))}}function QRe(e,t,n,r){switch(ORe(t)){case 1:var i=pct;break;case 4:i=mct;break;default:i=ane}n=i.bind(null,t,n,e),i=void 0,!VK||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cH(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=jw(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_Re(function(){var l=s,c=rne(n),f=[];e:{var d=KRe.get(e);if(d!==void 0){var h=lne,p=e;switch(e){case"keypress":if(WO(n)===0)break e;case"keydown":case"keyup":h=Rct;break;case"focusin":p="focus",h=rH;break;case"focusout":p="blur",h=rH;break;case"beforeblur":case"afterblur":h=rH;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Pge;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=vct;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Pct;break;case qRe:case WRe:case GRe:h=wct;break;case YRe:h=Dct;break;case"scroll":h=gct;break;case"wheel":h=Mct;break;case"copy":case"cut":case"paste":h=Ect;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Dge}var m=(t&4)!==0,g=!m&&e==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var v=l,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,y!==null&&(w=xk(v,y),w!=null&&m.push(kk(v,w,b)))),g)break;v=v.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==UK&&(p=n.relatedTarget||n.fromElement)&&(jw(p)||p[py]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?jw(p):null,p!==null&&(g=p2(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=Pge,w="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=Dge,w="onPointerLeave",y="onPointerEnter",v="pointer"),g=h==null?d:DT(h),b=p==null?d:DT(p),d=new m(w,v+"leave",h,n,c),d.target=g,d.relatedTarget=b,w=null,jw(c)===l&&(m=new m(y,v+"enter",p,n,c),m.target=b,m.relatedTarget=g,w=m),g=w,h&&p)t:{for(m=h,y=p,v=0,b=m;b;b=NE(b))v++;for(b=0,w=y;w;w=NE(w))b++;for(;0<v-b;)m=NE(m),v--;for(;0<b-v;)y=NE(y),b--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=NE(m),y=NE(y)}m=null}else m=null;h!==null&&Wge(f,d,h,m,!1),p!==null&&g!==null&&Wge(f,g,p,m,!0)}}e:{if(d=l?DT(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var x=Hct;else if(Fge(d))if(jRe)x=Yct;else{x=Wct;var S=qct}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=Gct);if(x&&(x=x(e,l))){BRe(f,x,n,c);break e}S&&S(e,d,l),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&LK(d,"number",d.value)}switch(S=l?DT(l):window,e){case"focusin":(Fge(S)||S.contentEditable==="true")&&(PT=S,YK=l,w6=null);break;case"focusout":w6=YK=PT=null;break;case"mousedown":KK=!0;break;case"contextmenu":case"mouseup":case"dragend":KK=!1,Vge(f,n,c);break;case"selectionchange":if(Qct)break;case"keydown":case"keyup":Vge(f,n,c)}var A;if(fne)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else NT?MRe(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(LRe&&n.locale!=="ko"&&(NT||C!=="onCompositionStart"?C==="onCompositionEnd"&&NT&&(A=DRe()):(xv=c,une="value"in xv?xv.value:xv.textContent,NT=!0)),S=b9(l,C),0<S.length&&(C=new Oge(C,e,null,n,c),f.push({event:C,listeners:S}),A?C.data=A:(A=FRe(n),A!==null&&(C.data=A)))),(A=Bct?jct(e,n):Uct(e,n))&&(l=b9(l,"onBeforeInput"),0<l.length&&(c=new Oge("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=A))}XRe(f,t)})}function kk(e,t,n){return{instance:e,listener:t,currentTarget:n}}function b9(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xk(e,n),s!=null&&r.unshift(kk(e,s,i)),s=xk(e,t),s!=null&&r.push(kk(e,s,i))),e=e.return}return r}function NE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wge(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=xk(n,s),u!=null&&o.unshift(kk(n,u,a))):i||(u=xk(n,s),u!=null&&o.push(kk(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tft=/\r\n?/g,nft=/\u0000|\uFFFD/g;function Gge(e){return(typeof e=="string"?e:""+e).replace(tft,`
`).replace(nft,"")}function _P(e,t,n){if(t=Gge(t),Gge(e)!==t&&n)throw Error(bt(425))}function _9(){}var XK=null,QK=null;function JK(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ZK=typeof setTimeout=="function"?setTimeout:void 0,rft=typeof clearTimeout=="function"?clearTimeout:void 0,Yge=typeof Promise=="function"?Promise:void 0,ift=typeof queueMicrotask=="function"?queueMicrotask:typeof Yge<"u"?function(e){return Yge.resolve(null).then(e).catch(sft)}:ZK;function sft(e){setTimeout(function(){throw e})}function fH(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Sk(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sk(t)}function jv(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kge(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pC=Math.random().toString(36).slice(2),w0="__reactFiber$"+pC,Rk="__reactProps$"+pC,py="__reactContainer$"+pC,eX="__reactEvents$"+pC,oft="__reactListeners$"+pC,aft="__reactHandles$"+pC;function jw(e){var t=e[w0];if(t)return t;for(var n=e.parentNode;n;){if(t=n[py]||n[w0]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kge(e);e!==null;){if(n=e[w0])return n;e=Kge(e)}return t}e=n,n=e.parentNode}return null}function g$(e){return e=e[w0]||e[py],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function DT(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(bt(33))}function l7(e){return e[Rk]||null}var tX=[],LT=-1;function Kb(e){return{current:e}}function Es(e){0>LT||(e.current=tX[LT],tX[LT]=null,LT--)}function us(e,t){LT++,tX[LT]=e.current,e.current=t}var ub={},Yu=Kb(ub),Nc=Kb(!1),Ex=ub;function WS(e,t){var n=e.type.contextTypes;if(!n)return ub;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pc(e){return e=e.childContextTypes,e!=null}function w9(){Es(Nc),Es(Yu)}function Xge(e,t,n){if(Yu.current!==ub)throw Error(bt(168));us(Yu,t),us(Nc,n)}function JRe(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(bt(108,qlt(e)||"Unknown",i));return Vs({},n,r)}function x9(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ub,Ex=Yu.current,us(Yu,e),us(Nc,Nc.current),!0}function Qge(e,t,n){var r=e.stateNode;if(!r)throw Error(bt(169));n?(e=JRe(e,t,Ex),r.__reactInternalMemoizedMergedChildContext=e,Es(Nc),Es(Yu),us(Yu,e)):Es(Nc),us(Nc,n)}var Ag=null,c7=!1,dH=!1;function ZRe(e){Ag===null?Ag=[e]:Ag.push(e)}function uft(e){c7=!0,ZRe(e)}function Xb(){if(!dH&&Ag!==null){dH=!0;var e=0,t=Oi;try{var n=Ag;for(Oi=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ag=null,c7=!1}catch(i){throw Ag!==null&&(Ag=Ag.slice(e+1)),TRe(ine,Xb),i}finally{Oi=t,dH=!1}}return null}var MT=[],FT=0,E9=null,T9=0,kd=[],Rd=0,Tx=null,Fg=1,Bg="";function lw(e,t){MT[FT++]=T9,MT[FT++]=E9,E9=e,T9=t}function e$e(e,t,n){kd[Rd++]=Fg,kd[Rd++]=Bg,kd[Rd++]=Tx,Tx=e;var r=Fg;e=Bg;var i=32-dp(r)-1;r&=~(1<<i),n+=1;var s=32-dp(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fg=1<<32-dp(t)+i|n<<i|r,Bg=s+e}else Fg=1<<s|n<<i|r,Bg=e}function hne(e){e.return!==null&&(lw(e,1),e$e(e,1,0))}function pne(e){for(;e===E9;)E9=MT[--FT],MT[FT]=null,T9=MT[--FT],MT[FT]=null;for(;e===Tx;)Tx=kd[--Rd],kd[Rd]=null,Bg=kd[--Rd],kd[Rd]=null,Fg=kd[--Rd],kd[Rd]=null}var Lf=null,If=null,Os=!1,Gh=null;function t$e(e,t){var n=Md(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jge(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lf=e,If=jv(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lf=e,If=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Tx!==null?{id:Fg,overflow:Bg}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Md(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Lf=e,If=null,!0):!1;default:return!1}}function nX(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rX(e){if(Os){var t=If;if(t){var n=t;if(!Jge(e,t)){if(nX(e))throw Error(bt(418));t=jv(n.nextSibling);var r=Lf;t&&Jge(e,t)?t$e(r,n):(e.flags=e.flags&-4097|2,Os=!1,Lf=e)}}else{if(nX(e))throw Error(bt(418));e.flags=e.flags&-4097|2,Os=!1,Lf=e}}}function Zge(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lf=e}function wP(e){if(e!==Lf)return!1;if(!Os)return Zge(e),Os=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!JK(e.type,e.memoizedProps)),t&&(t=If)){if(nX(e))throw n$e(),Error(bt(418));for(;t;)t$e(e,t),t=jv(t.nextSibling)}if(Zge(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(bt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){If=jv(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}If=null}}else If=Lf?jv(e.stateNode.nextSibling):null;return!0}function n$e(){for(var e=If;e;)e=jv(e.nextSibling)}function GS(){If=Lf=null,Os=!1}function mne(e){Gh===null?Gh=[e]:Gh.push(e)}var lft=Uy.ReactCurrentBatchConfig;function cI(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(bt(309));var r=n.stateNode}if(!r)throw Error(bt(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(bt(284));if(!n._owner)throw Error(bt(290,e))}return e}function xP(e,t){throw e=Object.prototype.toString.call(t),Error(bt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eye(e){var t=e._init;return t(e._payload)}function r$e(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Hv(y,v),y.index=0,y.sibling=null,y}function s(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,w){return v===null||v.tag!==6?(v=bH(b,y.mode,w),v.return=y,v):(v=i(v,b),v.return=y,v)}function u(y,v,b,w){var x=b.type;return x===$T?c(y,v,b.props.children,w,b.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Z1&&eye(x)===v.type)?(w=i(v,b.props),w.ref=cI(y,v,b),w.return=y,w):(w=ZO(b.type,b.key,b.props,null,y.mode,w),w.ref=cI(y,v,b),w.return=y,w)}function l(y,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=_H(b,y.mode,w),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,w,x){return v===null||v.tag!==7?(v=lx(b,y.mode,w,x),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=bH(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fP:return b=ZO(v.type,v.key,v.props,null,y.mode,b),b.ref=cI(y,null,v),b.return=y,b;case RT:return v=_H(v,y.mode,b),v.return=y,v;case Z1:var w=v._init;return f(y,w(v._payload),b)}if(T4(v)||sI(v))return v=lx(v,y.mode,b,null),v.return=y,v;xP(y,v)}return null}function d(y,v,b,w){var x=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:a(y,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fP:return b.key===x?u(y,v,b,w):null;case RT:return b.key===x?l(y,v,b,w):null;case Z1:return x=b._init,d(y,v,x(b._payload),w)}if(T4(b)||sI(b))return x!==null?null:c(y,v,b,w,null);xP(y,b)}return null}function h(y,v,b,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(b)||null,a(v,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fP:return y=y.get(w.key===null?b:w.key)||null,u(v,y,w,x);case RT:return y=y.get(w.key===null?b:w.key)||null,l(v,y,w,x);case Z1:var S=w._init;return h(y,v,b,S(w._payload),x)}if(T4(w)||sI(w))return y=y.get(b)||null,c(v,y,w,x,null);xP(v,w)}return null}function p(y,v,b,w){for(var x=null,S=null,A=v,C=v=0,$=null;A!==null&&C<b.length;C++){A.index>C?($=A,A=null):$=A.sibling;var k=d(y,A,b[C],w);if(k===null){A===null&&(A=$);break}e&&A&&k.alternate===null&&t(y,A),v=s(k,v,C),S===null?x=k:S.sibling=k,S=k,A=$}if(C===b.length)return n(y,A),Os&&lw(y,C),x;if(A===null){for(;C<b.length;C++)A=f(y,b[C],w),A!==null&&(v=s(A,v,C),S===null?x=A:S.sibling=A,S=A);return Os&&lw(y,C),x}for(A=r(y,A);C<b.length;C++)$=h(A,y,C,b[C],w),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?C:$.key),v=s($,v,C),S===null?x=$:S.sibling=$,S=$);return e&&A.forEach(function(P){return t(y,P)}),Os&&lw(y,C),x}function m(y,v,b,w){var x=sI(b);if(typeof x!="function")throw Error(bt(150));if(b=x.call(b),b==null)throw Error(bt(151));for(var S=x=null,A=v,C=v=0,$=null,k=b.next();A!==null&&!k.done;C++,k=b.next()){A.index>C?($=A,A=null):$=A.sibling;var P=d(y,A,k.value,w);if(P===null){A===null&&(A=$);break}e&&A&&P.alternate===null&&t(y,A),v=s(P,v,C),S===null?x=P:S.sibling=P,S=P,A=$}if(k.done)return n(y,A),Os&&lw(y,C),x;if(A===null){for(;!k.done;C++,k=b.next())k=f(y,k.value,w),k!==null&&(v=s(k,v,C),S===null?x=k:S.sibling=k,S=k);return Os&&lw(y,C),x}for(A=r(y,A);!k.done;C++,k=b.next())k=h(A,y,C,k.value,w),k!==null&&(e&&k.alternate!==null&&A.delete(k.key===null?C:k.key),v=s(k,v,C),S===null?x=k:S.sibling=k,S=k);return e&&A.forEach(function(L){return t(y,L)}),Os&&lw(y,C),x}function g(y,v,b,w){if(typeof b=="object"&&b!==null&&b.type===$T&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case fP:e:{for(var x=b.key,S=v;S!==null;){if(S.key===x){if(x=b.type,x===$T){if(S.tag===7){n(y,S.sibling),v=i(S,b.props.children),v.return=y,y=v;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Z1&&eye(x)===S.type){n(y,S.sibling),v=i(S,b.props),v.ref=cI(y,S,b),v.return=y,y=v;break e}n(y,S);break}else t(y,S);S=S.sibling}b.type===$T?(v=lx(b.props.children,y.mode,w,b.key),v.return=y,y=v):(w=ZO(b.type,b.key,b.props,null,y.mode,w),w.ref=cI(y,v,b),w.return=y,y=w)}return o(y);case RT:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=_H(b,y.mode,w),v.return=y,y=v}return o(y);case Z1:return S=b._init,g(y,v,S(b._payload),w)}if(T4(b))return p(y,v,b,w);if(sI(b))return m(y,v,b,w);xP(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=bH(b,y.mode,w),v.return=y,y=v),o(y)):n(y,v)}return g}var YS=r$e(!0),i$e=r$e(!1),S9=Kb(null),A9=null,BT=null,gne=null;function yne(){gne=BT=A9=null}function vne(e){var t=S9.current;Es(S9),e._currentValue=t}function iX(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oS(e,t){A9=e,gne=BT=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sc=!0),e.firstContext=null)}function Gd(e){var t=e._currentValue;if(gne!==e)if(e={context:e,memoizedValue:t,next:null},BT===null){if(A9===null)throw Error(bt(308));BT=e,A9.dependencies={lanes:0,firstContext:e}}else BT=BT.next=e;return t}var Uw=null;function bne(e){Uw===null?Uw=[e]:Uw.push(e)}function s$e(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,bne(t)):(n.next=i.next,i.next=n),t.interleaved=n,my(e,r)}function my(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ev=!1;function _ne(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o$e(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jg(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uv(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ni&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,my(e,n)}return i=r.interleaved,i===null?(t.next=t,bne(r)):(t.next=i.next,i.next=t),r.interleaved=t,my(e,n)}function GO(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sne(e,n)}}function tye(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function C9(e,t,n,r){var i=e.updateQueue;ev=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=Vs({},f,d);break e;case 2:ev=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ax|=o,e.lanes=o,e.memoizedState=f}}function nye(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(bt(191,i));i.call(r)}}}var y$={},V0=Kb(y$),$k=Kb(y$),Nk=Kb(y$);function zw(e){if(e===y$)throw Error(bt(174));return e}function wne(e,t){switch(us(Nk,t),us($k,e),us(V0,y$),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:FK(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=FK(t,e)}Es(V0),us(V0,t)}function KS(){Es(V0),Es($k),Es(Nk)}function a$e(e){zw(Nk.current);var t=zw(V0.current),n=FK(t,e.type);t!==n&&(us($k,e),us(V0,n))}function xne(e){$k.current===e&&(Es(V0),Es($k))}var Us=Kb(0);function I9(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hH=[];function Ene(){for(var e=0;e<hH.length;e++)hH[e]._workInProgressVersionPrimary=null;hH.length=0}var YO=Uy.ReactCurrentDispatcher,pH=Uy.ReactCurrentBatchConfig,Sx=0,zs=null,Yo=null,_a=null,k9=!1,x6=!1,Pk=0,cft=0;function wu(){throw Error(bt(321))}function Tne(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xp(e[n],t[n]))return!1;return!0}function Sne(e,t,n,r,i,s){if(Sx=s,zs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,YO.current=e===null||e.memoizedState===null?pft:mft,e=n(r,i),x6){s=0;do{if(x6=!1,Pk=0,25<=s)throw Error(bt(301));s+=1,_a=Yo=null,t.updateQueue=null,YO.current=gft,e=n(r,i)}while(x6)}if(YO.current=R9,t=Yo!==null&&Yo.next!==null,Sx=0,_a=Yo=zs=null,k9=!1,t)throw Error(bt(300));return e}function Ane(){var e=Pk!==0;return Pk=0,e}function f0(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _a===null?zs.memoizedState=_a=e:_a=_a.next=e,_a}function Yd(){if(Yo===null){var e=zs.alternate;e=e!==null?e.memoizedState:null}else e=Yo.next;var t=_a===null?zs.memoizedState:_a.next;if(t!==null)_a=t,Yo=e;else{if(e===null)throw Error(bt(310));Yo=e,e={memoizedState:Yo.memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},_a===null?zs.memoizedState=_a=e:_a=_a.next=e}return _a}function Ok(e,t){return typeof t=="function"?t(e):t}function mH(e){var t=Yd(),n=t.queue;if(n===null)throw Error(bt(311));n.lastRenderedReducer=e;var r=Yo,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Sx&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,zs.lanes|=c,Ax|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,xp(r,t.memoizedState)||(Sc=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,zs.lanes|=s,Ax|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gH(e){var t=Yd(),n=t.queue;if(n===null)throw Error(bt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);xp(s,t.memoizedState)||(Sc=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function u$e(){}function l$e(e,t){var n=zs,r=Yd(),i=t(),s=!xp(r.memoizedState,i);if(s&&(r.memoizedState=i,Sc=!0),r=r.queue,Cne(d$e.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||_a!==null&&_a.memoizedState.tag&1){if(n.flags|=2048,Dk(9,f$e.bind(null,n,r,i,t),void 0,null),Ra===null)throw Error(bt(349));Sx&30||c$e(n,t,i)}return i}function c$e(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=zs.updateQueue,t===null?(t={lastEffect:null,stores:null},zs.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function f$e(e,t,n,r){t.value=n,t.getSnapshot=r,h$e(t)&&p$e(e)}function d$e(e,t,n){return n(function(){h$e(t)&&p$e(e)})}function h$e(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xp(e,n)}catch{return!0}}function p$e(e){var t=my(e,1);t!==null&&hp(t,e,1,-1)}function rye(e){var t=f0();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ok,lastRenderedState:e},t.queue=e,e=e.dispatch=hft.bind(null,zs,e),[t.memoizedState,e]}function Dk(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=zs.updateQueue,t===null?(t={lastEffect:null,stores:null},zs.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function m$e(){return Yd().memoizedState}function KO(e,t,n,r){var i=f0();zs.flags|=e,i.memoizedState=Dk(1|t,n,void 0,r===void 0?null:r)}function f7(e,t,n,r){var i=Yd();r=r===void 0?null:r;var s=void 0;if(Yo!==null){var o=Yo.memoizedState;if(s=o.destroy,r!==null&&Tne(r,o.deps)){i.memoizedState=Dk(t,n,s,r);return}}zs.flags|=e,i.memoizedState=Dk(1|t,n,s,r)}function iye(e,t){return KO(8390656,8,e,t)}function Cne(e,t){return f7(2048,8,e,t)}function g$e(e,t){return f7(4,2,e,t)}function y$e(e,t){return f7(4,4,e,t)}function v$e(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function b$e(e,t,n){return n=n!=null?n.concat([e]):null,f7(4,4,v$e.bind(null,t,e),n)}function Ine(){}function _$e(e,t){var n=Yd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tne(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function w$e(e,t){var n=Yd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tne(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function x$e(e,t,n){return Sx&21?(xp(n,t)||(n=CRe(),zs.lanes|=n,Ax|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sc=!0),e.memoizedState=n)}function fft(e,t){var n=Oi;Oi=n!==0&&4>n?n:4,e(!0);var r=pH.transition;pH.transition={};try{e(!1),t()}finally{Oi=n,pH.transition=r}}function E$e(){return Yd().memoizedState}function dft(e,t,n){var r=Vv(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},T$e(e))S$e(t,n);else if(n=s$e(e,t,n,r),n!==null){var i=Al();hp(n,e,r,i),A$e(n,t,r)}}function hft(e,t,n){var r=Vv(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(T$e(e))S$e(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xp(a,o)){var u=t.interleaved;u===null?(i.next=i,bne(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=s$e(e,t,i,r),n!==null&&(i=Al(),hp(n,e,r,i),A$e(n,t,r))}}function T$e(e){var t=e.alternate;return e===zs||t!==null&&t===zs}function S$e(e,t){x6=k9=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function A$e(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sne(e,n)}}var R9={readContext:Gd,useCallback:wu,useContext:wu,useEffect:wu,useImperativeHandle:wu,useInsertionEffect:wu,useLayoutEffect:wu,useMemo:wu,useReducer:wu,useRef:wu,useState:wu,useDebugValue:wu,useDeferredValue:wu,useTransition:wu,useMutableSource:wu,useSyncExternalStore:wu,useId:wu,unstable_isNewReconciler:!1},pft={readContext:Gd,useCallback:function(e,t){return f0().memoizedState=[e,t===void 0?null:t],e},useContext:Gd,useEffect:iye,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,KO(4194308,4,v$e.bind(null,t,e),n)},useLayoutEffect:function(e,t){return KO(4194308,4,e,t)},useInsertionEffect:function(e,t){return KO(4,2,e,t)},useMemo:function(e,t){var n=f0();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=f0();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dft.bind(null,zs,e),[r.memoizedState,e]},useRef:function(e){var t=f0();return e={current:e},t.memoizedState=e},useState:rye,useDebugValue:Ine,useDeferredValue:function(e){return f0().memoizedState=e},useTransition:function(){var e=rye(!1),t=e[0];return e=fft.bind(null,e[1]),f0().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=zs,i=f0();if(Os){if(n===void 0)throw Error(bt(407));n=n()}else{if(n=t(),Ra===null)throw Error(bt(349));Sx&30||c$e(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,iye(d$e.bind(null,r,s,e),[e]),r.flags|=2048,Dk(9,f$e.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=f0(),t=Ra.identifierPrefix;if(Os){var n=Bg,r=Fg;n=(r&~(1<<32-dp(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pk++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cft++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mft={readContext:Gd,useCallback:_$e,useContext:Gd,useEffect:Cne,useImperativeHandle:b$e,useInsertionEffect:g$e,useLayoutEffect:y$e,useMemo:w$e,useReducer:mH,useRef:m$e,useState:function(){return mH(Ok)},useDebugValue:Ine,useDeferredValue:function(e){var t=Yd();return x$e(t,Yo.memoizedState,e)},useTransition:function(){var e=mH(Ok)[0],t=Yd().memoizedState;return[e,t]},useMutableSource:u$e,useSyncExternalStore:l$e,useId:E$e,unstable_isNewReconciler:!1},gft={readContext:Gd,useCallback:_$e,useContext:Gd,useEffect:Cne,useImperativeHandle:b$e,useInsertionEffect:g$e,useLayoutEffect:y$e,useMemo:w$e,useReducer:gH,useRef:m$e,useState:function(){return gH(Ok)},useDebugValue:Ine,useDeferredValue:function(e){var t=Yd();return Yo===null?t.memoizedState=e:x$e(t,Yo.memoizedState,e)},useTransition:function(){var e=gH(Ok)[0],t=Yd().memoizedState;return[e,t]},useMutableSource:u$e,useSyncExternalStore:l$e,useId:E$e,unstable_isNewReconciler:!1};function Uh(e,t){if(e&&e.defaultProps){t=Vs({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sX(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Vs({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var d7={isMounted:function(e){return(e=e._reactInternals)?p2(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Al(),i=Vv(e),s=Jg(r,i);s.payload=t,n!=null&&(s.callback=n),t=Uv(e,s,i),t!==null&&(hp(t,e,i,r),GO(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Al(),i=Vv(e),s=Jg(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Uv(e,s,i),t!==null&&(hp(t,e,i,r),GO(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Al(),r=Vv(e),i=Jg(n,r);i.tag=2,t!=null&&(i.callback=t),t=Uv(e,i,r),t!==null&&(hp(t,e,r,n),GO(t,e,r))}};function sye(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ck(n,r)||!Ck(i,s):!0}function C$e(e,t,n){var r=!1,i=ub,s=t.contextType;return typeof s=="object"&&s!==null?s=Gd(s):(i=Pc(t)?Ex:Yu.current,r=t.contextTypes,s=(r=r!=null)?WS(e,i):ub),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=d7,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function oye(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&d7.enqueueReplaceState(t,t.state,null)}function oX(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},_ne(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Gd(s):(s=Pc(t)?Ex:Yu.current,i.context=WS(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(sX(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&d7.enqueueReplaceState(i,i.state,null),C9(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function XS(e,t){try{var n="",r=t;do n+=Hlt(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function yH(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function aX(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yft=typeof WeakMap=="function"?WeakMap:Map;function I$e(e,t,n){n=Jg(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){N9||(N9=!0,yX=r),aX(e,t)},n}function k$e(e,t,n){n=Jg(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){aX(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){aX(e,t),typeof r!="function"&&(zv===null?zv=new Set([this]):zv.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function aye(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yft;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$ft.bind(null,e,t,n),t.then(e,e))}function uye(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lye(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jg(-1,1),t.tag=2,Uv(n,t,1))),n.lanes|=1),e)}var vft=Uy.ReactCurrentOwner,Sc=!1;function ml(e,t,n,r){t.child=e===null?i$e(t,null,n,r):YS(t,e.child,n,r)}function cye(e,t,n,r,i){n=n.render;var s=t.ref;return oS(t,i),r=Sne(e,t,n,r,s,i),n=Ane(),e!==null&&!Sc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gy(e,t,i)):(Os&&n&&hne(t),t.flags|=1,ml(e,t,r,i),t.child)}function fye(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Lne(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,R$e(e,t,s,r,i)):(e=ZO(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ck,n(o,r)&&e.ref===t.ref)return gy(e,t,i)}return t.flags|=1,e=Hv(s,r),e.ref=t.ref,e.return=t,t.child=e}function R$e(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ck(s,r)&&e.ref===t.ref)if(Sc=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Sc=!0);else return t.lanes=e.lanes,gy(e,t,i)}return uX(e,t,n,r,i)}function $$e(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},us(UT,bf),bf|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,us(UT,bf),bf|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,us(UT,bf),bf|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,us(UT,bf),bf|=r;return ml(e,t,i,n),t.child}function N$e(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function uX(e,t,n,r,i){var s=Pc(n)?Ex:Yu.current;return s=WS(t,s),oS(t,i),n=Sne(e,t,n,r,s,i),r=Ane(),e!==null&&!Sc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gy(e,t,i)):(Os&&r&&hne(t),t.flags|=1,ml(e,t,n,i),t.child)}function dye(e,t,n,r,i){if(Pc(n)){var s=!0;x9(t)}else s=!1;if(oS(t,i),t.stateNode===null)XO(e,t),C$e(t,n,r),oX(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Gd(l):(l=Pc(n)?Ex:Yu.current,l=WS(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&oye(t,o,r,l),ev=!1;var d=t.memoizedState;o.state=d,C9(t,r,o,i),u=t.memoizedState,a!==r||d!==u||Nc.current||ev?(typeof c=="function"&&(sX(t,n,c,r),u=t.memoizedState),(a=ev||sye(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,o$e(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Uh(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Gd(u):(u=Pc(n)?Ex:Yu.current,u=WS(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&oye(t,o,r,u),ev=!1,d=t.memoizedState,o.state=d,C9(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||Nc.current||ev?(typeof h=="function"&&(sX(t,n,h,r),p=t.memoizedState),(l=ev||sye(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return lX(e,t,n,r,s,i)}function lX(e,t,n,r,i,s){N$e(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Qge(t,n,!1),gy(e,t,s);r=t.stateNode,vft.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=YS(t,e.child,null,s),t.child=YS(t,null,a,s)):ml(e,t,a,s),t.memoizedState=r.state,i&&Qge(t,n,!0),t.child}function P$e(e){var t=e.stateNode;t.pendingContext?Xge(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xge(e,t.context,!1),wne(e,t.containerInfo)}function hye(e,t,n,r,i){return GS(),mne(i),t.flags|=256,ml(e,t,n,r),t.child}var cX={dehydrated:null,treeContext:null,retryLane:0};function fX(e){return{baseLanes:e,cachePool:null,transitions:null}}function O$e(e,t,n){var r=t.pendingProps,i=Us.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),us(Us,i&1),e===null)return rX(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=m7(o,r,0,null),e=lx(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fX(n),t.memoizedState=cX,e):kne(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bft(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Hv(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hv(a,s):(s=lx(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?fX(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=cX,r}return s=e.child,e=s.sibling,r=Hv(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kne(e,t){return t=m7({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function EP(e,t,n,r){return r!==null&&mne(r),YS(t,e.child,null,n),e=kne(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bft(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=yH(Error(bt(422))),EP(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=m7({mode:"visible",children:r.children},i,0,null),s=lx(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&YS(t,e.child,null,o),t.child.memoizedState=fX(o),t.memoizedState=cX,s);if(!(t.mode&1))return EP(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(bt(419)),r=yH(s,r,void 0),EP(e,t,o,r)}if(a=(o&e.childLanes)!==0,Sc||a){if(r=Ra,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,my(e,i),hp(r,e,i,-1))}return Dne(),r=yH(Error(bt(421))),EP(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Nft.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,If=jv(i.nextSibling),Lf=t,Os=!0,Gh=null,e!==null&&(kd[Rd++]=Fg,kd[Rd++]=Bg,kd[Rd++]=Tx,Fg=e.id,Bg=e.overflow,Tx=t),t=kne(t,r.children),t.flags|=4096,t)}function pye(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),iX(e.return,t,n)}function vH(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function D$e(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ml(e,t,r.children,n),r=Us.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pye(e,n,t);else if(e.tag===19)pye(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(us(Us,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&I9(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),vH(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&I9(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}vH(t,!0,n,null,s);break;case"together":vH(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function XO(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gy(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ax|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(bt(153));if(t.child!==null){for(e=t.child,n=Hv(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hv(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _ft(e,t,n){switch(t.tag){case 3:P$e(t),GS();break;case 5:a$e(t);break;case 1:Pc(t.type)&&x9(t);break;case 4:wne(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;us(S9,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(us(Us,Us.current&1),t.flags|=128,null):n&t.child.childLanes?O$e(e,t,n):(us(Us,Us.current&1),e=gy(e,t,n),e!==null?e.sibling:null);us(Us,Us.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return D$e(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),us(Us,Us.current),r)break;return null;case 22:case 23:return t.lanes=0,$$e(e,t,n)}return gy(e,t,n)}var L$e,dX,M$e,F$e;L$e=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dX=function(){};M$e=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zw(V0.current);var s=null;switch(n){case"input":i=OK(e,i),r=OK(e,r),s=[];break;case"select":i=Vs({},i,{value:void 0}),r=Vs({},r,{value:void 0}),s=[];break;case"textarea":i=MK(e,i),r=MK(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_9)}BK(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(_k.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(_k.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&ys("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};F$e=function(e,t,n,r){n!==r&&(t.flags|=4)};function fI(e,t){if(!Os)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xu(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wft(e,t,n){var r=t.pendingProps;switch(pne(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xu(t),null;case 1:return Pc(t.type)&&w9(),xu(t),null;case 3:return r=t.stateNode,KS(),Es(Nc),Es(Yu),Ene(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wP(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gh!==null&&(_X(Gh),Gh=null))),dX(e,t),xu(t),null;case 5:xne(t);var i=zw(Nk.current);if(n=t.type,e!==null&&t.stateNode!=null)M$e(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(bt(166));return xu(t),null}if(e=zw(V0.current),wP(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[w0]=t,r[Rk]=s,e=(t.mode&1)!==0,n){case"dialog":ys("cancel",r),ys("close",r);break;case"iframe":case"object":case"embed":ys("load",r);break;case"video":case"audio":for(i=0;i<A4.length;i++)ys(A4[i],r);break;case"source":ys("error",r);break;case"img":case"image":case"link":ys("error",r),ys("load",r);break;case"details":ys("toggle",r);break;case"input":Ege(r,s),ys("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ys("invalid",r);break;case"textarea":Sge(r,s),ys("invalid",r)}BK(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_P(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_P(r.textContent,a,e),i=["children",""+a]):_k.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ys("scroll",r)}switch(n){case"input":dP(r),Tge(r,s,!0);break;case"textarea":dP(r),Age(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_9)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dRe(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[w0]=t,e[Rk]=r,L$e(e,t,!1,!1),t.stateNode=e;e:{switch(o=jK(n,r),n){case"dialog":ys("cancel",e),ys("close",e),i=r;break;case"iframe":case"object":case"embed":ys("load",e),i=r;break;case"video":case"audio":for(i=0;i<A4.length;i++)ys(A4[i],e);i=r;break;case"source":ys("error",e),i=r;break;case"img":case"image":case"link":ys("error",e),ys("load",e),i=r;break;case"details":ys("toggle",e),i=r;break;case"input":Ege(e,r),i=OK(e,r),ys("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Vs({},r,{value:void 0}),ys("invalid",e);break;case"textarea":Sge(e,r),i=MK(e,r),ys("invalid",e);break;default:i=r}BK(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?mRe(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&hRe(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wk(e,u):typeof u=="number"&&wk(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_k.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ys("scroll",e):u!=null&&Zte(e,s,u,o))}switch(n){case"input":dP(e),Tge(e,r,!1);break;case"textarea":dP(e),Age(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ab(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?nS(e,!!r.multiple,s,!1):r.defaultValue!=null&&nS(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_9)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xu(t),null;case 6:if(e&&t.stateNode!=null)F$e(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(bt(166));if(n=zw(Nk.current),zw(V0.current),wP(t)){if(r=t.stateNode,n=t.memoizedProps,r[w0]=t,(s=r.nodeValue!==n)&&(e=Lf,e!==null))switch(e.tag){case 3:_P(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_P(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[w0]=t,t.stateNode=r}return xu(t),null;case 13:if(Es(Us),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Os&&If!==null&&t.mode&1&&!(t.flags&128))n$e(),GS(),t.flags|=98560,s=!1;else if(s=wP(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(bt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(bt(317));s[w0]=t}else GS(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xu(t),s=!1}else Gh!==null&&(_X(Gh),Gh=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Us.current&1?ea===0&&(ea=3):Dne())),t.updateQueue!==null&&(t.flags|=4),xu(t),null);case 4:return KS(),dX(e,t),e===null&&Ik(t.stateNode.containerInfo),xu(t),null;case 10:return vne(t.type._context),xu(t),null;case 17:return Pc(t.type)&&w9(),xu(t),null;case 19:if(Es(Us),s=t.memoizedState,s===null)return xu(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)fI(s,!1);else{if(ea!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=I9(e),o!==null){for(t.flags|=128,fI(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return us(Us,Us.current&1|2),t.child}e=e.sibling}s.tail!==null&&go()>QS&&(t.flags|=128,r=!0,fI(s,!1),t.lanes=4194304)}else{if(!r)if(e=I9(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fI(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Os)return xu(t),null}else 2*go()-s.renderingStartTime>QS&&n!==1073741824&&(t.flags|=128,r=!0,fI(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=go(),t.sibling=null,n=Us.current,us(Us,r?n&1|2:n&1),t):(xu(t),null);case 22:case 23:return One(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bf&1073741824&&(xu(t),t.subtreeFlags&6&&(t.flags|=8192)):xu(t),null;case 24:return null;case 25:return null}throw Error(bt(156,t.tag))}function xft(e,t){switch(pne(t),t.tag){case 1:return Pc(t.type)&&w9(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return KS(),Es(Nc),Es(Yu),Ene(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xne(t),null;case 13:if(Es(Us),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(bt(340));GS()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Es(Us),null;case 4:return KS(),null;case 10:return vne(t.type._context),null;case 22:case 23:return One(),null;case 24:return null;default:return null}}var TP=!1,Du=!1,Eft=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function jT(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qs(e,t,r)}else n.current=null}function hX(e,t,n){try{n()}catch(r){Qs(e,t,r)}}var mye=!1;function Tft(e,t){if(XK=y9,e=VRe(),dne(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(QK={focusedElem:e,selectionRange:n},y9=!1,Vt=t;Vt!==null;)if(t=Vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Vt=e;else for(;Vt!==null;){t=Vt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Uh(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(bt(163))}}catch(w){Qs(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Vt=e;break}Vt=t.return}return p=mye,mye=!1,p}function E6(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&hX(t,n,s)}i=i.next}while(i!==r)}}function h7(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pX(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function B$e(e){var t=e.alternate;t!==null&&(e.alternate=null,B$e(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[w0],delete t[Rk],delete t[eX],delete t[oft],delete t[aft])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function j$e(e){return e.tag===5||e.tag===3||e.tag===4}function gye(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j$e(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mX(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_9));else if(r!==4&&(e=e.child,e!==null))for(mX(e,t,n),e=e.sibling;e!==null;)mX(e,t,n),e=e.sibling}function gX(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gX(e,t,n),e=e.sibling;e!==null;)gX(e,t,n),e=e.sibling}var Ga=null,Vh=!1;function C1(e,t,n){for(n=n.child;n!==null;)U$e(e,t,n),n=n.sibling}function U$e(e,t,n){if(z0&&typeof z0.onCommitFiberUnmount=="function")try{z0.onCommitFiberUnmount(s7,n)}catch{}switch(n.tag){case 5:Du||jT(n,t);case 6:var r=Ga,i=Vh;Ga=null,C1(e,t,n),Ga=r,Vh=i,Ga!==null&&(Vh?(e=Ga,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ga.removeChild(n.stateNode));break;case 18:Ga!==null&&(Vh?(e=Ga,n=n.stateNode,e.nodeType===8?fH(e.parentNode,n):e.nodeType===1&&fH(e,n),Sk(e)):fH(Ga,n.stateNode));break;case 4:r=Ga,i=Vh,Ga=n.stateNode.containerInfo,Vh=!0,C1(e,t,n),Ga=r,Vh=i;break;case 0:case 11:case 14:case 15:if(!Du&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hX(n,t,o),i=i.next}while(i!==r)}C1(e,t,n);break;case 1:if(!Du&&(jT(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qs(n,t,a)}C1(e,t,n);break;case 21:C1(e,t,n);break;case 22:n.mode&1?(Du=(r=Du)||n.memoizedState!==null,C1(e,t,n),Du=r):C1(e,t,n);break;default:C1(e,t,n)}}function yye(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Eft),t.forEach(function(r){var i=Pft.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kh(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ga=a.stateNode,Vh=!1;break e;case 3:Ga=a.stateNode.containerInfo,Vh=!0;break e;case 4:Ga=a.stateNode.containerInfo,Vh=!0;break e}a=a.return}if(Ga===null)throw Error(bt(160));U$e(s,o,i),Ga=null,Vh=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Qs(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z$e(t,e),t=t.sibling}function z$e(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kh(t,e),e0(e),r&4){try{E6(3,e,e.return),h7(3,e)}catch(m){Qs(e,e.return,m)}try{E6(5,e,e.return)}catch(m){Qs(e,e.return,m)}}break;case 1:kh(t,e),e0(e),r&512&&n!==null&&jT(n,n.return);break;case 5:if(kh(t,e),e0(e),r&512&&n!==null&&jT(n,n.return),e.flags&32){var i=e.stateNode;try{wk(i,"")}catch(m){Qs(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cRe(i,s),jK(a,o);var l=jK(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?mRe(i,f):c==="dangerouslySetInnerHTML"?hRe(i,f):c==="children"?wk(i,f):Zte(i,c,f,l)}switch(a){case"input":DK(i,s);break;case"textarea":fRe(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?nS(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?nS(i,!!s.multiple,s.defaultValue,!0):nS(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rk]=s}catch(m){Qs(e,e.return,m)}}break;case 6:if(kh(t,e),e0(e),r&4){if(e.stateNode===null)throw Error(bt(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Qs(e,e.return,m)}}break;case 3:if(kh(t,e),e0(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sk(t.containerInfo)}catch(m){Qs(e,e.return,m)}break;case 4:kh(t,e),e0(e);break;case 13:kh(t,e),e0(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nne=go())),r&4&&yye(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Du=(l=Du)||c,kh(t,e),Du=l):kh(t,e),e0(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Vt=e,c=e.child;c!==null;){for(f=Vt=c;Vt!==null;){switch(d=Vt,h=d.child,d.tag){case 0:case 11:case 14:case 15:E6(4,d,d.return);break;case 1:jT(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Qs(r,n,m)}}break;case 5:jT(d,d.return);break;case 22:if(d.memoizedState!==null){bye(f);continue}}h!==null?(h.return=d,Vt=h):bye(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=pRe("display",o))}catch(m){Qs(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Qs(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kh(t,e),e0(e),r&4&&yye(e);break;case 21:break;default:kh(t,e),e0(e)}}function e0(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(j$e(n)){var r=n;break e}n=n.return}throw Error(bt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wk(i,""),r.flags&=-33);var s=gye(e);gX(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gye(e);mX(e,a,o);break;default:throw Error(bt(161))}}catch(u){Qs(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sft(e,t,n){Vt=e,V$e(e)}function V$e(e,t,n){for(var r=(e.mode&1)!==0;Vt!==null;){var i=Vt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||TP;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Du;a=TP;var l=Du;if(TP=o,(Du=u)&&!l)for(Vt=i;Vt!==null;)o=Vt,u=o.child,o.tag===22&&o.memoizedState!==null?_ye(i):u!==null?(u.return=o,Vt=u):_ye(i);for(;s!==null;)Vt=s,V$e(s),s=s.sibling;Vt=i,TP=a,Du=l}vye(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Vt=s):vye(e)}}function vye(e){for(;Vt!==null;){var t=Vt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Du||h7(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Du)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Uh(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&nye(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nye(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Sk(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(bt(163))}Du||t.flags&512&&pX(t)}catch(d){Qs(t,t.return,d)}}if(t===e){Vt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Vt=n;break}Vt=t.return}}function bye(e){for(;Vt!==null;){var t=Vt;if(t===e){Vt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Vt=n;break}Vt=t.return}}function _ye(e){for(;Vt!==null;){var t=Vt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{h7(4,t)}catch(u){Qs(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Qs(t,i,u)}}var s=t.return;try{pX(t)}catch(u){Qs(t,s,u)}break;case 5:var o=t.return;try{pX(t)}catch(u){Qs(t,o,u)}}}catch(u){Qs(t,t.return,u)}if(t===e){Vt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Vt=a;break}Vt=t.return}}var Aft=Math.ceil,$9=Uy.ReactCurrentDispatcher,Rne=Uy.ReactCurrentOwner,zd=Uy.ReactCurrentBatchConfig,ni=0,Ra=null,Oo=null,ru=0,bf=0,UT=Kb(0),ea=0,Lk=null,Ax=0,p7=0,$ne=0,T6=null,vc=null,Nne=0,QS=1/0,wg=null,N9=!1,yX=null,zv=null,SP=!1,Ev=null,P9=0,S6=0,vX=null,QO=-1,JO=0;function Al(){return ni&6?go():QO!==-1?QO:QO=go()}function Vv(e){return e.mode&1?ni&2&&ru!==0?ru&-ru:lft.transition!==null?(JO===0&&(JO=CRe()),JO):(e=Oi,e!==0||(e=window.event,e=e===void 0?16:ORe(e.type)),e):1}function hp(e,t,n,r){if(50<S6)throw S6=0,vX=null,Error(bt(185));p$(e,n,r),(!(ni&2)||e!==Ra)&&(e===Ra&&(!(ni&2)&&(p7|=n),ea===4&&dv(e,ru)),Oc(e,r),n===1&&ni===0&&!(t.mode&1)&&(QS=go()+500,c7&&Xb()))}function Oc(e,t){var n=e.callbackNode;lct(e,t);var r=g9(e,e===Ra?ru:0);if(r===0)n!==null&&kge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kge(n),t===1)e.tag===0?uft(wye.bind(null,e)):ZRe(wye.bind(null,e)),ift(function(){!(ni&6)&&Xb()}),n=null;else{switch(IRe(r)){case 1:n=ine;break;case 4:n=SRe;break;case 16:n=m9;break;case 536870912:n=ARe;break;default:n=m9}n=Q$e(n,H$e.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function H$e(e,t){if(QO=-1,JO=0,ni&6)throw Error(bt(327));var n=e.callbackNode;if(aS()&&e.callbackNode!==n)return null;var r=g9(e,e===Ra?ru:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=O9(e,r);else{t=r;var i=ni;ni|=2;var s=W$e();(Ra!==e||ru!==t)&&(wg=null,QS=go()+500,ux(e,t));do try{kft();break}catch(a){q$e(e,a)}while(!0);yne(),$9.current=s,ni=i,Oo!==null?t=0:(Ra=null,ru=0,t=ea)}if(t!==0){if(t===2&&(i=qK(e),i!==0&&(r=i,t=bX(e,i))),t===1)throw n=Lk,ux(e,0),dv(e,r),Oc(e,go()),n;if(t===6)dv(e,r);else{if(i=e.current.alternate,!(r&30)&&!Cft(i)&&(t=O9(e,r),t===2&&(s=qK(e),s!==0&&(r=s,t=bX(e,s))),t===1))throw n=Lk,ux(e,0),dv(e,r),Oc(e,go()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(bt(345));case 2:cw(e,vc,wg);break;case 3:if(dv(e,r),(r&130023424)===r&&(t=Nne+500-go(),10<t)){if(g9(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Al(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ZK(cw.bind(null,e,vc,wg),t);break}cw(e,vc,wg);break;case 4:if(dv(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-dp(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=go()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Aft(r/1960))-r,10<r){e.timeoutHandle=ZK(cw.bind(null,e,vc,wg),r);break}cw(e,vc,wg);break;case 5:cw(e,vc,wg);break;default:throw Error(bt(329))}}}return Oc(e,go()),e.callbackNode===n?H$e.bind(null,e):null}function bX(e,t){var n=T6;return e.current.memoizedState.isDehydrated&&(ux(e,t).flags|=256),e=O9(e,t),e!==2&&(t=vc,vc=n,t!==null&&_X(t)),e}function _X(e){vc===null?vc=e:vc.push.apply(vc,e)}function Cft(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xp(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dv(e,t){for(t&=~$ne,t&=~p7,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dp(t),r=1<<n;e[n]=-1,t&=~r}}function wye(e){if(ni&6)throw Error(bt(327));aS();var t=g9(e,0);if(!(t&1))return Oc(e,go()),null;var n=O9(e,t);if(e.tag!==0&&n===2){var r=qK(e);r!==0&&(t=r,n=bX(e,r))}if(n===1)throw n=Lk,ux(e,0),dv(e,t),Oc(e,go()),n;if(n===6)throw Error(bt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cw(e,vc,wg),Oc(e,go()),null}function Pne(e,t){var n=ni;ni|=1;try{return e(t)}finally{ni=n,ni===0&&(QS=go()+500,c7&&Xb())}}function Cx(e){Ev!==null&&Ev.tag===0&&!(ni&6)&&aS();var t=ni;ni|=1;var n=zd.transition,r=Oi;try{if(zd.transition=null,Oi=1,e)return e()}finally{Oi=r,zd.transition=n,ni=t,!(ni&6)&&Xb()}}function One(){bf=UT.current,Es(UT)}function ux(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rft(n)),Oo!==null)for(n=Oo.return;n!==null;){var r=n;switch(pne(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&w9();break;case 3:KS(),Es(Nc),Es(Yu),Ene();break;case 5:xne(r);break;case 4:KS();break;case 13:Es(Us);break;case 19:Es(Us);break;case 10:vne(r.type._context);break;case 22:case 23:One()}n=n.return}if(Ra=e,Oo=e=Hv(e.current,null),ru=bf=t,ea=0,Lk=null,$ne=p7=Ax=0,vc=T6=null,Uw!==null){for(t=0;t<Uw.length;t++)if(n=Uw[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Uw=null}return e}function q$e(e,t){do{var n=Oo;try{if(yne(),YO.current=R9,k9){for(var r=zs.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}k9=!1}if(Sx=0,_a=Yo=zs=null,x6=!1,Pk=0,Rne.current=null,n===null||n.return===null){ea=1,Lk=t,Oo=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=ru,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=uye(o);if(h!==null){h.flags&=-257,lye(h,o,a,s,t),h.mode&1&&aye(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var m=new Set;m.add(u),t.updateQueue=m}else p.add(u);break e}else{if(!(t&1)){aye(s,l,t),Dne();break e}u=Error(bt(426))}}else if(Os&&a.mode&1){var g=uye(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),lye(g,o,a,s,t),mne(XS(u,a));break e}}s=u=XS(u,a),ea!==4&&(ea=2),T6===null?T6=[s]:T6.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=I$e(s,u,t);tye(s,y);break e;case 1:a=u;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zv===null||!zv.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=k$e(s,a,t);tye(s,w);break e}}s=s.return}while(s!==null)}Y$e(n)}catch(x){t=x,Oo===n&&n!==null&&(Oo=n=n.return);continue}break}while(!0)}function W$e(){var e=$9.current;return $9.current=R9,e===null?R9:e}function Dne(){(ea===0||ea===3||ea===2)&&(ea=4),Ra===null||!(Ax&268435455)&&!(p7&268435455)||dv(Ra,ru)}function O9(e,t){var n=ni;ni|=2;var r=W$e();(Ra!==e||ru!==t)&&(wg=null,ux(e,t));do try{Ift();break}catch(i){q$e(e,i)}while(!0);if(yne(),ni=n,$9.current=r,Oo!==null)throw Error(bt(261));return Ra=null,ru=0,ea}function Ift(){for(;Oo!==null;)G$e(Oo)}function kft(){for(;Oo!==null&&!ect();)G$e(Oo)}function G$e(e){var t=X$e(e.alternate,e,bf);e.memoizedProps=e.pendingProps,t===null?Y$e(e):Oo=t,Rne.current=null}function Y$e(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xft(n,t),n!==null){n.flags&=32767,Oo=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ea=6,Oo=null;return}}else if(n=wft(n,t,bf),n!==null){Oo=n;return}if(t=t.sibling,t!==null){Oo=t;return}Oo=t=e}while(t!==null);ea===0&&(ea=5)}function cw(e,t,n){var r=Oi,i=zd.transition;try{zd.transition=null,Oi=1,Rft(e,t,n,r)}finally{zd.transition=i,Oi=r}return null}function Rft(e,t,n,r){do aS();while(Ev!==null);if(ni&6)throw Error(bt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(bt(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(cct(e,s),e===Ra&&(Oo=Ra=null,ru=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||SP||(SP=!0,Q$e(m9,function(){return aS(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zd.transition,zd.transition=null;var o=Oi;Oi=1;var a=ni;ni|=4,Rne.current=null,Tft(e,n),z$e(n,e),Xct(QK),y9=!!XK,QK=XK=null,e.current=n,Sft(n),tct(),ni=a,Oi=o,zd.transition=s}else e.current=n;if(SP&&(SP=!1,Ev=e,P9=i),s=e.pendingLanes,s===0&&(zv=null),ict(n.stateNode),Oc(e,go()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(N9)throw N9=!1,e=yX,yX=null,e;return P9&1&&e.tag!==0&&aS(),s=e.pendingLanes,s&1?e===vX?S6++:(S6=0,vX=e):S6=0,Xb(),null}function aS(){if(Ev!==null){var e=IRe(P9),t=zd.transition,n=Oi;try{if(zd.transition=null,Oi=16>e?16:e,Ev===null)var r=!1;else{if(e=Ev,Ev=null,P9=0,ni&6)throw Error(bt(331));var i=ni;for(ni|=4,Vt=e.current;Vt!==null;){var s=Vt,o=s.child;if(Vt.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Vt=l;Vt!==null;){var c=Vt;switch(c.tag){case 0:case 11:case 15:E6(8,c,s)}var f=c.child;if(f!==null)f.return=c,Vt=f;else for(;Vt!==null;){c=Vt;var d=c.sibling,h=c.return;if(B$e(c),c===l){Vt=null;break}if(d!==null){d.return=h,Vt=d;break}Vt=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Vt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Vt=o;else e:for(;Vt!==null;){if(s=Vt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:E6(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Vt=y;break e}Vt=s.return}}var v=e.current;for(Vt=v;Vt!==null;){o=Vt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Vt=b;else e:for(o=v;Vt!==null;){if(a=Vt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:h7(9,a)}}catch(x){Qs(a,a.return,x)}if(a===o){Vt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Vt=w;break e}Vt=a.return}}if(ni=i,Xb(),z0&&typeof z0.onPostCommitFiberRoot=="function")try{z0.onPostCommitFiberRoot(s7,e)}catch{}r=!0}return r}finally{Oi=n,zd.transition=t}}return!1}function xye(e,t,n){t=XS(n,t),t=I$e(e,t,1),e=Uv(e,t,1),t=Al(),e!==null&&(p$(e,1,t),Oc(e,t))}function Qs(e,t,n){if(e.tag===3)xye(e,e,n);else for(;t!==null;){if(t.tag===3){xye(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zv===null||!zv.has(r))){e=XS(n,e),e=k$e(t,e,1),t=Uv(t,e,1),e=Al(),t!==null&&(p$(t,1,e),Oc(t,e));break}}t=t.return}}function $ft(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Al(),e.pingedLanes|=e.suspendedLanes&n,Ra===e&&(ru&n)===n&&(ea===4||ea===3&&(ru&130023424)===ru&&500>go()-Nne?ux(e,0):$ne|=n),Oc(e,t)}function K$e(e,t){t===0&&(e.mode&1?(t=mP,mP<<=1,!(mP&130023424)&&(mP=4194304)):t=1);var n=Al();e=my(e,t),e!==null&&(p$(e,t,n),Oc(e,n))}function Nft(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),K$e(e,n)}function Pft(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(bt(314))}r!==null&&r.delete(t),K$e(e,n)}var X$e;X$e=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nc.current)Sc=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Sc=!1,_ft(e,t,n);Sc=!!(e.flags&131072)}else Sc=!1,Os&&t.flags&1048576&&e$e(t,T9,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;XO(e,t),e=t.pendingProps;var i=WS(t,Yu.current);oS(t,n),i=Sne(null,t,r,e,i,n);var s=Ane();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pc(r)?(s=!0,x9(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_ne(t),i.updater=d7,t.stateNode=i,i._reactInternals=t,oX(t,r,e,n),t=lX(null,t,r,!0,s,n)):(t.tag=0,Os&&s&&hne(t),ml(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(XO(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Dft(r),e=Uh(r,e),i){case 0:t=uX(null,t,r,e,n);break e;case 1:t=dye(null,t,r,e,n);break e;case 11:t=cye(null,t,r,e,n);break e;case 14:t=fye(null,t,r,Uh(r.type,e),n);break e}throw Error(bt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Uh(r,i),uX(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Uh(r,i),dye(e,t,r,i,n);case 3:e:{if(P$e(t),e===null)throw Error(bt(387));r=t.pendingProps,s=t.memoizedState,i=s.element,o$e(e,t),C9(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=XS(Error(bt(423)),t),t=hye(e,t,r,n,i);break e}else if(r!==i){i=XS(Error(bt(424)),t),t=hye(e,t,r,n,i);break e}else for(If=jv(t.stateNode.containerInfo.firstChild),Lf=t,Os=!0,Gh=null,n=i$e(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(GS(),r===i){t=gy(e,t,n);break e}ml(e,t,r,n)}t=t.child}return t;case 5:return a$e(t),e===null&&rX(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,JK(r,i)?o=null:s!==null&&JK(r,s)&&(t.flags|=32),N$e(e,t),ml(e,t,o,n),t.child;case 6:return e===null&&rX(t),null;case 13:return O$e(e,t,n);case 4:return wne(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=YS(t,null,r,n):ml(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Uh(r,i),cye(e,t,r,i,n);case 7:return ml(e,t,t.pendingProps,n),t.child;case 8:return ml(e,t,t.pendingProps.children,n),t.child;case 12:return ml(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,us(S9,r._currentValue),r._currentValue=o,s!==null)if(xp(s.value,o)){if(s.children===i.children&&!Nc.current){t=gy(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Jg(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),iX(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(bt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),iX(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ml(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,oS(t,n),i=Gd(i),r=r(i),t.flags|=1,ml(e,t,r,n),t.child;case 14:return r=t.type,i=Uh(r,t.pendingProps),i=Uh(r.type,i),fye(e,t,r,i,n);case 15:return R$e(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Uh(r,i),XO(e,t),t.tag=1,Pc(r)?(e=!0,x9(t)):e=!1,oS(t,n),C$e(t,r,i),oX(t,r,i,n),lX(null,t,r,!0,e,n);case 19:return D$e(e,t,n);case 22:return $$e(e,t,n)}throw Error(bt(156,t.tag))};function Q$e(e,t){return TRe(e,t)}function Oft(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Md(e,t,n,r){return new Oft(e,t,n,r)}function Lne(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dft(e){if(typeof e=="function")return Lne(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tne)return 11;if(e===nne)return 14}return 2}function Hv(e,t){var n=e.alternate;return n===null?(n=Md(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ZO(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Lne(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $T:return lx(n.children,i,s,t);case ene:o=8,i|=8;break;case RK:return e=Md(12,n,t,i|2),e.elementType=RK,e.lanes=s,e;case $K:return e=Md(13,n,t,i),e.elementType=$K,e.lanes=s,e;case NK:return e=Md(19,n,t,i),e.elementType=NK,e.lanes=s,e;case aRe:return m7(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sRe:o=10;break e;case oRe:o=9;break e;case tne:o=11;break e;case nne:o=14;break e;case Z1:o=16,r=null;break e}throw Error(bt(130,e==null?e:typeof e,""))}return t=Md(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function lx(e,t,n,r){return e=Md(7,e,r,t),e.lanes=n,e}function m7(e,t,n,r){return e=Md(22,e,r,t),e.elementType=aRe,e.lanes=n,e.stateNode={isHidden:!1},e}function bH(e,t,n){return e=Md(6,e,null,t),e.lanes=n,e}function _H(e,t,n){return t=Md(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lft(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eH(0),this.expirationTimes=eH(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eH(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mne(e,t,n,r,i,s,o,a,u){return e=new Lft(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Md(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_ne(s),e}function Mft(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:RT,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function J$e(e){if(!e)return ub;e=e._reactInternals;e:{if(p2(e)!==e||e.tag!==1)throw Error(bt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pc(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(bt(171))}if(e.tag===1){var n=e.type;if(Pc(n))return JRe(e,n,t)}return t}function Z$e(e,t,n,r,i,s,o,a,u){return e=Mne(n,r,!0,e,i,s,o,a,u),e.context=J$e(null),n=e.current,r=Al(),i=Vv(n),s=Jg(r,i),s.callback=t??null,Uv(n,s,i),e.current.lanes=i,p$(e,i,r),Oc(e,r),e}function g7(e,t,n,r){var i=t.current,s=Al(),o=Vv(i);return n=J$e(n),t.context===null?t.context=n:t.pendingContext=n,t=Jg(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Uv(i,t,o),e!==null&&(hp(e,i,o,s),GO(e,i,o)),o}function D9(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eye(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fne(e,t){Eye(e,t),(e=e.alternate)&&Eye(e,t)}var eNe=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bne(e){this._internalRoot=e}y7.prototype.render=Bne.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(bt(409));g7(e,t,null,null)};y7.prototype.unmount=Bne.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cx(function(){g7(null,e,null,null)}),t[py]=null}};function y7(e){this._internalRoot=e}y7.prototype.unstable_scheduleHydration=function(e){if(e){var t=$Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fv.length&&t!==0&&t<fv[n].priority;n++);fv.splice(n,0,e),n===0&&PRe(e)}};function jne(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v7(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tye(){}function Fft(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=D9(o);s.call(l)}}var o=Z$e(t,r,e,0,null,!1,!1,"",Tye);return e._reactRootContainer=o,e[py]=o.current,Ik(e.nodeType===8?e.parentNode:e),Cx(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=D9(u);a.call(l)}}var u=Mne(e,0,!1,null,null,!1,!1,"",Tye);return e._reactRootContainer=u,e[py]=u.current,Ik(e.nodeType===8?e.parentNode:e),Cx(function(){g7(t,u,n,r)}),u}function b7(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=D9(o);a.call(u)}}g7(t,o,e,i)}else o=Fft(n,t,e,i,r);return D9(o)}kRe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=S4(t.pendingLanes);n!==0&&(sne(t,n|1),Oc(t,go()),!(ni&6)&&(QS=go()+500,Xb()))}break;case 13:Cx(function(){var r=my(e,1);if(r!==null){var i=Al();hp(r,e,1,i)}}),Fne(e,1)}};one=function(e){if(e.tag===13){var t=my(e,134217728);if(t!==null){var n=Al();hp(t,e,134217728,n)}Fne(e,134217728)}};RRe=function(e){if(e.tag===13){var t=Vv(e),n=my(e,t);if(n!==null){var r=Al();hp(n,e,t,r)}Fne(e,t)}};$Re=function(){return Oi};NRe=function(e,t){var n=Oi;try{return Oi=e,t()}finally{Oi=n}};zK=function(e,t,n){switch(t){case"input":if(DK(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=l7(r);if(!i)throw Error(bt(90));lRe(r),DK(r,i)}}}break;case"textarea":fRe(e,n);break;case"select":t=n.value,t!=null&&nS(e,!!n.multiple,t,!1)}};vRe=Pne;bRe=Cx;var Bft={usingClientEntryPoint:!1,Events:[g$,DT,l7,gRe,yRe,Pne]},dI={findFiberByHostInstance:jw,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jft={bundleType:dI.bundleType,version:dI.version,rendererPackageName:dI.rendererPackageName,rendererConfig:dI.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uy.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xRe(e),e===null?null:e.stateNode},findFiberByHostInstance:dI.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var AP=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!AP.isDisabled&&AP.supportsFiber)try{s7=AP.inject(jft),z0=AP}catch{}}rd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bft;rd.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jne(t))throw Error(bt(200));return Mft(e,t,null,n)};rd.createRoot=function(e,t){if(!jne(e))throw Error(bt(299));var n=!1,r="",i=eNe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mne(e,1,!1,null,null,n,!1,r,i),e[py]=t.current,Ik(e.nodeType===8?e.parentNode:e),new Bne(t)};rd.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(bt(188)):(e=Object.keys(e).join(","),Error(bt(268,e)));return e=xRe(t),e=e===null?null:e.stateNode,e};rd.flushSync=function(e){return Cx(e)};rd.hydrate=function(e,t,n){if(!v7(t))throw Error(bt(200));return b7(null,e,t,!0,n)};rd.hydrateRoot=function(e,t,n){if(!jne(e))throw Error(bt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=eNe;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Z$e(t,null,e,1,n??null,i,!1,s,o),e[py]=t.current,Ik(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new y7(t)};rd.render=function(e,t,n){if(!v7(t))throw Error(bt(200));return b7(null,e,t,!1,n)};rd.unmountComponentAtNode=function(e){if(!v7(e))throw Error(bt(40));return e._reactRootContainer?(Cx(function(){b7(null,null,e,!1,function(){e._reactRootContainer=null,e[py]=null})}),!0):!1};rd.unstable_batchedUpdates=Pne;rd.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!v7(n))throw Error(bt(200));if(e==null||e._reactInternals===void 0)throw Error(bt(38));return b7(e,t,n,!1,r)};rd.version="18.3.1-next-f1338f8080-20240426";function tNe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tNe)}catch(e){console.error(e)}}tNe(),tRe.exports=rd;var v$=tRe.exports;const C4=tf(v$);var Sye=v$;IK.createRoot=Sye.createRoot,IK.hydrateRoot=Sye.hydrateRoot;var x0=function(){return x0=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},x0.apply(this,arguments)};function b$(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function $g(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function Aye(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uft(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function jr(e){return this instanceof jr?(this.v=e,this):new jr(e)}function Vw(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(p){return Promise.resolve(p).then(h,f)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(g,y){s.push([h,m,g,y])>1||u(h,m)})},p&&(i[h]=p(i[h])))}function u(h,p){try{l(r[h](p))}catch(m){d(s[0][3],m)}}function l(h){h.value instanceof jr?Promise.resolve(h.value.v).then(c,f):d(s[0][2],h)}function c(h){u("next",h)}function f(h){u("throw",h)}function d(h,p){h(p),s.shift(),s.length&&u(s[0][0],s[0][1])}}function wH(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:jr(e[i](o)),done:!1}:s?s(o):o}:s}}function A6(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Aye=="function"?Aye(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var eD="right-scroll-bar-position",tD="width-before-scroll-bar",zft="with-scroll-bars-hidden",Vft="--removed-body-scroll-bar-size";function xH(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Hft(e,t){var n=R.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var qft=typeof window<"u"?R.useLayoutEffect:R.useEffect,Cye=new WeakMap;function Wft(e,t){var n=Hft(null,function(r){return e.forEach(function(i){return xH(i,r)})});return qft(function(){var r=Cye.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||xH(a,null)}),s.forEach(function(a){i.has(a)||xH(a,o)})}Cye.set(n,e)},[e]),n}function Gft(e){return e}function Yft(e,t){t===void 0&&(t=Gft);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var c=o;o=[],c.forEach(s)},l=function(){return Promise.resolve().then(u)};l(),n={push:function(c){o.push(c),l()},filter:function(c){return o=o.filter(c),n}}}};return i}function Kft(e){e===void 0&&(e={});var t=Yft(null);return t.options=x0({async:!0,ssr:!1},e),t}var nNe=function(e){var t=e.sideCar,n=b$(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return R.createElement(r,x0({},n))};nNe.isSideCarExport=!0;function Xft(e,t){return e.useMedium(t),nNe}var rNe=Kft(),EH=function(){},_7=R.forwardRef(function(e,t){var n=R.useRef(null),r=R.useState({onScrollCapture:EH,onWheelCapture:EH,onTouchMoveCapture:EH}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,v=e.gapMode,b=b$(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=d,x=Wft([n,t]),S=x0(x0({},b),i);return R.createElement(R.Fragment,null,c&&R.createElement(w,{sideCar:rNe,removeScrollBar:l,shards:f,noIsolation:h,inert:p,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:v}),o?R.cloneElement(R.Children.only(a),x0(x0({},S),{ref:x})):R.createElement(y,x0({},S,{className:u,ref:x}),a))});_7.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_7.classNames={fullWidth:tD,zeroRight:eD};var Qft=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jft(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qft();return t&&e.setAttribute("nonce",t),e}function Zft(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function edt(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tdt=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Jft())&&(Zft(t,n),edt(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ndt=function(){var e=tdt();return function(t,n){R.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},iNe=function(){var e=ndt(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},rdt={left:0,top:0,right:0,gap:0},TH=function(e){return parseInt(e||"",10)||0},idt=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[TH(n),TH(r),TH(i)]},sdt=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rdt;var t=idt(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},odt=iNe(),uS="data-scroll-locked",adt=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(zft,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(uS,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eD,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(tD,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(eD," .").concat(eD,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tD," .").concat(tD,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uS,`] {
    `).concat(Vft,": ").concat(a,`px;
  }
`)},Iye=function(){var e=parseInt(document.body.getAttribute(uS)||"0",10);return isFinite(e)?e:0},udt=function(){R.useEffect(function(){return document.body.setAttribute(uS,(Iye()+1).toString()),function(){var e=Iye()-1;e<=0?document.body.removeAttribute(uS):document.body.setAttribute(uS,e.toString())}},[])},ldt=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;udt();var s=R.useMemo(function(){return sdt(i)},[i]);return R.createElement(odt,{styles:adt(s,!t,i,n?"":"!important")})},wX=!1;if(typeof window<"u")try{var CP=Object.defineProperty({},"passive",{get:function(){return wX=!0,!0}});window.addEventListener("test",CP,CP),window.removeEventListener("test",CP,CP)}catch{wX=!1}var PE=wX?{passive:!1}:!1,cdt=function(e){return e.tagName==="TEXTAREA"},sNe=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!cdt(e)&&n[t]==="visible")},fdt=function(e){return sNe(e,"overflowY")},ddt=function(e){return sNe(e,"overflowX")},kye=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=oNe(e,r);if(i){var s=aNe(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hdt=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},pdt=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},oNe=function(e,t){return e==="v"?fdt(t):ddt(t)},aNe=function(e,t){return e==="v"?hdt(t):pdt(t)},mdt=function(e,t){return e==="h"&&t==="rtl"?-1:1},gdt=function(e,t,n,r,i){var s=mdt(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,u=t.contains(a),l=!1,c=o>0,f=0,d=0;do{var h=aNe(e,a),p=h[0],m=h[1],g=h[2],y=m-g-s*p;(p||y)&&oNe(e,a)&&(f+=y,d+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(t.contains(a)||t===a));return(c&&Math.abs(f)<1||!c&&Math.abs(d)<1)&&(l=!0),l},IP=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Rye=function(e){return[e.deltaX,e.deltaY]},$ye=function(e){return e&&"current"in e?e.current:e},ydt=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vdt=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bdt=0,OE=[];function _dt(e){var t=R.useRef([]),n=R.useRef([0,0]),r=R.useRef(),i=R.useState(bdt++)[0],s=R.useState(iNe)[0],o=R.useRef(e);R.useEffect(function(){o.current=e},[e]),R.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Uft([e.lockRef.current],(e.shards||[]).map($ye),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=R.useCallback(function(m,g){if("touches"in m&&m.touches.length===2)return!o.current.allowPinchZoom;var y=IP(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-y[0],w="deltaY"in m?m.deltaY:v[1]-y[1],x,S=m.target,A=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in m&&A==="h"&&S.type==="range")return!1;var C=kye(A,S);if(!C)return!0;if(C?x=A:(x=A==="v"?"h":"v",C=kye(A,S)),!C)return!1;if(!r.current&&"changedTouches"in m&&(b||w)&&(r.current=x),!x)return!0;var $=r.current||x;return gdt($,g,m,$==="h"?b:w)},[]),u=R.useCallback(function(m){var g=m;if(!(!OE.length||OE[OE.length-1]!==s)){var y="deltaY"in g?Rye(g):IP(g),v=t.current.filter(function(x){return x.name===g.type&&(x.target===g.target||g.target===x.shadowParent)&&ydt(x.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var b=(o.current.shards||[]).map($ye).filter(Boolean).filter(function(x){return x.contains(g.target)}),w=b.length>0?a(g,b[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),l=R.useCallback(function(m,g,y,v){var b={name:m,delta:g,target:y,should:v,shadowParent:wdt(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),c=R.useCallback(function(m){n.current=IP(m),r.current=void 0},[]),f=R.useCallback(function(m){l(m.type,Rye(m),m.target,a(m,e.lockRef.current))},[]),d=R.useCallback(function(m){l(m.type,IP(m),m.target,a(m,e.lockRef.current))},[]);R.useEffect(function(){return OE.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",u,PE),document.addEventListener("touchmove",u,PE),document.addEventListener("touchstart",c,PE),function(){OE=OE.filter(function(m){return m!==s}),document.removeEventListener("wheel",u,PE),document.removeEventListener("touchmove",u,PE),document.removeEventListener("touchstart",c,PE)}},[]);var h=e.removeScrollBar,p=e.inert;return R.createElement(R.Fragment,null,p?R.createElement(s,{styles:vdt(i)}):null,h?R.createElement(ldt,{gapMode:e.gapMode}):null)}function wdt(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xdt=Xft(rNe,_dt);var JS=R.forwardRef(function(e,t){return R.createElement(_7,x0({},e,{ref:t,sideCar:xdt}))});JS.classNames=_7.classNames;function ns(e){return Object.keys(e)}function SH(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Une(e,t){const n={...e},r=t;return SH(e)&&SH(t)&&Object.keys(t).forEach(i=>{SH(r[i])&&i in e?n[i]=Une(n[i],r[i]):n[i]=r[i]}),n}function Edt(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Tdt(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function Mk(e){const t=Tdt(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function AH(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function uNe(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?AH(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(e))return t?AH(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${e}`;return t?AH(s):s}}return r}return n}const De=uNe("rem",{shouldScale:!0}),L9=uNe("em");function Qb(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function lNe(e){return typeof e=="number"?!0:typeof e=="string"?e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!==""?!0:/[0-9]/.test(e.trim().replace("-","")[0]):!1}function Jb(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==R.Fragment:!1}function du(e){const t=R.createContext(null);return[({children:i,value:s})=>E.jsx(t.Provider,{value:s,children:i}),()=>{const i=R.useContext(t);if(i===null)throw new Error(e);return i}]}function mC(e=null){const t=R.createContext(e);return[({children:i,value:s})=>E.jsx(t.Provider,{value:s,children:i}),()=>R.useContext(t)]}function M9(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function F9(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Sdt(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Adt(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Cdt(e,t,n){return F9(e,n)===F9(t,n)}function zne({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var p;n==null||n(a);const u=Array.from(((p=F9(a.currentTarget,e))==null?void 0:p.querySelectorAll(t))||[]).filter(m=>Cdt(a.currentTarget,m,e)),l=u.findIndex(m=>a.currentTarget===m),c=Adt(l,u,r),f=Sdt(l,u,r),d=s==="rtl"?f:c,h=s==="rtl"?c:f;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[d].focus(),i&&u[d].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[h].focus(),i&&u[h].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[f].focus(),i&&u[f].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[c].focus(),i&&u[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=u.length-1;!u[m].disabled&&u[m].focus();break}}}}const Idt={app:100,modal:200,popover:300,overlay:400,max:9999};function Op(e){return Idt[e]}const kdt=()=>{};function Rdt(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||kdt:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Xn(e,t="size",n=!0){if(e!==void 0)return lNe(e)?n?De(e):e:`var(--${t}-${e})`}function Lo(e){return Xn(e,"mantine-spacing")}function Ki(e){return e===void 0?"var(--mantine-radius-default)":Xn(e,"mantine-radius")}function Cl(e){return Xn(e,"mantine-font-size")}function cNe(e){return Xn(e,"mantine-line-height",!1)}function Vne(e){if(e)return Xn(e,"mantine-shadow",!1)}function jg(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Hne(e,t){return e in t.breakpoints?Mk(t.breakpoints[e]):Mk(e)}function Fk(e,t){const n=e.map(r=>({value:r,px:Hne(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function ip(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function $dt(e,t,n){var r;return n?Array.from(((r=F9(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function Ndt(){const[e,t]=R.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Ug(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function lS(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function hv(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),R.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function w7(e,t){const n=hv(e),r=R.useRef(0);return R.useEffect(()=>()=>window.clearTimeout(r.current),[]),R.useCallback((...i)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...i),t)},[n,t])}const Nye=["mousedown","touchstart"];function Pdt(e,t,n){const r=R.useRef();return R.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(l=>!!l&&!s.composedPath().includes(l))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||Nye).forEach(s=>document.addEventListener(s,i)),()=>{(t||Nye).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function Odt(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Ddt(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Ldt(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=R.useState(n?t:Ddt(e)),s=R.useRef();return R.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),Odt(s.current,o=>i(o.matches))},[e]),r}const m2=typeof document<"u"?R.useLayoutEffect:R.useEffect;function im(e,t){const n=R.useRef(!1);R.useEffect(()=>()=>{n.current=!1},[]),R.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function fNe({opened:e,shouldReturnFocus:t=!0}){const n=R.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return im(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}function Mdt(e,t="body > :not(script)"){const n=lS(),r=Array.from(document.querySelectorAll(t)).map(i=>{var u;if((u=i==null?void 0:i.shadowRoot)!=null&&u.contains(e)||i.contains(e))return;const s=i.getAttribute("aria-hidden"),o=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),s===null||s==="false"?i.setAttribute("aria-hidden","true"):!o&&!a&&i.setAttribute("data-hidden",s),{node:i,ariaHidden:o||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}const Fdt=/input|select|textarea|button|object/,dNe="a, input, select, textarea, button, object, [tabindex]";function Bdt(e){return e.style.display==="none"}function jdt(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(Bdt(n))return!1;n=n.parentNode}return!0}function hNe(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function xX(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(hNe(e));return(Fdt.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&jdt(e)}function pNe(e){const t=hNe(e);return(Number.isNaN(t)||t>=0)&&xX(e)}function Udt(e){return Array.from(e.querySelectorAll(dNe)).filter(pNe)}function zdt(e,t){const n=Udt(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let s=r===i.activeElement||e===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const u=n[t.shiftKey?n.length-1:0];u&&u.focus()}function Vdt(e=!0){const t=R.useRef(),n=R.useRef(null),r=s=>{let o=s.querySelector("[data-autofocus]");if(!o){const a=Array.from(s.querySelectorAll(dNe));o=a.find(pNe)||a.find(xX)||null,!o&&xX(s)&&(o=s)}o&&o.focus({preventScroll:!0})},i=R.useCallback(s=>{if(e){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=Mdt(s),t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),t.current=s):t.current=null)}},[e]);return R.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const s=o=>{o.key==="Tab"&&t.current&&zdt(t.current,o)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[e]),i}const Hdt=e=>(e+1)%1e6;function qdt(){const[,e]=R.useReducer(Hdt,0);return e}const Wdt=ui.useId||(()=>{});function Gdt(){const e=Wdt();return e?`mantine-${e.replace(/:/g,"")}`:""}function el(e){const t=Gdt(),[n,r]=R.useState(t);return m2(()=>{r(lS())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function mNe(e,t,n){R.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function qne(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function gNe(...e){return t=>{e.forEach(n=>qne(n,t))}}function To(...e){return R.useCallback(gNe(...e),e)}function yNe(e,t,n="ltr"){const r=R.useRef(null),i=R.useRef(!1),s=R.useRef(!1),o=R.useRef(0),[a,u]=R.useState(!1);return R.useEffect(()=>{i.current=!0},[]),R.useEffect(()=>{var v,b;const l=({x:w,y:x})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const S=r.current.getBoundingClientRect();if(S.width&&S.height){const A=Ug((w-S.left)/S.width,0,1);e({x:n==="ltr"?A:1-A,y:Ug((x-S.top)/S.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",y),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=w=>{d(),w.preventDefault(),m(w)},m=w=>l({x:w.clientX,y:w.clientY}),g=w=>{w.cancelable&&w.preventDefault(),d(),y(w)},y=w=>{w.cancelable&&w.preventDefault(),l({x:w.changedTouches[0].clientX,y:w.changedTouches[0].clientY})};return(v=r.current)==null||v.addEventListener("mousedown",p),(b=r.current)==null||b.addEventListener("touchstart",g,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",g))}},[n,e]),{ref:r,active:a}}function Na({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=R.useState(t!==void 0?t:n),o=(a,...u)=>{s(a),r==null||r(a,...u)};return e!==void 0?[e,r,!0]:[i,o,!1]}function x7(e,t){return Ldt("(prefers-reduced-motion: reduce)",e,t)}const Ydt={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Mf(e){const t=R.useRef(0),n=R.useRef(null),[r,i]=R.useState(Ydt),s=R.useMemo(()=>typeof window<"u"?new ResizeObserver(o=>{const a=o[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{n.current&&i(a.contentRect)}))}):null,[]);return R.useEffect(()=>(n.current&&(s==null||s.observe(n.current,e)),()=>{s==null||s.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function Kdt(e){const[t,{width:n,height:r}]=Mf(e);return{ref:t,width:n,height:r}}function Xdt(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return{...n,key:i}}function Qdt(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function Jdt(e){return t=>Qdt(Xdt(e),t)}function Zdt(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,s={preventDefault:!0}])=>{Jdt(r)(n)&&(s.preventDefault&&t.preventDefault(),i(n))})}}function Wne(e=!1,t){const{onOpen:n,onClose:r}={},[i,s]=R.useState(e),o=R.useCallback(()=>{s(l=>l||(n==null||n(),!0))},[n]),a=R.useCallback(()=>{s(l=>l&&(r==null||r(),!1))},[r]),u=R.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:u}]}function eht(e,t,n={autoInvoke:!1}){const r=R.useRef(null),i=R.useCallback((...o)=>{r.current||(r.current=window.setTimeout(()=>{e(o),r.current=null},t))},[t]),s=R.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return R.useEffect(()=>(n.autoInvoke&&i(),s),[s,i]),{start:i,clear:s}}function tht(e,t,n){const r=R.useRef(),i=R.useRef(null);return R.useEffect(()=>{const s=typeof n=="function"?n():n;return(s||i.current)&&(r.current=new MutationObserver(e),r.current.observe(s||i.current,t)),()=>{var o;(o=r.current)==null||o.disconnect()}},[e,t]),i}function nht(){const[e,t]=R.useState(!1);return R.useEffect(()=>t(!0),[]),e}function rht(e,t){const n=hv(e),r=R.useRef(),i=R.useRef(),s=R.useRef(!0),o=R.useRef(t),a=R.useRef(-1),u=()=>window.clearTimeout(a.current),l=R.useCallback((...d)=>{n(...d),r.current=d,i.current=d,s.current=!1},[n]),c=R.useCallback(()=>{r.current&&r.current!==i.current?(l(...r.current),a.current=window.setTimeout(c,o.current)):s.current=!0},[l]),f=R.useCallback((...d)=>{s.current?(l(...d),a.current=window.setTimeout(c,o.current)):r.current=d},[l,c]);return R.useEffect(()=>{o.current=t},[t]),[f,u]}function iht(e,t){const[n,r]=R.useState(e),[i,s]=rht(r,t);return R.useEffect(()=>s,[]),[n,i]}function sht(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function oht(e){function t(r){const i=Object.keys(r).reduce((s,o)=>(s[`${e}:${o}`]=a=>r[o](a.detail),s),{});m2(()=>(Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s]),window.addEventListener(s,i[s])}),()=>Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s])})),[i])}function n(r){return(...i)=>sht(`${e}:${String(r)}`,i[0])}return[t,n]}var aht={};function vNe(){return typeof process<"u"&&aht?"production":"development"}function bNe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=bNe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _o(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=bNe(e))&&(r&&(r+=" "),r+=t);return r}const uht={};function lht(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=_o(t[r],i):t[r]=i})}),t}function E7({theme:e,classNames:t,props:n,stylesCtx:r}){const s=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,n,r):o||uht);return lht(s)}function B9({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((s,o)=>typeof o=="function"?{...s,...o(e,n,r)}:{...s,...o},{})}const _Ne=R.createContext(null);function Zb(){const e=R.useContext(_Ne);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function cht(){return Zb().cssVariablesResolver}function fht(){return Zb().classNamesPrefix}function Gne(){return Zb().getStyleNonce}function dht(){return Zb().withStaticClasses}function hht(){return Zb().headless}function pht(){var e;return(e=Zb().stylesTransform)==null?void 0:e.sx}function mht(){var e;return(e=Zb().stylesTransform)==null?void 0:e.styles}function ght(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function yht(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function vht(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i||1}}function bht(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,u=r/60,l=a*(1-Math.abs(u%2-1)),c=s-a/2;let f,d,h;return u>=0&&u<1?(f=a,d=l,h=0):u>=1&&u<2?(f=l,d=a,h=0):u>=2&&u<3?(f=0,d=a,h=l):u>=3&&u<4?(f=0,d=l,h=a):u>=4&&u<5?(f=l,d=0,h=a):(f=a,d=0,h=l),{r:Math.round((f+c)*255),g:Math.round((d+c)*255),b:Math.round((h+c)*255),a:o||1}}function Yne(e){return ght(e)?yht(e):e.startsWith("rgb")?vht(e):e.startsWith("hsl")?bht(e):{r:0,g:0,b:0,a:1}}function kP(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:s}=Yne(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function Bk(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function CH(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function _ht(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function wht(e){if(e.startsWith("oklch("))return(_ht(e)||0)/100;const{r:t,g:n,b:r}=Yne(e),i=t/255,s=n/255,o=r/255,a=CH(i),u=CH(s),l=CH(o);return .2126*a+.7152*u+.0722*l}function hI(e,t=.179){return e.startsWith("var(")?!1:wht(e)>t}function km({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:hI(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:hI(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:hI(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),s=i?Number(i):void 0,o=r in t.colors;if(o){const a=s!==void 0?t.colors[r][s]:t.colors[r][Bk(t,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:hI(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:hI(e,t.luminanceThreshold),shade:s,variable:void 0}}function Vi(e,t){const n=km({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function EX(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},r=Vi(n.from,t),i=Vi(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function d0(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=Yne(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const DE=d0,xht=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const s=km({color:e,theme:t}),o=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${De(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${De(1)} solid transparent`}:{background:e,hover:kP(e,.1),color:a,border:`${De(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${De(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:d0(a,.1),hover:d0(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${De(1)} solid transparent`}}return{background:d0(e,.1),hover:d0(e,.12),color:e,border:`${De(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${De(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:d0(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${De(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:d0(e,.05),color:e,border:`${De(1)} solid ${e}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${De(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:"transparent",hover:d0(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${De(1)} solid transparent`}}return{background:"transparent",hover:d0(e,.12),color:e,border:`${De(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${De(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${De(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${De(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:kP(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${De(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:kP(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${De(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:kP(t.white,.01),color:e,border:`${De(1)} solid transparent`}:n==="gradient"?{background:EX(r,t),hover:EX(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${De(1)} solid var(--mantine-color-default-border)`}:{}},Eht={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Pye="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Kne={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Eht,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:xht,autoContrast:!1,luminanceThreshold:.3,fontFamily:Pye,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Pye,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:De(34),lineHeight:"1.3"},h2:{fontSize:De(26),lineHeight:"1.35"},h3:{fontSize:De(22),lineHeight:"1.4"},h4:{fontSize:De(18),lineHeight:"1.45"},h5:{fontSize:De(16),lineHeight:"1.5"},h6:{fontSize:De(14),lineHeight:"1.5"}}},fontSizes:{xs:De(12),sm:De(14),md:De(16),lg:De(18),xl:De(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:De(2),sm:De(4),md:De(8),lg:De(16),xl:De(32)},spacing:{xs:De(10),sm:De(12),md:De(16),lg:De(20),xl:De(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${De(1)} ${De(3)} rgba(0, 0, 0, 0.05), 0 ${De(1)} ${De(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${De(1)} ${De(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${De(10)} ${De(15)} ${De(-5)}, rgba(0, 0, 0, 0.04) 0 ${De(7)} ${De(7)} ${De(-5)}`,md:`0 ${De(1)} ${De(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${De(20)} ${De(25)} ${De(-5)}, rgba(0, 0, 0, 0.04) 0 ${De(10)} ${De(10)} ${De(-5)}`,lg:`0 ${De(1)} ${De(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${De(28)} ${De(23)} ${De(-7)}, rgba(0, 0, 0, 0.04) 0 ${De(12)} ${De(12)} ${De(-7)}`,xl:`0 ${De(1)} ${De(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${De(36)} ${De(28)} ${De(-7)}, rgba(0, 0, 0, 0.04) 0 ${De(17)} ${De(17)} ${De(-7)}`},other:{},components:{}};function Oye(e){return e==="auto"||e==="dark"||e==="light"}function Tht({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return Oye(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&Oye(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const Sht="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Dye="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function IH(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Lye(e){if(!(e.primaryColor in e.colors))throw new Error(Sht);if(typeof e.primaryShade=="object"&&(!IH(e.primaryShade.dark)||!IH(e.primaryShade.light)))throw new Error(Dye);if(typeof e.primaryShade=="number"&&!IH(e.primaryShade))throw new Error(Dye)}function Aht(e,t){var r;if(!t)return Lye(e),e;const n=Une(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),Lye(n),n}const Xne=R.createContext(null),Cht=()=>R.useContext(Xne)||Kne;function So(){const e=R.useContext(Xne);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function wNe({theme:e,children:t,inherit:n=!0}){const r=Cht(),i=R.useMemo(()=>Aht(n?r:Kne,e),[e,r,n]);return E.jsx(Xne.Provider,{value:i,children:t})}wNe.displayName="@mantine/core/MantineThemeProvider";function Iht(){const e=So(),t=Gne(),n=ns(e.breakpoints).reduce((r,i)=>{const s=e.breakpoints[i].includes("px"),o=Mk(e.breakpoints[i]),a=s?`${o-.1}px`:L9(o-.1),u=s?`${o}px`:L9(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return E.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function kH(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function RH(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function kht(e,t){const n=kH(e.variables),r=n?RH(t,n):"",i=kH(e.dark),s=i?RH(`${t}[data-mantine-color-scheme="dark"]`,i):"",o=kH(e.light),a=o?RH(`${t}[data-mantine-color-scheme="light"]`,o):"";return`${r}${s}${a}`}function e_({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&km({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Mye(e,t){return e_({color:e.colors[e.primaryColor][Bk(e,t)],theme:e,autoContrast:null})}function RP({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=Bk(e,"light"),u={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:DE(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:DE(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:DE(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...u}:u}const s=Bk(e,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:DE(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:DE(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:DE(e.colors[t][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...o}:o}function Rht(e){return Array.isArray(e)?e:Array(10).fill(e)}function $ht(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function LE(e,t,n){ns(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const xNe=e=>{const t=Bk(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:De(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Mye(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Mye(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};LE(r.variables,e.breakpoints,"breakpoint"),LE(r.variables,e.spacing,"spacing"),LE(r.variables,e.fontSizes,"font-size"),LE(r.variables,e.lineHeights,"line-height"),LE(r.variables,e.shadows,"shadow"),LE(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),ns(e.colors).forEach(s=>{const o=e.colors[s];if($ht(o)){Object.assign(r.light,RP({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,RP({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,u)=>{r.variables[`--mantine-color-${s}-${u}`]=a}),Object.assign(r.light,RP({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,RP({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return ns(i).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=i[s].fontSize,r.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||e.headings.fontWeight}),r};function Nht({theme:e,generator:t}){const n=xNe(e),r=t==null?void 0:t(e);return r?Une(n,r):n}const $H=xNe(Kne);function Pht(e){const t={variables:{},light:{},dark:{}};return ns(e.variables).forEach(n=>{$H.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),ns(e.light).forEach(n=>{$H.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),ns(e.dark).forEach(n=>{$H.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function Oht(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function ENe({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=So(),r=Gne(),i=cht(),s=Nht({theme:n,generator:i}),o=e===":root"&&t,a=o?Pht(s):s,u=kht(a,e);return u?E.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${u}${o?"":Oht(e)}`}}):null}ENe.displayName="@mantine/CssVariables";function Dht(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function ME(e,t){var r;const n=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=t())==null||r.setAttribute("data-mantine-color-scheme",n)}function Lht({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=R.useRef(),[s,o]=R.useState(()=>e.get(t)),a=r||s,u=R.useCallback(c=>{r||(ME(c,n),o(c),e.set(c))},[e.set,a,r]),l=R.useCallback(()=>{o(t),ME(t,n),e.clear()},[e.clear,t]);return R.useEffect(()=>(e.subscribe(u),e.unsubscribe),[e.subscribe,e.unsubscribe]),m2(()=>{ME(e.get(t),n)},[]),R.useEffect(()=>{var f;if(r)return ME(r,n),()=>{};r===void 0&&ME(s,n),i.current=window.matchMedia("(prefers-color-scheme: dark)");const c=d=>{s==="auto"&&ME(d.matches?"dark":"light",n)};return(f=i.current)==null||f.addEventListener("change",c),()=>{var d;return(d=i.current)==null?void 0:d.removeEventListener("change",c)}},[s,r]),{colorScheme:a,setColorScheme:u,clearColorScheme:l}}function Mht({respectReducedMotion:e,getRootElement:t}){m2(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}Dht();function TNe({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:u="mantine",colorSchemeManager:l=Tht(),defaultColorScheme:c="light",getRootElement:f=()=>document.documentElement,cssVariablesResolver:d,forceColorScheme:h,stylesTransform:p}){const{colorScheme:m,setColorScheme:g,clearColorScheme:y}=Lht({defaultColorScheme:c,forceColorScheme:h,manager:l,getRootElement:f});return Mht({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:f}),E.jsx(_Ne.Provider,{value:{colorScheme:m,setColorScheme:g,clearColorScheme:y,getRootElement:f,classNamesPrefix:u,getStyleNonce:n,cssVariablesResolver:d,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:p},children:E.jsxs(wNe,{theme:e,children:[o&&E.jsx(ENe,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&E.jsx(Iht,{}),t]})})}TNe.displayName="@mantine/core/MantineProvider";function _$({classNames:e,styles:t,props:n,stylesCtx:r}){const i=So();return{resolvedClassNames:E7({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:B9({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const Fht={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Bht({theme:e,options:t,unstyled:n}){return _o((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||Fht[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function jht({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return E7({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function Fye({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return E7({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function Uht({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function zht({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function Vht({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function Hht({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(s=>{var o,a;return(a=E7({theme:t,classNames:(o=t.components[s])==null?void 0:o.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function qht({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function Wht({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:u,rootSelector:l,props:c,stylesCtx:f,withStaticClasses:d,headless:h,transformedStyles:p}){return _o(Bht({theme:e,options:t,unstyled:a||h}),Hht({theme:e,themeName:n,selector:r,props:c,stylesCtx:f}),qht({options:t,classes:o,selector:r,unstyled:a}),Fye({selector:r,stylesCtx:f,theme:e,classNames:s,props:c}),Fye({selector:r,stylesCtx:f,theme:e,classNames:p,props:c}),jht({selector:r,stylesCtx:f,options:t,props:c,theme:e}),Uht({rootSelector:l,selector:r,className:u}),zht({selector:r,classes:o,unstyled:a||h}),d&&!h&&Vht({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function Ght({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(s=>{var o;return B9({theme:e,styles:(o=e.components[s])==null?void 0:o.styles,props:n,stylesCtx:r})[i]}).reduce((s,o)=>({...s,...o}),{})}function TX({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...TX({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function Yht(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...Qb(n[r])}}),t),{})}function Kht({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:s,themeName:o,headless:a}){var u;return(u=Yht([a?{}:t==null?void 0:t(n,r,i),...o.map(l=>{var c,f,d;return(d=(f=(c=n.components)==null?void 0:c[l])==null?void 0:f.vars)==null?void 0:d.call(f,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:u[s]}function Xht({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:s,rootSelector:o,styles:a,style:u,vars:l,varsResolver:c,headless:f,withStylesTransform:d}){return{...!d&&Ght({theme:e,themeName:t,props:i,stylesCtx:s,selector:n}),...!d&&B9({theme:e,styles:a,props:i,stylesCtx:s})[n],...!d&&B9({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:s})[n],...Kht({theme:e,props:i,stylesCtx:s,vars:l,varsResolver:c,selector:n,themeName:t,headless:f}),...o===n?TX({style:u,theme:e}):null,...TX({style:r==null?void 0:r.style,theme:e})}}function Qht({props:e,stylesCtx:t,themeName:n}){var o;const r=So(),i=(o=mht())==null?void 0:o();return{getTransformedStyles:a=>i?[...a.map(l=>i(l,{props:e,theme:r,ctx:t})),...n.map(l=>{var c;return i((c=r.components[l])==null?void 0:c.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function Bt({name:e,classes:t,props:n,stylesCtx:r,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:u,styles:l,vars:c,varsResolver:f}){const d=So(),h=fht(),p=dht(),m=hht(),g=(Array.isArray(e)?e:[e]).filter(b=>b),{withStylesTransform:y,getTransformedStyles:v}=Qht({props:n,stylesCtx:r,themeName:g});return(b,w)=>({className:Wht({theme:d,options:w,themeName:g,selector:b,classNamesPrefix:h,classNames:u,classes:t,unstyled:a,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:p,headless:m,transformedStyles:v([w==null?void 0:w.styles,l])}),style:Xht({theme:d,themeName:g,selector:b,options:w,props:n,stylesCtx:r,rootSelector:o,styles:l,style:s,vars:c,varsResolver:f,headless:m,withStylesTransform:y})})}function gC(e,t){return typeof e=="boolean"?e:t.autoContrast}function We(e,t,n){var o;const r=So(),i=(o=r.components[e])==null?void 0:o.defaultProps,s=typeof i=="function"?i(r):i;return{...t,...s,...Qb(n)}}function NH(e){return ns(e).reduce((t,n)=>e[n]!==void 0?`${t}${Edt(n)}:${e[n]};`:t,"").trim()}function Jht({selector:e,styles:t,media:n,container:r}){const i=t?NH(t):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${NH(a.styles)}}}`):[],o=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${NH(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${s.join("")}${o.join("")}`.trim()}function g2(e){const t=Gne();return E.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:Jht(e)}})}function y2(e){const{m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:u,ms:l,p:c,px:f,py:d,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:b,bg:w,c:x,opacity:S,ff:A,fz:C,fw:$,lts:k,ta:P,lh:L,fs:O,tt:B,td:q,w:H,miw:G,maw:K,h:J,mih:F,mah:j,bgsz:W,bgp:M,bgr:V,bga:Q,pos:se,top:be,left:he,bottom:Ce,right:Pe,inset:rt,display:Re,flex:Tt,hiddenFrom:Ze,visibleFrom:It,lightHidden:mt,darkHidden:Se,sx:Fe,...st}=e;return{styleProps:Qb({m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:u,ms:l,p:c,px:f,py:d,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:b,bg:w,c:x,opacity:S,ff:A,fz:C,fw:$,lts:k,ta:P,lh:L,fs:O,tt:B,td:q,w:H,miw:G,maw:K,h:J,mih:F,mah:j,bgsz:W,bgp:M,bgr:V,bga:Q,pos:se,top:be,left:he,bottom:Ce,right:Pe,inset:rt,display:Re,flex:Tt,hiddenFrom:Ze,visibleFrom:It,lightHidden:mt,darkHidden:Se,sx:Fe}),rest:st}}const Zht={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Qne(e,t){const n=km({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function ept(e,t){const n=km({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:Qne(e,t)}function tpt(e,t){if(typeof e=="number")return De(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(o=>o.trim()!=="");let s=`${De(n)}`;return r&&(s+=` ${r}`),Rht.length>0&&(s+=` ${Qne(i.join(" "),t)}`),s.trim()}return e}const Bye={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function npt(e){return typeof e=="string"&&e in Bye?Bye[e]:e}const rpt=["h1","h2","h3","h4","h5","h6"];function ipt(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&rpt.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?De(e):e}function spt(e){return e}const opt=["h1","h2","h3","h4","h5","h6"];function apt(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&opt.includes(e)?`var(--mantine-${e}-line-height)`:e}function upt(e){return typeof e=="number"?De(e):e}function lpt(e,t){if(typeof e=="number")return De(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return De(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const PH={color:Qne,textColor:ept,fontSize:ipt,spacing:lpt,identity:spt,size:upt,lineHeight:apt,fontFamily:npt,border:tpt};function jye(e){return e.replace("(min-width: ","").replace("em)","")}function cpt({media:e,...t}){const r=Object.keys(e).sort((i,s)=>Number(jye(i))-Number(jye(s))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function fpt(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function dpt(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function hpt(e){return typeof e=="object"&&e!==null?ns(e).filter(t=>t!=="base"):[]}function ppt(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function SNe({styleProps:e,data:t,theme:n}){return cpt(ns(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const s=t[i],o=Array.isArray(s.property)?s.property:[s.property],a=dpt(e[i]);if(!fpt(e[i]))return o.forEach(l=>{r.inlineStyles[l]=PH[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const u=hpt(e[i]);return o.forEach(l=>{a&&(r.styles[l]=PH[s.type](a,n)),u.forEach(c=>{const f=`(min-width: ${n.breakpoints[c]})`;r.media[f]={...r.media[f],[l]:PH[s.type](ppt(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function w$(){return`__m__-${R.useId().replace(/:/g,"")}`}function Jne(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...Jne(r,t)}),{}):typeof e=="function"?e(t):e??{}}function ANe(e){return e.startsWith("data-")?e:`data-${e}`}function mpt(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[ANe(n)]=e[n]),t},{})}function CNe(e){return e?typeof e=="string"?{[ANe(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...CNe(n)}),{}):mpt(e):null}function SX(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...SX(r,t)}),{}):typeof e=="function"?e(t):e??{}}function gpt({theme:e,style:t,vars:n,styleProps:r}){const i=SX(t,e),s=SX(n,e);return{...i,...s,...r}}const INe=R.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:u,lightHidden:l,darkHidden:c,renderRoot:f,__size:d,...h},p)=>{var C;const m=So(),g=e||"div",{styleProps:y,rest:v}=y2(h),b=pht(),w=(C=b==null?void 0:b())==null?void 0:C(y.sx),x=w$(),S=SNe({styleProps:y,theme:m,data:Zht}),A={ref:p,style:gpt({theme:m,style:t,vars:n,styleProps:S.inlineStyles}),className:_o(r,w,{[x]:S.hasResponsiveStyles,"mantine-light-hidden":l,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${u}`]:u}),"data-variant":i,"data-size":lNe(o)?void 0:o||void 0,size:d,...CNe(s),...v};return E.jsxs(E.Fragment,{children:[S.hasResponsiveStyles&&E.jsx(g2,{selector:`.${x}`,styles:S.styles,media:S.media}),typeof f=="function"?f(A):E.jsx(g,{...A})]})});INe.displayName="@mantine/core/Box";const ke=INe;function kNe(e){return e}function ft(e){const t=R.forwardRef(e);return t.extend=kNe,t}function ua(e){const t=R.forwardRef(e);return t.extend=kNe,t}const ypt=R.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function zy(){return R.useContext(ypt)}function vpt(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function OH(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const pI=typeof window<"u"&&window.requestAnimationFrame;function bpt({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=R.useRef(null),s=0,o={display:"none",height:0,overflow:"hidden"},[a,u]=R.useState(r?{}:o),l=p=>{v$.flushSync(()=>u(p))},c=p=>{l(m=>({...m,...p}))};function f(p){const m=e||vpt(p);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}im(()=>{typeof pI=="function"&&pI(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),pI(()=>{const p=OH(i);c({...f(p),height:p})})}:()=>{const p=OH(i);c({...f(p),willChange:"height",height:p}),pI(()=>c({height:s,overflow:"hidden"}))})},[r]);const d=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=OH(i);m===a.height?l({}):c({height:m}),n()}else a.height===s&&(l(o),n())};function h({style:p={},refKey:m="ref",...g}={}){const y=g[m];return{"aria-hidden":!r,...g,[m]:gNe(i,y),onTransitionEnd:d,style:{boxSizing:"border-box",...p,...a}}}return h}const _pt={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},T7=ft((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:s,style:o,onTransitionEnd:a,animateOpacity:u,...l}=We("Collapse",_pt,e),c=So(),f=x7(),h=(c.respectReducedMotion?f:!1)?0:i,p=bpt({opened:r,transitionDuration:h,transitionTimingFunction:s,onTransitionEnd:a});return h===0?r?E.jsx(ke,{...l,children:n}):null:E.jsx(ke,{...p({style:{opacity:r||!u?1:0,transition:u?`opacity ${h}ms ${s}`:"none",...Jne(o,c)},ref:t,...l}),children:n})});T7.displayName="@mantine/core/Collapse";const[wpt,ih]=du("ScrollArea.Root component was not found in tree");function ZS(e,t){const n=hv(t);m2(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const xpt=R.forwardRef((e,t)=>{const{style:n,...r}=e,i=ih(),[s,o]=R.useState(0),[a,u]=R.useState(0),l=!!(s&&a);return ZS(i.scrollbarX,()=>{var f;const c=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(c),u(c)}),ZS(i.scrollbarY,()=>{var f;const c=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(c),o(c)}),l?E.jsx("div",{...r,ref:t,style:{...n,width:s,height:a}}):null}),Ept=R.forwardRef((e,t)=>{const n=ih(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?E.jsx(xpt,{...e,ref:t}):null}),Tpt={scrollHideDelay:1e3,type:"hover"},RNe=R.forwardRef((e,t)=>{const n=We("ScrollAreaRoot",Tpt,e),{type:r,scrollHideDelay:i,scrollbars:s,...o}=n,[a,u]=R.useState(null),[l,c]=R.useState(null),[f,d]=R.useState(null),[h,p]=R.useState(null),[m,g]=R.useState(null),[y,v]=R.useState(0),[b,w]=R.useState(0),[x,S]=R.useState(!1),[A,C]=R.useState(!1),$=To(t,k=>u(k));return E.jsx(wpt,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:x,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:A,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:w},children:E.jsx(ke,{...o,ref:$,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${y}px`,"--sa-corner-height":s!=="xy"?"0px":`${b}px`}})})});RNe.displayName="@mantine/core/ScrollAreaRoot";function $Ne(e,t){const n=e/t;return Number.isNaN(n)?0:n}function S7(e){const t=$Ne(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function NNe(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Spt(e,[t,n]){return Math.min(n,Math.max(t,e))}function Uye(e,t,n="ltr"){const r=S7(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=Spt(e,u);return NNe([0,o],[0,a])(l)}function Apt(e,t,n,r="ltr"){const i=S7(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return NNe([u,l],f)(e)}function PNe(e,t){return e>0&&e<t}function j9(e){return e?parseInt(e,10):0}function cx(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[Cpt,ONe]=du("ScrollAreaScrollbar was not found in tree"),DNe=R.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:u,onWheelScroll:l,onResize:c,...f}=e,d=ih(),[h,p]=R.useState(null),m=To(t,C=>p(C)),g=R.useRef(null),y=R.useRef(""),{viewport:v}=d,b=n.content-n.viewport,w=hv(l),x=hv(a),S=w7(c,10),A=C=>{if(g.current){const $=C.clientX-g.current.left,k=C.clientY-g.current.top;u({x:$,y:k})}};return R.useEffect(()=>{const C=$=>{const k=$.target;(h==null?void 0:h.contains(k))&&w($,b)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[v,h,b,w]),R.useEffect(x,[n,x]),ZS(h,S),ZS(d.content,S),E.jsx(Cpt,{value:{scrollbar:h,hasThumb:r,onThumbChange:hv(i),onThumbPointerUp:hv(s),onThumbPositionChange:x,onThumbPointerDown:hv(o)},children:E.jsx("div",{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:cx(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),g.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A(C))}),onPointerMove:cx(e.onPointerMove,A),onPointerUp:cx(e.onPointerUp,C=>{const $=C.target;$.hasPointerCapture(C.pointerId)&&$.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,g.current=null})})})}),Ipt=R.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=ih(),[a,u]=R.useState(),l=R.useRef(null),c=To(t,l,o.onScrollbarXChange);return R.useEffect(()=>{l.current&&u(getComputedStyle(l.current))},[l]),E.jsx(DNe,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${S7(n)}px`},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),PNe(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:j9(a.paddingLeft),paddingEnd:j9(a.paddingRight)}})}})}),kpt=R.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=ih(),[a,u]=R.useState(),l=R.useRef(null),c=To(t,l,o.onScrollbarYChange);return R.useEffect(()=>{l.current&&u(window.getComputedStyle(l.current))},[]),E.jsx(DNe,{...s,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${S7(n)}px`,...i},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),PNe(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:j9(a.paddingTop),paddingEnd:j9(a.paddingBottom)}})}})}),Zne=R.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=zy(),s=ih(),o=R.useRef(null),a=R.useRef(0),[u,l]=R.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=$Ne(u.viewport,u.content),f={...r,sizes:u,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>{o.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},d=(h,p)=>Apt(h,a.current,u,p);return n==="horizontal"?E.jsx(Ipt,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=Uye(h,u,i);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,i))}}):n==="vertical"?E.jsx(kpt,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=Uye(h,u);u.scrollbar.size===0?o.current.style.opacity="0":o.current.style.opacity="1",o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),LNe=R.forwardRef((e,t)=>{const n=ih(),{forceMount:r,...i}=e,[s,o]=R.useState(!1),a=e.orientation==="horizontal",u=w7(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return ZS(n.viewport,u),ZS(n.content,u),r||s?E.jsx(Zne,{"data-state":s?"visible":"hidden",...i,ref:t}):null}),Rpt=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ih(),[s,o]=R.useState(!1);return R.useEffect(()=>{const{scrollArea:a}=i;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||s?E.jsx(LNe,{"data-state":s?"visible":"hidden",...r,ref:t}):null}),$pt=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ih(),s=e.orientation==="horizontal",[o,a]=R.useState("hidden"),u=w7(()=>a("idle"),100);return R.useEffect(()=>{if(o==="idle"){const l=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[o,i.scrollHideDelay]),R.useEffect(()=>{const{viewport:l}=i,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(a("scrolling"),u()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u]),n||o!=="hidden"?E.jsx(Zne,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:cx(e.onPointerEnter,()=>a("interacting")),onPointerLeave:cx(e.onPointerLeave,()=>a("idle"))}):null}),zye=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ih(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return R.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?E.jsx(Rpt,{...r,ref:t,forceMount:n}):i.type==="scroll"?E.jsx($pt,{...r,ref:t,forceMount:n}):i.type==="auto"?E.jsx(LNe,{...r,ref:t,forceMount:n}):i.type==="always"?E.jsx(Zne,{...r,ref:t}):null});function Npt(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const Ppt=R.forwardRef((e,t)=>{const{style:n,...r}=e,i=ih(),s=ONe(),{onThumbPositionChange:o}=s,a=To(t,c=>s.onThumbChange(c)),u=R.useRef(),l=w7(()=>{u.current&&(u.current(),u.current=void 0)},100);return R.useEffect(()=>{const{viewport:c}=i;if(c){const f=()=>{if(l(),!u.current){const d=Npt(c,o);u.current=d,o()}};return o(),c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,l,o]),E.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:cx(e.onPointerDownCapture,c=>{const d=c.target.getBoundingClientRect(),h=c.clientX-d.left,p=c.clientY-d.top;s.onThumbPointerDown({x:h,y:p})}),onPointerUp:cx(e.onPointerUp,s.onThumbPointerUp)})}),Vye=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ONe();return n||i.hasThumb?E.jsx(Ppt,{ref:t,...r}):null}),MNe=R.forwardRef(({children:e,style:t,...n},r)=>{const i=ih(),s=To(r,i.onViewportChange);return E.jsx(ke,{...n,ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:E.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});MNe.displayName="@mantine/core/ScrollAreaViewport";var ere={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const FNe={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},Opt=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":De(t)}}),yy=ft((e,t)=>{const n=We("ScrollArea",FNe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,scrollbarSize:u,vars:l,type:c,scrollHideDelay:f,viewportProps:d,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:g,scrollbars:y,...v}=n,[b,w]=R.useState(!1),x=Bt({name:"ScrollArea",props:n,classes:ere,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Opt});return E.jsxs(RNe,{type:c==="never"?"always":c,scrollHideDelay:f,ref:t,scrollbars:y,...x("root"),...v,children:[E.jsx(MNe,{...d,...x("viewport",{style:d==null?void 0:d.style}),ref:h,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":y||void 0,onScroll:S=>{var A;(A=d==null?void 0:d.onScroll)==null||A.call(d,S),p==null||p({x:S.currentTarget.scrollLeft,y:S.currentTarget.scrollTop})},children:m}),(y==="xy"||y==="x")&&E.jsx(zye,{...x("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:E.jsx(Vye,{...x("thumb")})}),(y==="xy"||y==="y")&&E.jsx(zye,{...x("scrollbar"),orientation:"vertical","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:E.jsx(Vye,{...x("thumb")})}),E.jsx(Ept,{...x("corner"),"data-hovered":b||void 0,"data-hidden":c==="never"||void 0})]})});yy.displayName="@mantine/core/ScrollArea";const tre=ft((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:s,scrollHideDelay:o,type:a,dir:u,offsetScrollbars:l,viewportRef:c,onScrollPositionChange:f,unstyled:d,variant:h,viewportProps:p,scrollbars:m,style:g,vars:y,...v}=We("ScrollAreaAutosize",FNe,e);return E.jsx(ke,{...v,ref:t,style:[{display:"flex",overflow:"auto"},g],children:E.jsx(ke,{style:{display:"flex",flexDirection:"column",flex:1},children:E.jsx(yy,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:s,type:a,dir:u,offsetScrollbars:l,viewportRef:c,onScrollPositionChange:f,unstyled:d,variant:h,viewportProps:p,vars:y,scrollbars:m,children:n})})})});yy.classes=ere;tre.displayName="@mantine/core/ScrollAreaAutosize";tre.classes=ere;yy.Autosize=tre;var BNe={root:"m_87cf2631"};const Dpt={__staticSelector:"UnstyledButton"},Vf=ua((e,t)=>{const n=We("UnstyledButton",Dpt,e),{className:r,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:u,style:l,...c}=n,f=Bt({name:s,props:n,classes:BNe,className:r,style:l,classNames:a,styles:u,unstyled:o});return E.jsx(ke,{...f("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});Vf.classes=BNe;Vf.displayName="@mantine/core/UnstyledButton";var jNe={root:"m_515a97f8"};const Lpt={},nre=ft((e,t)=>{const n=We("VisuallyHidden",Lpt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,...l}=n,c=Bt({name:"VisuallyHidden",classes:jNe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a});return E.jsx(ke,{component:"span",ref:t,...c("root"),...l})});nre.classes=jNe;nre.displayName="@mantine/core/VisuallyHidden";var UNe={root:"m_1b7284a3"};const Mpt={},Fpt=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:Ki(t),"--paper-shadow":Vne(n)}}),yC=ua((e,t)=>{const n=We("Paper",Mpt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,withBorder:u,vars:l,radius:c,shadow:f,variant:d,mod:h,...p}=n,m=Bt({name:"Paper",props:n,classes:UNe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Fpt});return E.jsx(ke,{ref:t,mod:[{"data-with-border":u},h],...m("root"),variant:d,...p})});yC.classes=UNe;yC.displayName="@mantine/core/Paper";function vC(e){return zNe(e)?(e.nodeName||"").toLowerCase():"#document"}function Dc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vy(e){var t;return(t=(zNe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zNe(e){return e instanceof Node||e instanceof Dc(e).Node}function Ds(e){return e instanceof Element||e instanceof Dc(e).Element}function Hf(e){return e instanceof HTMLElement||e instanceof Dc(e).HTMLElement}function AX(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dc(e).ShadowRoot}function x$(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Kd(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Bpt(e){return["table","td","th"].includes(vC(e))}function rre(e){const t=ire(),n=Kd(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function jpt(e){let t=vy(e);for(;Hf(t)&&!lb(t);){if(rre(t))return t;t=vy(t)}return null}function ire(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lb(e){return["html","body","#document"].includes(vC(e))}function Kd(e){return Dc(e).getComputedStyle(e)}function A7(e){return Ds(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function vy(e){if(vC(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AX(e)&&e.host||Vy(e);return AX(t)?t.host:t}function VNe(e){const t=vy(e);return lb(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hf(t)&&x$(t)?t:VNe(t)}function Zg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=VNe(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Dc(i);return s?t.concat(o,o.visualViewport||[],x$(i)?i:[],o.frameElement&&n?Zg(o.frameElement):[]):t.concat(i,Zg(i,[],n))}function Hye(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function jk(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&AX(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function HNe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function qNe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Upt(e){return Hpt()?!1:!qye()&&e.width===0&&e.height===0||qye()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function zpt(){return/apple/i.test(navigator.vendor)}function qye(){const e=/android/i;return e.test(HNe())||e.test(qNe())}function Vpt(){return HNe().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Hpt(){return qNe().includes("jsdom/")}function CX(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function qpt(e){return"nativeEvent"in e}function Wpt(e){return e.matches("html,body")}function Hw(e){return(e==null?void 0:e.ownerDocument)||document}function DH(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function gT(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Gpt="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ypt(e){return Hf(e)&&e.matches(Gpt)}const kf=Math.min,Lu=Math.max,U9=Math.round,$P=Math.floor,cb=e=>({x:e,y:e}),Kpt={left:"right",right:"left",bottom:"top",top:"bottom"},Xpt={start:"end",end:"start"};function IX(e,t,n){return Lu(e,kf(t,n))}function by(e,t){return typeof e=="function"?e(t):e}function Ep(e){return e.split("-")[0]}function bC(e){return e.split("-")[1]}function sre(e){return e==="x"?"y":"x"}function ore(e){return e==="y"?"height":"width"}function v2(e){return["top","bottom"].includes(Ep(e))?"y":"x"}function are(e){return sre(v2(e))}function Qpt(e,t,n){n===void 0&&(n=!1);const r=bC(e),i=are(e),s=ore(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=z9(o)),[o,z9(o)]}function Jpt(e){const t=z9(e);return[kX(e),t,kX(t)]}function kX(e){return e.replace(/start|end/g,t=>Xpt[t])}function Zpt(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function e0t(e,t,n,r){const i=bC(e);let s=Zpt(Ep(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(kX)))),s}function z9(e){return e.replace(/left|right|bottom|top/g,t=>Kpt[t])}function t0t(e){return{top:0,right:0,bottom:0,left:0,...e}}function ure(e){return typeof e!="number"?t0t(e):{top:e,right:e,bottom:e,left:e}}function eA(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Wye(e,t,n){let{reference:r,floating:i}=e;const s=v2(t),o=are(t),a=ore(o),u=Ep(t),l=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(bC(t)){case"start":h[o]-=d*(n&&l?-1:1);break;case"end":h[o]+=d*(n&&l?-1:1);break}return h}const n0t=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=Wye(l,r,u),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:b,data:w,reset:x}=await y({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=v??c,f=b??f,h={...h,[g]:{...h[g],...w}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(l=x.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:c,y:f}=Wye(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function lre(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=by(t,e),p=ure(h),g=a[d?f==="floating"?"reference":"floating":f],y=eA(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),v=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},x=eA(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:u}):v);return{top:(y.top-x.top+p.top)/w.y,bottom:(x.bottom-y.bottom+p.bottom)/w.y,left:(y.left-x.left+p.left)/w.x,right:(x.right-y.right+p.right)/w.x}}const r0t=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=t,{element:l,padding:c=0}=by(e,t)||{};if(l==null)return{};const f=ure(c),d={x:n,y:r},h=are(i),p=ore(h),m=await o.getDimensions(l),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[h]-d[h]-s.floating[p],x=d[h]-s.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let A=S?S[b]:0;(!A||!await(o.isElement==null?void 0:o.isElement(S)))&&(A=a.floating[b]||s.floating[p]);const C=w/2-x/2,$=A/2-m[p]/2-1,k=kf(f[y],$),P=kf(f[v],$),L=k,O=A-m[p]-P,B=A/2-m[p]/2+C,q=IX(L,B,O),H=!u.arrow&&bC(i)!=null&&B!==q&&s.reference[p]/2-(B<L?k:P)-m[p]/2<0,G=H?B<L?B-L:B-O:0;return{[h]:d[h]+G,data:{[h]:q,centerOffset:B-q-G,...H&&{alignmentOffset:G}},reset:H}}}),i0t=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=by(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Ep(i),v=Ep(a)===a,b=await(u.isRTL==null?void 0:u.isRTL(l.floating)),w=d||(v||!m?[z9(a)]:Jpt(a));!d&&p!=="none"&&w.push(...e0t(a,m,p,b));const x=[a,...w],S=await lre(t,g),A=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&A.push(S[y]),f){const L=Qpt(i,o,b);A.push(S[L[0]],S[L[1]])}if(C=[...C,{placement:i,overflows:A}],!A.every(L=>L<=0)){var $,k;const L=((($=s.flip)==null?void 0:$.index)||0)+1,O=x[L];if(O)return{data:{index:L,overflows:C},reset:{placement:O}};let B=(k=C.filter(q=>q.overflows[0]<=0).sort((q,H)=>q.overflows[1]-H.overflows[1])[0])==null?void 0:k.placement;if(!B)switch(h){case"bestFit":{var P;const q=(P=C.map(H=>[H.placement,H.overflows.filter(G=>G>0).reduce((G,K)=>G+K,0)]).sort((H,G)=>H[1]-G[1])[0])==null?void 0:P[0];q&&(B=q);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function WNe(e){const t=kf(...e.map(s=>s.left)),n=kf(...e.map(s=>s.top)),r=Lu(...e.map(s=>s.right)),i=Lu(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function s0t(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>eA(WNe(i)))}const o0t=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:u,y:l}=by(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),f=s0t(c),d=eA(WNe(c)),h=ure(a);function p(){if(f.length===2&&f[0].left>f[1].right&&u!=null&&l!=null)return f.find(g=>u>g.left-h.left&&u<g.right+h.right&&l>g.top-h.top&&l<g.bottom+h.bottom)||d;if(f.length>=2){if(v2(n)==="y"){const k=f[0],P=f[f.length-1],L=Ep(n)==="top",O=k.top,B=P.bottom,q=L?k.left:P.left,H=L?k.right:P.right,G=H-q,K=B-O;return{top:O,bottom:B,left:q,right:H,width:G,height:K,x:q,y:O}}const g=Ep(n)==="left",y=Lu(...f.map(k=>k.right)),v=kf(...f.map(k=>k.left)),b=f.filter(k=>g?k.left===v:k.right===y),w=b[0].top,x=b[b.length-1].bottom,S=v,A=y,C=A-S,$=x-w;return{top:w,bottom:x,left:S,right:A,width:C,height:$,x:S,y:w}}return d}const m=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function a0t(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ep(n),a=bC(n),u=v2(n)==="y",l=["left","top"].includes(o)?-1:1,c=s&&u?-1:1,f=by(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),u?{x:h*c,y:d*l}:{x:d*l,y:h*c}}const u0t=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,u=await a0t(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},l0t=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...u}=by(e,t),l={x:n,y:r},c=await lre(t,u),f=v2(Ep(i)),d=sre(f);let h=l[d],p=l[f];if(s){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=h+c[g],b=h-c[y];h=IX(v,h,b)}if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=p+c[g],b=p-c[y];p=IX(v,p,b)}const m=a.fn({...t,[d]:h,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},c0t=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=by(e,t),c={x:n,y:r},f=v2(i),d=sre(f);let h=c[d],p=c[f];const m=by(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const b=d==="y"?"height":"width",w=s.reference[d]-s.floating[b]+g.mainAxis,x=s.reference[d]+s.reference[b]-g.mainAxis;h<w?h=w:h>x&&(h=x)}if(l){var y,v;const b=d==="y"?"width":"height",w=["top","left"].includes(Ep(i)),x=s.reference[f]-s.floating[b]+(w&&((y=o.offset)==null?void 0:y[f])||0)+(w?0:g.crossAxis),S=s.reference[f]+s.reference[b]+(w?0:((v=o.offset)==null?void 0:v[f])||0)-(w?g.crossAxis:0);p<x?p=x:p>S&&(p=S)}return{[d]:h,[f]:p}}}},f0t=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=by(e,t),u=await lre(t,a),l=Ep(n),c=bC(n),f=v2(n)==="y",{width:d,height:h}=r.floating;let p,m;l==="top"||l==="bottom"?(p=l,m=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=l,p=c==="end"?"top":"bottom");const g=h-u.top-u.bottom,y=d-u.left-u.right,v=kf(h-u[p],g),b=kf(d-u[m],y),w=!t.middlewareData.shift;let x=v,S=b;if(f?S=c||w?kf(b,y):y:x=c||w?kf(v,g):g,w&&!c){const C=Lu(u.left,0),$=Lu(u.right,0),k=Lu(u.top,0),P=Lu(u.bottom,0);f?S=d-2*(C!==0||$!==0?C+$:Lu(u.left,u.right)):x=h-2*(k!==0||P!==0?k+P:Lu(u.top,u.bottom))}await o({...t,availableWidth:S,availableHeight:x});const A=await i.getDimensions(s.floating);return d!==A.width||h!==A.height?{reset:{rects:!0}}:{}}}};function GNe(e){const t=Kd(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Hf(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=U9(n)!==s||U9(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function cre(e){return Ds(e)?e:e.contextElement}function cS(e){const t=cre(e);if(!Hf(t))return cb(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=GNe(t);let o=(s?U9(n.width):n.width)/r,a=(s?U9(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const d0t=cb(0);function YNe(e){const t=Dc(e);return!ire()||!t.visualViewport?d0t:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function h0t(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Dc(e)?!1:t}function Ix(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=cre(e);let o=cb(1);t&&(r?Ds(r)&&(o=cS(r)):o=cS(e));const a=h0t(s,n,r)?YNe(s):cb(0);let u=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=Dc(s),h=r&&Ds(r)?Dc(r):r;let p=d,m=p.frameElement;for(;m&&r&&h!==p;){const g=cS(m),y=m.getBoundingClientRect(),v=Kd(m),b=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,w=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;u*=g.x,l*=g.y,c*=g.x,f*=g.y,u+=b,l+=w,p=Dc(m),m=p.frameElement}}return eA({width:c,height:f,x:u,y:l})}const p0t=[":popover-open",":modal"];function fre(e){return p0t.some(t=>{try{return e.matches(t)}catch{return!1}})}function m0t(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Vy(r),a=t?fre(t.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},l=cb(1);const c=cb(0),f=Hf(r);if((f||!f&&!s)&&((vC(r)!=="body"||x$(o))&&(u=A7(r)),Hf(r))){const d=Ix(r);l=cS(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x,y:n.y*l.y-u.scrollTop*l.y+c.y}}function g0t(e){return Array.from(e.getClientRects())}function KNe(e){return Ix(Vy(e)).left+A7(e).scrollLeft}function y0t(e){const t=Vy(e),n=A7(e),r=e.ownerDocument.body,i=Lu(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Lu(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+KNe(e);const a=-n.scrollTop;return Kd(r).direction==="rtl"&&(o+=Lu(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function v0t(e,t){const n=Dc(e),r=Vy(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const l=ire();(!l||l&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function b0t(e,t){const n=Ix(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Hf(e)?cS(e):cb(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,l=r*s.y;return{width:o,height:a,x:u,y:l}}function Gye(e,t,n){let r;if(t==="viewport")r=v0t(e,n);else if(t==="document")r=y0t(Vy(e));else if(Ds(t))r=b0t(t,n);else{const i=YNe(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return eA(r)}function XNe(e,t){const n=vy(e);return n===t||!Ds(n)||lb(n)?!1:Kd(n).position==="fixed"||XNe(n,t)}function _0t(e,t){const n=t.get(e);if(n)return n;let r=Zg(e,[],!1).filter(a=>Ds(a)&&vC(a)!=="body"),i=null;const s=Kd(e).position==="fixed";let o=s?vy(e):e;for(;Ds(o)&&!lb(o);){const a=Kd(o),u=rre(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||x$(o)&&!u&&XNe(e,o))?r=r.filter(c=>c!==o):i=a,o=vy(o)}return t.set(e,r),r}function w0t(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?fre(t)?[]:_0t(t,this._c):[].concat(n),r],a=o[0],u=o.reduce((l,c)=>{const f=Gye(t,c,i);return l.top=Lu(f.top,l.top),l.right=kf(f.right,l.right),l.bottom=kf(f.bottom,l.bottom),l.left=Lu(f.left,l.left),l},Gye(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function x0t(e){const{width:t,height:n}=GNe(e);return{width:t,height:n}}function E0t(e,t,n){const r=Hf(t),i=Vy(t),s=n==="fixed",o=Ix(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=cb(0);if(r||!r&&!s)if((vC(t)!=="body"||x$(i))&&(a=A7(t)),r){const f=Ix(t,!0,s,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&(u.x=KNe(i));const l=o.left+a.scrollLeft-u.x,c=o.top+a.scrollTop-u.y;return{x:l,y:c,width:o.width,height:o.height}}function LH(e){return Kd(e).position==="static"}function Yye(e,t){return!Hf(e)||Kd(e).position==="fixed"?null:t?t(e):e.offsetParent}function QNe(e,t){const n=Dc(e);if(fre(e))return n;if(!Hf(e)){let i=vy(e);for(;i&&!lb(i);){if(Ds(i)&&!LH(i))return i;i=vy(i)}return n}let r=Yye(e,t);for(;r&&Bpt(r)&&LH(r);)r=Yye(r,t);return r&&lb(r)&&LH(r)&&!rre(r)?n:r||jpt(e)||n}const T0t=async function(e){const t=this.getOffsetParent||QNe,n=this.getDimensions,r=await n(e.floating);return{reference:E0t(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function S0t(e){return Kd(e).direction==="rtl"}const A0t={convertOffsetParentRelativeRectToViewportRelativeRect:m0t,getDocumentElement:Vy,getClippingRect:w0t,getOffsetParent:QNe,getElementRects:T0t,getClientRects:g0t,getDimensions:x0t,getScale:cS,isElement:Ds,isRTL:S0t};function C0t(e,t){let n=null,r;const i=Vy(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=$P(c),p=$P(i.clientWidth-(l+f)),m=$P(i.clientHeight-(c+d)),g=$P(l),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-g+"px",threshold:Lu(0,kf(1,u))||1};let b=!0;function w(x){const S=x[0].intersectionRatio;if(S!==u){if(!b)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(w,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(e)}return o(!0),s}function I0t(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=cre(e),c=i||s?[...l?Zg(l):[],...Zg(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=l&&a?C0t(l,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let p,m=u?Ix(e):null;u&&g();function g(){const y=Ix(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const k0t=u0t,R0t=l0t,$0t=i0t,N0t=f0t,Kye=r0t,P0t=o0t,O0t=c0t,D0t=(e,t,n)=>{const r=new Map,i={platform:A0t,...n},s={...i.platform,_c:r};return n0t(e,t,{...i,platform:s})};var nD=typeof document<"u"?R.useLayoutEffect:R.useEffect;function V9(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!V9(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!V9(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function JNe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xye(e,t){const n=JNe(e);return Math.round(t*n)/n}function Qye(e){const t=R.useRef(e);return nD(()=>{t.current=e}),t}function L0t(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:l}=e,[c,f]=R.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=R.useState(r);V9(d,r)||h(r);const[p,m]=R.useState(null),[g,y]=R.useState(null),v=R.useCallback(G=>{G!==S.current&&(S.current=G,m(G))},[]),b=R.useCallback(G=>{G!==A.current&&(A.current=G,y(G))},[]),w=s||p,x=o||g,S=R.useRef(null),A=R.useRef(null),C=R.useRef(c),$=u!=null,k=Qye(u),P=Qye(i),L=R.useCallback(()=>{if(!S.current||!A.current)return;const G={placement:t,strategy:n,middleware:d};P.current&&(G.platform=P.current),D0t(S.current,A.current,G).then(K=>{const J={...K,isPositioned:!0};O.current&&!V9(C.current,J)&&(C.current=J,v$.flushSync(()=>{f(J)}))})},[d,t,n,P]);nD(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[l]);const O=R.useRef(!1);nD(()=>(O.current=!0,()=>{O.current=!1}),[]),nD(()=>{if(w&&(S.current=w),x&&(A.current=x),w&&x){if(k.current)return k.current(w,x,L);L()}},[w,x,L,k,$]);const B=R.useMemo(()=>({reference:S,floating:A,setReference:v,setFloating:b}),[v,b]),q=R.useMemo(()=>({reference:w,floating:x}),[w,x]),H=R.useMemo(()=>{const G={position:n,left:0,top:0};if(!q.floating)return G;const K=Xye(q.floating,c.x),J=Xye(q.floating,c.y);return a?{...G,transform:"translate("+K+"px, "+J+"px)",...JNe(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:J}},[n,a,q.floating,c.x,c.y]);return R.useMemo(()=>({...c,update:L,refs:B,elements:q,floatingStyles:H}),[c,L,B,q,H])}const M0t=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Kye({element:r.current,padding:i}).fn(n):{}:r?Kye({element:r,padding:i}).fn(n):{}}}},ZNe=(e,t)=>({...k0t(e),options:[e,t]}),dre=(e,t)=>({...R0t(e),options:[e,t]}),Jye=(e,t)=>({...O0t(e),options:[e,t]}),RX=(e,t)=>({...$0t(e),options:[e,t]}),F0t=(e,t)=>({...N0t(e),options:[e,t]}),$X=(e,t)=>({...P0t(e),options:[e,t]}),e5e=(e,t)=>({...M0t(e),options:[e,t]}),t5e={...f9},B0t=t5e.useInsertionEffect,j0t=B0t||(e=>e());function pv(e){const t=R.useRef(()=>{});return j0t(()=>{t.current=e}),R.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var H0=typeof document<"u"?R.useLayoutEffect:R.useEffect;let Zye=!1,U0t=0;const e1e=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+U0t++;function z0t(){const[e,t]=R.useState(()=>Zye?e1e():void 0);return H0(()=>{e==null&&t(e1e())},[]),R.useEffect(()=>{Zye=!0},[]),e}const V0t=t5e.useId,n5e=V0t||z0t;function H0t(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const q0t=R.createContext(null),W0t=R.createContext(null),hre=()=>{var e;return((e=R.useContext(q0t))==null?void 0:e.id)||null},pre=()=>R.useContext(W0t);function mre(e){return"data-floating-ui-"+e}function t1e(e){const t=R.useRef(e);return H0(()=>{t.current=e}),t}const n1e=mre("safe-polygon");function rD(e,t,n){return n&&!CX(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function G0t(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:{domReference:o,floating:a}}=e,{enabled:u=!0,delay:l=0,handleClose:c=null,mouseOnly:f=!1,restMs:d=0,move:h=!0}=t,p=pre(),m=hre(),g=t1e(c),y=t1e(l),v=R.useRef(),b=R.useRef(-1),w=R.useRef(),x=R.useRef(-1),S=R.useRef(!0),A=R.useRef(!1),C=R.useRef(()=>{}),$=R.useCallback(()=>{var O;const B=(O=i.current.openEvent)==null?void 0:O.type;return(B==null?void 0:B.includes("mouse"))&&B!=="mousedown"},[i]);R.useEffect(()=>{if(!u)return;function O(B){let{open:q}=B;q||(clearTimeout(b.current),clearTimeout(x.current),S.current=!0)}return s.on("openchange",O),()=>{s.off("openchange",O)}},[u,s]),R.useEffect(()=>{if(!u||!g.current||!n)return;function O(q){$()&&r(!1,q,"hover")}const B=Hw(a).documentElement;return B.addEventListener("mouseleave",O),()=>{B.removeEventListener("mouseleave",O)}},[a,n,r,u,g,$]);const k=R.useCallback(function(O,B,q){B===void 0&&(B=!0),q===void 0&&(q="hover");const H=rD(y.current,"close",v.current);H&&!w.current?(clearTimeout(b.current),b.current=window.setTimeout(()=>r(!1,O,q),H)):B&&(clearTimeout(b.current),r(!1,O,q))},[y,r]),P=pv(()=>{C.current(),w.current=void 0}),L=pv(()=>{if(A.current){const O=Hw(a).body;O.style.pointerEvents="",O.removeAttribute(n1e),A.current=!1}});return R.useEffect(()=>{if(!u)return;function O(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function B(G){if(clearTimeout(b.current),S.current=!1,f&&!CX(v.current)||d>0&&!rD(y.current,"open"))return;const K=rD(y.current,"open",v.current);K?b.current=window.setTimeout(()=>{r(!0,G,"hover")},K):r(!0,G,"hover")}function q(G){if(O())return;C.current();const K=Hw(a);if(clearTimeout(x.current),g.current&&i.current.floatingContext){n||clearTimeout(b.current),w.current=g.current({...i.current.floatingContext,tree:p,x:G.clientX,y:G.clientY,onClose(){L(),P(),k(G,!0,"safe-polygon")}});const F=w.current;K.addEventListener("mousemove",F),C.current=()=>{K.removeEventListener("mousemove",F)};return}(v.current==="touch"?!jk(a,G.relatedTarget):!0)&&k(G)}function H(G){O()||i.current.floatingContext&&(g.current==null||g.current({...i.current.floatingContext,tree:p,x:G.clientX,y:G.clientY,onClose(){L(),P(),k(G)}})(G))}if(Ds(o)){const G=o;return n&&G.addEventListener("mouseleave",H),a==null||a.addEventListener("mouseleave",H),h&&G.addEventListener("mousemove",B,{once:!0}),G.addEventListener("mouseenter",B),G.addEventListener("mouseleave",q),()=>{n&&G.removeEventListener("mouseleave",H),a==null||a.removeEventListener("mouseleave",H),h&&G.removeEventListener("mousemove",B),G.removeEventListener("mouseenter",B),G.removeEventListener("mouseleave",q)}}},[o,a,u,e,f,d,h,k,P,L,r,n,p,y,g,i]),H0(()=>{var O;if(u&&n&&(O=g.current)!=null&&O.__options.blockPointerEvents&&$()){const q=Hw(a).body;if(q.setAttribute(n1e,""),q.style.pointerEvents="none",A.current=!0,Ds(o)&&a){var B;const H=o,G=p==null||(B=p.nodesRef.current.find(K=>K.id===m))==null||(B=B.context)==null?void 0:B.elements.floating;return G&&(G.style.pointerEvents=""),H.style.pointerEvents="auto",a.style.pointerEvents="auto",()=>{H.style.pointerEvents="",a.style.pointerEvents=""}}}},[u,n,m,a,o,p,g,$]),H0(()=>{n||(v.current=void 0,P(),L())},[n,P,L]),R.useEffect(()=>()=>{P(),clearTimeout(b.current),clearTimeout(x.current),L()},[u,o,P,L]),R.useMemo(()=>{if(!u)return{};function O(B){v.current=B.pointerType}return{reference:{onPointerDown:O,onPointerEnter:O,onMouseMove(B){function q(){S.current||r(!0,B.nativeEvent,"hover")}f&&!CX(v.current)||n||d===0||(clearTimeout(x.current),v.current==="touch"?q():x.current=window.setTimeout(q,d))}},floating:{onMouseEnter(){clearTimeout(b.current)},onMouseLeave(B){k(B.nativeEvent,!1)}}}},[u,f,n,d,r,k])}const NX=()=>{},r5e=R.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:NX,setState:NX,isInstantPhase:!1}),i5e=()=>R.useContext(r5e);function Y0t(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,s]=R.useReducer((u,l)=>({...u,...l}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=R.useRef(null),a=R.useCallback(u=>{s({currentId:u})},[]);return H0(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),R.createElement(r5e.Provider,{value:R.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,a])},t)}function K0t(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:s}=t,o=s??i,a=i5e(),{currentId:u,setCurrentId:l,initialDelay:c,setState:f,timeoutMs:d}=a;return H0(()=>{u&&(f({delay:{open:1,close:rD(c,"close")}}),u!==o&&r(!1))},[o,r,f,u,c]),H0(()=>{function h(){r(!1),f({delay:c,currentId:null})}if(u&&!n&&u===o){if(d){const p=window.setTimeout(h,d);return()=>{clearTimeout(p)}}h()}},[n,f,u,o,r,c,d]),H0(()=>{l===NX||!n||l(o)},[n,l,o]),a}function MH(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const X0t={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Q0t={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},r1e=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function J0t(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:{reference:i,domReference:s,floating:o},dataRef:a}=e,{enabled:u=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:f="pointerdown",referencePress:d=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:m,capture:g}=t,y=pre(),v=pv(typeof c=="function"?c:()=>!1),b=typeof c=="function"?v:c,w=R.useRef(!1),x=R.useRef(!1),{escapeKey:S,outsidePress:A}=r1e(m),{escapeKey:C,outsidePress:$}=r1e(g),k=pv(B=>{var q;if(!n||!u||!l||B.key!=="Escape")return;const H=(q=a.current.floatingContext)==null?void 0:q.nodeId,G=y?MH(y.nodesRef.current,H):[];if(!S&&(B.stopPropagation(),G.length>0)){let K=!0;if(G.forEach(J=>{var F;if((F=J.context)!=null&&F.open&&!J.context.dataRef.current.__escapeKeyBubbles){K=!1;return}}),!K)return}r(!1,qpt(B)?B.nativeEvent:B,"escape-key")}),P=pv(B=>{var q;const H=()=>{var G;k(B),(G=gT(B))==null||G.removeEventListener("keydown",H)};(q=gT(B))==null||q.addEventListener("keydown",H)}),L=pv(B=>{var q;const H=w.current;w.current=!1;const G=x.current;if(x.current=!1,f==="click"&&G||H||typeof b=="function"&&!b(B))return;const K=gT(B),J="["+mre("inert")+"]",F=Hw(o).querySelectorAll(J);let j=Ds(K)?K:null;for(;j&&!lb(j);){const Q=vy(j);if(lb(Q)||!Ds(Q))break;j=Q}if(F.length&&Ds(K)&&!Wpt(K)&&!jk(K,o)&&Array.from(F).every(Q=>!jk(j,Q)))return;if(Hf(K)&&o){const Q=K.clientWidth>0&&K.scrollWidth>K.clientWidth,se=K.clientHeight>0&&K.scrollHeight>K.clientHeight;let be=se&&B.offsetX>K.clientWidth;if(se&&Kd(K).direction==="rtl"&&(be=B.offsetX<=K.offsetWidth-K.clientWidth),be||Q&&B.offsetY>K.clientHeight)return}const W=(q=a.current.floatingContext)==null?void 0:q.nodeId,M=y&&MH(y.nodesRef.current,W).some(Q=>{var se;return DH(B,(se=Q.context)==null?void 0:se.elements.floating)});if(DH(B,o)||DH(B,s)||M)return;const V=y?MH(y.nodesRef.current,W):[];if(V.length>0){let Q=!0;if(V.forEach(se=>{var be;if((be=se.context)!=null&&be.open&&!se.context.dataRef.current.__outsidePressBubbles){Q=!1;return}}),!Q)return}r(!1,B,"outside-press")}),O=pv(B=>{var q;const H=()=>{var G;L(B),(G=gT(B))==null||G.removeEventListener(f,H)};(q=gT(B))==null||q.addEventListener(f,H)});return R.useEffect(()=>{if(!n||!u)return;a.current.__escapeKeyBubbles=S,a.current.__outsidePressBubbles=A;function B(G){r(!1,G,"ancestor-scroll")}const q=Hw(o);l&&q.addEventListener("keydown",C?P:k,C),b&&q.addEventListener(f,$?O:L,$);let H=[];return p&&(Ds(s)&&(H=Zg(s)),Ds(o)&&(H=H.concat(Zg(o))),!Ds(i)&&i&&i.contextElement&&(H=H.concat(Zg(i.contextElement)))),H=H.filter(G=>{var K;return G!==((K=q.defaultView)==null?void 0:K.visualViewport)}),H.forEach(G=>{G.addEventListener("scroll",B,{passive:!0})}),()=>{l&&q.removeEventListener("keydown",C?P:k,C),b&&q.removeEventListener(f,$?O:L,$),H.forEach(G=>{G.removeEventListener("scroll",B)})}},[a,o,s,i,l,b,f,n,r,p,u,S,A,k,C,P,L,$,O]),R.useEffect(()=>{w.current=!1},[b,f]),R.useMemo(()=>u?{reference:{onKeyDown:k,[X0t[h]]:B=>{d&&r(!1,B.nativeEvent,"reference-press")}},floating:{onKeyDown:k,onMouseDown(){x.current=!0},onMouseUp(){x.current=!0},[Q0t[f]]:()=>{w.current=!0}}}:{},[u,d,f,h,r,k])}function Z0t(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=n5e(),s=R.useRef({}),[o]=R.useState(()=>H0t()),a=hre()!=null,[u,l]=R.useState(r.reference),c=pv((h,p,m)=>{s.current.openEvent=h?p:void 0,o.emit("openchange",{open:h,event:p,reason:m,nested:a}),n==null||n(h,p,m)}),f=R.useMemo(()=>({setPositionReference:l}),[]),d=R.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return R.useMemo(()=>({dataRef:s,open:t,onOpenChange:c,elements:d,events:o,floatingId:i,refs:f}),[t,c,d,o,i,f])}function gre(e){e===void 0&&(e={});const{nodeId:t}=e,n=Z0t({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=R.useState(null),[a,u]=R.useState(null),c=(i==null?void 0:i.reference)||s,f=R.useRef(null),d=pre();H0(()=>{c&&(f.current=c)},[c]);const h=L0t({...e,elements:{...i,...a&&{reference:a}}}),p=R.useCallback(b=>{const w=Ds(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;u(w),h.refs.setReference(w)},[h.refs]),m=R.useCallback(b=>{(Ds(b)||b===null)&&(f.current=b,o(b)),(Ds(h.refs.reference.current)||h.refs.reference.current===null||b!==null&&!Ds(b))&&h.refs.setReference(b)},[h.refs]),g=R.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:f}),[h.refs,m,p]),y=R.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),v=R.useMemo(()=>({...h,...r,refs:g,elements:y,nodeId:t}),[h,g,y,t,r]);return H0(()=>{r.dataRef.current.floatingContext=v;const b=d==null?void 0:d.nodesRef.current.find(w=>w.id===t);b&&(b.context=v)}),R.useMemo(()=>({...h,context:v,refs:g,elements:y}),[h,g,y,v])}function emt(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:{domReference:o}}=e,{enabled:a=!0,visibleOnly:u=!0}=t,l=R.useRef(!1),c=R.useRef(),f=R.useRef(!0);return R.useEffect(()=>{if(!a)return;const d=Dc(o);function h(){!n&&Hf(o)&&o===Hye(Hw(o))&&(l.current=!0)}function p(){f.current=!0}return d.addEventListener("blur",h),d.addEventListener("keydown",p,!0),()=>{d.removeEventListener("blur",h),d.removeEventListener("keydown",p,!0)}},[o,n,a]),R.useEffect(()=>{if(!a)return;function d(h){let{reason:p}=h;(p==="reference-press"||p==="escape-key")&&(l.current=!0)}return i.on("openchange",d),()=>{i.off("openchange",d)}},[i,a]),R.useEffect(()=>()=>{clearTimeout(c.current)},[]),R.useMemo(()=>a?{reference:{onPointerDown(d){Upt(d.nativeEvent)||(f.current=!1)},onMouseLeave(){l.current=!1},onFocus(d){if(l.current)return;const h=gT(d.nativeEvent);if(u&&Ds(h))try{if(zpt()&&Vpt())throw Error();if(!h.matches(":focus-visible"))return}catch{if(!f.current&&!Ypt(h))return}r(!0,d.nativeEvent,"focus")},onBlur(d){l.current=!1;const h=d.relatedTarget,p=Ds(h)&&h.hasAttribute(mre("focus-guard"))&&h.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var m;const g=Hye(o?o.ownerDocument:document);!h&&g===o||jk((m=s.current.floatingContext)==null?void 0:m.refs.floating.current,g)||jk(o,g)||p||r(!1,d.nativeEvent,"focus")})}}}:{},[a,u,s,o,r])}const i1e="active",s1e="selected";function FH(e,t,n){const r=new Map,i=n==="item";let s=e;if(i&&e){const{[i1e]:o,[s1e]:a,...u}=e;s=u}return{...n==="floating"&&{tabIndex:-1},...s,...t.map(o=>{const a=o?o[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((o,a)=>(a&&Object.entries(a).forEach(u=>{let[l,c]=u;if(!(i&&[i1e,s1e].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof c=="function"){var f;(f=r.get(l))==null||f.push(c),o[l]=function(){for(var d,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(d=r.get(l))==null?void 0:d.map(g=>g(...p)).find(g=>g!==void 0)}}}else o[l]=c}),o),{})}}function tmt(e){e===void 0&&(e=[]);const t=e,n=R.useCallback(s=>FH(s,e,"reference"),t),r=R.useCallback(s=>FH(s,e,"floating"),t),i=R.useCallback(s=>FH(s,e,"item"),e.map(s=>s==null?void 0:s.item));return R.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}const nmt=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function rmt(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:s=!0,role:o="dialog"}=t,a=(n=nmt.get(o))!=null?n:o,u=n5e(),c=hre()!=null;return R.useMemo(()=>{if(!s)return{};const f={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?{reference:{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0},floating:f}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:u},...a==="menu"&&c&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},floating:{...f,...a==="menu"&&{"aria-labelledby":u}},item(d){let{active:h,selected:p}=d;const m={role:"option",...h&&{id:i+"-option"}};switch(o){case"select":return{...m,"aria-selected":h&&p};case"combobox":return{...m,...h&&{"aria-selected":!0}}}return{}}}},[s,o,a,r,i,u,c])}function s5e(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function o1e(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function a1e(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const imt={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function smt({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:s,arrowY:o,dir:a}){const[u,l="center"]=e.split("-"),c={width:De(t),height:De(t),transform:"rotate(45deg)",position:"absolute",[imt[u]]:De(r)},f=De(-t/2);return u==="left"?{...c,...o1e(l,o,n,i),right:f,borderLeftColor:"transparent",borderBottomColor:"transparent"}:u==="right"?{...c,...o1e(l,o,n,i),left:f,borderRightColor:"transparent",borderTopColor:"transparent"}:u==="top"?{...c,...a1e(l,s,n,i,a),bottom:f,borderTopColor:"transparent",borderLeftColor:"transparent"}:u==="bottom"?{...c,...a1e(l,s,n,i,a),top:f,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const yre=R.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:s,arrowX:o,arrowY:a,style:u,...l},c)=>{const{dir:f}=zy();return s?E.jsx("div",{...l,ref:c,style:{...u,...smt({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:f,arrowX:o,arrowY:a})}}):null});yre.displayName="@mantine/core/FloatingArrow";const[omt,o5e]=du("Popover component was not found in the tree");function C7({children:e,active:t=!0,refProp:n="ref"}){const r=Vdt(t),i=To(r,e==null?void 0:e.ref);return Jb(e)?R.cloneElement(e,{[n]:i}):e}function a5e(e){return E.jsx(nre,{tabIndex:-1,"data-autofocus":!0,...e})}C7.displayName="@mantine/core/FocusTrap";a5e.displayName="@mantine/core/FocusTrapInitialFocus";C7.InitialFocus=a5e;function amt(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const umt={},u5e=R.forwardRef((e,t)=>{const{children:n,target:r,...i}=We("Portal",umt,e),[s,o]=R.useState(!1),a=R.useRef(null);return m2(()=>(o(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:amt(i),qne(t,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!s||!a.current?null:v$.createPortal(E.jsx(E.Fragment,{children:n}),a.current)});u5e.displayName="@mantine/core/Portal";function _C({withinPortal:e=!0,children:t,...n}){return e?E.jsx(u5e,{...n,children:t}):E.jsx(E.Fragment,{children:t})}_C.displayName="@mantine/core/OptionalPortal";const mI=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${De(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),NP={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${De(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${De(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${De(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${De(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${De(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${De(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${De(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${De(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...mI("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...mI("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...mI("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...mI("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...mI("top"),common:{transformOrigin:"top right"}}},u1e={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function lmt({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in NP?{transitionProperty:NP[e].transitionProperty,...i,...NP[e].common,...NP[e][u1e[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[u1e[t]]}}function cmt({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=So(),l=x7(),c=u.respectReducedMotion?l:!1,[f,d]=R.useState(c?0:e),[h,p]=R.useState(r?"entered":"exited"),m=R.useRef(-1),g=R.useRef(-1),y=v=>{const b=v?i:s,w=v?o:a;window.clearTimeout(m.current);const x=c?0:v?e:t;d(x),x===0?(typeof b=="function"&&b(),typeof w=="function"&&w(),p(v?"entered":"exited")):g.current=requestAnimationFrame(()=>{C4.flushSync(()=>{p(v?"pre-entering":"pre-exiting")}),g.current=requestAnimationFrame(()=>{typeof b=="function"&&b(),p(v?"entering":"exiting"),m.current=window.setTimeout(()=>{typeof w=="function"&&w(),p(v?"entered":"exited")},x)})})};return im(()=>{y(r)},[r]),R.useEffect(()=>()=>{window.clearTimeout(m.current),cancelAnimationFrame(g.current)},[]),{transitionDuration:f,transitionStatus:h,transitionTimingFunction:n||"ease"}}function Hy({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:u,onEnter:l,onExited:c}){const{transitionDuration:f,transitionStatus:d,transitionTimingFunction:h}=cmt({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:u,onEnter:l,onExited:c});return f===0?i?E.jsx(E.Fragment,{children:s({})}):e?s({display:"none"}):null:d==="exited"?e?s({display:"none"}):null:E.jsx(E.Fragment,{children:s(lmt({transition:t,duration:f,state:d,timingFunction:h}))})}Hy.displayName="@mantine/core/Transition";var l5e={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const fmt={},vre=ft((e,t)=>{var g,y,v,b;const n=We("PopoverDropdown",fmt,e),{className:r,style:i,vars:s,children:o,onKeyDownCapture:a,variant:u,classNames:l,styles:c,...f}=n,d=o5e(),h=fNe({opened:d.opened,shouldReturnFocus:d.returnFocus}),p=d.withRoles?{"aria-labelledby":d.getTargetId(),id:d.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=To(t,d.floating);return d.disabled?null:E.jsx(_C,{...d.portalProps,withinPortal:d.withinPortal,children:E.jsx(Hy,{mounted:d.opened,...d.transitionProps,transition:((g=d.transitionProps)==null?void 0:g.transition)||"fade",duration:((y=d.transitionProps)==null?void 0:y.duration)??150,keepMounted:d.keepMounted,exitDuration:typeof((v=d.transitionProps)==null?void 0:v.exitDuration)=="number"?d.transitionProps.exitDuration:(b=d.transitionProps)==null?void 0:b.duration,children:w=>E.jsx(C7,{active:d.trapFocus,children:E.jsxs(ke,{...p,...f,variant:u,ref:m,onKeyDownCapture:Rdt(d.onClose,{active:d.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":d.placement,...d.getStyles("dropdown",{className:r,props:n,classNames:l,styles:c,style:[{...w,zIndex:d.zIndex,top:d.y??0,left:d.x??0,width:d.width==="target"?void 0:De(d.width)},i]}),children:[o,E.jsx(yre,{ref:d.arrowRef,arrowX:d.arrowX,arrowY:d.arrowY,visible:d.withArrow,position:d.placement,arrowSize:d.arrowSize,arrowRadius:d.arrowRadius,arrowOffset:d.arrowOffset,arrowPosition:d.arrowPosition,...d.getStyles("arrow",{props:n,classNames:l,styles:c})})]})})})})});vre.classes=l5e;vre.displayName="@mantine/core/PopoverDropdown";const dmt={refProp:"ref",popupType:"dialog"},c5e=ft((e,t)=>{const{children:n,refProp:r,popupType:i,...s}=We("PopoverTarget",dmt,e);if(!Jb(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=o5e(),u=To(a.reference,n.ref,t),l=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return R.cloneElement(n,{...o,...l,...a.targetProps,className:_o(a.targetProps.className,o.className,n.props.className),[r]:u,...a.controlled?null:{onClick:a.onToggle}})});c5e.displayName="@mantine/core/PopoverTarget";function f5e({opened:e,floating:t,position:n,positionDependencies:r}){const[i,s]=R.useState(0);R.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return I0t(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),im(()=>{t.update()},r),im(()=>{s(o=>o+1)},[e])}function hmt(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function pmt(e,t){const n=hmt(e.middlewares),r=[ZNe(e.offset)];return n.shift&&r.push(dre(typeof n.shift=="boolean"?{limiter:Jye(),padding:5}:{limiter:Jye(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?RX():RX(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?$X():$X(n.inline)),r.push(e5e({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(F0t({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:s,availableHeight:o}){var l;const u=((l=t().refs.floating.current)==null?void 0:l.style)??{};n.size&&Object.assign(u,{maxWidth:`${s}px`,maxHeight:`${o}px`}),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function mmt(e){const[t,n]=Na({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;t&&((o=e.onClose)==null||o.call(e),n(!1))},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=gre({strategy:e.strategy,placement:e.position,middleware:pmt(e,()=>s)});return f5e({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),im(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),im(()=>{var o,a;e.opened?(a=e.onOpen)==null||a.call(e):(o=e.onClose)==null||o.call(e)},[e.opened]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const gmt={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Op("popover"),__staticSelector:"Popover",width:"max-content"},ymt=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:Ki(t),"--popover-shadow":Vne(n)}});function Lc(e){var Se,Fe,st,yt,$t,Je;const t=We("Popover",gmt,e),{children:n,position:r,offset:i,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:u,width:l,middlewares:c,withArrow:f,arrowSize:d,arrowOffset:h,arrowRadius:p,arrowPosition:m,unstyled:g,classNames:y,styles:v,closeOnClickOutside:b,withinPortal:w,portalProps:x,closeOnEscape:S,clickOutsideEvents:A,trapFocus:C,onClose:$,onOpen:k,onChange:P,zIndex:L,radius:O,shadow:B,id:q,defaultOpened:H,__staticSelector:G,withRoles:K,disabled:J,returnFocus:F,variant:j,keepMounted:W,vars:M,floatingStrategy:V,...Q}=t,se=Bt({name:G,props:t,classes:l5e,classNames:y,styles:v,unstyled:g,rootSelector:"dropdown",vars:M,varsResolver:ymt}),be=R.useRef(null),[he,Ce]=R.useState(null),[Pe,rt]=R.useState(null),{dir:Re}=zy(),Tt=el(q),Ze=mmt({middlewares:c,width:l,position:s5e(Re,r),offset:typeof i=="number"?i+(f?d/2:0):i,arrowRef:be,arrowOffset:h,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:H,onChange:P,onOpen:k,onClose:$,strategy:V});Pdt(()=>b&&Ze.onClose(),A,[he,Pe]);const It=R.useCallback(xe=>{Ce(xe),Ze.floating.refs.setReference(xe)},[Ze.floating.refs.setReference]),mt=R.useCallback(xe=>{rt(xe),Ze.floating.refs.setFloating(xe)},[Ze.floating.refs.setFloating]);return E.jsx(omt,{value:{returnFocus:F,disabled:J,controlled:Ze.controlled,reference:It,floating:mt,x:Ze.floating.x,y:Ze.floating.y,arrowX:(st=(Fe=(Se=Ze.floating)==null?void 0:Se.middlewareData)==null?void 0:Fe.arrow)==null?void 0:st.x,arrowY:(Je=($t=(yt=Ze.floating)==null?void 0:yt.middlewareData)==null?void 0:$t.arrow)==null?void 0:Je.y,opened:Ze.opened,arrowRef:be,transitionProps:u,width:l,withArrow:f,arrowSize:d,arrowOffset:h,arrowRadius:p,arrowPosition:m,placement:Ze.floating.placement,trapFocus:C,withinPortal:w,portalProps:x,zIndex:L,radius:O,shadow:B,closeOnEscape:S,onClose:Ze.onClose,onToggle:Ze.onToggle,getTargetId:()=>`${Tt}-target`,getDropdownId:()=>`${Tt}-dropdown`,withRoles:K,targetProps:Q,__staticSelector:G,classNames:y,styles:v,unstyled:g,variant:j,keepMounted:W,getStyles:se},children:n})}Lc.Target=c5e;Lc.Dropdown=vre;Lc.displayName="@mantine/core/Popover";Lc.extend=e=>e;var sp={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const vmt=R.forwardRef(({className:e,...t},n)=>E.jsxs(ke,{component:"span",className:_o(sp.barsLoader,e),...t,ref:n,children:[E.jsx("span",{className:sp.bar}),E.jsx("span",{className:sp.bar}),E.jsx("span",{className:sp.bar})]})),bmt=R.forwardRef(({className:e,...t},n)=>E.jsxs(ke,{component:"span",className:_o(sp.dotsLoader,e),...t,ref:n,children:[E.jsx("span",{className:sp.dot}),E.jsx("span",{className:sp.dot}),E.jsx("span",{className:sp.dot})]})),_mt=R.forwardRef(({className:e,...t},n)=>E.jsx(ke,{component:"span",className:_o(sp.ovalLoader,e),...t,ref:n})),d5e={bars:vmt,oval:_mt,dots:bmt},wmt={loaders:d5e,type:"oval"},xmt=(e,{size:t,color:n})=>({root:{"--loader-size":Xn(t,"loader-size"),"--loader-color":n?Vi(n,e):void 0}}),nf=ft((e,t)=>{const n=We("Loader",wmt,e),{size:r,color:i,type:s,vars:o,className:a,style:u,classNames:l,styles:c,unstyled:f,loaders:d,variant:h,children:p,...m}=n,g=Bt({name:"Loader",props:n,classes:sp,className:a,style:u,classNames:l,styles:c,unstyled:f,vars:o,varsResolver:xmt});return p?E.jsx(ke,{...g("root"),ref:t,...m,children:p}):E.jsx(ke,{...g("root"),ref:t,component:d[s],variant:h,size:r,...m})});nf.defaultLoaders=d5e;nf.classes=sp;nf.displayName="@mantine/core/Loader";var I7={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const l1e={orientation:"horizontal"},Emt=(e,{borderWidth:t})=>({group:{"--ai-border-width":De(t)}}),bre=ft((e,t)=>{const n=We("ActionIconGroup",l1e,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:u,vars:l,borderWidth:c,variant:f,mod:d,...h}=We("ActionIconGroup",l1e,e),p=Bt({name:"ActionIconGroup",props:n,classes:I7,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:Emt,rootSelector:"group"});return E.jsx(ke,{...p("group"),ref:t,variant:f,mod:[{"data-orientation":u},d],role:"group",...h})});bre.classes=I7;bre.displayName="@mantine/core/ActionIconGroup";const Tmt={},Smt=(e,{size:t,radius:n,variant:r,gradient:i,color:s,autoContrast:o})=>{const a=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ai-size":Xn(t,"ai-size"),"--ai-radius":n===void 0?void 0:Ki(n),"--ai-bg":s||r?a.background:void 0,"--ai-hover":s||r?a.hover:void 0,"--ai-hover-color":s||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":s||r?a.border:void 0}}},b2=ua((e,t)=>{const n=We("ActionIcon",Tmt,e),{className:r,unstyled:i,variant:s,classNames:o,styles:a,style:u,loading:l,loaderProps:c,size:f,color:d,radius:h,__staticSelector:p,gradient:m,vars:g,children:y,disabled:v,"data-disabled":b,autoContrast:w,mod:x,...S}=n,A=Bt({name:["ActionIcon",p],props:n,className:r,style:u,classes:I7,classNames:o,styles:a,unstyled:i,vars:g,varsResolver:Smt});return E.jsxs(Vf,{...A("root",{active:!v&&!l&&!b}),...S,unstyled:i,variant:s,size:f,disabled:v||l,ref:t,mod:[{loading:l,disabled:v||b},x],children:[E.jsx(Hy,{mounted:!!l,transition:"slide-down",duration:150,children:C=>E.jsx(ke,{component:"span",...A("loader",{style:C}),"aria-hidden":!0,children:E.jsx(nf,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),E.jsx(ke,{component:"span",mod:{loading:l},...A("icon"),children:y})]})});b2.classes=I7;b2.displayName="@mantine/core/ActionIcon";b2.Group=bre;const h5e=R.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>E.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:E.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));h5e.displayName="@mantine/core/CloseIcon";var p5e={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Amt={variant:"subtle"},Cmt=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":Xn(t,"cb-size"),"--cb-radius":n===void 0?void 0:Ki(n),"--cb-icon-size":De(r)}}),t_=ua((e,t)=>{const n=We("CloseButton",Amt,e),{iconSize:r,children:i,vars:s,radius:o,className:a,classNames:u,style:l,styles:c,unstyled:f,"data-disabled":d,disabled:h,variant:p,icon:m,mod:g,...y}=n,v=Bt({name:"CloseButton",props:n,className:a,style:l,classes:p5e,classNames:u,styles:c,unstyled:f,vars:s,varsResolver:Cmt});return E.jsxs(Vf,{ref:t,...y,unstyled:f,variant:p,disabled:h,mod:[{disabled:h||d},g],...v("root",{variant:p,active:!h&&!d}),children:[m||E.jsx(h5e,{}),i]})});t_.classes=p5e;t_.displayName="@mantine/core/CloseButton";function Imt(e){return R.Children.toArray(e).filter(Boolean)}var m5e={root:"m_4081bf90"};const kmt={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Rmt=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":Lo(r),"--group-align":i,"--group-justify":s,"--group-wrap":o}}),Si=ft((e,t)=>{const n=We("Group",kmt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,children:u,gap:l,align:c,justify:f,wrap:d,grow:h,preventGrowOverflow:p,vars:m,variant:g,__size:y,mod:v,...b}=n,w=Imt(u),x=w.length,S=Lo(l??"md"),C={childWidth:`calc(${100/x}% - (${S} - ${S} / ${x}))`},$=Bt({name:"Group",props:n,stylesCtx:C,className:i,style:s,classes:m5e,classNames:r,styles:o,unstyled:a,vars:m,varsResolver:Rmt});return E.jsx(ke,{...$("root"),ref:t,variant:g,mod:[{grow:h},v],size:y,...b,children:w})});Si.classes=m5e;Si.displayName="@mantine/core/Group";var g5e={root:"m_9814e45f"};const $mt={zIndex:Op("modal")},Nmt=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:s,zIndex:o})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&d0(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${De(i)})`:void 0,"--overlay-radius":s===void 0?void 0:Ki(s),"--overlay-z-index":o==null?void 0:o.toString()}}),Uk=ua((e,t)=>{const n=We("Overlay",$mt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,fixed:l,center:c,children:f,radius:d,zIndex:h,gradient:p,blur:m,color:g,backgroundOpacity:y,mod:v,...b}=n,w=Bt({name:"Overlay",props:n,classes:g5e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Nmt});return E.jsx(ke,{ref:t,...w("root"),mod:[{center:c,fixed:l},v],...b,children:f})});Uk.classes=g5e;Uk.displayName="@mantine/core/Overlay";const[Pmt,qy]=du("ModalBase component was not found in tree");function Omt({opened:e,transitionDuration:t}){const[n,r]=R.useState(e),i=R.useRef(),o=x7()?0:t;return R.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[e,o]),n}function Dmt({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:s,returnFocus:o}){const a=el(e),[u,l]=R.useState(!1),[c,f]=R.useState(!1),d=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,h=Omt({opened:n,transitionDuration:d});return mNe("keydown",p=>{var m;p.key==="Escape"&&i&&n&&((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&s()},{capture:!0}),fNe({opened:n,shouldReturnFocus:r&&o}),{_id:a,titleMounted:u,bodyMounted:c,shouldLockScroll:h,setTitleMounted:l,setBodyMounted:f}}const Lmt=R.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,trapFocus:s,closeOnEscape:o,returnFocus:a,closeOnClickOutside:u,withinPortal:l,portalProps:c,lockScroll:f,children:d,zIndex:h,shadow:p,padding:m,__vars:g,unstyled:y,removeScrollProps:v,...b},w)=>{const{_id:x,titleMounted:S,bodyMounted:A,shouldLockScroll:C,setTitleMounted:$,setBodyMounted:k}=Dmt({id:r,transitionProps:i,opened:t,trapFocus:s,closeOnEscape:o,onClose:n,returnFocus:a});return E.jsx(_C,{...c,withinPortal:l,children:E.jsx(Pmt,{value:{opened:t,onClose:n,closeOnClickOutside:u,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${x}-title`,getBodyId:()=>`${x}-body`,titleMounted:S,bodyMounted:A,setTitleMounted:$,setBodyMounted:k,trapFocus:s,closeOnEscape:o,zIndex:h,unstyled:y},children:E.jsx(JS,{enabled:C&&f,...v,children:E.jsx(ke,{ref:w,...b,__vars:{...g,"--mb-z-index":(h||Op("modal")).toString(),"--mb-shadow":Vne(p),"--mb-padding":Lo(m)},children:d})})})})});function Mmt(){const e=qy();return R.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var tA={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const y5e=R.forwardRef(({className:e,...t},n)=>{const r=Mmt(),i=qy();return E.jsx(ke,{ref:n,...t,id:r,className:_o({[tA.body]:!i.unstyled},e)})});y5e.displayName="@mantine/core/ModalBaseBody";const v5e=R.forwardRef(({className:e,onClick:t,...n},r)=>{const i=qy();return E.jsx(t_,{ref:r,...n,onClick:s=>{i.onClose(),t==null||t(s)},className:_o({[tA.close]:!i.unstyled},e),unstyled:i.unstyled})});v5e.displayName="@mantine/core/ModalBaseCloseButton";const Fmt=R.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...s},o)=>{const a=qy();return E.jsx(Hy,{mounted:a.opened,transition:"pop",...a.transitionProps,...e,children:u=>E.jsx("div",{...n,className:_o({[tA.inner]:!a.unstyled},n.className),children:E.jsx(C7,{active:a.opened&&a.trapFocus,children:E.jsx(yC,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,ref:o,style:[i,u],className:_o({[tA.content]:!a.unstyled},t),unstyled:a.unstyled,children:s.children})})})})}),b5e=R.forwardRef(({className:e,...t},n)=>{const r=qy();return E.jsx(ke,{component:"header",ref:n,className:_o({[tA.header]:!r.unstyled},e),...t})});b5e.displayName="@mantine/core/ModalBaseHeader";const Bmt={duration:200,timingFunction:"ease",transition:"fade"};function jmt(e){const t=qy();return{...Bmt,...t.transitionProps,...e}}const _5e=R.forwardRef(({onClick:e,transitionProps:t,style:n,...r},i)=>{const s=qy(),o=jmt(t);return E.jsx(Hy,{mounted:s.opened,...o,transition:"fade",children:a=>E.jsx(Uk,{ref:i,fixed:!0,style:[n,a],zIndex:s.zIndex,unstyled:s.unstyled,onClick:u=>{e==null||e(u),s.closeOnClickOutside&&s.onClose()},...r})})});_5e.displayName="@mantine/core/ModalBaseOverlay";function Umt(){const e=qy();return R.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const w5e=R.forwardRef(({className:e,...t},n)=>{const r=Umt(),i=qy();return E.jsx(ke,{component:"h2",ref:n,className:_o({[tA.title]:!i.unstyled},e),...t,id:r})});w5e.displayName="@mantine/core/ModalBaseTitle";function zmt({children:e}){return E.jsx(E.Fragment,{children:e})}const[Vmt,wC]=mC({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var sh={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const c1e={},Hmt=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Cl(t)} - ${De(2)})`}}),k7=ft((e,t)=>{const n=We("InputDescription",c1e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,size:l,__staticSelector:c,__inheritStyles:f=!0,variant:d,...h}=We("InputDescription",c1e,n),p=wC(),m=Bt({name:["InputWrapper",c],props:n,classes:sh,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"description",vars:u,varsResolver:Hmt}),g=f&&(p==null?void 0:p.getStyles)||m;return E.jsx(ke,{component:"p",ref:t,variant:d,size:l,...g("description",p!=null&&p.getStyles?{className:i,style:s}:void 0),...h})});k7.classes=sh;k7.displayName="@mantine/core/InputDescription";const qmt={},Wmt=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Cl(t)} - ${De(2)})`}}),R7=ft((e,t)=>{const n=We("InputError",qmt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,size:l,__staticSelector:c,__inheritStyles:f=!0,variant:d,...h}=n,p=Bt({name:["InputWrapper",c],props:n,classes:sh,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"error",vars:u,varsResolver:Wmt}),m=wC(),g=f&&(m==null?void 0:m.getStyles)||p;return E.jsx(ke,{component:"p",ref:t,variant:d,size:l,...g("error",m!=null&&m.getStyles?{className:i,style:s}:void 0),...h})});R7.classes=sh;R7.displayName="@mantine/core/InputError";const f1e={labelElement:"label"},Gmt=(e,{size:t})=>({label:{"--input-label-size":Cl(t),"--input-asterisk-color":void 0}}),$7=ft((e,t)=>{const n=We("InputLabel",f1e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,labelElement:l,size:c,required:f,htmlFor:d,onMouseDown:h,children:p,__staticSelector:m,variant:g,mod:y,...v}=We("InputLabel",f1e,n),b=Bt({name:["InputWrapper",m],props:n,classes:sh,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"label",vars:u,varsResolver:Gmt}),w=wC(),x=(w==null?void 0:w.getStyles)||b;return E.jsxs(ke,{...x("label",w!=null&&w.getStyles?{className:i,style:s}:void 0),component:l,variant:g,size:c,ref:t,htmlFor:l==="label"?d:void 0,mod:[{required:f},y],onMouseDown:S=>{h==null||h(S),!S.defaultPrevented&&S.detail>1&&S.preventDefault()},...v,children:[p,f&&E.jsx("span",{...x("required"),"aria-hidden":!0,children:" *"})]})});$7.classes=sh;$7.displayName="@mantine/core/InputLabel";const d1e={},_re=ft((e,t)=>{const n=We("InputPlaceholder",d1e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,__staticSelector:l,variant:c,error:f,mod:d,...h}=We("InputPlaceholder",d1e,n),p=Bt({name:["InputPlaceholder",l],props:n,classes:sh,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"placeholder"});return E.jsx(ke,{...p("placeholder"),mod:[{error:!!f},d],component:"span",variant:c,ref:t,...h})});_re.classes=sh;_re.displayName="@mantine/core/InputPlaceholder";function Ymt(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e.slice(0,r),s=e.slice(r+1),o=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:o}}const Kmt={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Xmt=(e,{size:t})=>({label:{"--input-label-size":Cl(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Cl(t)} - ${De(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Cl(t)} - ${De(2)})`}}),wre=ft((e,t)=>{const n=We("InputWrapper",Kmt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,size:l,variant:c,__staticSelector:f,inputContainer:d,inputWrapperOrder:h,label:p,error:m,description:g,labelProps:y,descriptionProps:v,errorProps:b,labelElement:w,children:x,withAsterisk:S,id:A,required:C,__stylesApiProps:$,mod:k,...P}=n,L=Bt({name:["InputWrapper",f],props:$||n,classes:sh,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Xmt}),O={size:l,variant:c,__staticSelector:f},B=el(A),q=typeof S=="boolean"?S:C,H=(b==null?void 0:b.id)||`${B}-error`,G=(v==null?void 0:v.id)||`${B}-description`,K=B,J=!!m&&typeof m!="boolean",F=!!g,j=`${J?H:""} ${F?G:""}`,W=j.trim().length>0?j.trim():void 0,M=(y==null?void 0:y.id)||`${B}-label`,V=p&&E.jsx($7,{labelElement:w,id:M,htmlFor:K,required:q,...O,...y,children:p},"label"),Q=F&&E.jsx(k7,{...v,...O,size:(v==null?void 0:v.size)||O.size,id:(v==null?void 0:v.id)||G,children:g},"description"),se=E.jsx(R.Fragment,{children:d(x)},"input"),be=J&&R.createElement(R7,{...b,...O,size:(b==null?void 0:b.size)||O.size,key:"error",id:(b==null?void 0:b.id)||H},m),he=h.map(Ce=>{switch(Ce){case"label":return V;case"input":return se;case"description":return Q;case"error":return be;default:return null}});return E.jsx(Vmt,{value:{getStyles:L,describedBy:W,inputId:K,labelId:M,...Ymt(h,{hasDescription:F,hasError:J})},children:E.jsx(ke,{ref:t,variant:c,size:l,mod:[{error:!!m},k],...L("root"),...P,children:he})})});wre.classes=sh;wre.displayName="@mantine/core/InputWrapper";const Qmt={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Jmt=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Xn(t.size,"input-height"),"--input-fz":Cl(t.size),"--input-radius":t.radius===void 0?void 0:Ki(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?De(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?De(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Xn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),oo=ua((e,t)=>{const n=We("Input",Qmt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,required:u,__staticSelector:l,__stylesApiProps:c,size:f,wrapperProps:d,error:h,disabled:p,leftSection:m,leftSectionProps:g,leftSectionWidth:y,rightSection:v,rightSectionProps:b,rightSectionWidth:w,rightSectionPointerEvents:x,leftSectionPointerEvents:S,variant:A,vars:C,pointer:$,multiline:k,radius:P,id:L,withAria:O,withErrorStyles:B,mod:q,inputSize:H,...G}=n,{styleProps:K,rest:J}=y2(G),F=wC(),j={offsetBottom:F==null?void 0:F.offsetBottom,offsetTop:F==null?void 0:F.offsetTop},W=Bt({name:["Input",l],props:c||n,classes:sh,className:i,style:s,classNames:r,styles:o,unstyled:a,stylesCtx:j,rootSelector:"wrapper",vars:C,varsResolver:Jmt}),M=O?{required:u,disabled:p,"aria-invalid":!!h,"aria-describedby":F==null?void 0:F.describedBy,id:(F==null?void 0:F.inputId)||L}:{};return E.jsxs(ke,{...W("wrapper"),...K,...d,mod:[{error:!!h&&B,pointer:$,disabled:p,multiline:k,"data-with-right-section":!!v,"data-with-left-section":!!m},q],variant:A,size:f,children:[m&&E.jsx("div",{...g,"data-position":"left",...W("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:m}),E.jsx(ke,{component:"input",...J,...M,ref:t,required:u,mod:{disabled:p,error:!!h&&B},variant:A,__size:H,...W("input")}),v&&E.jsx("div",{...b,"data-position":"right",...W("section",{className:b==null?void 0:b.className,style:b==null?void 0:b.style}),children:v})]})});oo.classes=sh;oo.Wrapper=wre;oo.Label=$7;oo.Error=R7;oo.Description=k7;oo.Placeholder=_re;oo.displayName="@mantine/core/Input";function Zmt(e,t,n){const r=We(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:y,id:v,size:b,style:w,inputContainer:x,inputWrapperOrder:S,withAsterisk:A,variant:C,vars:$,mod:k,...P}=r,{styleProps:L,rest:O}=y2(P),B={label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,__stylesApiProps:h||r,errorProps:p,labelProps:m,descriptionProps:g,unstyled:f,styles:l,size:b,style:w,inputContainer:x,inputWrapperOrder:S,withAsterisk:A,variant:C,id:v,mod:k,...y};return{...O,classNames:u,styles:l,unstyled:f,wrapperProps:{...B,...L},inputProps:{required:a,classNames:u,styles:l,unstyled:f,size:b,__staticSelector:d,__stylesApiProps:h||r,error:o,variant:C,id:v}}}const egt={__staticSelector:"InputBase",withAria:!0},oh=ua((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=Zmt("InputBase",egt,e);return E.jsx(oo.Wrapper,{...r,children:E.jsx(oo,{...n,...i,ref:t})})});oh.classes={...oo.classes,...oo.Wrapper.classes};oh.displayName="@mantine/core/InputBase";const tgt={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var x5e={root:"m_8bffd616"};const ngt={},qt=ua((e,t)=>{const n=We("Flex",ngt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,gap:l,rowGap:c,columnGap:f,align:d,justify:h,wrap:p,direction:m,...g}=n,y=Bt({name:"Flex",classes:x5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u}),v=So(),b=w$(),w=SNe({styleProps:{gap:l,rowGap:c,columnGap:f,align:d,justify:h,wrap:p,direction:m},theme:v,data:tgt});return E.jsxs(E.Fragment,{children:[w.hasResponsiveStyles&&E.jsx(g2,{selector:`.${b}`,styles:w.styles,media:w.media}),E.jsx(ke,{ref:t,...y("root",{className:b,style:Qb(w.inlineStyles)}),...g})]})});qt.classes=x5e;qt.displayName="@mantine/core/Flex";function rgt(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function igt({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const i=R.useRef(),[s,o]=R.useState(!1),[a,u]=R.useState(typeof r=="boolean"?r:!1),l=()=>{if(!e||!t)return;const h=e.getBoundingClientRect(),p=t.getBoundingClientRect(),m={top:h.top-p.top,left:h.left-p.left,width:h.width,height:h.height};n.current&&(n.current.style.transform=`translateY(${m.top}px) translateX(${m.left}px)`,n.current.style.width=`${m.width}px`,n.current.style.height=`${m.height}px`)},c=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),l(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},f=R.useRef(),d=R.useRef();return R.useEffect(()=>{if(l(),e)return f.current=new ResizeObserver(c),f.current.observe(e),t&&(d.current=new ResizeObserver(c),d.current.observe(t)),()=>{var h,p;(h=f.current)==null||h.disconnect(),(p=d.current)==null||p.disconnect()}},[t,e]),R.useEffect(()=>{if(t){const h=p=>{rgt(p.target,t)&&(c(),u(!1))};return document.addEventListener("transitionend",h),()=>{document.removeEventListener("transitionend",h)}}},[t]),eht(()=>{vNe()!=="test"&&o(!0)},20,{autoInvoke:!0}),tht(h=>{h.forEach(p=>{p.type==="attributes"&&p.attributeName==="dir"&&c()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:s,hidden:a}}var E5e={root:"m_96b553a6"};const sgt={},ogt=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),xre=ft((e,t)=>{const n=We("FloatingIndicator",sgt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,target:l,parent:c,transitionDuration:f,mod:d,displayAfterTransitionEnd:h,...p}=n,m=Bt({name:"FloatingIndicator",classes:E5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:ogt}),g=R.useRef(null),{initialized:y,hidden:v}=igt({target:l,parent:c,ref:g,displayAfterTransitionEnd:h}),b=To(t,g);return!l||!c?null:E.jsx(ke,{ref:b,mod:[{initialized:y,hidden:v},d],...m("root"),...p})});xre.displayName="@mantine/core/FloatingIndicator";xre.classes=E5e;const[agt,Ere]=du("Accordion component was not found in the tree");function N7({style:e,size:t=16,...n}){return E.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:De(t),height:De(t),display:"block"},...n,children:E.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}N7.displayName="@mantine/core/AccordionChevron";const[ugt,T5e]=du("Accordion.Item component was not found in the tree");var E$={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const lgt={},Tre=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,chevron:a,icon:u,onClick:l,onKeyDown:c,children:f,disabled:d,mod:h,...p}=We("AccordionControl",lgt,e),{value:m}=T5e(),g=Ere(),y=g.isItemActive(m),v=typeof g.order=="number",b=`h${g.order}`,w=E.jsxs(Vf,{...p,...g.getStyles("control",{className:r,classNames:n,style:i,styles:s,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:y,"chevron-position":g.chevronPosition,disabled:d},h],ref:t,onClick:x=>{l==null||l(x),g.onChange(m)},type:"button",disabled:d,"aria-expanded":y,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:zne({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c}),children:[E.jsx(ke,{component:"span",mod:{rotate:!g.disableChevronRotation&&y,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:s}),children:a||g.chevron}),E.jsx("span",{...g.getStyles("label",{classNames:n,styles:s}),children:f}),u&&E.jsx(ke,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:s}),children:u})]});return v?E.jsx(b,{...g.getStyles("itemTitle",{classNames:n,styles:s}),children:w}):w});Tre.displayName="@mantine/core/AccordionControl";Tre.classes=E$;const cgt={},Sre=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,mod:u,...l}=We("AccordionItem",cgt,e),c=Ere();return E.jsx(ugt,{value:{value:a},children:E.jsx(ke,{ref:t,mod:[{active:c.isItemActive(a)},u],...c.getStyles("item",{className:r,classNames:n,styles:s,style:i,variant:c.variant}),...l})})});Sre.displayName="@mantine/core/AccordionItem";Sre.classes=E$;const fgt={},Are=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,...u}=We("AccordionPanel",fgt,e),{value:l}=T5e(),c=Ere();return E.jsx(T7,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:s}),...u,in:c.isItemActive(l),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(l),"aria-labelledby":c.getControlId(l),children:E.jsx("div",{...c.getStyles("content",{classNames:n,styles:s}),children:a})})});Are.displayName="@mantine/core/AccordionPanel";Are.classes=E$;const dgt={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:E.jsx(N7,{})},hgt=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:De(n),"--accordion-radius":r===void 0?void 0:Ki(r)}});function pc(e){const t=We("Accordion",dgt,e),{classNames:n,className:r,style:i,styles:s,unstyled:o,vars:a,children:u,multiple:l,value:c,defaultValue:f,onChange:d,id:h,loop:p,transitionDuration:m,disableChevronRotation:g,chevronPosition:y,chevronSize:v,order:b,chevron:w,variant:x,radius:S,...A}=t,C=el(h),[$,k]=Na({value:c,defaultValue:f,finalValue:l?[]:null,onChange:d}),P=B=>Array.isArray($)?$.includes(B):B===$,L=B=>{const q=Array.isArray($)?$.includes(B)?$.filter(H=>H!==B):[...$,B]:B===$?null:B;k(q)},O=Bt({name:"Accordion",classes:E$,props:t,className:r,style:i,classNames:n,styles:s,unstyled:o,vars:a,varsResolver:hgt});return E.jsx(agt,{value:{isItemActive:P,onChange:L,getControlId:M9(`${C}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:M9(`${C}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:g,chevronPosition:y,order:b,chevron:w,loop:p,getStyles:O,variant:x,unstyled:o},children:E.jsx(ke,{...O("root"),id:C,...A,variant:x,"data-accordion":!0,children:u})})}const pgt=e=>e;pc.extend=pgt;pc.classes=E$;pc.displayName="@mantine/core/Accordion";pc.Item=Sre;pc.Panel=Are;pc.Control=Tre;pc.Chevron=N7;var S5e={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const mgt={},ggt=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:Ki(t),"--alert-bg":n||r?s.background:void 0,"--alert-color":s.color,"--alert-bd":n||r?s.border:void 0}}},ey=ft((e,t)=>{const n=We("Alert",mgt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,radius:l,color:c,title:f,children:d,id:h,icon:p,withCloseButton:m,onClose:g,closeButtonLabel:y,variant:v,autoContrast:b,...w}=n,x=Bt({name:"Alert",classes:S5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:ggt}),S=el(h),A=f&&`${S}-title`||void 0,C=`${S}-body`;return E.jsx(ke,{id:S,...x("root",{variant:v}),variant:v,ref:t,...w,role:"alert","aria-describedby":C,"aria-labelledby":A,children:E.jsxs("div",{...x("wrapper"),children:[p&&E.jsx("div",{...x("icon"),children:p}),E.jsxs("div",{...x("body"),children:[f&&E.jsx("div",{...x("title"),"data-with-close-button":m||void 0,children:E.jsx("span",{id:A,...x("label"),children:f})}),d&&E.jsx("div",{id:C,...x("message"),"data-variant":v,children:d})]}),m&&E.jsx(t_,{...x("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":y,unstyled:a})]})})});ey.classes=S5e;ey.displayName="@mantine/core/Alert";var A5e={root:"m_b6d8b162"};function ygt(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const vgt={inherit:!1},bgt=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:s})=>({root:{"--text-fz":Cl(i),"--text-lh":cNe(i),"--text-gradient":t==="gradient"?EX(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":s?Vi(s,e):void 0}}),Ue=ua((e,t)=>{const n=We("Text",vgt,e),{lineClamp:r,truncate:i,inline:s,inherit:o,gradient:a,span:u,__staticSelector:l,vars:c,className:f,style:d,classNames:h,styles:p,unstyled:m,variant:g,mod:y,size:v,...b}=n,w=Bt({name:["Text",l],props:n,classes:A5e,className:f,style:d,classNames:h,styles:p,unstyled:m,vars:c,varsResolver:bgt});return E.jsx(ke,{...w("root",{focusable:!0}),ref:t,component:u?"span":"p",variant:g,mod:[{"data-truncate":ygt(i),"data-line-clamp":typeof r=="number","data-inline":s,"data-inherit":o},y],size:v,...b})});Ue.classes=A5e;Ue.displayName="@mantine/core/Text";var C5e={root:"m_849cf0da"};const _gt={underline:"hover"},n_=ua((e,t)=>{const{underline:n,className:r,unstyled:i,mod:s,...o}=We("Anchor",_gt,e);return E.jsx(Ue,{component:"a",ref:t,className:_o({[C5e.root]:!i},r),...o,mod:[{underline:n},s],__staticSelector:"Anchor",unstyled:i})});n_.classes=C5e;n_.displayName="@mantine/core/Anchor";const[wgt,xC]=du("AppShell was not found in tree");var r_={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const xgt={},Cre=ft((e,t)=>{const n=We("AppShellAside",xgt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=xC();return h.disabled?null:E.jsx(ke,{component:"aside",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("aside",{className:i,classNames:r,styles:o,style:s}),...d,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});Cre.classes=r_;Cre.displayName="@mantine/core/AppShellAside";const Egt={},Ire=ft((e,t)=>{var p;const n=We("AppShellFooter",Egt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=xC();return h.disabled?null:E.jsx(ke,{component:"footer",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("footer",{className:_o({[JS.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...d,__vars:{"--app-shell-footer-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});Ire.classes=r_;Ire.displayName="@mantine/core/AppShellFooter";const Tgt={},kre=ft((e,t)=>{var p;const n=We("AppShellHeader",Tgt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=xC();return h.disabled?null:E.jsx(ke,{component:"header",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("header",{className:_o({[JS.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...d,__vars:{"--app-shell-header-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});kre.classes=r_;kre.displayName="@mantine/core/AppShellHeader";const Sgt={},Rre=ft((e,t)=>{const n=We("AppShellMain",Sgt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=xC();return E.jsx(ke,{component:"main",ref:t,...l.getStyles("main",{className:i,style:s,classNames:r,styles:o}),...u})});Rre.classes=r_;Rre.displayName="@mantine/core/AppShellMain";function T$(e){return typeof e=="object"?e.base:e}function S$(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function A$(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function Agt({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){var u,l,c;const s=r==null?void 0:r.width,o="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((u=r==null?void 0:r.collapsed)!=null&&u.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),S$(s)){const f=De(T$(s));e["--app-shell-aside-width"]=f,e["--app-shell-aside-offset"]=f}if(A$(s)&&(typeof s.base<"u"&&(e["--app-shell-aside-width"]=De(s.base),e["--app-shell-aside-offset"]=De(s.base)),ns(s).forEach(f=>{f!=="base"&&(t[f]=t[f]||{},t[f]["--app-shell-aside-width"]=De(s[f]),t[f]["--app-shell-aside-offset"]=De(s[f]))})),(l=r==null?void 0:r.collapsed)!=null&&l.desktop){const f=r.breakpoint;t[f]=t[f]||{},t[f]["--app-shell-aside-transform"]=o,t[f]["--app-shell-aside-transform-rtl"]=a,t[f]["--app-shell-aside-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const f=Hne(r.breakpoint,i)-.1;n[f]=n[f]||{},n[f]["--app-shell-aside-width"]="100%",n[f]["--app-shell-aside-offset"]="0px",n[f]["--app-shell-aside-transform"]=o,n[f]["--app-shell-aside-transform-rtl"]=a}}function Cgt({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,i="translateY(var(--app-shell-footer-height))",s=(n==null?void 0:n.offset)??!0;if(S$(r)){const o=De(T$(r));e["--app-shell-footer-height"]=o,s&&(e["--app-shell-footer-offset"]=o)}A$(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=De(r.base),s&&(e["--app-shell-footer-offset"]=De(r.base))),ns(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-footer-height"]=De(r[o]),s&&(t[o]["--app-shell-footer-offset"]=De(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function Igt({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,i="translateY(calc(var(--app-shell-header-height) * -1))",s=(n==null?void 0:n.offset)??!0;if(S$(r)){const o=De(T$(r));e["--app-shell-header-height"]=o,s&&(e["--app-shell-header-offset"]=o)}A$(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=De(r.base),s&&(e["--app-shell-header-offset"]=De(r.base))),ns(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-header-height"]=De(r[o]),s&&(t[o]["--app-shell-header-offset"]=De(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function kgt({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){var u,l,c;const s=r==null?void 0:r.width,o="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((u=r==null?void 0:r.collapsed)!=null&&u.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),S$(s)){const f=De(T$(s));e["--app-shell-navbar-width"]=f,e["--app-shell-navbar-offset"]=f}if(A$(s)&&(typeof s.base<"u"&&(e["--app-shell-navbar-width"]=De(s.base),e["--app-shell-navbar-offset"]=De(s.base)),ns(s).forEach(f=>{f!=="base"&&(t[f]=t[f]||{},t[f]["--app-shell-navbar-width"]=De(s[f]),t[f]["--app-shell-navbar-offset"]=De(s[f]))})),(l=r==null?void 0:r.collapsed)!=null&&l.desktop){const f=r.breakpoint;t[f]=t[f]||{},t[f]["--app-shell-navbar-transform"]=o,t[f]["--app-shell-navbar-transform-rtl"]=a,t[f]["--app-shell-navbar-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const f=Hne(r.breakpoint,i)-.1;n[f]=n[f]||{},n[f]["--app-shell-navbar-width"]="100%",n[f]["--app-shell-navbar-offset"]="0px",n[f]["--app-shell-navbar-transform"]=o,n[f]["--app-shell-navbar-transform-rtl"]=a}}function BH(e){return Number(e)===0?"0px":Lo(e)}function Rgt({padding:e,baseStyles:t,minMediaStyles:n}){S$(e)&&(t["--app-shell-padding"]=BH(T$(e))),A$(e)&&(e.base&&(t["--app-shell-padding"]=BH(e.base)),ns(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=BH(e[r]))}))}function $gt({navbar:e,header:t,footer:n,aside:r,padding:i,theme:s}){const o={},a={},u={};kgt({baseStyles:u,minMediaStyles:o,maxMediaStyles:a,navbar:e,theme:s}),Agt({baseStyles:u,minMediaStyles:o,maxMediaStyles:a,aside:r,theme:s}),Igt({baseStyles:u,minMediaStyles:o,header:t}),Cgt({baseStyles:u,minMediaStyles:o,footer:n}),Rgt({baseStyles:u,minMediaStyles:o,padding:i});const l=Fk(ns(o),s).map(d=>({query:`(min-width: ${L9(d.px)})`,styles:o[d.value]})),c=Fk(ns(a),s).map(d=>({query:`(max-width: ${L9(d.px)})`,styles:a[d.value]})),f=[...l,...c];return{baseStyles:u,media:f}}function Ngt({navbar:e,header:t,aside:n,footer:r,padding:i}){const s=So(),o=Zb(),{media:a,baseStyles:u}=$gt({navbar:e,header:t,footer:r,aside:n,padding:i,theme:s});return E.jsx(g2,{media:a,styles:u,selector:o.cssVariablesSelector})}const Pgt={},$re=ft((e,t)=>{const n=We("AppShellNavbar",Pgt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=xC();return h.disabled?null:E.jsx(ke,{component:"nav",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("navbar",{className:i,classNames:r,styles:o,style:s}),...d,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});$re.classes=r_;$re.displayName="@mantine/core/AppShellNavbar";const Ogt={},Nre=ua((e,t)=>{const n=We("AppShellSection",Ogt,e),{classNames:r,className:i,style:s,styles:o,vars:a,grow:u,mod:l,...c}=n,f=xC();return E.jsx(ke,{ref:t,mod:[{grow:u},l],...f.getStyles("section",{className:i,style:s,classNames:r,styles:o}),...c})});Nre.classes=r_;Nre.displayName="@mantine/core/AppShellSection";function Dgt({transitionDuration:e,disabled:t}){const[n,r]=R.useState(!0),i=R.useRef(),s=R.useRef();return mNe("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>r(!1),200)}),m2(()=>{R.startTransition(()=>{r(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>r(!1),e||0)})},[t,e]),n}const Lgt={withBorder:!0,offsetScrollbars:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Op("app")},Mgt=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Ui=ft((e,t)=>{const n=We("AppShell",Lgt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,navbar:l,withBorder:c,padding:f,transitionDuration:d,transitionTimingFunction:h,header:p,zIndex:m,layout:g,disabled:y,aside:v,footer:b,offsetScrollbars:w,mod:x,...S}=n,A=Bt({name:"AppShell",classes:r_,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Mgt}),C=Dgt({disabled:y,transitionDuration:d});return E.jsxs(wgt,{value:{getStyles:A,withBorder:c,zIndex:m,disabled:y,offsetScrollbars:w},children:[E.jsx(Ngt,{navbar:l,header:p,aside:v,footer:b,padding:f}),E.jsx(ke,{ref:t,...A("root"),mod:[{resizing:C,layout:g,disabled:y},x],...S})]})});Ui.classes=r_;Ui.displayName="@mantine/core/AppShell";Ui.Navbar=$re;Ui.Header=kre;Ui.Main=Rre;Ui.Aside=Cre;Ui.Footer=Ire;Ui.Section=Nre;function I5e(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>I5e(t))}:e}function k5e(e){return e?e.map(t=>I5e(t)):[]}function Pre(e){return e.reduce((t,n)=>"group"in n?{...t,...Pre(n.items)}:(t[n.value]=n,t),{})}var Hc={dropdown:"m_88b62a41",options:"m_b2821a6e",option:"m_92253aa5",search:"m_985517d8",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const Fgt={error:null},Bgt=(e,{size:t})=>({chevron:{"--combobox-chevron-size":Xn(t,"combobox-chevron-size")}}),Ore=ft((e,t)=>{const n=We("ComboboxChevron",Fgt,e),{size:r,error:i,style:s,className:o,classNames:a,styles:u,unstyled:l,vars:c,mod:f,...d}=n,h=Bt({name:"ComboboxChevron",classes:Hc,props:n,style:s,className:o,classNames:a,styles:u,unstyled:l,vars:c,varsResolver:Bgt,rootSelector:"chevron"});return E.jsx(ke,{component:"svg",...d,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},f],ref:t,children:E.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});Ore.classes=Hc;Ore.displayName="@mantine/core/ComboboxChevron";const[jgt,ah]=du("Combobox component was not found in tree"),R5e=R.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},s)=>E.jsx(t_,{ref:s,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{r(),n==null||n(o)}}));R5e.displayName="@mantine/core/ComboboxClearButton";const Ugt={},Dre=ft((e,t)=>{const{classNames:n,styles:r,className:i,style:s,hidden:o,...a}=We("ComboboxDropdown",Ugt,e),u=ah();return E.jsx(Lc.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...u.getStyles("dropdown",{className:i,style:s,classNames:n,styles:r})})});Dre.classes=Hc;Dre.displayName="@mantine/core/ComboboxDropdown";const zgt={refProp:"ref"},$5e=ft((e,t)=>{const{children:n,refProp:r}=We("ComboboxDropdownTarget",zgt,e);if(ah(),!Jb(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return E.jsx(Lc.Target,{ref:t,refProp:r,children:n})});$5e.displayName="@mantine/core/ComboboxDropdownTarget";const Vgt={},Lre=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=We("ComboboxEmpty",Vgt,e),u=ah();return E.jsx(ke,{ref:t,...u.getStyles("empty",{className:r,classNames:n,styles:s,style:i}),...a})});Lre.classes=Hc;Lre.displayName="@mantine/core/ComboboxEmpty";function Mre({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:s}){const o=ah(),[a,u]=R.useState(null),l=f=>{if(e==null||e(f),!o.readOnly&&t){if(f.nativeEvent.isComposing)return;if(f.nativeEvent.code==="ArrowDown"&&(f.preventDefault(),o.store.dropdownOpened?u(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),u(o.store.selectActiveOption()))),f.nativeEvent.code==="ArrowUp"&&(f.preventDefault(),o.store.dropdownOpened?u(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),u(o.store.selectActiveOption()))),f.nativeEvent.code==="Enter"||f.nativeEvent.code==="NumpadEnter"){if(f.nativeEvent.keyCode===229)return;const d=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&d!==-1?(f.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(f.preventDefault(),o.store.openDropdown("keyboard"))}f.nativeEvent.code==="Escape"&&o.store.closeDropdown("keyboard"),f.nativeEvent.code==="Space"&&i==="button"&&(f.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.listId,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:l}}const Hgt={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},N5e=ft((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:u,...l}=We("ComboboxEventsTarget",Hgt,e);if(!Jb(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=ah(),f=Mre({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:u});return R.cloneElement(n,{...f,...l,[r]:To(t,c.store.targetRef,n==null?void 0:n.ref)})});N5e.displayName="@mantine/core/ComboboxEventsTarget";const qgt={},Fre=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=We("ComboboxFooter",qgt,e),u=ah();return E.jsx(ke,{ref:t,...u.getStyles("footer",{className:r,classNames:n,style:i,styles:s}),...a})});Fre.classes=Hc;Fre.displayName="@mantine/core/ComboboxFooter";const Wgt={},Bre=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,label:u,...l}=We("ComboboxGroup",Wgt,e),c=ah();return E.jsxs(ke,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:s}),...l,children:[u&&E.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:s}),children:u}),a]})});Bre.classes=Hc;Bre.displayName="@mantine/core/ComboboxGroup";const Ggt={},jre=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=We("ComboboxHeader",Ggt,e),u=ah();return E.jsx(ke,{ref:t,...u.getStyles("header",{className:r,classNames:n,style:i,styles:s}),...a})});jre.classes=Hc;jre.displayName="@mantine/core/ComboboxHeader";function P5e({value:e,valuesDivider:t=",",...n}){return E.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}P5e.displayName="@mantine/core/ComboboxHiddenInput";const Ygt={},Ure=ft((e,t)=>{const n=We("ComboboxOption",Ygt,e),{classNames:r,className:i,style:s,styles:o,vars:a,onClick:u,id:l,active:c,onMouseDown:f,onMouseOver:d,disabled:h,selected:p,mod:m,...g}=n,y=ah(),v=R.useId(),b=l||v;return E.jsx(ke,{...y.getStyles("option",{className:i,classNames:r,styles:o,style:s}),...g,ref:t,id:b,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":p},m],role:"option",onClick:w=>{var x;h?w.preventDefault():((x=y.onOptionSubmit)==null||x.call(y,n.value,n),u==null||u(w))},onMouseDown:w=>{w.preventDefault(),f==null||f(w)},onMouseOver:w=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),d==null||d(w)}})});Ure.classes=Hc;Ure.displayName="@mantine/core/ComboboxOption";const Kgt={},zre=ft((e,t)=>{const n=We("ComboboxOptions",Kgt,e),{classNames:r,className:i,style:s,styles:o,id:a,onMouseDown:u,labelledBy:l,...c}=n,f=ah(),d=el(a);return R.useEffect(()=>{f.store.setListId(d)},[d]),E.jsx(ke,{ref:t,...f.getStyles("options",{className:i,style:s,classNames:r,styles:o}),...c,id:d,role:"listbox","aria-labelledby":l,onMouseDown:h=>{h.preventDefault(),u==null||u(h)}})});zre.classes=Hc;zre.displayName="@mantine/core/ComboboxOptions";const Xgt={withAriaAttributes:!0,withKeyboardNavigation:!0},Vre=ft((e,t)=>{const n=We("ComboboxSearch",Xgt,e),{classNames:r,styles:i,unstyled:s,vars:o,withAriaAttributes:a,onKeyDown:u,withKeyboardNavigation:l,size:c,...f}=n,d=ah(),h=d.getStyles("search"),p=Mre({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:l,withExpandedAttribute:!1,onKeyDown:u,autoComplete:"off"});return E.jsx(oo,{ref:To(t,d.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||d.size,...p,...f,__staticSelector:"Combobox"})});Vre.classes=Hc;Vre.displayName="@mantine/core/ComboboxSearch";const Qgt={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},O5e=ft((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:u,...l}=We("ComboboxTarget",Qgt,e);if(!Jb(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=ah(),f=Mre({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:u}),d=R.cloneElement(n,{...f,...l});return E.jsx(Lc.Target,{ref:To(t,c.store.targetRef),children:d})});O5e.displayName="@mantine/core/ComboboxTarget";function Jgt(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function Zgt(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function eyt(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function Hre({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:s=!0,scrollBehavior:o="instant"}={}){const[a,u]=Na({value:t,defaultValue:e,finalValue:!1,onChange:n}),l=R.useRef(null),c=R.useRef(-1),f=R.useRef(null),d=R.useRef(null),h=R.useRef(-1),p=R.useRef(-1),m=R.useRef(-1),g=R.useCallback((H="unknown")=>{a||(u(!0),i==null||i(H))},[u,i,a]),y=R.useCallback((H="unknown")=>{a&&(u(!1),r==null||r(H))},[u,r,a]),v=R.useCallback((H="unknown")=>{a?y(H):g(H)},[y,g,a]),b=R.useCallback(()=>{const H=document.querySelector(`#${l.current} [data-combobox-selected]`);H==null||H.removeAttribute("data-combobox-selected"),H==null||H.removeAttribute("aria-selected")},[]),w=R.useCallback(H=>{const G=document.getElementById(l.current),K=G==null?void 0:G.querySelectorAll("[data-combobox-option]");if(!K)return null;const J=H>=K.length?0:H<0?K.length-1:H;return c.current=J,K!=null&&K[J]&&!K[J].hasAttribute("data-combobox-disabled")?(b(),K[J].setAttribute("data-combobox-selected","true"),K[J].setAttribute("aria-selected","true"),K[J].scrollIntoView({block:"nearest",behavior:o}),K[J].id):null},[o,b]),x=R.useCallback(()=>{const H=document.querySelector(`#${l.current} [data-combobox-active]`);if(H){const G=document.querySelectorAll(`#${l.current} [data-combobox-option]`),K=Array.from(G).findIndex(J=>J===H);return w(K)}return w(0)},[w]),S=R.useCallback(()=>w(Zgt(c.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),s)),[w,s]),A=R.useCallback(()=>w(Jgt(c.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),s)),[w,s]),C=R.useCallback(()=>w(eyt(document.querySelectorAll(`#${l.current} [data-combobox-option]`))),[w]),$=R.useCallback((H="selected",G)=>{m.current=window.setTimeout(()=>{var F;const K=document.querySelectorAll(`#${l.current} [data-combobox-option]`),J=Array.from(K).findIndex(j=>j.hasAttribute(`data-combobox-${H}`));c.current=J,G!=null&&G.scrollIntoView&&((F=K[J])==null||F.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),k=R.useCallback(()=>{c.current=-1,b()},[b]),P=R.useCallback(()=>{const H=document.querySelectorAll(`#${l.current} [data-combobox-option]`),G=H==null?void 0:H[c.current];G==null||G.click()},[]),L=R.useCallback(H=>{l.current=H},[]),O=R.useCallback(()=>{h.current=window.setTimeout(()=>f.current.focus(),0)},[]),B=R.useCallback(()=>{p.current=window.setTimeout(()=>d.current.focus(),0)},[]),q=R.useCallback(()=>c.current,[]);return R.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(p.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:y,toggleDropdown:v,selectedOptionIndex:c.current,getSelectedOptionIndex:q,selectOption:w,selectFirstOption:C,selectActiveOption:x,selectNextOption:S,selectPreviousOption:A,resetSelectedOption:k,updateSelectedOptionIndex:$,listId:l.current,setListId:L,clickSelectedOption:P,searchRef:f,focusSearchInput:O,targetRef:d,focusTarget:B}}const tyt={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},nyt=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Cl(t),"--combobox-option-padding":Xn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:De(n),"--combobox-option-fz":Cl(t),"--combobox-option-padding":Xn(t,"combobox-option-padding")}});function Ur(e){const t=We("Combobox",tyt,e),{classNames:n,styles:r,unstyled:i,children:s,store:o,vars:a,onOptionSubmit:u,onClose:l,size:c,dropdownPadding:f,resetSelectionOnOptionHover:d,__staticSelector:h,readOnly:p,...m}=t,g=Hre(),y=o||g,v=Bt({name:h||"Combobox",classes:Hc,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:nyt}),b=()=>{l==null||l(),y.closeDropdown()};return E.jsx(jgt,{value:{getStyles:v,store:y,onOptionSubmit:u,size:c,resetSelectionOnOptionHover:d,readOnly:p},children:E.jsx(Lc,{opened:y.dropdownOpened,...m,onClose:b,withRoles:!1,unstyled:i,children:s})})}const ryt=e=>e;Ur.extend=ryt;Ur.classes=Hc;Ur.displayName="@mantine/core/Combobox";Ur.Target=O5e;Ur.Dropdown=Dre;Ur.Options=zre;Ur.Option=Ure;Ur.Search=Vre;Ur.Empty=Lre;Ur.Chevron=Ore;Ur.Footer=Fre;Ur.Header=jre;Ur.EventsTarget=N5e;Ur.DropdownTarget=$5e;Ur.Group=Bre;Ur.ClearButton=R5e;Ur.HiddenInput=P5e;var D5e={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const L5e=D5e,P7=R.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:s,children:o,label:a,description:u,id:l,disabled:c,error:f,size:d,labelPosition:h="left",bodyElement:p="div",labelElement:m="label",variant:g,style:y,vars:v,mod:b,...w},x)=>{const S=Bt({name:e,props:t,className:n,style:y,classes:D5e,classNames:r,styles:i,unstyled:s});return E.jsx(ke,{...S("root"),ref:x,__vars:{"--label-fz":Cl(d),"--label-lh":Xn(d,"label-lh")},mod:[{"label-position":h},b],variant:g,size:d,...w,children:E.jsxs(ke,{component:p,htmlFor:p==="label"?l:void 0,...S("body"),children:[o,E.jsxs("div",{...S("labelWrapper"),"data-disabled":c||void 0,children:[a&&E.jsx(ke,{component:m,htmlFor:m==="label"?l:void 0,...S("label"),"data-disabled":c||void 0,children:a}),u&&E.jsx(oo.Description,{size:d,__inheritStyles:!1,...S("description"),children:u}),f&&typeof f!="boolean"&&E.jsx(oo.Error,{size:d,__inheritStyles:!1,...S("error"),children:f})]})]})})});P7.displayName="@mantine/core/InlineInput";const M5e=R.createContext(null),iyt=M5e.Provider,F5e=()=>R.useContext(M5e),[syt,oyt]=mC();var B5e={card:"m_26775b0a"};const ayt={withBorder:!0},uyt=(e,{radius:t})=>({card:{"--card-radius":Ki(t)}}),qre=ft((e,t)=>{const n=We("CheckboxCard",ayt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,checked:l,mod:c,withBorder:f,value:d,onClick:h,...p}=n,m=Bt({name:"CheckboxCard",classes:B5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:uyt,rootSelector:"card"}),g=F5e(),y=typeof l=="boolean"?l:(g==null?void 0:g.value.includes(d||""))||!1;return E.jsx(syt,{value:{checked:y},children:E.jsx(Vf,{ref:t,mod:[{"with-border":f,checked:y},c],...m("card"),...p,role:"checkbox","aria-checked":y,onClick:v=>{h==null||h(v),g==null||g.onChange(d||"")}})})});qre.displayName="@mantine/core/CheckboxCard";qre.classes=B5e;function Wre({children:e,role:t}){const n=wC();return n?E.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):E.jsx(E.Fragment,{children:e})}const lyt={},Gre=ft((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:u,...l}=We("CheckboxGroup",lyt,e),[c,f]=Na({value:n,defaultValue:r,finalValue:[],onChange:i}),d=h=>{const p=typeof h=="string"?h:h.currentTarget.value;!u&&f(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return E.jsx(iyt,{value:{value:c,onChange:d,size:s},children:E.jsx(oo.Wrapper,{size:s,ref:t,...o,...l,labelElement:"div",__staticSelector:"CheckboxGroup",children:E.jsx(Wre,{role:"group",children:a})})})});Gre.classes=oo.Wrapper.classes;Gre.displayName="@mantine/core/CheckboxGroup";function j5e({size:e,style:t,...n}){const r=e!==void 0?{width:De(e),height:De(e),...t}:t;return E.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:E.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function U5e({indeterminate:e,...t}){return e?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:E.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):E.jsx(j5e,{...t})}var z5e={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const cyt={icon:U5e},fyt=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=km({color:n||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":Xn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Ki(t),"--checkbox-color":s==="outline"?u:Vi(n,e),"--checkbox-icon-color":i?Vi(i,e):gC(o,e)?e_({color:n,theme:e,autoContrast:o}):void 0}}},Yre=ft((e,t)=>{const n=We("CheckboxIndicator",cyt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,icon:l,indeterminate:c,radius:f,color:d,iconColor:h,autoContrast:p,checked:m,mod:g,variant:y,disabled:v,...b}=n,w=l,x=Bt({name:"CheckboxIndicator",classes:z5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:fyt,rootSelector:"indicator"}),S=oyt(),A=typeof m=="boolean"||typeof c=="boolean"?m||c:(S==null?void 0:S.checked)||!1;return E.jsx(ke,{ref:t,...x("indicator",{variant:y}),variant:y,mod:[{checked:A,disabled:v},g],...b,children:E.jsx(w,{indeterminate:c,...x("icon")})})});Yre.displayName="@mantine/core/CheckboxIndicator";Yre.classes=z5e;var V5e={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const dyt={labelPosition:"right",icon:U5e},hyt=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=km({color:n||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":Xn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Ki(t),"--checkbox-color":s==="outline"?u:Vi(n,e),"--checkbox-icon-color":i?Vi(i,e):gC(o,e)?e_({color:n,theme:e,autoContrast:o}):void 0}}},Ac=ft((e,t)=>{const n=We("Checkbox",dyt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,color:l,label:c,id:f,size:d,radius:h,wrapperProps:p,children:m,checked:g,labelPosition:y,description:v,error:b,disabled:w,variant:x,indeterminate:S,icon:A,rootRef:C,iconColor:$,onChange:k,autoContrast:P,mod:L,...O}=n,B=F5e(),q=d||(B==null?void 0:B.size),H=A,G=Bt({name:"Checkbox",props:n,classes:V5e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:hyt}),{styleProps:K,rest:J}=y2(O),F=el(f),j=B?{checked:B.value.includes(J.value),onChange:W=>{B.onChange(W),k==null||k(W)}}:{};return E.jsx(P7,{...G("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:F,size:q,labelPosition:y,label:c,description:v,error:b,disabled:w,classNames:r,styles:o,unstyled:a,"data-checked":j.checked||g||void 0,variant:x,ref:C,mod:L,...K,...p,children:E.jsxs(ke,{...G("inner"),mod:{"data-label-position":y},children:[E.jsx(ke,{component:"input",id:F,ref:t,checked:g,disabled:w,mod:{error:!!b,indeterminate:S},...G("input",{focusable:!0,variant:x}),onChange:k,...J,...j,type:"checkbox"}),E.jsx(H,{indeterminate:S,...G("icon")})]})})});Ac.classes={...V5e,...L5e};Ac.displayName="@mantine/core/Checkbox";Ac.Group=Gre;Ac.Indicator=Yre;Ac.Card=qre;function nA(e){return"group"in e}function H5e({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let s=0;s<e.length;s+=1){const o=e[s];if(i.length===n)return i;nA(o)&&i.push({group:o.group,items:H5e({options:o.items,search:t,limit:n-i.length})}),nA(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function pyt(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function q5e(e,t=new Set){if(Array.isArray(e))for(const n of e)if(nA(n))q5e(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function myt(e,t){return Array.isArray(e)?e.includes(t):e===t}function W5e({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:s}){if(!nA(e)){const a=myt(n,e.value),u=t&&a&&E.jsx(j5e,{className:Hc.optionsDropdownCheckIcon}),l=E.jsxs(E.Fragment,{children:[r==="left"&&u,E.jsx("span",{children:e.label}),r==="right"&&u]});return E.jsx(Ur.Option,{value:e.value,disabled:e.disabled,className:_o({[Hc.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:e,checked:a}):l})}const o=e.items.map(a=>E.jsx(W5e,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:s},a.value));return E.jsx(Ur.Group,{label:e.group,children:o})}function G5e({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:s,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:u=!0,withCheckIcon:l=!1,value:c,checkIconPosition:f,nothingFoundMessage:d,unstyled:h,labelId:p,renderOption:m,scrollAreaProps:g,"aria-label":y}){q5e(e);const b=typeof i=="string"?(r||H5e)({options:e,search:u?i:"",limit:s??1/0}):e,w=pyt(b),x=b.map(S=>E.jsx(W5e,{data:S,withCheckIcon:l,value:c,checkIconPosition:f,unstyled:h,renderOption:m},nA(S)?S.group:S.value));return E.jsx(Ur.Dropdown,{hidden:t||n&&w,children:E.jsxs(Ur.Options,{labelledBy:p,"aria-label":y,children:[a?E.jsx(yy.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:x}):x,w&&d&&E.jsx(Ur.Empty,{children:d})]})})}var Y5e={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const gyt={},yyt=(e,{radius:t,color:n,gradient:r,variant:i,size:s,autoContrast:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{root:{"--badge-height":Xn(s,"badge-height"),"--badge-padding-x":Xn(s,"badge-padding-x"),"--badge-fz":Xn(s,"badge-fz"),"--badge-radius":t===void 0?void 0:Ki(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?Vi(n,e):void 0}}},qv=ua((e,t)=>{const n=We("Badge",gyt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,radius:l,color:c,gradient:f,leftSection:d,rightSection:h,children:p,variant:m,fullWidth:g,autoContrast:y,circle:v,mod:b,...w}=n,x=Bt({name:"Badge",props:n,classes:Y5e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:yyt});return E.jsxs(ke,{variant:m,mod:[{block:g,circle:v},b],...x("root",{variant:m}),ref:t,...w,children:[d&&E.jsx("span",{...x("section"),"data-position":"left",children:d}),E.jsx("span",{...x("label"),children:p}),h&&E.jsx("span",{...x("section"),"data-position":"right",children:h})]})});qv.classes=Y5e;qv.displayName="@mantine/core/Badge";var O7={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const h1e={orientation:"horizontal"},vyt=(e,{borderWidth:t})=>({group:{"--button-border-width":De(t)}}),Kre=ft((e,t)=>{const n=We("ButtonGroup",h1e,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:u,vars:l,borderWidth:c,variant:f,mod:d,...h}=We("ButtonGroup",h1e,e),p=Bt({name:"ButtonGroup",props:n,classes:O7,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:vyt,rootSelector:"group"});return E.jsx(ke,{...p("group"),ref:t,variant:f,mod:[{"data-orientation":u},d],role:"group",...h})});Kre.classes=O7;Kre.displayName="@mantine/core/ButtonGroup";const byt={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${De(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},_yt={},wyt=(e,{radius:t,color:n,gradient:r,variant:i,size:s,justify:o,autoContrast:a})=>{const u=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":Xn(s,"button-height"),"--button-padding-x":Xn(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Cl(s.replace("compact-","")):Cl(s),"--button-radius":t===void 0?void 0:Ki(t),"--button-bg":n||i?u.background:void 0,"--button-hover":n||i?u.hover:void 0,"--button-color":u.color,"--button-bd":n||i?u.border:void 0,"--button-hover-color":n||i?u.hoverColor:void 0}}},on=ua((e,t)=>{const n=We("Button",_yt,e),{style:r,vars:i,className:s,color:o,disabled:a,children:u,leftSection:l,rightSection:c,fullWidth:f,variant:d,radius:h,loading:p,loaderProps:m,gradient:g,classNames:y,styles:v,unstyled:b,"data-disabled":w,autoContrast:x,mod:S,...A}=n,C=Bt({name:"Button",props:n,classes:O7,className:s,style:r,classNames:y,styles:v,unstyled:b,vars:i,varsResolver:wyt}),$=!!l,k=!!c;return E.jsxs(Vf,{ref:t,...C("root",{active:!a&&!p&&!w}),unstyled:b,variant:d,disabled:a||p,mod:[{disabled:a||w,loading:p,block:f,"with-left-section":$,"with-right-section":k},S],...A,children:[E.jsx(Hy,{mounted:!!p,transition:byt,duration:150,children:P=>E.jsx(ke,{component:"span",...C("loader",{style:P}),"aria-hidden":!0,children:E.jsx(nf,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),E.jsxs("span",{...C("inner"),children:[l&&E.jsx(ke,{component:"span",...C("section"),mod:{position:"left"},children:l}),E.jsx(ke,{component:"span",mod:{loading:p},...C("label"),children:u}),c&&E.jsx(ke,{component:"span",...C("section"),mod:{position:"right"},children:c})]})]})});on.classes=O7;on.displayName="@mantine/core/Button";on.Group=Kre;const[xyt,Eyt]=du("Card component was not found in tree");var Xre={root:"m_e615b15f",section:"m_599a2148"};const Tyt={},D7=ua((e,t)=>{const n=We("CardSection",Tyt,e),{classNames:r,className:i,style:s,styles:o,vars:a,withBorder:u,inheritPadding:l,mod:c,...f}=n,d=Eyt();return E.jsx(ke,{ref:t,mod:[{"with-border":u,"inherit-padding":l},c],...d.getStyles("section",{className:i,style:s,styles:o,classNames:r}),...f})});D7.classes=Xre;D7.displayName="@mantine/core/CardSection";const Syt={},Ayt=(e,{padding:t})=>({root:{"--card-padding":Lo(t)}}),EC=ua((e,t)=>{const n=We("Card",Syt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,children:l,padding:c,...f}=n,d=Bt({name:"Card",props:n,classes:Xre,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Ayt}),h=R.Children.toArray(l),p=h.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===D7?R.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):m);return E.jsx(xyt,{value:{getStyles:d},children:E.jsx(yC,{ref:t,unstyled:a,...d("root"),...f,children:p})})});EC.classes=Xre;EC.displayName="@mantine/core/Card";EC.Section=D7;var K5e={root:"m_4451eb3a"};const Cyt={},oa=ua((e,t)=>{const n=We("Center",Cyt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,inline:l,mod:c,...f}=n,d=Bt({name:"Center",props:n,classes:K5e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u});return E.jsx(ke,{ref:t,mod:[{inline:l},c],...d("root"),...f})});oa.classes=K5e;oa.displayName="@mantine/core/Center";var X5e={root:"m_b183c0a2"};const Iyt={},kyt=(e,{color:t})=>({root:{"--code-bg":t?Vi(t,e):void 0}}),C6=ft((e,t)=>{const n=We("Code",Iyt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,color:l,block:c,variant:f,mod:d,...h}=n,p=Bt({name:"Code",props:n,classes:X5e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:kyt});return E.jsx(ke,{component:c?"pre":"code",variant:f,ref:t,mod:[{block:c},d],...p("root"),...h,dir:"ltr"})});C6.classes=X5e;C6.displayName="@mantine/core/Code";var Q5e={root:"m_7485cace"};const Ryt={},$yt=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:Xn(t,"container-size")}}),$l=ft((e,t)=>{const n=We("Container",Ryt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,fluid:l,mod:c,...f}=n,d=Bt({name:"Container",classes:Q5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:$yt});return E.jsx(ke,{ref:t,mod:[{fluid:l},c],...d("root"),...f})});$l.classes=Q5e;$l.displayName="@mantine/core/Container";var J5e={root:"m_3eebeb36",label:"m_9e365f20"};const Nyt={orientation:"horizontal"},Pyt=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?Vi(t,e):void 0,"--divider-border-style":n,"--divider-size":Xn(r,"divider-size")}}),TC=ft((e,t)=>{const n=We("Divider",Nyt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,color:l,orientation:c,label:f,labelPosition:d,mod:h,...p}=n,m=Bt({name:"Divider",classes:J5e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Pyt});return E.jsx(ke,{ref:t,mod:[{orientation:c,"with-label":!!f},h],...m("root"),...p,role:"separator",children:f&&E.jsx(ke,{component:"span",mod:{position:d},...m("label"),children:f})})});TC.classes=J5e;TC.displayName="@mantine/core/Divider";function Oyt({open:e,close:t,openDelay:n,closeDelay:r}){const i=R.useRef(-1),s=R.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0||r===void 0?t():s.current=window.setTimeout(t,r)};return R.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}const[Dyt,Z5e]=du("Grid component was not found in tree"),PX=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,p1e=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":PX(e,t),m1e=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},g1e=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function Lyt({span:e,order:t,offset:n,selector:r}){var d;const i=So(),s=Z5e(),a=ip(e)===void 0?12:ip(e),u=Qb({"--col-order":(d=ip(t))==null?void 0:d.toString(),"--col-flex-grow":m1e(a,s.grow),"--col-flex-basis":PX(a,s.columns),"--col-width":a==="content"?"auto":void 0,"--col-max-width":p1e(a,s.columns,s.grow),"--col-offset":g1e(ip(n),s.columns)}),l=ns(i.breakpoints).reduce((h,p)=>{var m;return h[p]||(h[p]={}),typeof t=="object"&&t[p]!==void 0&&(h[p]["--col-order"]=(m=t[p])==null?void 0:m.toString()),typeof e=="object"&&e[p]!==void 0&&(h[p]["--col-flex-grow"]=m1e(e[p],s.grow),h[p]["--col-flex-basis"]=PX(e[p],s.columns),h[p]["--col-width"]=e[p]==="content"?"auto":void 0,h[p]["--col-max-width"]=p1e(e[p],s.columns,s.grow)),typeof n=="object"&&n[p]!==void 0&&(h[p]["--col-offset"]=g1e(n[p],s.columns)),h},{}),f=Fk(ns(l),i).filter(h=>ns(l[h.value]).length>0).map(h=>({query:`(min-width: ${i.breakpoints[h.value]})`,styles:l[h.value]}));return E.jsx(g2,{styles:u,media:f,selector:r})}var Qre={root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const Myt={span:12},Jre=ft((e,t)=>{const n=We("GridCol",Myt,e),{classNames:r,className:i,style:s,styles:o,vars:a,span:u,order:l,offset:c,...f}=n,d=Z5e(),h=w$();return E.jsxs(E.Fragment,{children:[E.jsx(Lyt,{selector:`.${h}`,span:u,order:l,offset:c}),E.jsx(ke,{ref:t,...d.getStyles("col",{className:_o(i,h),style:s,classNames:r,styles:o}),...f})]})});Jre.classes=Qre;Jre.displayName="@mantine/core/GridCol";function Fyt({gutter:e,selector:t}){const n=So(),r=Qb({"--grid-gutter":Lo(ip(e))}),i=ns(n.breakpoints).reduce((a,u)=>(a[u]||(a[u]={}),typeof e=="object"&&e[u]!==void 0&&(a[u]["--grid-gutter"]=Lo(e[u])),a),{}),o=Fk(ns(i),n).filter(a=>ns(i[a.value]).length>0).map(a=>({query:`(min-width: ${n.breakpoints[a.value]})`,styles:i[a.value]}));return E.jsx(g2,{styles:r,media:o,selector:t})}const Byt={gutter:"md",grow:!1,columns:12},jyt=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),Rf=ft((e,t)=>{const n=We("Grid",Byt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,grow:l,gutter:c,columns:f,align:d,justify:h,children:p,...m}=n,g=Bt({name:"Grid",classes:Qre,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:jyt}),y=w$();return E.jsxs(Dyt,{value:{getStyles:g,grow:l,columns:f},children:[E.jsx(Fyt,{selector:`.${y}`,...n}),E.jsx(ke,{ref:t,...g("root",{className:y}),...m,children:E.jsx("div",{...g("inner"),children:p})})]})});Rf.classes=Qre;Rf.displayName="@mantine/core/Grid";Rf.Col=Jre;var ePe={root:"m_9e117634"};const Uyt={},zyt=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:Ki(t),"--image-object-fit":n}}),i_=ua((e,t)=>{const n=We("Image",Uyt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,onError:l,src:c,radius:f,fit:d,fallbackSrc:h,mod:p,...m}=n,[g,y]=R.useState(!c);R.useEffect(()=>y(!c),[c]);const v=Bt({name:"Image",classes:ePe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:zyt});return g&&h?E.jsx(ke,{component:"img",ref:t,src:h,...v("root"),onError:l,mod:["fallback",p],...m}):E.jsx(ke,{component:"img",ref:t,...v("root"),src:c,onError:b=>{l==null||l(b),y(!0)},mod:p,...m})});i_.classes=ePe;i_.displayName="@mantine/core/Image";function H9(){return H9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H9.apply(null,arguments)}function Zre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Vyt=R.useLayoutEffect,Hyt=function(t){var n=R.useRef(t);return Vyt(function(){n.current=t}),n},y1e=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},qyt=function(t,n){var r=R.useRef();return R.useCallback(function(i){t.current=i,r.current&&y1e(r.current,null),r.current=n,n&&y1e(n,i)},[n])},v1e={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Wyt=function(t){Object.keys(v1e).forEach(function(n){t.style.setProperty(n,v1e[n],"important")})},b1e=Wyt,cl=null,_1e=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Gyt(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),cl||(cl=document.createElement("textarea"),cl.setAttribute("tabindex","-1"),cl.setAttribute("aria-hidden","true"),b1e(cl)),cl.parentNode===null&&document.body.appendChild(cl);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;cl.style[h]=o[h]}),b1e(cl),cl.value=t;var u=_1e(cl,e);cl.value=t,u=_1e(cl,e),cl.value="x";var l=cl.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var w1e=function(){},Yyt=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},Kyt=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Xyt=!!document.documentElement.currentStyle,Qyt=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Yyt(Kyt,n),i=r.boxSizing;if(i==="")return null;Xyt&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},Jyt=Qyt;function tPe(e,t,n){var r=Hyt(n);R.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var Zyt=function(t){tPe(window,"resize",t)},e1t=function(t){tPe(document.fonts,"loadingdone",t)},t1t=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],n1t=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?w1e:o,u=t.onHeightChange,l=u===void 0?w1e:u,c=Zre(t,t1t),f=c.value!==void 0,d=R.useRef(null),h=qyt(d,n),p=R.useRef(0),m=R.useRef(),g=function(){var b=d.current,w=r&&m.current?m.current:Jyt(b);if(w){m.current=w;var x=Gyt(w,b.value||b.placeholder||"x",s,i),S=x[0],A=x[1];p.current!==S&&(p.current=S,b.style.setProperty("height",S+"px","important"),l(S,{rowHeight:A}))}},y=function(b){f||g(),a(b)};return R.useLayoutEffect(g),Zyt(g),e1t(g),R.createElement("textarea",H9({},c,{onChange:y,ref:h}))},r1t=R.forwardRef(n1t);const i1t={},eie=ft((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:s,resize:o,...a}=We("Textarea",i1t,e),u=n&&vNe()!=="test",l=u?{maxRows:r,minRows:i}:{};return E.jsx(oh,{component:u?r1t:"textarea",ref:t,...a,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...l})});eie.classes=oh.classes;eie.displayName="@mantine/core/Textarea";const[s1t,o1t]=du("List component was not found in tree");var tie={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const a1t={},nie=ft((e,t)=>{const n=We("ListItem",a1t,e),{classNames:r,className:i,style:s,styles:o,vars:a,icon:u,children:l,mod:c,...f}=n,d=o1t(),h=u||d.icon,p={classNames:r,styles:o};return E.jsx(ke,{...d.getStyles("item",{...p,className:i,style:s}),component:"li",mod:[{"with-icon":!!h,centered:d.center},c],ref:t,...f,children:E.jsxs("div",{...d.getStyles("itemWrapper",p),children:[h&&E.jsx("span",{...d.getStyles("itemIcon",p),children:h}),E.jsx("span",{...d.getStyles("itemLabel",p),children:l})]})})});nie.classes=tie;nie.displayName="@mantine/core/ListItem";const u1t={type:"unordered"},l1t=(e,{size:t,spacing:n})=>({root:{"--list-fz":Cl(t),"--list-lh":cNe(t),"--list-spacing":Lo(n)}}),yo=ft((e,t)=>{const n=We("List",u1t,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,children:l,type:c,withPadding:f,icon:d,spacing:h,center:p,listStyleType:m,mod:g,...y}=n,v=Bt({name:"List",classes:tie,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:l1t});return E.jsx(s1t,{value:{center:p,icon:d,getStyles:v},children:E.jsx(ke,{...v("root",{style:{listStyleType:m}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":f},g],ref:t,...y,children:l})})});yo.classes=tie;yo.displayName="@mantine/core/List";yo.Item=nie;var nPe={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const x1e={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Op("overlay")},c1t=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),qf=ft((e,t)=>{const n=We("LoadingOverlay",x1e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,transitionProps:l,loaderProps:c,overlayProps:f,visible:d,zIndex:h,...p}=n,m=So(),g=Bt({name:"LoadingOverlay",classes:nPe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:c1t}),y={...x1e.overlayProps,...f};return E.jsx(Hy,{transition:"fade",...l,mounted:!!d,children:v=>E.jsxs(ke,{...g("root",{style:v}),ref:t,...p,children:[E.jsx(nf,{...g("loader"),unstyled:a,...c}),E.jsx(Uk,{...y,...g("overlay"),darkHidden:!0,unstyled:a,color:(f==null?void 0:f.color)||m.white}),E.jsx(Uk,{...y,...g("overlay"),lightHidden:!0,unstyled:a,color:(f==null?void 0:f.color)||m.colors.dark[5]})]})})});qf.classes=nPe;qf.displayName="@mantine/core/LoadingOverlay";const[f1t,C$]=du("Menu component was not found in the tree");var SC={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const d1t={},rie=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=We("MenuDivider",d1t,e),u=C$();return E.jsx(ke,{ref:t,...u.getStyles("divider",{className:r,style:i,styles:s,classNames:n}),...a})});rie.classes=SC;rie.displayName="@mantine/core/MenuDivider";const h1t={},iie=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,onMouseEnter:a,onMouseLeave:u,children:l,...c}=We("MenuDropdown",h1t,e),f=R.useRef(null),d=C$(),h=g=>{var y,v;(g.key==="ArrowUp"||g.key==="ArrowDown")&&(g.preventDefault(),(v=(y=f.current)==null?void 0:y.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||v.focus())},p=jg(a,()=>(d.trigger==="hover"||d.trigger==="click-hover")&&d.openDropdown()),m=jg(u,()=>(d.trigger==="hover"||d.trigger==="click-hover")&&d.closeDropdown());return E.jsxs(Lc.Dropdown,{...c,onMouseEnter:p,onMouseLeave:m,role:"menu","aria-orientation":"vertical",ref:To(t,f),...d.getStyles("dropdown",{className:r,style:i,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:h,children:[E.jsx("div",{tabIndex:-1,"data-autofocus":!0,"aria-hidden":!0,style:{outline:0}}),l]})});iie.classes=SC;iie.displayName="@mantine/core/MenuDropdown";const p1t={},sie=ua((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,color:a,closeMenuOnClick:u,leftSection:l,rightSection:c,children:f,disabled:d,...h}=We("MenuItem",p1t,e),p=C$(),m=So(),{dir:g}=zy(),y=R.useRef(),v=p.getItemIndex(y.current),b=h,w=jg(b.onMouseLeave,()=>p.setHovered(-1)),x=jg(b.onMouseEnter,()=>p.setHovered(p.getItemIndex(y.current))),S=jg(b.onClick,()=>{typeof u=="boolean"?u&&p.closeDropdownImmediately():p.closeOnItemClick&&p.closeDropdownImmediately()}),A=jg(b.onFocus,()=>p.setHovered(p.getItemIndex(y.current))),C=a?m.variantColorResolver({color:a,theme:m,variant:"light"}):void 0,$=a?km({color:a,theme:m}):null;return E.jsxs(Vf,{...h,unstyled:p.unstyled,tabIndex:p.menuItemTabIndex,onFocus:A,...p.getStyles("item",{className:r,style:i,styles:s,classNames:n}),ref:To(y,t),role:"menuitem",disabled:d,"data-menu-item":!0,"data-disabled":d||void 0,"data-hovered":p.hovered===v?!0:void 0,onMouseEnter:x,onMouseLeave:w,onClick:S,onKeyDown:zne({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:p.loop,dir:g,orientation:"vertical",onKeyDown:b.onKeydown}),__vars:{"--menu-item-color":$!=null&&$.isThemeColor&&($==null?void 0:$.shade)===void 0?`var(--mantine-color-${$.color}-6)`:C==null?void 0:C.color,"--menu-item-hover":C==null?void 0:C.hover},children:[l&&E.jsx("div",{...p.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:l}),f&&E.jsx("div",{...p.getStyles("itemLabel",{styles:s,classNames:n}),children:f}),c&&E.jsx("div",{...p.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:c})]})});sie.classes=SC;sie.displayName="@mantine/core/MenuItem";const m1t={},oie=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=We("MenuLabel",m1t,e),u=C$();return E.jsx(ke,{ref:t,...u.getStyles("label",{className:r,style:i,styles:s,classNames:n}),...a})});oie.classes=SC;oie.displayName="@mantine/core/MenuLabel";const g1t={refProp:"ref"},rPe=R.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=We("MenuTarget",g1t,e);if(!Jb(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=C$(),o=jg(n.props.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),a=jg(n.props.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),u=jg(n.props.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return E.jsx(Lc.Target,{refProp:r,popupType:"menu",ref:t,...i,children:R.cloneElement(n,{onClick:o,onMouseEnter:a,onMouseLeave:u,"data-expanded":s.opened?!0:void 0})})});rPe.displayName="@mantine/core/MenuTarget";const y1t={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function yl(e){const t=We("Menu",y1t,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,trapFocus:a,onChange:u,closeOnItemClick:l,loop:c,closeOnEscape:f,trigger:d,openDelay:h,closeDelay:p,classNames:m,styles:g,unstyled:y,variant:v,vars:b,menuItemTabIndex:w,keepMounted:x,...S}=t,A=Bt({name:"Menu",classes:SC,props:t,classNames:m,styles:g,unstyled:y}),[C,{setHovered:$,resetHovered:k}]=Ndt(),[P,L]=Na({value:s,defaultValue:o,finalValue:!1,onChange:u}),[O,B]=R.useState(!1),q=()=>{L(!1),B(!1),P&&(i==null||i())},H=()=>{L(!0),!P&&(r==null||r())},G=()=>{P?q():H()},{openDropdown:K,closeDropdown:J}=Oyt({open:H,close:q,closeDelay:p,openDelay:h}),F=M=>$dt("[data-menu-item]","[data-menu-dropdown]",M),{resolvedClassNames:j,resolvedStyles:W}=_$({classNames:m,styles:g,props:t});return im(()=>{k()},[P]),E.jsx(f1t,{value:{getStyles:A,opened:P,toggleDropdown:G,getItemIndex:F,hovered:C,setHovered:$,openedViaClick:O,setOpenedViaClick:B,closeOnItemClick:l,closeDropdown:d==="click"?q:J,openDropdown:d==="click"?H:K,closeDropdownImmediately:q,loop:c,trigger:d,unstyled:y,menuItemTabIndex:w},children:E.jsx(Lc,{...S,opened:P,onChange:G,defaultOpened:o,trapFocus:x?!1:a,closeOnEscape:f,__staticSelector:"Menu",classNames:j,styles:W,unstyled:y,variant:v,keepMounted:x,children:n})})}yl.extend=e=>e;yl.classes=SC;yl.displayName="@mantine/core/Menu";yl.Item=sie;yl.Label=oie;yl.Dropdown=iie;yl.Target=rPe;yl.Divider=rie;const[v1t,AC]=du("Modal component was not found in tree");var Wy={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const b1t={},L7=ft((e,t)=>{const n=We("ModalBody",b1t,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=AC();return E.jsx(y5e,{ref:t,...l.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...u})});L7.classes=Wy;L7.displayName="@mantine/core/ModalBody";const _1t={},M7=ft((e,t)=>{const n=We("ModalCloseButton",_1t,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=AC();return E.jsx(v5e,{ref:t,...l.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...u})});M7.classes=Wy;M7.displayName="@mantine/core/ModalCloseButton";const w1t={},F7=ft((e,t)=>{const n=We("ModalContent",w1t,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:u,...l}=n,c=AC(),f=c.scrollAreaComponent||zmt;return E.jsx(Fmt,{...c.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:c.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),"data-full-screen":c.fullScreen||void 0,"data-modal-content":!0,ref:t,...l,children:E.jsx(f,{style:{maxHeight:c.fullScreen?"100dvh":`calc(100dvh - (${De(c.yOffset)} * 2))`},children:u})})});F7.classes=Wy;F7.displayName="@mantine/core/ModalContent";const x1t={},B7=ft((e,t)=>{const n=We("ModalHeader",x1t,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=AC();return E.jsx(b5e,{ref:t,...l.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...u})});B7.classes=Wy;B7.displayName="@mantine/core/ModalHeader";const E1t={},j7=ft((e,t)=>{const n=We("ModalOverlay",E1t,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=AC();return E.jsx(_5e,{ref:t,...l.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...u})});j7.classes=Wy;j7.displayName="@mantine/core/ModalOverlay";const T1t={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Op("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},S1t=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:Ki(t),"--modal-size":Xn(n,"modal-size"),"--modal-y-offset":De(r),"--modal-x-offset":De(i)}}),U7=ft((e,t)=>{const n=We("ModalRoot",T1t,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,yOffset:l,scrollAreaComponent:c,radius:f,fullScreen:d,centered:h,xOffset:p,__staticSelector:m,...g}=n,y=Bt({name:m,classes:Wy,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:S1t});return E.jsx(v1t,{value:{yOffset:l,scrollAreaComponent:c,getStyles:y,fullScreen:d},children:E.jsx(Lmt,{ref:t,...y("root"),"data-full-screen":d||void 0,"data-centered":h||void 0,unstyled:a,...g})})});U7.classes=Wy;U7.displayName="@mantine/core/ModalRoot";const A1t={},z7=ft((e,t)=>{const n=We("ModalTitle",A1t,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=AC();return E.jsx(w5e,{ref:t,...l.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...u})});z7.classes=Wy;z7.displayName="@mantine/core/ModalTitle";const C1t={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Op("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},io=ft((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,radius:u,...l}=We("Modal",C1t,e),c=!!n||s;return E.jsxs(U7,{ref:t,radius:u,...l,children:[r&&E.jsx(j7,{...i}),E.jsxs(F7,{radius:u,children:[c&&E.jsxs(B7,{children:[n&&E.jsx(z7,{children:n}),s&&E.jsx(M7,{...o})]}),E.jsx(L7,{children:a})]})]})});io.classes=Wy;io.displayName="@mantine/core/Modal";io.Root=U7;io.Overlay=j7;io.Content=F7;io.Body=L7;io.Header=B7;io.Title=z7;io.CloseButton=M7;const[I1t,aie]=mC(),[k1t,R1t]=mC();var V7={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const $1t={},N1t=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?Xn(t):Xn(n,"pg-gap")}}),uie=ft((e,t)=>{const n=We("PillGroup",$1t,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,size:l,disabled:c,...f}=n,d=aie(),h=(d==null?void 0:d.size)||l||void 0,p=Bt({name:"PillGroup",classes:V7,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:N1t,stylesCtx:{size:h},rootSelector:"group"});return E.jsx(k1t,{value:{size:h,disabled:c},children:E.jsx(ke,{ref:t,size:h,...p("group"),...f})})});uie.classes=V7;uie.displayName="@mantine/core/PillGroup";const P1t={variant:"default"},O1t=(e,{radius:t},{size:n})=>({root:{"--pill-fz":Xn(n,"pill-fz"),"--pill-height":Xn(n,"pill-height"),"--pill-radius":t===void 0?void 0:Ki(t)}}),zk=ft((e,t)=>{const n=We("Pill",P1t,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,variant:l,children:c,withRemoveButton:f,onRemove:d,removeButtonProps:h,radius:p,size:m,disabled:g,mod:y,...v}=n,b=R1t(),w=aie(),x=m||(b==null?void 0:b.size)||void 0,S=(w==null?void 0:w.variant)==="filled"?"contrast":l||"default",A=Bt({name:"Pill",classes:V7,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:O1t,stylesCtx:{size:x}});return E.jsxs(ke,{component:"span",ref:t,variant:S,size:x,...A("root",{variant:S}),mod:[{"with-remove":f&&!g,disabled:g||(b==null?void 0:b.disabled)},y],...v,children:[E.jsx("span",{...A("label"),children:c}),f&&E.jsx(t_,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...A("remove",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onMouseDown:C=>{var $;C.preventDefault(),C.stopPropagation(),($=h==null?void 0:h.onMouseDown)==null||$.call(h,C)},onClick:C=>{var $;C.stopPropagation(),d==null||d(),($=h==null?void 0:h.onClick)==null||$.call(h,C)}})]})});zk.classes=V7;zk.displayName="@mantine/core/Pill";zk.Group=uie;var iPe={field:"m_45c4369d"};const D1t={type:"visible"},lie=ft((e,t)=>{const n=We("PillsInputField",D1t,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,type:l,disabled:c,id:f,pointer:d,mod:h,...p}=n,m=aie(),g=wC(),y=Bt({name:"PillsInputField",classes:iPe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"field"}),v=c||(m==null?void 0:m.disabled);return E.jsx(ke,{component:"input",ref:To(t,m==null?void 0:m.fieldRef),"data-type":l,disabled:v,mod:[{disabled:v,pointer:d},h],...y("field"),...p,id:(g==null?void 0:g.inputId)||f,"aria-invalid":m==null?void 0:m.hasError,"aria-describedby":g==null?void 0:g.describedBy,type:"text",onMouseDown:b=>!d&&b.stopPropagation()})});lie.classes=iPe;lie.displayName="@mantine/core/PillsInputField";const L1t={},q9=ft((e,t)=>{const n=We("PillsInput",L1t,e),{children:r,onMouseDown:i,onClick:s,size:o,disabled:a,__staticSelector:u,error:l,variant:c,...f}=n,d=R.useRef();return E.jsx(I1t,{value:{fieldRef:d,size:o,disabled:a,hasError:!!l,variant:c},children:E.jsx(oh,{size:o,error:l,variant:c,component:"div",ref:t,onMouseDown:h=>{var p;h.preventDefault(),i==null||i(h),(p=d.current)==null||p.focus()},onClick:h=>{var p;h.preventDefault(),s==null||s(h),(p=d.current)==null||p.focus()},...f,multiline:!0,disabled:a,__staticSelector:u||"PillsInput",withAria:!1,children:r})})});q9.displayName="@mantine/core/PillsInput";q9.Field=lie;function M1t({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,s)=>(nA(s)?i.push({group:s.group,items:s.items.filter(o=>n.indexOf(o.value.toLowerCase().trim())===-1)}):n.indexOf(s.value.toLowerCase().trim())===-1&&i.push(s),i),[])}const F1t={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},cie=ft((e,t)=>{const n=We("MultiSelect",F1t,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,size:l,value:c,defaultValue:f,onChange:d,onKeyDown:h,variant:p,data:m,dropdownOpened:g,defaultDropdownOpened:y,onDropdownOpen:v,onDropdownClose:b,selectFirstOptionOnChange:w,onOptionSubmit:x,comboboxProps:S,filter:A,limit:C,withScrollArea:$,maxDropdownHeight:k,searchValue:P,defaultSearchValue:L,onSearchChange:O,readOnly:B,disabled:q,onFocus:H,onBlur:G,onPaste:K,radius:J,rightSection:F,rightSectionWidth:j,rightSectionPointerEvents:W,rightSectionProps:M,leftSection:V,leftSectionWidth:Q,leftSectionPointerEvents:se,leftSectionProps:be,inputContainer:he,inputWrapperOrder:Ce,withAsterisk:Pe,labelProps:rt,descriptionProps:Re,errorProps:Tt,wrapperProps:Ze,description:It,label:mt,error:Se,maxValues:Fe,searchable:st,nothingFoundMessage:yt,withCheckIcon:$t,checkIconPosition:Je,hidePickedOptions:xe,withErrorStyles:kt,name:Rt,form:Ee,id:Oe,clearable:ot,clearButtonProps:_t,hiddenInputProps:jt,placeholder:qn,hiddenInputValuesDivider:yr,required:$r,mod:Ci,renderOption:Cn,onRemove:Wn,onClear:vr,scrollAreaProps:wr,...da}=n,hs=el(Oe),Ss=k5e(m),qs=Pre(Ss),Xr=Hre({opened:g,defaultOpened:y,onDropdownOpen:v,onDropdownClose:()=>{b==null||b(),Xr.resetSelectedOption()}}),{styleProps:As,rest:{type:lf,autoComplete:ha,...rl}}=y2(da),[qr,Li]=Na({value:c,defaultValue:f,finalValue:[],onChange:d}),[wi,lo]=Na({value:P,defaultValue:L,finalValue:"",onChange:O}),di=Bt({name:"MultiSelect",classes:{},props:n,classNames:r,styles:o,unstyled:a}),{resolvedClassNames:Mi,resolvedStyles:me}=_$({props:n,styles:o,classNames:r}),ue=wt=>{h==null||h(wt),wt.key===" "&&!st&&(wt.preventDefault(),Xr.toggleDropdown()),wt.key==="Backspace"&&wi.length===0&&qr.length>0&&(Wn==null||Wn(qr[qr.length-1]),Li(qr.slice(0,qr.length-1)))},ge=qr.map((wt,Ut)=>{var pn,rr;return E.jsx(zk,{withRemoveButton:!B&&!((pn=qs[wt])!=null&&pn.disabled),onRemove:()=>{Li(qr.filter(dr=>wt!==dr)),Wn==null||Wn(wt)},unstyled:a,disabled:q,...di("pill"),children:((rr=qs[wt])==null?void 0:rr.label)||wt},`${wt}-${Ut}`)});R.useEffect(()=>{w&&Xr.selectFirstOption()},[w,qr]);const Me=ot&&qr.length>0&&!q&&!B&&E.jsx(Ur.ClearButton,{size:l,..._t,onClear:()=>{vr==null||vr(),Li([]),lo("")}}),Le=M1t({data:Ss,value:qr});return E.jsxs(E.Fragment,{children:[E.jsxs(Ur,{store:Xr,classNames:Mi,styles:me,unstyled:a,size:l,readOnly:B,__staticSelector:"MultiSelect",onOptionSubmit:wt=>{x==null||x(wt),lo(""),Xr.updateSelectedOptionIndex("selected"),qr.includes(qs[wt].value)?(Li(qr.filter(Ut=>Ut!==qs[wt].value)),Wn==null||Wn(qs[wt].value)):qr.length<Fe&&Li([...qr,qs[wt].value])},...S,children:[E.jsx(Ur.DropdownTarget,{children:E.jsx(q9,{...As,__staticSelector:"MultiSelect",classNames:Mi,styles:me,unstyled:a,size:l,className:i,style:s,variant:p,disabled:q,radius:J,rightSection:F||Me||E.jsx(Ur.Chevron,{size:l,error:Se,unstyled:a}),rightSectionPointerEvents:W||(Me?"all":"none"),rightSectionWidth:j,rightSectionProps:M,leftSection:V,leftSectionWidth:Q,leftSectionPointerEvents:se,leftSectionProps:be,inputContainer:he,inputWrapperOrder:Ce,withAsterisk:Pe,labelProps:rt,descriptionProps:Re,errorProps:Tt,wrapperProps:Ze,description:It,label:mt,error:Se,multiline:!0,withErrorStyles:kt,__stylesApiProps:{...n,rightSectionPointerEvents:W||(Me?"all":"none"),multiline:!0},pointer:!st,onClick:()=>st?Xr.openDropdown():Xr.toggleDropdown(),"data-expanded":Xr.dropdownOpened||void 0,id:hs,required:$r,mod:Ci,children:E.jsxs(zk.Group,{disabled:q,unstyled:a,...di("pillsList"),children:[ge,E.jsx(Ur.EventsTarget,{autoComplete:ha,children:E.jsx(q9.Field,{...rl,ref:t,id:hs,placeholder:qn,type:!st&&!qn?"hidden":"visible",...di("inputField"),unstyled:a,onFocus:wt=>{H==null||H(wt),st&&Xr.openDropdown()},onBlur:wt=>{G==null||G(wt),Xr.closeDropdown(),lo("")},onKeyDown:ue,value:wi,onChange:wt=>{lo(wt.currentTarget.value),st&&Xr.openDropdown(),w&&Xr.selectFirstOption()},disabled:q,readOnly:B||!st,pointer:!st})})]})})}),E.jsx(G5e,{data:xe?Le:Ss,hidden:B||q,filter:A,search:wi,limit:C,hiddenWhenEmpty:!st||!yt||xe&&Le.length===0&&wi.trim().length===0,withScrollArea:$,maxDropdownHeight:k,filterOptions:st,value:qr,checkIconPosition:Je,withCheckIcon:$t,nothingFoundMessage:yt,unstyled:a,labelId:mt?`${hs}-label`:void 0,"aria-label":mt?void 0:da["aria-label"],renderOption:Cn,scrollAreaProps:wr})]}),E.jsx(Ur.HiddenInput,{name:Rt,valuesDivider:yr,value:qr,form:Ee,disabled:q,...jt})]})});cie.classes={...oh.classes,...Ur.classes};cie.displayName="@mantine/core/MultiSelect";var sPe={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const B1t={},j1t=(e,{variant:t,color:n,childrenOffset:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":n||t?s.background:void 0,"--nl-hover":n||t?s.hover:void 0,"--nl-color":n||t?s.color:void 0},children:{"--nl-offset":Lo(r)}}},H7=ua((e,t)=>{const n=We("NavLink",B1t,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,opened:l,defaultOpened:c,onChange:f,children:d,onClick:h,active:p,disabled:m,leftSection:g,rightSection:y,label:v,description:b,disableRightSectionRotation:w,noWrap:x,childrenOffset:S,onKeyDown:A,autoContrast:C,mod:$,...k}=n,P=Bt({name:"NavLink",props:n,classes:sPe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:j1t}),[L,O]=Na({value:l,defaultValue:c,finalValue:!1,onChange:f}),B=!!d,q=H=>{h==null||h(H),B&&(H.preventDefault(),O(!L))};return E.jsxs(E.Fragment,{children:[E.jsxs(Vf,{...P("root"),component:"a",ref:t,onClick:q,onKeyDown:H=>{A==null||A(H),H.nativeEvent.code==="Space"&&B&&(H.preventDefault(),O(!L))},unstyled:a,mod:[{disabled:m,active:p,expanded:L},$],...k,children:[g&&E.jsx(ke,{component:"span",...P("section"),mod:{position:"left"},children:g}),E.jsxs(ke,{...P("body"),mod:{"no-wrap":x},children:[E.jsx(ke,{component:"span",...P("label"),children:v}),E.jsx(ke,{component:"span",mod:{active:p},...P("description"),children:b})]}),(B||y)&&E.jsx(ke,{...P("section"),component:"span",mod:{rotate:L&&!w,position:"right"},children:B?y||E.jsx(N7,{...P("chevron")}):y})]}),E.jsx(T7,{in:L,...P("collapse"),children:E.jsx("div",{...P("children"),children:d})})]})});H7.classes=sPe;H7.displayName="@mantine/core/NavLink";var oPe={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const U1t={withCloseButton:!0},z1t=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:Ki(t),"--notification-color":n?Vi(n,e):void 0}}),fie=ft((e,t)=>{const n=We("Notification",U1t,e),{className:r,color:i,radius:s,loading:o,withCloseButton:a,withBorder:u,title:l,icon:c,children:f,onClose:d,closeButtonProps:h,classNames:p,style:m,styles:g,unstyled:y,variant:v,vars:b,mod:w,...x}=n,S=Bt({name:"Notification",classes:oPe,props:n,className:r,style:m,classNames:p,styles:g,unstyled:y,vars:b,varsResolver:z1t});return E.jsxs(ke,{...S("root"),mod:[{"data-with-icon":!!c||o,"data-with-border":u},w],ref:t,variant:v,...x,role:"alert",children:[c&&!o&&E.jsx("div",{...S("icon"),children:c}),o&&E.jsx(nf,{size:28,color:i,...S("loader")}),E.jsxs("div",{...S("body"),children:[l&&E.jsx("div",{...S("title"),children:l}),E.jsx(ke,{...S("description"),mod:{"data-with-title":!!l},children:f})]}),a&&E.jsx(t_,{iconSize:16,color:"gray",...h,unstyled:y,onClick:d,...S("closeButton")})]})});fie.classes=oPe;fie.displayName="@mantine/core/Notification";function aPe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Vk;(function(e){e.event="event",e.props="prop"})(Vk||(Vk={}));function mv(){}function V1t(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(s,o){return s===t[o]})||(t=r,n=e.apply(void 0,r)),n}}function Hk(e){return!!(e||"").match(/\d/)}function fS(e){return e==null}function H1t(e){return typeof e=="number"&&isNaN(e)}function uPe(e){return fS(e)||H1t(e)||typeof e=="number"&&!isFinite(e)}function lPe(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function q1t(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function W1t(e,t,n){var r=q1t(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function G1t(e){var t=R.useRef(e);t.current=e;var n=R.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function die(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),s=i[0],o=i[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:n,addNegation:r}}function Y1t(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function cPe(e,t,n){for(var r="",i=n?"0":"",s=0;s<=t-1;s++)r+=e[s]||i;return r}function E1e(e,t){return Array(t+1).join(e)}function fPe(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],s=r[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var o=1+s,a=i.length;return o<0?i="0."+E1e("0",Math.abs(o))+i:o>=a?i=i+E1e("0",o-a):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function T1e(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=die(e),s=i.beforeDecimal,o=i.afterDecimal,a=i.hasNegation,u=parseFloat("0."+(o||"0")),l=o.length<=t?"0."+o:u.toFixed(t),c=l.split("."),f=s;s&&Number(c[0])&&(f=s.split("").reverse().reduce(function(m,g,y){return m.length>y?(Number(m[0])+Number(g)).toString()+m.substring(1,m.length):g+m},c[0]));var d=cPe(c[1]||"",t,n),h=a?"-":"",p=r?".":"";return""+h+f+p+d}function Cw(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var dPe=V1t(function(e,t){for(var n=0,r=0,i=e.length,s=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[s-1-r]&&s-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:s-r}}}),K1t=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function X1t(e,t,n){return Math.min(Math.max(e,t),n)}function jH(e){return Math.max(e.selectionStart,e.selectionEnd)}function Q1t(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function J1t(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function Z1t(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function evt(e,t,n,r,i,s,o){o===void 0&&(o=Z1t);var a=i.findIndex(function(w){return w}),u=e.slice(0,a);!t&&!n.startsWith(u)&&(t=u,n=u+n,r=r+u.length);for(var l=n.length,c=e.length,f={},d=new Array(l),h=0;h<l;h++){d[h]=-1;for(var p=0,m=c;p<m;p++){var g=o({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:p});if(g&&f[p]!==!0){d[h]=p,f[p]=!0;break}}}for(var y=r;y<l&&(d[y]===-1||!s(n[y]));)y++;var v=y===l||d[y]===-1?c:d[y];for(y=r-1;y>0&&d[y]===-1;)y--;var b=y===-1||d[y]===-1?0:d[y]+1;return b>v?v:r-b<v-r?b:v}function S1e(e,t,n,r){var i=e.length;if(t=X1t(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function tvt(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(Hk(e[n])||Hk(e[n-1]));return t}function hPe(e,t,n,r,i,s){s===void 0&&(s=mv);var o=G1t(function(p,m){var g,y;return uPe(p)?(y="",g=""):typeof p=="number"||m?(y=typeof p=="number"?fPe(p):p,g=r(y)):(y=i(p,void 0),g=r(y)),{formattedValue:g,numAsString:y}}),a=R.useState(function(){return o(fS(e)?t:e,n)}),u=a[0],l=a[1],c=function(p,m){p.formattedValue!==u.formattedValue&&l({formattedValue:p.formattedValue,numAsString:p.value}),s(p,m)},f=e,d=n;fS(e)&&(f=u.numAsString,d=!0);var h=o(f,d);return R.useMemo(function(){l(h)},[h.formattedValue]),[u,c]}function nvt(e){return e.replace(/[^0-9]/g,"")}function rvt(e){return e}function ivt(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,s=e.getInputRef,o=e.format;o===void 0&&(o=rvt);var a=e.removeFormatting;a===void 0&&(a=nvt);var u=e.defaultValue,l=e.valueIsNumericString,c=e.onValueChange,f=e.isAllowed,d=e.onChange;d===void 0&&(d=mv);var h=e.onKeyDown;h===void 0&&(h=mv);var p=e.onMouseUp;p===void 0&&(p=mv);var m=e.onFocus;m===void 0&&(m=mv);var g=e.onBlur;g===void 0&&(g=mv);var y=e.value,v=e.getCaretBoundary;v===void 0&&(v=tvt);var b=e.isValidInputCharacter;b===void 0&&(b=Hk);var w=e.isCharacterSame,x=aPe(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),S=hPe(y,u,!!l,o,a,c),A=S[0],C=A.formattedValue,$=A.numAsString,k=S[1],P=R.useRef(),L=R.useRef({formattedValue:C,numAsString:$}),O=function(Se,Fe){L.current={formattedValue:Se.formattedValue,numAsString:Se.value},k(Se,Fe)},B=R.useState(!1),q=B[0],H=B[1],G=R.useRef(null),K=R.useRef({setCaretTimeout:null,focusTimeout:null});R.useEffect(function(){return H(!0),function(){clearTimeout(K.current.setCaretTimeout),clearTimeout(K.current.focusTimeout)}},[]);var J=o,F=function(Se,Fe){var st=parseFloat(Fe);return{formattedValue:Se,value:Fe,floatValue:isNaN(st)?void 0:st}},j=function(Se,Fe,st){Se.selectionStart===0&&Se.selectionEnd===Se.value.length||(Cw(Se,Fe),K.current.setCaretTimeout=setTimeout(function(){Se.value===st&&Se.selectionStart!==Fe&&Cw(Se,Fe)},0))},W=function(Se,Fe,st){return S1e(Se,Fe,v(Se),st)},M=function(Se,Fe,st){var yt=v(Fe),$t=evt(Fe,C,Se,st,yt,b,w);return $t=S1e(Fe,$t,yt),$t},V=function(Se){var Fe=Se.formattedValue;Fe===void 0&&(Fe="");var st=Se.input,yt=Se.source,$t=Se.event,Je=Se.numAsString,xe;if(st){var kt=Se.inputValue||st.value,Rt=jH(st);st.value=Fe,xe=M(kt,Fe,Rt),xe!==void 0&&j(st,xe,Fe)}Fe!==C&&O(F(Fe,Je),{event:$t,source:yt})};R.useEffect(function(){var Se=L.current,Fe=Se.formattedValue,st=Se.numAsString;(C!==Fe||$!==st)&&O(F(C,$),{event:void 0,source:Vk.props})},[C,$]);var Q=G.current?jH(G.current):void 0,se=typeof window<"u"?R.useLayoutEffect:R.useEffect;se(function(){var Se=G.current;if(C!==L.current.formattedValue&&Se){var Fe=M(L.current.formattedValue,C,Q);Se.value=C,j(Se,Fe,C)}},[C]);var be=function(Se,Fe,st){var yt=Fe.target,$t=P.current?K1t(P.current,yt.selectionEnd):dPe(C,Se),Je=Object.assign(Object.assign({},$t),{lastValue:C}),xe=a(Se,Je),kt=J(xe);if(xe=a(kt,void 0),f&&!f(F(kt,xe))){var Rt=Fe.target,Ee=jH(Rt),Oe=M(Se,C,Ee);return Rt.value=C,j(Rt,Oe,C),!1}return V({formattedValue:kt,numAsString:xe,inputValue:Se,event:Fe,source:st,input:Fe.target}),!0},he=function(Se,Fe){Fe===void 0&&(Fe=0);var st=Se.selectionStart,yt=Se.selectionEnd;P.current={selectionStart:st,selectionEnd:yt+Fe}},Ce=function(Se){var Fe=Se.target,st=Fe.value,yt=be(st,Se,Vk.event);yt&&d(Se),P.current=void 0},Pe=function(Se){var Fe=Se.target,st=Se.key,yt=Fe.selectionStart,$t=Fe.selectionEnd,Je=Fe.value;Je===void 0&&(Je="");var xe;st==="ArrowLeft"||st==="Backspace"?xe=Math.max(yt-1,0):st==="ArrowRight"?xe=Math.min(yt+1,Je.length):st==="Delete"&&(xe=yt);var kt=0;st==="Delete"&&yt===$t&&(kt=1);var Rt=st==="ArrowLeft"||st==="ArrowRight";if(xe===void 0||yt!==$t&&!Rt){h(Se),he(Fe,kt);return}var Ee=xe;if(Rt){var Oe=st==="ArrowLeft"?"left":"right";Ee=W(Je,xe,Oe),Ee!==xe&&Se.preventDefault()}else st==="Delete"&&!b(Je[xe])?Ee=W(Je,xe,"right"):st==="Backspace"&&!b(Je[xe])&&(Ee=W(Je,xe,"left"));Ee!==xe&&j(Fe,Ee,Je),h(Se),he(Fe,kt)},rt=function(Se){var Fe=Se.target,st=function(){var yt=Fe.selectionStart,$t=Fe.selectionEnd,Je=Fe.value;if(Je===void 0&&(Je=""),yt===$t){var xe=W(Je,yt);xe!==yt&&j(Fe,xe,Je)}};st(),requestAnimationFrame(function(){st()}),p(Se),he(Fe)},Re=function(Se){Se.persist&&Se.persist();var Fe=Se.target,st=Se.currentTarget;G.current=Fe,K.current.focusTimeout=setTimeout(function(){var yt=Fe.selectionStart,$t=Fe.selectionEnd,Je=Fe.value;Je===void 0&&(Je="");var xe=W(Je,yt);xe!==yt&&!(yt===0&&$t===Je.length)&&j(Fe,xe,Je),m(Object.assign(Object.assign({},Se),{currentTarget:st}))},0)},Tt=function(Se){G.current=null,clearTimeout(K.current.focusTimeout),clearTimeout(K.current.setCaretTimeout),g(Se)},Ze=q&&Q1t()?"numeric":void 0,It=Object.assign({inputMode:Ze},x,{type:t,value:C,onChange:Ce,onKeyDown:Pe,onMouseUp:rt,onFocus:Re,onBlur:Tt});if(n==="text")return i?ui.createElement(ui.Fragment,null,i(C,x)||null):ui.createElement("span",Object.assign({},x,{ref:s}),C);if(r){var mt=r;return ui.createElement(mt,Object.assign({},It,{ref:s}))}return ui.createElement("input",Object.assign({},It,{ref:s}))}function A1e(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var s=t.suffix;s===void 0&&(s="");var o=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var u=q7(t),l=u.thousandSeparator,c=u.decimalSeparator,f=n!==0&&e.indexOf(".")!==-1||n&&r,d=die(e,o),h=d.beforeDecimal,p=d.afterDecimal,m=d.addNegation;return n!==void 0&&(p=cPe(p,n,!!r)),l&&(h=W1t(h,l,a)),i&&(h=i+h),s&&(p=p+s),m&&(h="-"+h),e=h+(f&&c||"")+p,e}function q7(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function svt(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),s=r.test(e);return e=e.replace(/-/g,""),i&&!s&&t&&(e="-"+e),e}function ovt(e,t){return new RegExp("(^-)|[0-9]|"+lPe(e),"g")}function avt(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function uvt(e,t,n){var r;t===void 0&&(t=J1t(e));var i=n.allowNegative,s=n.prefix;s===void 0&&(s="");var o=n.suffix;o===void 0&&(o="");var a=n.decimalScale,u=t.from,l=t.to,c=l.start,f=l.end,d=q7(n),h=d.allowedDecimalSeparators,p=d.decimalSeparator,m=e[f]===p;if(Hk(e)&&(e===s||e===o)&&t.lastValue==="")return e;if(f-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":p;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var y=function(G,K,J){var F=!1,j=!1;s.startsWith("-")?F=!1:G.startsWith("--")?(F=!1,j=!0):o.startsWith("-")&&G.length===o.length?F=!1:G[0]==="-"&&(F=!0);var W=F?1:0;return j&&(W=2),W&&(G=G.substring(W),K-=W,J-=W),{value:G,start:K,end:J,hasNegation:F}},v=y(e,c,f),b=v.hasNegation;r=v,e=r.value,c=r.start,f=r.end;var w=y(t.lastValue,u.start,u.end),x=w.start,S=w.end,A=w.value,C=e.substring(c,f);e.length&&A.length&&(x>A.length-o.length||S<s.length)&&!(C&&o.startsWith(C))&&(e=A);var $=0;e.startsWith(s)?$+=s.length:c<s.length&&($=c),e=e.substring($),f-=$;var k=e.length,P=e.length-o.length;e.endsWith(o)?k=P:(f>P||f>e.length-o.length)&&(k=f),e=e.substring(0,k),e=svt(b?"-"+e:e,i),e=(e.match(ovt(p))||[]).join("");var L=e.indexOf(p);e=e.replace(new RegExp(lPe(p),"g"),function(G,K){return K===L?".":""});var O=die(e,i),B=O.beforeDecimal,q=O.afterDecimal,H=O.addNegation;return l.end-l.start<u.end-u.start&&B===""&&m&&!parseFloat(q)&&(e=H?"-":""),e}function lvt(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),s=e[0]==="-";i.fill(!1,0,n.length+(s?1:0));var o=e.length;return i.fill(!1,o-r.length+1,o+1),i}function cvt(e){var t=q7(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var s=e.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},e),{allowNegative:s})}function fvt(e){e=cvt(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=mv);var s=e.onBlur;s===void 0&&(s=mv);var o=e.thousandSeparator,a=e.decimalScale,u=e.fixedDecimalScale,l=e.prefix;l===void 0&&(l="");var c=e.defaultValue,f=e.value,d=e.valueIsNumericString,h=e.onValueChange,p=aPe(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),m=q7(e),g=m.decimalSeparator,y=m.allowedDecimalSeparators,v=function(H){return A1e(H,e)},b=function(H,G){return uvt(H,G,e)},w=fS(f)?c:f,x=d??avt(w,l,t);fS(f)?fS(c)||(x=x||typeof c=="number"):x=x||typeof f=="number";var S=function(H){return uPe(H)?H:(typeof H=="number"&&(H=fPe(H)),x&&typeof a=="number"?T1e(H,a,!!u):H)},A=hPe(S(f),S(c),!!x,v,b,h),C=A[0],$=C.numAsString,k=C.formattedValue,P=A[1],L=function(H){var G=H.target,K=H.key,J=G.selectionStart,F=G.selectionEnd,j=G.value;if(j===void 0&&(j=""),(K==="Backspace"||K==="Delete")&&F<l.length){H.preventDefault();return}if(J!==F){i(H);return}K==="Backspace"&&j[0]==="-"&&J===l.length+1&&n&&Cw(G,1),a&&u&&(K==="Backspace"&&j[J-1]===g?(Cw(G,J-1),H.preventDefault()):K==="Delete"&&j[J]===g&&H.preventDefault()),y!=null&&y.includes(K)&&j[J]===g&&Cw(G,J+1);var W=o===!0?",":o;K==="Backspace"&&j[J-1]===W&&Cw(G,J-1),K==="Delete"&&j[J]===W&&Cw(G,J+1),i(H)},O=function(H){var G=$;if(G.match(/\d/g)||(G=""),r||(G=Y1t(G)),u&&a&&(G=T1e(G,a,u)),G!==$){var K=A1e(G,e);P({formattedValue:K,value:G,floatValue:parseFloat(G)},{event:H,source:Vk.event})}s(H)},B=function(H){return H===g?!0:Hk(H)},q=function(H){var G=H.currentValue,K=H.lastValue,J=H.formattedValue,F=H.currentValueIndex,j=H.formattedValueIndex,W=G[F],M=J[j],V=dPe(K,G),Q=V.to;return F>=Q.start&&F<Q.end&&y&&y.includes(W)&&M===g?!0:W===M};return Object.assign(Object.assign({},p),{value:k,valueIsNumericString:!1,isValidInputCharacter:B,isCharacterSame:q,onValueChange:P,format:v,removeFormatting:b,getCaretBoundary:function(H){return lvt(H,e)},onKeyDown:L,onBlur:O})}function dvt(e){var t=fvt(e);return ui.createElement(ivt,Object.assign({},t))}function C1e({direction:e,style:t,...n}){return E.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:E.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var OX={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const hvt=/^(0\.0*|-0(\.0*)?)$/,pvt=/^-?0\d+(\.\d+)?\.?$/;function mvt(e){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)}function I1e(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const gvt={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},yvt=(e,{size:t})=>({controls:{"--ni-chevron-size":Xn(t,"ni-chevron-size")}}),hie=ft((e,t)=>{const n=We("NumberInput",gvt,e),{className:r,classNames:i,styles:s,unstyled:o,vars:a,onChange:u,onValueChange:l,value:c,defaultValue:f,max:d,min:h,step:p,hideControls:m,rightSection:g,isAllowed:y,clampBehavior:v,onBlur:b,allowDecimal:w,decimalScale:x,onKeyDown:S,onKeyDownCapture:A,handlersRef:C,startValue:$,disabled:k,rightSectionPointerEvents:P,allowNegative:L,readOnly:O,size:B,rightSectionWidth:q,stepHoldInterval:H,stepHoldDelay:G,allowLeadingZeros:K,withKeyboardEvents:J,trimLeadingZeroesOnBlur:F,...j}=n,W=Bt({name:"NumberInput",classes:OX,props:n,classNames:i,styles:s,unstyled:o,vars:a,varsResolver:yvt}),{resolvedClassNames:M,resolvedStyles:V}=_$({classNames:i,styles:s,props:n}),[Q,se]=Na({value:c,defaultValue:f,onChange:u}),be=G!==void 0&&H!==void 0,he=R.useRef(null),Ce=R.useRef(null),Pe=R.useRef(0),rt=(xe,kt)=>{kt.source==="event"&&se(mvt(xe.floatValue)&&!hvt.test(xe.value)&&!(K&&pvt.test(xe.value))?xe.floatValue:xe.value),l==null||l(xe,kt)},Re=xe=>{const kt=String(xe).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return kt?Math.max(0,(kt[1]?kt[1].length:0)-(kt[2]?+kt[2]:0)):0},Tt=xe=>{he.current&&typeof xe<"u"&&he.current.setSelectionRange(xe,xe)},Ze=R.useRef();Ze.current=()=>{let xe;const kt=Re(Q),Rt=Re(p),Ee=Math.max(kt,Rt),Oe=10**Ee;if(typeof Q!="number"||Number.isNaN(Q))xe=Ug($,h,d);else if(d!==void 0){const _t=(Math.round(Q*Oe)+Math.round(p*Oe))/Oe;xe=_t<=d?_t:d}else xe=(Math.round(Q*Oe)+Math.round(p*Oe))/Oe;const ot=xe.toFixed(Ee);se(parseFloat(ot)),l==null||l({floatValue:parseFloat(ot),formattedValue:ot,value:ot},{source:"increment"}),setTimeout(()=>{var _t;return Tt((_t=he.current)==null?void 0:_t.value.length)},0)};const It=R.useRef();It.current=()=>{let xe;const kt=h!==void 0?h:L?Number.MIN_SAFE_INTEGER:0,Rt=Re(Q),Ee=Re(p),Oe=Math.max(Rt,Ee),ot=10**Oe;if(typeof Q!="number"||Number.isNaN(Q))xe=Ug($,kt,d);else{const jt=(Math.round(Q*ot)-Math.round(p*ot))/ot;xe=kt!==void 0&&jt<kt?kt:jt}const _t=xe.toFixed(Oe);se(parseFloat(_t)),l==null||l({floatValue:parseFloat(_t),formattedValue:_t,value:_t},{source:"decrement"}),setTimeout(()=>{var jt;return Tt((jt=he.current)==null?void 0:jt.value.length)},0)};const mt=xe=>{S==null||S(xe),!(O||!J)&&(xe.key==="ArrowUp"&&(xe.preventDefault(),Ze.current()),xe.key==="ArrowDown"&&(xe.preventDefault(),It.current()))},Se=xe=>{if(A==null||A(xe),xe.key==="Backspace"){const kt=he.current;kt.selectionStart===0&&kt.selectionStart===kt.selectionEnd&&(xe.preventDefault(),window.setTimeout(()=>Tt(0),0))}};qne(C,{increment:Ze.current,decrement:It.current});const Fe=xe=>{xe?Ze.current():It.current(),Pe.current+=1},st=xe=>{if(Fe(xe),be){const kt=typeof H=="number"?H:H(Pe.current);Ce.current=window.setTimeout(()=>st(xe),kt)}},yt=(xe,kt)=>{var Rt;xe.preventDefault(),(Rt=he.current)==null||Rt.focus(),Fe(kt),be&&(Ce.current=window.setTimeout(()=>st(kt),G))},$t=()=>{Ce.current&&window.clearTimeout(Ce.current),Ce.current=null,Pe.current=0},Je=E.jsxs("div",{...W("controls"),children:[E.jsx(Vf,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:k||typeof Q=="number"&&d!==void 0&&Q>=d,mod:{direction:"up"},onMouseDown:xe=>xe.preventDefault(),onPointerDown:xe=>{yt(xe,!0)},onPointerUp:$t,onPointerLeave:$t,children:E.jsx(C1e,{direction:"up"})}),E.jsx(Vf,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:k||typeof Q=="number"&&h!==void 0&&Q<=h,mod:{direction:"down"},onMouseDown:xe=>xe.preventDefault(),onPointerDown:xe=>{yt(xe,!1)},onPointerUp:$t,onPointerLeave:$t,children:E.jsx(C1e,{direction:"down"})})]});return E.jsx(oh,{component:dvt,allowNegative:L,className:_o(OX.root,r),size:B,...j,readOnly:O,disabled:k,value:Q,getInputRef:To(t,he),onValueChange:rt,rightSection:m||O?g:g||Je,classNames:M,styles:V,unstyled:o,__staticSelector:"NumberInput",decimalScale:w?x:0,onKeyDown:mt,onKeyDownCapture:Se,rightSectionPointerEvents:P??(k?"none":void 0),rightSectionWidth:q??`var(--ni-right-section-width-${B||"sm"})`,allowLeadingZeros:K,onBlur:xe=>{if(b==null||b(xe),v==="blur"&&typeof Q=="number"&&Ug(Q,h,d)!==Q&&se(Ug(Q,h,d)),F&&typeof Q=="string"){const kt=Q.replace(/^0+/,""),Rt=parseFloat(kt);se(Number.isNaN(Rt)?kt:Rt)}},isAllowed:xe=>v==="strict"?y?y(xe)&&I1e(xe.floatValue,h,d):I1e(xe.floatValue,h,d):y?y(xe):!0})});hie.classes={...oh.classes,...OX};hie.displayName="@mantine/core/NumberInput";const[vvt,pPe]=du("Progress.Root component was not found in tree");var I$={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const bvt={},pie=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=We("ProgressLabel",bvt,e),u=pPe();return E.jsx(ke,{ref:t,...u.getStyles("label",{className:r,style:i,classNames:n,styles:s}),...a})});pie.classes=I$;pie.displayName="@mantine/core/ProgressLabel";const _vt={},wvt=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":Xn(t,"progress-size"),"--progress-radius":n===void 0?void 0:Ki(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),W7=ft((e,t)=>{const n=We("ProgressRoot",_vt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,autoContrast:l,transitionDuration:c,...f}=n,d=Bt({name:"Progress",classes:I$,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:wvt});return E.jsx(vvt,{value:{getStyles:d,autoContrast:l},children:E.jsx(ke,{ref:t,...d("root"),...f})})});W7.classes=I$;W7.displayName="@mantine/core/ProgressRoot";const xvt={withAria:!0},G7=ft((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,withAria:u,color:l,striped:c,animated:f,mod:d,...h}=We("ProgressSection",xvt,e),p=pPe(),m=So(),g=u?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return E.jsx(ke,{ref:t,...p.getStyles("section",{className:r,classNames:n,styles:s,style:i}),...h,...g,mod:[{striped:c||f,animated:f},d],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":Vi(l,m),"--progress-label-color":gC(p.autoContrast,m)?e_({color:l,theme:m,autoContrast:p.autoContrast}):void 0}})});G7.classes=I$;G7.displayName="@mantine/core/ProgressSection";const Evt={},CC=ft((e,t)=>{const n=We("Progress",Evt,e),{value:r,classNames:i,styles:s,vars:o,color:a,striped:u,animated:l,"aria-label":c,...f}=n,{resolvedClassNames:d,resolvedStyles:h}=_$({classNames:i,styles:s,props:n});return E.jsx(W7,{ref:t,classNames:d,styles:h,vars:o,...f,children:E.jsx(G7,{value:r,color:a,striped:u,animated:l,"aria-label":c})})});CC.classes=I$;CC.displayName="@mantine/core/Progress";CC.Section=G7;CC.Root=W7;CC.Label=pie;const[Tvt,mPe]=mC(),[Svt,Avt]=mC();var gPe={card:"m_9dc8ae12"};const Cvt={withBorder:!0},Ivt=(e,{radius:t})=>({card:{"--card-radius":Ki(t)}}),mie=ft((e,t)=>{const n=We("RadioCard",Cvt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,checked:l,mod:c,withBorder:f,value:d,onClick:h,name:p,onKeyDown:m,...g}=n,y=Bt({name:"RadioCard",classes:gPe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Ivt,rootSelector:"card"}),{dir:v}=zy(),b=mPe(),w=typeof l=="boolean"?l:(b==null?void 0:b.value)===d||!1,x=p||(b==null?void 0:b.name),S=A=>{if(m==null||m(A),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(A.nativeEvent.code)){A.preventDefault();const C=Array.from(document.querySelectorAll(`[role="radio"][name="${x||"__mantine"}"]`)),$=C.findIndex(L=>L===A.target),k=$+1>=C.length?0:$+1,P=$-1<0?C.length-1:$-1;A.nativeEvent.code==="ArrowDown"&&(C[k].focus(),C[k].click()),A.nativeEvent.code==="ArrowUp"&&(C[P].focus(),C[P].click()),A.nativeEvent.code==="ArrowLeft"&&(C[v==="ltr"?P:k].focus(),C[v==="ltr"?P:k].click()),A.nativeEvent.code==="ArrowRight"&&(C[v==="ltr"?k:P].focus(),C[v==="ltr"?k:P].click())}};return E.jsx(Svt,{value:{checked:w},children:E.jsx(Vf,{ref:t,mod:[{"with-border":f,checked:w},c],...y("card"),...g,role:"radio","aria-checked":w,name:x,onClick:A=>{h==null||h(A),b==null||b.onChange(d||"")},onKeyDown:S})})});mie.displayName="@mantine/core/RadioCard";mie.classes=gPe;const kvt={},gie=ft((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,name:u,readOnly:l,...c}=We("RadioGroup",kvt,e),f=el(u),[d,h]=Na({value:n,defaultValue:r,finalValue:"",onChange:i}),p=m=>!l&&h(typeof m=="string"?m:m.currentTarget.value);return E.jsx(Tvt,{value:{value:d,onChange:p,size:s,name:f},children:E.jsx(oo.Wrapper,{size:s,ref:t,...o,...c,labelElement:"div",__staticSelector:"RadioGroup",children:E.jsx(Wre,{role:"radiogroup",children:a})})})});gie.classes=oo.Wrapper.classes;gie.displayName="@mantine/core/RadioGroup";function yPe({size:e,style:t,...n}){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:De(e),height:De(e),...t},"aria-hidden":!0,...n,children:E.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var vPe={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const Rvt={icon:yPe},$vt=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=km({color:n||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":Xn(r,"radio-size"),"--radio-radius":t===void 0?void 0:Ki(t),"--radio-color":s==="outline"?u:Vi(n,e),"--radio-icon-size":Xn(r,"radio-icon-size"),"--radio-icon-color":i?Vi(i,e):gC(o,e)?e_({color:n,theme:e,autoContrast:o}):void 0}}},yie=ft((e,t)=>{const n=We("RadioIndicator",Rvt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,icon:l,radius:c,color:f,iconColor:d,autoContrast:h,checked:p,mod:m,variant:g,disabled:y,...v}=n,b=l,w=Bt({name:"RadioIndicator",classes:vPe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:$vt,rootSelector:"indicator"}),x=Avt(),S=typeof p=="boolean"?p:(x==null?void 0:x.checked)||!1;return E.jsx(ke,{ref:t,...w("indicator",{variant:g}),variant:g,mod:[{checked:S,disabled:y},m],...v,children:E.jsx(b,{...w("icon")})})});yie.displayName="@mantine/core/RadioIndicator";yie.classes=vPe;var bPe={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const Nvt={labelPosition:"right"},Pvt=(e,{size:t,radius:n,color:r,iconColor:i,variant:s,autoContrast:o})=>{const a=km({color:r||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":Xn(t,"radio-size"),"--radio-radius":n===void 0?void 0:Ki(n),"--radio-color":s==="outline"?u:Vi(r,e),"--radio-icon-color":i?Vi(i,e):gC(o,e)?e_({color:r,theme:e,autoContrast:o}):void 0,"--radio-icon-size":Xn(t,"radio-icon-size")}}},_y=ft((e,t)=>{const n=We("Radio",Nvt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,id:l,size:c,label:f,labelPosition:d,description:h,error:p,radius:m,color:g,variant:y,disabled:v,wrapperProps:b,icon:w=yPe,rootRef:x,iconColor:S,onChange:A,mod:C,...$}=n,k=Bt({name:"Radio",classes:bPe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Pvt}),P=mPe(),L=(P==null?void 0:P.size)??c,O=n.size?c:L,{styleProps:B,rest:q}=y2($),H=el(l),G=P?{checked:P.value===q.value,name:q.name??P.name,onChange:K=>{P.onChange(K),A==null||A(K)}}:{};return E.jsx(P7,{...k("root"),__staticSelector:"Radio",__stylesApiProps:n,id:H,size:O,labelPosition:d,label:f,description:h,error:p,disabled:v,classNames:r,styles:o,unstyled:a,"data-checked":G.checked||void 0,variant:y,ref:x,mod:C,...B,...b,children:E.jsxs(ke,{...k("inner"),mod:{"label-position":d},children:[E.jsx(ke,{...k("radio",{focusable:!0,variant:y}),onChange:A,...q,...G,component:"input",mod:{error:!!p},ref:t,id:H,disabled:v,type:"radio"}),E.jsx(w,{...k("icon"),"aria-hidden":!0})]})})});_y.classes=bPe;_y.displayName="@mantine/core/Radio";_y.Group=gie;_y.Card=mie;_y.Indicator=yie;const Ovt={duration:100,transition:"fade"};function Dvt(e,t){return{...Ovt,...t,...e}}function Lvt({offset:e,position:t}){const[n,r]=R.useState(!1),i=R.useRef(),{x:s,y:o,elements:a,refs:u,update:l,placement:c}=gre({placement:t,middleware:[dre({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=c.includes("right")?e:t.includes("left")?e*-1:0,d=c.includes("bottom")?e:t.includes("top")?e*-1:0,h=R.useCallback(({clientX:p,clientY:m})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:p,y:m,left:p+f,top:m+d,right:p,bottom:m}}})},[a.reference]);return R.useEffect(()=>{if(u.floating.current){const p=i.current;p.addEventListener("mousemove",h);const m=Zg(u.floating.current);return m.forEach(g=>{g.addEventListener("scroll",l)}),()=>{p.removeEventListener("mousemove",h),m.forEach(g=>{g.removeEventListener("scroll",l)})}}},[a.reference,u.floating.current,l,h,n]),{handleMouseMove:h,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u.setFloating}}var Y7={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Mvt={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Op("popover")},Fvt=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Ki(t),"--tooltip-bg":n?Vi(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),vie=ft((e,t)=>{const n=We("TooltipFloating",Mvt,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:m,multiline:g,zIndex:y,disabled:v,variant:b,vars:w,portalProps:x,...S}=n,A=So(),C=Bt({name:"TooltipFloating",props:n,classes:Y7,className:a,style:o,classNames:u,styles:l,unstyled:c,rootSelector:"tooltip",vars:w,varsResolver:Fvt}),{handleMouseMove:$,x:k,y:P,opened:L,boundaryRef:O,floating:B,setOpened:q}=Lvt({offset:p,position:m});if(!Jb(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const H=To(O,r.ref,t),G=J=>{var F,j;(j=(F=r.props).onMouseEnter)==null||j.call(F,J),$(J),q(!0)},K=J=>{var F,j;(j=(F=r.props).onMouseLeave)==null||j.call(F,J),q(!1)};return E.jsxs(E.Fragment,{children:[E.jsx(_C,{...x,withinPortal:s,children:E.jsx(ke,{...S,...C("tooltip",{style:{...Jne(o,A),zIndex:y,display:!v&&L?"block":"none",top:(P&&Math.round(P))??"",left:(k&&Math.round(k))??""}}),variant:b,ref:B,mod:{multiline:g},children:h})}),R.cloneElement(r,{...r.props,[i]:H,onMouseEnter:G,onMouseLeave:K})]})});vie.classes=Y7;vie.displayName="@mantine/core/TooltipFloating";const _Pe=R.createContext(!1),Bvt=_Pe.Provider,jvt=()=>R.useContext(_Pe),Uvt={openDelay:0,closeDelay:0};function wPe(e){const{openDelay:t,closeDelay:n,children:r}=We("TooltipGroup",Uvt,e);return E.jsx(Bvt,{value:!0,children:E.jsx(Y0t,{delay:{open:t,close:n},children:r})})}wPe.displayName="@mantine/core/TooltipGroup";function zvt(e){var S,A,C;const[t,n]=R.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=jvt(),o=el(),{delay:a,currentId:u,setCurrentId:l}=i5e(),c=R.useCallback($=>{n($),$&&l(o)},[l,o]),{x:f,y:d,context:h,refs:p,update:m,placement:g,middlewareData:{arrow:{x:y,y:v}={}}}=gre({strategy:e.strategy,placement:e.position,open:i,onOpenChange:c,middleware:[ZNe(e.offset),dre({padding:8}),RX(),e5e({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[$X()]:[]]}),{getReferenceProps:b,getFloatingProps:w}=tmt([G0t(h,{enabled:(S=e.events)==null?void 0:S.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((A=e.events)!=null&&A.touch)}),emt(h,{enabled:(C=e.events)==null?void 0:C.focus,visibleOnly:!0}),rmt(h,{role:"tooltip"}),J0t(h,{enabled:typeof e.opened>"u"}),K0t(h,{id:o})]);f5e({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:p,update:m}}),im(()=>{var $;($=e.onPositionChange)==null||$.call(e,g)},[g]);const x=i&&u&&u!==o;return{x:f,y:d,arrowX:y,arrowY:v,reference:p.setReference,floating:p.setFloating,getFloatingProps:w,getReferenceProps:b,isGroupPhase:x,opened:i,placement:g}}const k1e={position:"top",refProp:"ref",withinPortal:!0,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Op("popover"),positionDependencies:[]},Vvt=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Ki(t),"--tooltip-bg":n?Vi(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),vs=ft((e,t)=>{const n=We("Tooltip",k1e,e),{children:r,position:i,refProp:s,label:o,openDelay:a,closeDelay:u,onPositionChange:l,opened:c,withinPortal:f,radius:d,color:h,classNames:p,styles:m,unstyled:g,style:y,className:v,withArrow:b,arrowSize:w,arrowOffset:x,arrowRadius:S,arrowPosition:A,offset:C,transitionProps:$,multiline:k,events:P,zIndex:L,disabled:O,positionDependencies:B,onClick:q,onMouseEnter:H,onMouseLeave:G,inline:K,variant:J,keepMounted:F,vars:j,portalProps:W,mod:M,floatingStrategy:V,...Q}=We("Tooltip",k1e,n),{dir:se}=zy(),be=R.useRef(null),he=zvt({position:s5e(se,i),closeDelay:u,openDelay:a,onPositionChange:l,opened:c,events:P,arrowRef:be,arrowOffset:x,offset:typeof C=="number"?C+(b?w/2:0):C,positionDependencies:[...B,r],inline:K,strategy:V}),Ce=Bt({name:"Tooltip",props:n,classes:Y7,className:v,style:y,classNames:p,styles:m,unstyled:g,rootSelector:"tooltip",vars:j,varsResolver:Vvt});if(!Jb(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Pe=To(he.reference,r.ref,t),rt=Dvt($,{duration:100,transition:"fade"});return E.jsxs(E.Fragment,{children:[E.jsx(_C,{...W,withinPortal:f,children:E.jsx(Hy,{...rt,keepMounted:F,mounted:!O&&!!he.opened,duration:he.isGroupPhase?10:rt.duration,children:Re=>E.jsxs(ke,{...Q,variant:J,mod:[{multiline:k},M],...he.getFloatingProps({ref:he.floating,className:Ce("tooltip").className,style:{...Ce("tooltip").style,...Re,zIndex:L,top:he.y??0,left:he.x??0}}),children:[o,E.jsx(yre,{ref:be,arrowX:he.arrowX,arrowY:he.arrowY,visible:b,position:he.placement,arrowSize:w,arrowOffset:x,arrowRadius:S,arrowPosition:A,...Ce("arrow")})]})})}),R.cloneElement(r,he.getReferenceProps({onClick:q,onMouseEnter:H,onMouseLeave:G,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[s]:Pe,className:_o(v,r.props.className),...r.props}))]})});vs.classes=Y7;vs.displayName="@mantine/core/Tooltip";vs.Floating=vie;vs.Group=wPe;var xPe={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Hvt={withItemsBorders:!0},qvt=(e,{radius:t,color:n,transitionDuration:r,size:i,transitionTimingFunction:s})=>({root:{"--sc-radius":t===void 0?void 0:Ki(t),"--sc-color":n?Vi(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":s,"--sc-padding":Xn(i,"sc-padding"),"--sc-font-size":Cl(i)}}),K7=ft((e,t)=>{var se,be;const n=We("SegmentedControl",Hvt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,data:l,value:c,defaultValue:f,onChange:d,size:h,name:p,disabled:m,readOnly:g,fullWidth:y,orientation:v,radius:b,color:w,transitionDuration:x,transitionTimingFunction:S,variant:A,autoContrast:C,withItemsBorders:$,mod:k,...P}=n,L=Bt({name:"SegmentedControl",props:n,classes:xPe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:qvt}),O=So(),B=l.map(he=>typeof he=="string"?{label:he,value:he}:he),q=nht(),[H,G]=R.useState(null),[K,J]=R.useState({}),F=(he,Ce)=>{K[Ce]=he,J(K)},[j,W]=Na({value:c,defaultValue:f,finalValue:Array.isArray(l)?((se=B.find(he=>!he.disabled))==null?void 0:se.value)??((be=l[0])==null?void 0:be.value)??null:null,onChange:d}),M=el(p),V=B.map(he=>R.createElement(ke,{...L("control"),mod:{active:j===he.value,orientation:v},key:he.value},R.createElement("input",{...L("input"),disabled:m||he.disabled,type:"radio",name:M,value:he.value,id:`${M}-${he.value}`,checked:j===he.value,onChange:()=>!g&&W(he.value),"data-focus-ring":O.focusRing,key:`${he.value}-input`}),R.createElement(ke,{component:"label",...L("label"),mod:{active:j===he.value&&!(m||he.disabled),disabled:m||he.disabled,"read-only":g},htmlFor:`${M}-${he.value}`,ref:Ce=>F(Ce,he.value),__vars:{"--sc-label-color":w!==void 0?e_({color:w,theme:O,autoContrast:C}):void 0},key:`${he.value}-label`},E.jsx("span",{...L("innerLabel"),children:he.label})))),Q=To(t,he=>G(he));return l.length===0?null:E.jsxs(ke,{...L("root"),variant:A,size:h,ref:Q,mod:[{"full-width":y,orientation:v,initialized:q,"with-items-borders":$},k],...P,role:"radiogroup",children:[typeof j=="string"&&E.jsx(xre,{target:K[j],parent:H,component:"span",transitionDuration:"var(--sc-transition-duration)",...L("indicator")}),V]})});K7.classes=xPe;K7.displayName="@mantine/core/SegmentedControl";const Wvt={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},IC=ft((e,t)=>{const n=We("Select",Wvt,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:u,onDropdownClose:l,onDropdownOpen:c,onFocus:f,onBlur:d,onClick:h,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:b,comboboxProps:w,readOnly:x,disabled:S,filter:A,limit:C,withScrollArea:$,maxDropdownHeight:k,size:P,searchable:L,rightSection:O,checkIconPosition:B,withCheckIcon:q,nothingFoundMessage:H,name:G,form:K,searchValue:J,defaultSearchValue:F,onSearchChange:j,allowDeselect:W,error:M,rightSectionPointerEvents:V,id:Q,clearable:se,clearButtonProps:be,hiddenInputProps:he,renderOption:Ce,onClear:Pe,autoComplete:rt,scrollAreaProps:Re,...Tt}=n,Ze=R.useMemo(()=>k5e(m),[m]),It=R.useMemo(()=>Pre(Ze),[Ze]),mt=el(Q),[Se,Fe,st]=Na({value:g,defaultValue:y,finalValue:null,onChange:p}),yt=typeof Se=="string"?It[Se]:void 0,[$t,Je]=Na({value:J,defaultValue:F,finalValue:yt?yt.label:"",onChange:j}),xe=Hre({opened:a,defaultOpened:u,onDropdownOpen:()=>{c==null||c(),xe.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{l==null||l(),xe.resetSelectedOption()}}),{resolvedClassNames:kt,resolvedStyles:Rt}=_$({props:n,styles:i,classNames:r});R.useEffect(()=>{v&&xe.selectFirstOption()},[v,Se]),R.useEffect(()=>{g===null&&Je(""),typeof g=="string"&&yt&&Je(yt.label)},[g,yt]);const Ee=se&&!!Se&&!S&&!x&&E.jsx(Ur.ClearButton,{size:P,...be,onClear:()=>{Fe(null,null),Je(""),Pe==null||Pe()}});return E.jsxs(E.Fragment,{children:[E.jsxs(Ur,{store:xe,__staticSelector:"Select",classNames:kt,styles:Rt,unstyled:s,readOnly:x,onOptionSubmit:Oe=>{b==null||b(Oe);const ot=W&&It[Oe].value===Se?null:It[Oe],_t=ot?ot.value:null;Fe(_t,ot),!st&&Je(typeof _t=="string"&&(ot==null?void 0:ot.label)||""),xe.closeDropdown()},size:P,...w,children:[E.jsx(Ur.Target,{targetType:L?"input":"button",autoComplete:rt,children:E.jsx(oh,{id:mt,ref:t,rightSection:O||Ee||E.jsx(Ur.Chevron,{size:P,error:M,unstyled:s}),rightSectionPointerEvents:V||(Ee?"all":"none"),...Tt,size:P,__staticSelector:"Select",disabled:S,readOnly:x||!L,value:$t,onChange:Oe=>{Je(Oe.currentTarget.value),xe.openDropdown(),v&&xe.selectFirstOption()},onFocus:Oe=>{L&&xe.openDropdown(),f==null||f(Oe)},onBlur:Oe=>{var ot;L&&xe.closeDropdown(),Je(Se!=null&&((ot=It[Se])==null?void 0:ot.label)||""),d==null||d(Oe)},onClick:Oe=>{L?xe.openDropdown():xe.toggleDropdown(),h==null||h(Oe)},classNames:kt,styles:Rt,unstyled:s,pointer:!L,error:M})}),E.jsx(G5e,{data:Ze,hidden:x||S,filter:A,search:$t,limit:C,hiddenWhenEmpty:!L||!H,withScrollArea:$,maxDropdownHeight:k,filterOptions:L&&(yt==null?void 0:yt.label)!==$t,value:Se,checkIconPosition:B,withCheckIcon:q,nothingFoundMessage:H,unstyled:s,labelId:Tt.label?`${mt}-label`:void 0,"aria-label":Tt.label?void 0:Tt["aria-label"],renderOption:Ce,scrollAreaProps:Re})]}),E.jsx(Ur.HiddenInput,{value:Se,name:G,form:K,disabled:S,...he})]})});IC.classes={...oh.classes,...Ur.classes};IC.displayName="@mantine/core/Select";function Gvt({spacing:e,verticalSpacing:t,cols:n,selector:r}){var c;const i=So(),s=t===void 0?e:t,o=Qb({"--sg-spacing-x":Lo(ip(e)),"--sg-spacing-y":Lo(ip(s)),"--sg-cols":(c=ip(n))==null?void 0:c.toString()}),a=ns(i.breakpoints).reduce((f,d)=>(f[d]||(f[d]={}),typeof e=="object"&&e[d]!==void 0&&(f[d]["--sg-spacing-x"]=Lo(e[d])),typeof s=="object"&&s[d]!==void 0&&(f[d]["--sg-spacing-y"]=Lo(s[d])),typeof n=="object"&&n[d]!==void 0&&(f[d]["--sg-cols"]=n[d]),f),{}),l=Fk(ns(a),i).filter(f=>ns(a[f.value]).length>0).map(f=>({query:`(min-width: ${i.breakpoints[f.value]})`,styles:a[f.value]}));return E.jsx(g2,{styles:o,media:l,selector:r})}function UH(e){return typeof e=="object"&&e!==null?ns(e):[]}function Yvt(e){return e.sort((t,n)=>Mk(t)-Mk(n))}function Kvt({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...UH(e),...UH(t),...UH(n)]));return Yvt(r)}function Xvt({spacing:e,verticalSpacing:t,cols:n,selector:r}){var l;const i=t===void 0?e:t,s=Qb({"--sg-spacing-x":Lo(ip(e)),"--sg-spacing-y":Lo(ip(i)),"--sg-cols":(l=ip(n))==null?void 0:l.toString()}),o=Kvt({spacing:e,verticalSpacing:t,cols:n}),a=o.reduce((c,f)=>(c[f]||(c[f]={}),typeof e=="object"&&e[f]!==void 0&&(c[f]["--sg-spacing-x"]=Lo(e[f])),typeof i=="object"&&i[f]!==void 0&&(c[f]["--sg-spacing-y"]=Lo(i[f])),typeof n=="object"&&n[f]!==void 0&&(c[f]["--sg-cols"]=n[f]),c),{}),u=o.map(c=>({query:`simple-grid (min-width: ${c})`,styles:a[c]}));return E.jsx(g2,{styles:s,container:u,selector:r})}var EPe={container:"m_925c2d2c",root:"m_2415a157"};const Qvt={cols:1,spacing:"md",type:"media"},bie=ft((e,t)=>{const n=We("SimpleGrid",Qvt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,cols:l,verticalSpacing:c,spacing:f,type:d,...h}=n,p=Bt({name:"SimpleGrid",classes:EPe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u}),m=w$();return d==="container"?E.jsxs(E.Fragment,{children:[E.jsx(Xvt,{...n,selector:`.${m}`}),E.jsx("div",{...p("container"),children:E.jsx(ke,{ref:t,...p("root",{className:m}),...h})})]}):E.jsxs(E.Fragment,{children:[E.jsx(Gvt,{...n,selector:`.${m}`}),E.jsx(ke,{ref:t,...p("root",{className:m}),...h})]})});bie.classes=EPe;bie.displayName="@mantine/core/SimpleGrid";const[TPe,X7]=du("SliderProvider was not found in tree"),_ie=R.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:s,...o},a)=>{const{getStyles:u}=X7();return E.jsx(ke,{tabIndex:-1,variant:n,size:e,ref:a,...u("root"),...o})});_ie.displayName="@mantine/core/SliderRoot";const W9=R.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:u,labelAlwaysOn:l,thumbLabel:c,onFocus:f,onBlur:d,showLabelOnHover:h,isHovered:p,children:m=null,disabled:g},y)=>{const{getStyles:v}=X7(),[b,w]=R.useState(!1),x=l||s||b||h&&p;return E.jsxs(ke,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:y,__vars:{"--slider-thumb-offset":`${r}%`},...v("thumb",{focusable:!0}),mod:{dragging:s,disabled:g},onFocus:()=>{w(!0),typeof f=="function"&&f()},onBlur:()=>{w(!1),typeof d=="function"&&d()},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:S=>S.stopPropagation(),children:[m,E.jsx(Hy,{mounted:i!=null&&!!x,transition:"fade",duration:0,...u,children:S=>E.jsx("div",{...v("label",{style:S}),children:i})})]})});W9.displayName="@mantine/core/SliderThumb";function G9({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function Jvt({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function SPe({marks:e,min:t,max:n,disabled:r,value:i,offset:s,inverted:o}){const{getStyles:a}=X7();if(!e)return null;const u=e.map((l,c)=>R.createElement(ke,{...a("markWrapper"),__vars:{"--mark-offset":`${G9({value:l.value,min:t,max:n})}%`},key:c},E.jsx(ke,{...a("mark"),mod:{filled:Jvt({mark:l,value:i,offset:s,inverted:o}),disabled:r}}),l.label&&E.jsx("div",{...a("markLabel"),children:l.label})));return E.jsx("div",{children:u})}SPe.displayName="@mantine/core/SliderMarks";function wie({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:s,containerProps:o,...a}){const{getStyles:u}=X7();return E.jsx(E.Fragment,{children:E.jsx(ke,{...u("trackContainer"),mod:{disabled:r},...o,children:E.jsxs(ke,{...u("track"),mod:{inverted:s,disabled:r},children:[E.jsx(ke,{mod:{inverted:s,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...u("bar")}),t,E.jsx(SPe,{...a,offset:i,disabled:r,inverted:s})]})})})}wie.displayName="@mantine/core/SliderTrack";function DX({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}function Cd(e,t){return parseFloat(e.toFixed(t))}function APe(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}var Q7={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const Zvt={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},ebt=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":Xn(t,"slider-size"),"--slider-color":n?Vi(n,e):void 0,"--slider-radius":i===void 0?void 0:Ki(i),"--slider-thumb-size":r!==void 0?De(r):"calc(var(--slider-size) * 2)"}}),s_=ft((e,t)=>{const n=We("Slider",Zvt,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:u,min:l,max:c,step:f,precision:d,defaultValue:h,name:p,marks:m,label:g,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:b,showLabelOnHover:w,thumbChildren:x,disabled:S,unstyled:A,scale:C,inverted:$,className:k,style:P,vars:L,hiddenInputProps:O,...B}=n,q=Bt({name:"Slider",props:n,classes:Q7,classNames:r,className:k,styles:i,style:P,vars:L,varsResolver:ebt,unstyled:A}),{dir:H}=zy(),[G,K]=R.useState(!1),[J,F]=Na({value:typeof s=="number"?Ug(s,l,c):s,defaultValue:typeof h=="number"?Ug(h,l,c):h,finalValue:Ug(0,l,c),onChange:o}),j=R.useRef(J),W=R.useRef(),M=R.useRef(),V=G9({value:J,min:l,max:c}),Q=C(J),se=typeof g=="function"?g(Q):g,be=d??APe(f),he=R.useCallback(({x:Re})=>{if(!S){const Tt=DX({value:Re,min:l,max:c,step:f,precision:be});F(Tt),j.current=Tt}},[S,l,c,f,be,F]),{ref:Ce,active:Pe}=yNe(he,{onScrubEnd:()=>a==null?void 0:a(j.current)},H),rt=Re=>{var Tt,Ze,It,mt,Se,Fe;if(!S)switch(Re.key){case"ArrowUp":{Re.preventDefault(),(Tt=M.current)==null||Tt.focus();const st=Cd(Math.min(Math.max(J+f,l),c),be);F(st),a==null||a(st);break}case"ArrowRight":{Re.preventDefault(),(Ze=M.current)==null||Ze.focus();const st=Cd(Math.min(Math.max(H==="rtl"?J-f:J+f,l),c),be);F(st),a==null||a(st);break}case"ArrowDown":{Re.preventDefault(),(It=M.current)==null||It.focus();const st=Cd(Math.min(Math.max(J-f,l),c),be);F(st),a==null||a(st);break}case"ArrowLeft":{Re.preventDefault(),(mt=M.current)==null||mt.focus();const st=Cd(Math.min(Math.max(H==="rtl"?J+f:J-f,l),c),be);F(st),a==null||a(st);break}case"Home":{Re.preventDefault(),(Se=M.current)==null||Se.focus(),F(l),a==null||a(l);break}case"End":{Re.preventDefault(),(Fe=M.current)==null||Fe.focus(),F(c),a==null||a(c);break}}};return E.jsx(TPe,{value:{getStyles:q},children:E.jsxs(_ie,{...B,ref:To(t,W),onKeyDownCapture:rt,onMouseDownCapture:()=>{var Re;return(Re=W.current)==null?void 0:Re.focus()},size:u,disabled:S,children:[E.jsx(wie,{inverted:$,offset:0,filled:V,marks:m,min:l,max:c,value:Q,disabled:S,containerProps:{ref:Ce,onMouseEnter:w?()=>K(!0):void 0,onMouseLeave:w?()=>K(!1):void 0},children:E.jsx(W9,{max:c,min:l,value:Q,position:V,dragging:Pe,label:se,ref:M,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:b,showLabelOnHover:w,isHovered:G,disabled:S,children:x})}),E.jsx("input",{type:"hidden",name:p,value:Q,...O})]})})});s_.classes=Q7;s_.displayName="@mantine/core/Slider";function tbt(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const nbt=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":Xn(t,"slider-size"),"--slider-color":n?Vi(n,e):void 0,"--slider-radius":i===void 0?void 0:Ki(i),"--slider-thumb-size":r!==void 0?De(r):"calc(var(--slider-size) * 2)"}}),rbt={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,scale:e=>e},rA=ft((e,t)=>{const n=We("RangeSlider",rbt,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:u,min:l,max:c,minRange:f,maxRange:d,step:h,precision:p,defaultValue:m,name:g,marks:y,label:v,labelTransitionProps:b,labelAlwaysOn:w,thumbFromLabel:x,thumbToLabel:S,showLabelOnHover:A,thumbChildren:C,disabled:$,unstyled:k,scale:P,inverted:L,className:O,style:B,vars:q,hiddenInputProps:H,...G}=n,K=Bt({name:"Slider",props:n,classes:Q7,classNames:r,className:O,styles:i,style:B,vars:q,varsResolver:nbt,unstyled:k}),{dir:J}=zy(),[F,j]=R.useState(-1),[W,M]=R.useState(!1),[V,Q]=Na({value:s,defaultValue:m,finalValue:[l,c],onChange:o}),se=R.useRef(V),be=R.useRef([]),he=R.useRef(void 0),Ce=[G9({value:V[0],min:l,max:c}),G9({value:V[1],min:l,max:c})],Pe=p??APe(h),rt=Je=>{Q(Je),se.current=Je};R.useEffect(()=>{Array.isArray(s)&&(se.current=s)},Array.isArray(s)?[s[0],s[1]]:[null,null]);const Re=(Je,xe,kt)=>{const Rt=[...se.current];Rt[xe]=Je,xe===0&&(Je>Rt[1]-(f-1e-9)&&(Rt[1]=Math.min(Je+f,c)),Je>(c-(f-1e-9)||l)&&(Rt[xe]=se.current[xe]),Rt[1]-Je>d&&(Rt[1]=Je+d)),xe===1&&(Je<Rt[0]+f&&(Rt[0]=Math.max(Je-f,l)),Je<Rt[0]+f&&(Rt[xe]=se.current[xe]),Je-Rt[0]>d&&(Rt[0]=Je-d)),Rt[0]=Cd(Rt[0],Pe),Rt[1]=Cd(Rt[1],Pe),rt(Rt),kt&&(a==null||a(se.current))},Tt=Je=>{if(!$){const xe=DX({value:Je,min:l,max:c,step:h,precision:Pe});Re(xe,he.current,!1)}},{ref:Ze,active:It}=yNe(({x:Je})=>Tt(Je),{onScrubEnd:()=>a==null?void 0:a(se.current)},J);function mt(Je){he.current=Je}const Se=Je=>{Ze.current.focus();const xe=Ze.current.getBoundingClientRect(),kt=tbt(Je.nativeEvent),Rt=DX({value:kt-xe.left,max:c,min:l,step:h,containerWidth:xe.width}),Ee=Math.abs(V[0]-Rt)>Math.abs(V[1]-Rt)?1:0,Oe=J==="ltr"?Ee:Ee===1?0:1;he.current=Oe},Fe=()=>F!==1&&F!==0?(j(0),0):F,st=Je=>{if(!$)switch(Je.key){case"ArrowUp":{Je.preventDefault();const xe=Fe();be.current[xe].focus(),Re(Cd(Math.min(Math.max(se.current[xe]+h,l),c),Pe),xe,!0);break}case"ArrowRight":{Je.preventDefault();const xe=Fe();be.current[xe].focus(),Re(Cd(Math.min(Math.max(J==="rtl"?se.current[xe]-h:se.current[xe]+h,l),c),Pe),xe,!0);break}case"ArrowDown":{Je.preventDefault();const xe=Fe();be.current[xe].focus(),Re(Cd(Math.min(Math.max(se.current[xe]-h,l),c),Pe),xe,!0);break}case"ArrowLeft":{Je.preventDefault();const xe=Fe();be.current[xe].focus(),Re(Cd(Math.min(Math.max(J==="rtl"?se.current[xe]+h:se.current[xe]-h,l),c),Pe),xe,!0);break}}},yt={max:c,min:l,size:u,labelTransitionProps:b,labelAlwaysOn:w,onBlur:()=>j(-1)},$t=Array.isArray(C);return E.jsx(TPe,{value:{getStyles:K},children:E.jsxs(_ie,{...G,size:u,ref:t,disabled:$,children:[E.jsxs(wie,{offset:Ce[0],marksOffset:V[0],filled:Ce[1]-Ce[0],marks:y,inverted:L,min:l,max:c,value:V[1],disabled:$,containerProps:{ref:Ze,onMouseEnter:A?()=>M(!0):void 0,onMouseLeave:A?()=>M(!1):void 0,onTouchStartCapture:Se,onTouchEndCapture:()=>{he.current=-1},onMouseDownCapture:Se,onMouseUpCapture:()=>{he.current=-1},onKeyDownCapture:st},children:[E.jsx(W9,{...yt,value:P(V[0]),position:Ce[0],dragging:It,label:typeof v=="function"?v(Cd(P(V[0]),Pe)):v,ref:Je=>{be.current[0]=Je},thumbLabel:x,onMouseDown:()=>mt(0),onFocus:()=>j(0),showLabelOnHover:A,isHovered:W,disabled:$,children:$t?C[0]:C}),E.jsx(W9,{...yt,thumbLabel:S,value:P(V[1]),position:Ce[1],dragging:It,label:typeof v=="function"?v(Cd(P(V[1]),Pe)):v,ref:Je=>{be.current[1]=Je},onMouseDown:()=>mt(1),onFocus:()=>j(1),showLabelOnHover:A,isHovered:W,disabled:$,children:$t?C[1]:C})]}),E.jsx("input",{type:"hidden",name:`${g}_from`,value:V[0],...H}),E.jsx("input",{type:"hidden",name:`${g}_to`,value:V[1],...H})]})})});rA.classes=Q7;rA.displayName="@mantine/core/RangeSlider";const ibt={},iu=ft((e,t)=>{const{w:n,h:r,miw:i,mih:s,...o}=We("Space",ibt,e);return E.jsx(ke,{ref:t,...o,w:n,miw:i??n,h:r,mih:s??r})});iu.displayName="@mantine/core/Space";var CPe={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const sbt={maxHeight:100,initialState:!1},obt=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),xie=ft((e,t)=>{const n=We("Spoiler",sbt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,initialState:l,maxHeight:c,hideLabel:f,showLabel:d,children:h,controlRef:p,transitionDuration:m,id:g,...y}=n,v=Bt({name:"Spoiler",classes:CPe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:obt}),b=el(g),w=`${b}-region`,[x,S]=R.useState(l),{ref:A,height:C}=Kdt(),$=x?f:d,k=$!==null&&c<C;return E.jsxs(ke,{...v("root"),id:b,ref:t,"data-has-spoiler":k||void 0,...y,children:[k&&E.jsx(n_,{component:"button",type:"button",ref:p,onClick:()=>S(P=>!P),"aria-expanded":x,"aria-controls":w,...v("control"),children:$}),E.jsx("div",{...v("content",{style:{maxHeight:x?C?De(C):void 0:De(c)}}),"data-reduce-motion":!0,role:"region",id:w,children:E.jsx("div",{ref:A,children:h})})]})});xie.classes=CPe;xie.displayName="@mantine/core/Spoiler";var IPe={root:"m_6d731127"};const abt={gap:"md",align:"stretch",justify:"flex-start"},ubt=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":Lo(t),"--stack-align":n,"--stack-justify":r}}),zi=ft((e,t)=>{const n=We("Stack",abt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,align:l,justify:c,gap:f,variant:d,...h}=n,p=Bt({name:"Stack",props:n,classes:IPe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:ubt});return E.jsx(ke,{ref:t,...p("root"),variant:d,...h})});zi.classes=IPe;zi.displayName="@mantine/core/Stack";const kPe=R.createContext(null),lbt=kPe.Provider,cbt=()=>R.useContext(kPe),fbt={},Eie=ft((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:u,...l}=We("SwitchGroup",fbt,e),[c,f]=Na({value:n,defaultValue:r,finalValue:[],onChange:i}),d=h=>{const p=h.currentTarget.value;!u&&f(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return E.jsx(lbt,{value:{value:c,onChange:d,size:s},children:E.jsx(oo.Wrapper,{size:s,ref:t,...o,...l,labelElement:"div",__staticSelector:"SwitchGroup",children:E.jsx(Wre,{role:"group",children:a})})})});Eie.classes=oo.Wrapper.classes;Eie.displayName="@mantine/core/SwitchGroup";var RPe={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const dbt={labelPosition:"right"},hbt=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:Ki(t),"--switch-height":Xn(r,"switch-height"),"--switch-width":Xn(r,"switch-width"),"--switch-thumb-size":Xn(r,"switch-thumb-size"),"--switch-label-font-size":Xn(r,"switch-label-font-size"),"--switch-track-label-padding":Xn(r,"switch-track-label-padding"),"--switch-color":n?Vi(n,e):void 0}}),dS=ft((e,t)=>{const n=We("Switch",dbt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,color:l,label:c,offLabel:f,onLabel:d,id:h,size:p,radius:m,wrapperProps:g,children:y,thumbIcon:v,checked:b,defaultChecked:w,onChange:x,labelPosition:S,description:A,error:C,disabled:$,variant:k,rootRef:P,mod:L,...O}=n,B=cbt(),q=p||(B==null?void 0:B.size),H=Bt({name:"Switch",props:n,classes:RPe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:hbt}),{styleProps:G,rest:K}=y2(O),J=el(h),F=B?{checked:B.value.includes(K.value),onChange:B.onChange}:{},[j,W]=Na({value:F.checked??b,defaultValue:w,finalValue:!1});return E.jsxs(P7,{...H("root"),__staticSelector:"Switch",__stylesApiProps:n,id:J,size:q,labelPosition:S,label:c,description:A,error:C,disabled:$,bodyElement:"label",labelElement:"span",classNames:r,styles:o,unstyled:a,"data-checked":F.checked||void 0,variant:k,ref:P,mod:L,...G,...g,children:[E.jsx("input",{...K,disabled:$,checked:j,onChange:M=>{var V;B?(V=F.onChange)==null||V.call(F,M):x==null||x(M),W(M.currentTarget.checked)},id:J,ref:t,type:"checkbox",role:"switch",...H("input")}),E.jsxs(ke,{"aria-hidden":"true",mod:{error:C,"label-position":S},...H("track"),children:[E.jsx(ke,{component:"span",mod:"reduce-motion",...H("thumb"),children:v}),E.jsx("span",{...H("trackLabel"),children:j?d:f})]})]})});dS.classes={...RPe,...L5e};dS.displayName="@mantine/core/Switch";dS.Group=Eie;const[pbt,mbt]=du("Table component was not found in the tree");var k$={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function gbt(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function _2(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=ft((i,s)=>{const o=We(n,{},i),{classNames:a,className:u,style:l,styles:c,...f}=o,d=mbt();return E.jsx(ke,{component:e,ref:s,...gbt(d,t),...d.getStyles(e,{className:u,classNames:a,style:l,styles:c,props:o}),...f})});return r.displayName=`@mantine/core/${n}`,r.classes=k$,r}const LX=_2("th",{columnBorder:!0}),$Pe=_2("td",{columnBorder:!0}),iD=_2("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),NPe=_2("thead",{stickyHeader:!0}),PPe=_2("tbody"),OPe=_2("tfoot"),DPe=_2("caption",{captionSide:!0});function Tie({data:e}){return E.jsxs(E.Fragment,{children:[e.caption&&E.jsx(DPe,{children:e.caption}),e.head&&E.jsx(NPe,{children:E.jsx(iD,{children:e.head.map((t,n)=>E.jsx(LX,{children:t},n))})}),e.body&&E.jsx(PPe,{children:e.body.map((t,n)=>E.jsx(iD,{children:t.map((r,i)=>E.jsx($Pe,{children:r},i))},n))}),e.foot&&E.jsx(OPe,{children:E.jsx(iD,{children:e.foot.map((t,n)=>E.jsx(LX,{children:t},n))})})]})}Tie.displayName="@mantine/core/TableDataRenderer";const ybt={type:"scrollarea"},vbt=(e,{minWidth:t,type:n})=>({scrollContainer:{"--table-min-width":De(t),"--table-overflow":n==="native"?"auto":void 0}}),Sie=ft((e,t)=>{const n=We("TableScrollContainer",ybt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,children:l,minWidth:c,type:f,...d}=n,h=Bt({name:"TableScrollContainer",classes:k$,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:vbt,rootSelector:"scrollContainer"});return E.jsx(ke,{component:f==="scrollarea"?yy:"div",...f==="scrollarea"?{offsetScrollbars:"x"}:{},ref:t,...h("scrollContainer"),...d,children:E.jsx("div",{...h("scrollContainerInner"),children:l})})});Sie.classes=k$;Sie.displayName="@mantine/core/TableScrollContainer";const bbt={withRowBorders:!0,verticalSpacing:7},_bt=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:s,stripedColor:o,highlightOnHoverColor:a,striped:u,highlightOnHover:l,stickyHeaderOffset:c,stickyHeader:f})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":Lo(r),"--table-vertical-spacing":Lo(i),"--table-border-color":s?Vi(s,e):void 0,"--table-striped-color":u&&o?Vi(o,e):void 0,"--table-highlight-on-hover-color":l&&a?Vi(a,e):void 0,"--table-sticky-header-offset":f?De(c):void 0}}),ln=ft((e,t)=>{const n=We("Table",bbt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,horizontalSpacing:l,verticalSpacing:c,captionSide:f,stripedColor:d,highlightOnHoverColor:h,striped:p,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,withTableBorder:v,borderColor:b,layout:w,variant:x,data:S,children:A,stickyHeader:C,stickyHeaderOffset:$,mod:k,...P}=n,L=Bt({name:"Table",props:n,className:i,style:s,classes:k$,classNames:r,styles:o,unstyled:a,rootSelector:"table",vars:u,varsResolver:_bt});return E.jsx(pbt,{value:{getStyles:L,stickyHeader:C,striped:p===!0?"odd":p||void 0,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,captionSide:f||"bottom"},children:E.jsx(ke,{component:"table",variant:x,ref:t,mod:[{"data-with-table-border":v},k],...L("table"),...P,children:A||!!S&&E.jsx(Tie,{data:S})})})});ln.classes=k$;ln.displayName="@mantine/core/Table";ln.Td=$Pe;ln.Th=LX;ln.Tr=iD;ln.Thead=NPe;ln.Tbody=PPe;ln.Tfoot=OPe;ln.Caption=DPe;ln.ScrollContainer=Sie;ln.DataRenderer=Tie;const[wbt,Aie]=du("Tabs component was not found in the tree");var R$={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const xbt={},Cie=ft((e,t)=>{const n=We("TabsList",xbt,e),{children:r,className:i,grow:s,justify:o,classNames:a,styles:u,style:l,mod:c,...f}=n,d=Aie();return E.jsx(ke,{...f,...d.getStyles("list",{className:i,style:l,classNames:a,styles:u,props:n,variant:d.variant}),ref:t,role:"tablist",variant:d.variant,mod:[{grow:s,orientation:d.orientation,placement:d.orientation==="vertical"&&d.placement,inverted:d.inverted},c],"aria-orientation":d.orientation,__vars:{"--tabs-justify":o},children:r})});Cie.classes=R$;Cie.displayName="@mantine/core/TabsList";const Ebt={},Iie=ft((e,t)=>{const n=We("TabsPanel",Ebt,e),{children:r,className:i,value:s,classNames:o,styles:a,style:u,mod:l,...c}=n,f=Aie(),d=f.value===s,h=f.keepMounted||n.keepMounted||d?r:null;return E.jsx(ke,{...c,...f.getStyles("panel",{className:i,classNames:o,styles:a,style:[u,d?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},l],role:"tabpanel",id:f.getPanelId(s),"aria-labelledby":f.getTabId(s),children:h})});Iie.classes=R$;Iie.displayName="@mantine/core/TabsPanel";const Tbt={},kie=ft((e,t)=>{const n=We("TabsTab",Tbt,e),{className:r,children:i,rightSection:s,leftSection:o,value:a,onClick:u,onKeyDown:l,disabled:c,color:f,style:d,classNames:h,styles:p,vars:m,mod:g,...y}=n,v=So(),{dir:b}=zy(),w=Aie(),x=a===w.value,S=C=>{w.onChange(w.allowTabDeactivation&&a===w.value?null:a),u==null||u(C)},A={classNames:h,styles:p,props:n};return E.jsxs(Vf,{...y,...w.getStyles("tab",{className:r,style:d,variant:w.variant,...A}),disabled:c,unstyled:w.unstyled,variant:w.variant,mod:[{active:x,disabled:c,orientation:w.orientation,inverted:w.inverted,placement:w.orientation==="vertical"&&w.placement},g],ref:t,role:"tab",id:w.getTabId(a),"aria-selected":x,tabIndex:x||w.value===null?0:-1,"aria-controls":w.getPanelId(a),onClick:S,__vars:{"--tabs-color":f?Vi(f,v):void 0},onKeyDown:zne({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:w.activateTabWithKeyboard,loop:w.loop,orientation:w.orientation||"horizontal",dir:b,onKeyDown:l}),children:[o&&E.jsx("span",{...w.getStyles("tabSection",A),"data-position":"left",children:o}),i&&E.jsx("span",{...w.getStyles("tabLabel",A),children:i}),s&&E.jsx("span",{...w.getStyles("tabSection",A),"data-position":"right",children:s})]})});kie.classes=R$;kie.displayName="@mantine/core/TabsTab";const R1e="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Sbt={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Abt=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":Ki(t),"--tabs-color":Vi(n,e),"--tabs-text-color":gC(r,e)?e_({color:n,theme:e,autoContrast:r}):void 0}}),Fr=ft((e,t)=>{const n=We("Tabs",Sbt,e),{defaultValue:r,value:i,onChange:s,orientation:o,children:a,loop:u,id:l,activateTabWithKeyboard:c,allowTabDeactivation:f,variant:d,color:h,radius:p,inverted:m,placement:g,keepMounted:y,classNames:v,styles:b,unstyled:w,className:x,style:S,vars:A,autoContrast:C,mod:$,...k}=n,P=el(l),[L,O]=Na({value:i,defaultValue:r,finalValue:null,onChange:s}),B=Bt({name:"Tabs",props:n,classes:R$,className:x,style:S,classNames:v,styles:b,unstyled:w,vars:A,varsResolver:Abt});return E.jsx(wbt,{value:{placement:g,value:L,orientation:o,id:P,loop:u,activateTabWithKeyboard:c,getTabId:M9(`${P}-tab`,R1e),getPanelId:M9(`${P}-panel`,R1e),onChange:O,allowTabDeactivation:f,variant:d,color:h,radius:p,inverted:m,keepMounted:y,unstyled:w,getStyles:B},children:E.jsx(ke,{ref:t,id:P,variant:d,mod:[{orientation:o,inverted:o==="horizontal"&&m,placement:o==="vertical"&&g},$],...B("root"),...k,children:a})})});Fr.classes=R$;Fr.displayName="@mantine/core/Tabs";Fr.Tab=kie;Fr.Panel=Iie;Fr.List=Cie;const Cbt={},zg=ft((e,t)=>{const n=We("TextInput",Cbt,e);return E.jsx(oh,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});zg.classes=oh.classes;zg.displayName="@mantine/core/TextInput";const Ibt=["h1","h2","h3","h4","h5","h6"];function kbt(e,t){const n=t!==void 0?t:`h${e}`;return Ibt.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:{fontSize:De(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var LPe={root:"m_8a5d1357"};const Rbt={order:1},$bt=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const s=kbt(t,n);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},to=ft((e,t)=>{const n=We("Title",Rbt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,order:u,vars:l,size:c,variant:f,lineClamp:d,textWrap:h,mod:p,...m}=n,g=Bt({name:"Title",props:n,classes:LPe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:$bt});return[1,2,3,4,5,6].includes(u)?E.jsx(ke,{...g("root"),component:`h${u}`,variant:f,ref:t,mod:[{order:u,"data-line-clamp":typeof d=="number"},p],size:c,...m}):null});to.classes=LPe;to.displayName="@mantine/core/Title";function Nbt(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(s=>s(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function Pbt(e){return R.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function Obt(e,t,n){const r=[],i=[],s={};for(const o of e){const a=o.position||t;s[a]=s[a]||0,s[a]+=1,s[a]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}const Dbt=()=>Nbt({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),w2=Dbt(),Lbt=(e=w2)=>Pbt(e);function kC(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=Obt(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function Mbt(e,t=w2){const n=e.id||lS();return kC(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function MPe(e,t=w2){return kC(t,n=>n.filter(r=>{var i;return r.id===e?((i=r.onClose)==null||i.call(r,r),!1):!0})),e}function Fbt(e,t=w2){return kC(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function Bbt(e=w2){kC(e,()=>[])}function jbt(e=w2){kC(e,t=>t.slice(0,e.getState().limit))}const x2={show:Mbt,hide:MPe,update:Fbt,clean:Bbt,cleanQueue:jbt,updateState:kC};function MX(e,t){return MX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},MX(e,t)}function FPe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,MX(e,t)}var BPe={exports:{}},Ubt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zbt=Ubt,Vbt=zbt;function jPe(){}function UPe(){}UPe.resetWarningCache=jPe;var Hbt=function(){function e(r,i,s,o,a,u){if(u!==Vbt){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:UPe,resetWarningCache:jPe};return n.PropTypes=n,n};BPe.exports=Hbt();var qbt=BPe.exports;const $1e=tf(qbt),N1e={disabled:!1},Y9=ui.createContext(null);var Wbt=function(t){return t.scrollTop},I4="unmounted",fw="exited",dw="entering",yT="entered",FX="exiting",Gy=function(e){FPe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=fw,s.appearStatus=dw):u=yT:r.unmountOnExit||r.mountOnEnter?u=I4:u=fw,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===I4?{status:fw}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==dw&&o!==yT&&(s=dw):(o===dw||o===yT)&&(s=FX)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===dw){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:C4.findDOMNode(this);o&&Wbt(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fw&&this.setState({status:I4})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[C4.findDOMNode(this),a],l=u[0],c=u[1],f=this.getTimeouts(),d=a?f.appear:f.enter;if(!i&&!o||N1e.disabled){this.safeSetState({status:yT},function(){s.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:dw},function(){s.props.onEntering(l,c),s.onTransitionEnd(d,function(){s.safeSetState({status:yT},function(){s.props.onEntered(l,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:C4.findDOMNode(this);if(!s||N1e.disabled){this.safeSetState({status:fw},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:FX},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:fw},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:C4.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=u[0],c=u[1];this.props.addEndListener(l,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===I4)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Zre(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ui.createElement(Y9.Provider,{value:null},typeof o=="function"?o(i,a):ui.cloneElement(ui.Children.only(o),a))},t}(ui.Component);Gy.contextType=Y9;Gy.propTypes={};function FE(){}Gy.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:FE,onEntering:FE,onEntered:FE,onExit:FE,onExiting:FE,onExited:FE};Gy.UNMOUNTED=I4;Gy.EXITED=fw;Gy.ENTERING=dw;Gy.ENTERED=yT;Gy.EXITING=FX;function Gbt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rie(e,t){var n=function(s){return t&&R.isValidElement(s)?t(s):s},r=Object.create(null);return e&&R.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Ybt(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in t){if(r[u])for(o=0;o<r[u].length;o++){var l=r[u][o];a[r[u][o]]=n(l)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function qw(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Kbt(e,t){return Rie(e.children,function(n){return R.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:qw(n,"appear",e),enter:qw(n,"enter",e),exit:qw(n,"exit",e)})})}function Xbt(e,t,n){var r=Rie(e.children),i=Ybt(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(R.isValidElement(o)){var a=s in t,u=s in r,l=t[s],c=R.isValidElement(l)&&!l.props.in;u&&(!a||c)?i[s]=R.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:qw(o,"exit",e),enter:qw(o,"enter",e)}):!u&&a&&!c?i[s]=R.cloneElement(o,{in:!1}):u&&a&&R.isValidElement(l)&&(i[s]=R.cloneElement(o,{onExited:n.bind(null,o),in:l.props.in,exit:qw(o,"exit",e),enter:qw(o,"enter",e)}))}}),i}var Qbt=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Jbt={component:"div",childFactory:function(t){return t}},tv=function(e){FPe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(Gbt(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?Kbt(i,a):Xbt(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Rie(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=H9({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Zre(i,["component","childFactory"]),u=this.state.contextValue,l=Qbt(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?ui.createElement(Y9.Provider,{value:u},l):ui.createElement(Y9.Provider,{value:u},ui.createElement(s,a,l))},t}(ui.Component);tv.propTypes={};tv.defaultProps=Jbt;const zPe=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function Zbt(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),zPe.reduce((n,r)=>(n[r]=[],n),{}))}const P1e={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},e_t={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function t_t({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,s]=n.split("-"),o=s==="center"?`${i}-center`:s,a={opacity:0,maxHeight:t,transform:P1e[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},u={opacity:1,transform:e_t[o]},l={opacity:0,maxHeight:0,transform:P1e[o]};return{...a,...{entering:u,entered:u,exiting:l,exited:l}[e]}}function n_t(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const VPe=R.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:s,message:o,...a}=e,u=n_t(n,e.autoClose),l=R.useRef(-1),c=()=>window.clearTimeout(l.current),f=()=>{t(e.id),c()},d=()=>{typeof u=="number"&&(l.current=window.setTimeout(f,u))};return R.useEffect(()=>{var h;(h=e.onOpen)==null||h.call(e,e)},[]),R.useEffect(()=>(d(),c),[u]),E.jsx(fie,{...r,...a,onClose:f,ref:i,onMouseEnter:c,onMouseLeave:d,children:o})});VPe.displayName="@mantine/notifications/NotificationContainer";var HPe={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const r_t=Gy,i_t={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Op("overlay"),store:w2,withinPortal:!0},s_t=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":De(n)}}),Yy=ft((e,t)=>{const n=We("Notifications",i_t,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,position:l,autoClose:c,transitionDuration:f,containerWidth:d,notificationMaxHeight:h,limit:p,zIndex:m,store:g,portalProps:y,withinPortal:v,...b}=n,w=So(),x=Lbt(g),S=qdt(),A=x7(),C=R.useRef({}),$=R.useRef(0),P=(w.respectReducedMotion?A:!1)?1:f,L=Bt({name:"Notifications",classes:HPe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:s_t});R.useEffect(()=>{g==null||g.updateState(q=>({...q,limit:p||5,defaultPosition:l}))},[p,l]),im(()=>{x.notifications.length>$.current&&setTimeout(()=>S(),0),$.current=x.notifications.length},[x.notifications]);const O=Zbt(x.notifications,l),B=zPe.reduce((q,H)=>(q[H]=O[H].map(({style:G,...K})=>E.jsx(r_t,{timeout:P,onEnter:()=>C.current[K.id].offsetHeight,nodeRef:{current:C.current[K.id]},children:J=>E.jsx(VPe,{ref:F=>{C.current[K.id]=F},data:K,onHide:F=>MPe(F,g),autoClose:c,...L("notification",{style:{...t_t({state:J,position:H,transitionDuration:P,maxHeight:h}),...G}})})},K.id)),q),{});return E.jsxs(_C,{withinPortal:v,...y,children:[E.jsx(ke,{...L("root"),"data-position":"top-center",ref:t,...b,children:E.jsx(tv,{children:B["top-center"]})}),E.jsx(ke,{...L("root"),"data-position":"top-left",...b,children:E.jsx(tv,{children:B["top-left"]})}),E.jsx(ke,{...L("root",{className:JS.classNames.fullWidth}),"data-position":"top-right",...b,children:E.jsx(tv,{children:B["top-right"]})}),E.jsx(ke,{...L("root",{className:JS.classNames.fullWidth}),"data-position":"bottom-right",...b,children:E.jsx(tv,{children:B["bottom-right"]})}),E.jsx(ke,{...L("root"),"data-position":"bottom-left",...b,children:E.jsx(tv,{children:B["bottom-left"]})}),E.jsx(ke,{...L("root"),"data-position":"bottom-center",...b,children:E.jsx(tv,{children:B["bottom-center"]})})]})});Yy.classes=HPe;Yy.displayName="@mantine/notifications/Notifications";Yy.show=x2.show;Yy.hide=x2.hide;Yy.update=x2.update;Yy.clean=x2.clean;Yy.cleanQueue=x2.cleanQueue;Yy.updateState=x2.updateState;const qPe=R.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),Ao=()=>R.useContext(qPe);function o_t({children:e}){const[t,n]=R.useState(void 0),r=R.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return E.jsx(qPe.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qk(){return qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qk.apply(this,arguments)}var Tv;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tv||(Tv={}));const O1e="popstate";function a_t(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return BX("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:GPe(i)}return l_t(t,n,null,e)}function bo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WPe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function u_t(){return Math.random().toString(36).substr(2,8)}function D1e(e,t){return{usr:e.state,key:e.key,idx:t}}function BX(e,t,n,r){return n===void 0&&(n=null),qk({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?RC(t):t,{state:n,key:t&&t.key||r||u_t()})}function GPe(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function RC(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function l_t(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Tv.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(qk({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Tv.Pop;let g=c(),y=g==null?null:g-l;l=g,u&&u({action:a,location:m.location,delta:y})}function d(g,y){a=Tv.Push;let v=BX(m.location,g,y);l=c()+1;let b=D1e(v,l),w=m.createHref(v);try{o.pushState(b,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(w)}s&&u&&u({action:a,location:m.location,delta:1})}function h(g,y){a=Tv.Replace;let v=BX(m.location,g,y);l=c();let b=D1e(v,l),w=m.createHref(v);o.replaceState(b,"",w),s&&u&&u({action:a,location:m.location,delta:0})}function p(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:GPe(g);return v=v.replace(/ $/,"%20"),bo(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return a},get location(){return e(i,o)},listen(g){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(O1e,f),u=g,()=>{i.removeEventListener(O1e,f),u=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(g){return o.go(g)}};return m}var L1e;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(L1e||(L1e={}));function c_t(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?RC(t):t,i=XPe(r.pathname||"/",n);if(i==null)return null;let s=YPe(e);f_t(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=E_t(i);o=__t(s[a],u)}return o}function YPe(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(bo(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Wv([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(bo(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),YPe(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:v_t(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of KPe(s.path))i(s,o,u)}),t}function KPe(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=KPe(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function f_t(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:b_t(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const d_t=/^:[\w-]+$/,h_t=3,p_t=2,m_t=1,g_t=10,y_t=-2,M1e=e=>e==="*";function v_t(e,t){let n=e.split("/"),r=n.length;return n.some(M1e)&&(r+=y_t),t&&(r+=p_t),n.filter(i=>!M1e(i)).reduce((i,s)=>i+(d_t.test(s)?h_t:s===""?m_t:g_t),r)}function b_t(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function __t(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=w_t({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Wv([i,c.pathname]),pathnameBase:C_t(Wv([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Wv([i,c.pathnameBase]))}return s}function w_t(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=x_t(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:e}}function x_t(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),WPe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function E_t(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return WPe(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function XPe(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function T_t(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?RC(e):e;return{pathname:n?n.startsWith("/")?n:S_t(n,t):t,search:I_t(r),hash:k_t(i)}}function S_t(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zH(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A_t(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $ie(e,t){let n=A_t(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nie(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=RC(e):(i=qk({},e),bo(!i.pathname||!i.pathname.includes("?"),zH("?","pathname","search",i)),bo(!i.pathname||!i.pathname.includes("#"),zH("#","pathname","hash",i)),bo(!i.search||!i.search.includes("#"),zH("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=T_t(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Wv=e=>e.join("/").replace(/\/\/+/g,"/"),C_t=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I_t=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,k_t=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function R_t(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const QPe=["post","put","patch","delete"];new Set(QPe);const $_t=["get",...QPe];new Set($_t);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wk.apply(this,arguments)}const Pie=R.createContext(null),N_t=R.createContext(null),E2=R.createContext(null),J7=R.createContext(null),Rm=R.createContext({outlet:null,matches:[],isDataRoute:!1}),JPe=R.createContext(null);function ZPe(e,t){let{relative:n}={};$C()||bo(!1);let{basename:r,navigator:i}=R.useContext(E2),{hash:s,pathname:o,search:a}=L_t(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Wv([r,o])),i.createHref({pathname:u,search:a,hash:s})}function $C(){return R.useContext(J7)!=null}function o_(){return $C()||bo(!1),R.useContext(J7).location}function e8e(e){R.useContext(E2).static||R.useLayoutEffect(e)}function Dp(){let{isDataRoute:e}=R.useContext(Rm);return e?G_t():P_t()}function P_t(){$C()||bo(!1);let e=R.useContext(Pie),{basename:t,future:n,navigator:r}=R.useContext(E2),{matches:i}=R.useContext(Rm),{pathname:s}=o_(),o=JSON.stringify($ie(i,n.v7_relativeSplatPath)),a=R.useRef(!1);return e8e(()=>{a.current=!0}),R.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=Nie(l,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Wv([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,o,s,e])}const O_t=R.createContext(null);function D_t(e){let t=R.useContext(Rm).outlet;return t&&R.createElement(O_t.Provider,{value:e},t)}function sm(){let{matches:e}=R.useContext(Rm),t=e[e.length-1];return t?t.params:{}}function L_t(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(E2),{matches:i}=R.useContext(Rm),{pathname:s}=o_(),o=JSON.stringify($ie(i,r.v7_relativeSplatPath));return R.useMemo(()=>Nie(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function t8e(e,t){return M_t(e,t)}function M_t(e,t,n,r){$C()||bo(!1);let{navigator:i}=R.useContext(E2),{matches:s}=R.useContext(Rm),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=o_(),c;if(t){var f;let g=typeof t=="string"?RC(t):t;u==="/"||(f=g.pathname)!=null&&f.startsWith(u)||bo(!1),c=g}else c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let g=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=c_t(e,{pathname:h}),m=z_t(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Wv([u,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Wv([u,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r);return t&&m?R.createElement(J7.Provider,{value:{location:Wk({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Tv.Pop}},m):m}function F_t(){let e=W_t(),t=R_t(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:i},n):null,null)}const B_t=R.createElement(F_t,null);class j_t extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(Rm.Provider,{value:this.props.routeContext},R.createElement(JPe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U_t(e){let{routeContext:t,match:n,children:r}=e,i=R.useContext(Pie);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Rm.Provider,{value:t},r)}function z_t(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||bo(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let h,p=!1,m=null,g=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||B_t,u&&(l<0&&d===0?(p=!0,g=null):l===d&&(p=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,d+1)),v=()=>{let b;return h?b=m:p?b=g:f.route.Component?b=R.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,R.createElement(U_t,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?R.createElement(j_t,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var n8e=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(n8e||{}),K9=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(K9||{});function V_t(e){let t=R.useContext(Pie);return t||bo(!1),t}function H_t(e){let t=R.useContext(N_t);return t||bo(!1),t}function q_t(e){let t=R.useContext(Rm);return t||bo(!1),t}function r8e(e){let t=q_t(),n=t.matches[t.matches.length-1];return n.route.id||bo(!1),n.route.id}function W_t(){var e;let t=R.useContext(JPe),n=H_t(K9.UseRouteError),r=r8e(K9.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function G_t(){let{router:e}=V_t(n8e.UseNavigateStable),t=r8e(K9.UseNavigateStable),n=R.useRef(!1);return e8e(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Wk({fromRouteId:t},s)))},[e,t])}function Oie(e){let{to:t,replace:n,state:r,relative:i}=e;$C()||bo(!1);let{future:s,static:o}=R.useContext(E2),{matches:a}=R.useContext(Rm),{pathname:u}=o_(),l=Dp(),c=Nie(t,$ie(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(c);return R.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function Y_t(e){return D_t(e.context)}function hw(e){bo(!1)}function K_t(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Tv.Pop,navigator:s,static:o=!1,future:a}=e;$C()&&bo(!1);let u=t.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:u,navigator:s,static:o,future:Wk({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=RC(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,m=R.useMemo(()=>{let g=XPe(c,u);return g==null?null:{location:{pathname:g,search:f,hash:d,state:h,key:p},navigationType:i}},[u,c,f,d,h,p,i]);return m==null?null:R.createElement(E2.Provider,{value:l},R.createElement(J7.Provider,{children:n,value:m}))}function X_t(e){let{children:t,location:n}=e;return t8e(jX(t),n)}new Promise(()=>{});function jX(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,i)=>{if(!R.isValidElement(r))return;let s=[...t,i];if(r.type===R.Fragment){n.push.apply(n,jX(r.props.children,s));return}r.type!==hw&&bo(!1),!r.props.index||!r.props.children||bo(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jX(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function UX(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Q_t(e,t){let n=UX(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const J_t="6";try{window.__reactRouterVersion=J_t}catch{}const Z_t="startTransition",F1e=f9[Z_t];function ewt(e){let{basename:t,children:n,future:r,window:i}=e,s=R.useRef();s.current==null&&(s.current=a_t({window:i,v5Compat:!0}));let o=s.current,[a,u]=R.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=R.useCallback(f=>{l&&F1e?F1e(()=>u(f)):u(f)},[u,l]);return R.useLayoutEffect(()=>o.listen(c),[o,c]),R.createElement(K_t,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var B1e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(B1e||(B1e={}));var j1e;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(j1e||(j1e={}));function a_(e){let t=R.useRef(UX(e)),n=R.useRef(!1),r=o_(),i=R.useMemo(()=>Q_t(r.search,n.current?null:t.current),[r.search]),s=Dp(),o=R.useCallback((a,u)=>{const l=UX(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}const Die=R.createContext(null);Die.displayName="@mantine/modals/ModalsContext";function twt(){const e=R.useContext(Die);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function nwt({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:s=!0,groupProps:o,onCancel:a,onConfirm:u,children:l}){const{cancel:c,confirm:f}=r,d=twt(),h=m=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(m)),typeof a=="function"&&a(),s&&d.closeModal(e)},p=m=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(m)),typeof u=="function"&&u(),i&&d.closeModal(e)};return E.jsxs(E.Fragment,{children:[l&&E.jsx(ke,{mb:"md",children:l}),E.jsxs(Si,{justify:"flex-end",...o,children:[E.jsx(on,{variant:"default",...t,onClick:h,children:(t==null?void 0:t.children)||c}),E.jsx(on,{...n,onClick:p,children:(n==null?void 0:n.children)||f})]})]})}const[rwt,Z7]=oht("mantine-modals");Z7("openModal");Z7("closeModal");Z7("closeAllModals");const U1e=Z7("openConfirmModal");function z1e(e,t){var n,r,i,s;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(s=(i=e.props).onClose)==null||s.call(i)}function iwt(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find(i=>i.id===t.modalId);if(!n)return e;z1e(n,t.canceled);const r=e.modals.filter(i=>i.id!==t.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(n=>{z1e(n,t.canceled)}),{current:e.current,modals:[]}):e;default:return e}}function swt(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:u,groupProps:l,labels:c,...f}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:u,groupProps:l,labels:c},modalProps:{id:t,...f}}}function owt({children:e,modalProps:t,labels:n,modals:r}){const[i,s]=R.useReducer(iwt,{modals:[],current:null}),o=R.useRef(i);o.current=i;const a=R.useCallback(g=>{s({type:"CLOSE_ALL",canceled:g})},[o,s]),u=R.useCallback(({modalId:g,...y})=>{const v=g||lS();return s({type:"OPEN",modal:{id:v,type:"content",props:y}}),v},[s]),l=R.useCallback(({modalId:g,...y})=>{const v=g||lS();return s({type:"OPEN",modal:{id:v,type:"confirm",props:y}}),v},[s]),c=R.useCallback((g,{modalId:y,...v})=>{const b=y||lS();return s({type:"OPEN",modal:{id:b,type:"context",props:v,ctx:g}}),b},[s]),f=R.useCallback((g,y)=>{s({type:"CLOSE",modalId:g,canceled:y})},[o,s]);rwt({openModal:u,openConfirmModal:l,openContextModal:({modal:g,...y})=>c(g,y),closeModal:f,closeContextModal:f,closeAllModals:a});const d={modals:i.modals,openModal:u,openConfirmModal:l,openContextModal:c,closeModal:f,closeContextModal:f,closeAll:a},h=()=>{const g=o.current.current;switch(g==null?void 0:g.type){case"context":{const{innerProps:y,...v}=g.props,b=r[g.ctx];return{modalProps:v,content:E.jsx(b,{innerProps:y,context:d,id:g.id})}}case"confirm":{const{modalProps:y,confirmProps:v}=swt(g.props);return{modalProps:y,content:E.jsx(nwt,{...v,id:g.id,labels:g.props.labels||n})}}case"content":{const{children:y,...v}=g.props;return{modalProps:v,content:E.jsx(E.Fragment,{children:y})}}default:return{modalProps:{},content:null}}},{modalProps:p,content:m}=h();return E.jsxs(Die.Provider,{value:d,children:[E.jsx(io,{zIndex:Op("modal")+1,...t,...p,opened:i.modals.length>0,onClose:()=>{var g;return f((g=i.current)==null?void 0:g.id)},children:m}),e]})}/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var awt={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=(e,t,n,r)=>{const i=R.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,className:u,children:l,...c},f)=>R.createElement("svg",{ref:f,...awt[e],width:o,height:o,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...c},[...r.map(([d,h])=>R.createElement(d,h)),...Array.isArray(l)?l:[l]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uwt=On("outline","adjustments-horizontal","IconAdjustmentsHorizontal",[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lwt=On("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var I6=On("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var V1e=On("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var H1e=On("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cwt=On("outline","arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fwt=On("outline","at","IconAt",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dwt=On("outline","brain","IconBrain",[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hwt=On("outline","brand-python","IconBrandPython",[["path",{d:"M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3",key:"svg-0"}],["path",{d:"M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3",key:"svg-1"}],["path",{d:"M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4",key:"svg-2"}],["path",{d:"M11 6l0 .01",key:"svg-3"}],["path",{d:"M13 18l0 .01",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pwt=On("outline","bubble-text","IconBubbleText",[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mwt=On("outline","chart-donut-2","IconChartDonut2",[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var i8e=On("outline","chart-histogram","IconChartHistogram",[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var s8e=On("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gwt=On("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q1e=On("outline","circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ywt=On("outline","code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vwt=On("outline","database-export","IconDatabaseExport",[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bwt=On("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _wt=On("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wwt=On("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xwt=On("outline","html","IconHtml",[["path",{d:"M13 16v-8l2 5l2 -5v8",key:"svg-0"}],["path",{d:"M1 16v-8",key:"svg-1"}],["path",{d:"M5 8v8",key:"svg-2"}],["path",{d:"M1 12h4",key:"svg-3"}],["path",{d:"M7 8h4",key:"svg-4"}],["path",{d:"M9 8v8",key:"svg-5"}],["path",{d:"M20 8v8h3",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lie=On("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ewt=On("outline","layout-columns","IconLayoutColumns",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Twt=On("outline","list-check","IconListCheck",[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Swt=On("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Awt=On("outline","number-123","IconNumber123",[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cwt=On("outline","package-import","IconPackageImport",[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M22 18h-7",key:"svg-4"}],["path",{d:"M18 15l-3 3l3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iwt=On("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kwt=On("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var o8e=On("outline","progress","IconProgress",[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rwt=On("outline","radio","IconRadio",[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $wt=On("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nwt=On("outline","schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pwt=On("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Owt=On("outline","select","IconSelect",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 11l3 3l3 -3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var a8e=On("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dwt=On("outline","squares","IconSquares",[["path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var u8e=On("outline","table-export","IconTableExport",[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lwt=On("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var l8e=On("outline","trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mie=On("outline","user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var W1e=On("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fie=On("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mwt=On("filled","brand-google-filled","IconBrandGoogleFilled",[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fwt=On("filled","player-pause-filled","IconPlayerPauseFilled",[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bwt=On("filled","player-play-filled","IconPlayerPlayFilled",[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]]);function c8e(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Nl="/vis-decode/";function G1e(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function f8e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const jwt=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Uwt=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zwt={};function Y1e(e,t){return(zwt.jsx?Uwt:jwt).test(e)}const Vwt=/[ \t\n\f\r]/g;function Hwt(e){return typeof e=="object"?e.type==="text"?K1e(e.value):!1:K1e(e)}function K1e(e){return e.replace(Vwt,"")===""}let $$=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};$$.prototype.property={};$$.prototype.normal={};$$.prototype.space=null;function d8e(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new $$(n,r,t)}function Gk(e){return e.toLowerCase()}let uh=class{constructor(t,n){this.property=t,this.attribute=n}};uh.prototype.space=null;uh.prototype.boolean=!1;uh.prototype.booleanish=!1;uh.prototype.overloadedBoolean=!1;uh.prototype.number=!1;uh.prototype.commaSeparated=!1;uh.prototype.spaceSeparated=!1;uh.prototype.commaOrSpaceSeparated=!1;uh.prototype.mustUseProperty=!1;uh.prototype.defined=!1;let qwt=0;const Yn=T2(),No=T2(),h8e=T2(),xt=T2(),as=T2(),hS=T2(),gf=T2();function T2(){return 2**++qwt}const zX=Object.freeze(Object.defineProperty({__proto__:null,boolean:Yn,booleanish:No,commaOrSpaceSeparated:gf,commaSeparated:hS,number:xt,overloadedBoolean:h8e,spaceSeparated:as},Symbol.toStringTag,{value:"Module"})),VH=Object.keys(zX);class Bie extends uh{constructor(t,n,r,i){let s=-1;if(super(t,n),X1e(this,"space",i),typeof r=="number")for(;++s<VH.length;){const o=VH[s];X1e(this,VH[s],(r&zX[o])===zX[o])}}}Bie.prototype.defined=!0;function X1e(e,t,n){n&&(e[t]=n)}const Wwt={}.hasOwnProperty;function NC(e){const t={},n={};let r;for(r in e.properties)if(Wwt.call(e.properties,r)){const i=e.properties[r],s=new Bie(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Gk(r)]=r,n[Gk(s.attribute)]=r}return new $$(t,n,e.space)}const p8e=NC({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),m8e=NC({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function g8e(e,t){return t in e?e[t]:t}function y8e(e,t){return g8e(e,t.toLowerCase())}const v8e=NC({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:y8e,properties:{xmlns:null,xmlnsXLink:null}}),b8e=NC({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:No,ariaAutoComplete:null,ariaBusy:No,ariaChecked:No,ariaColCount:xt,ariaColIndex:xt,ariaColSpan:xt,ariaControls:as,ariaCurrent:null,ariaDescribedBy:as,ariaDetails:null,ariaDisabled:No,ariaDropEffect:as,ariaErrorMessage:null,ariaExpanded:No,ariaFlowTo:as,ariaGrabbed:No,ariaHasPopup:null,ariaHidden:No,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:as,ariaLevel:xt,ariaLive:null,ariaModal:No,ariaMultiLine:No,ariaMultiSelectable:No,ariaOrientation:null,ariaOwns:as,ariaPlaceholder:null,ariaPosInSet:xt,ariaPressed:No,ariaReadOnly:No,ariaRelevant:null,ariaRequired:No,ariaRoleDescription:as,ariaRowCount:xt,ariaRowIndex:xt,ariaRowSpan:xt,ariaSelected:No,ariaSetSize:xt,ariaSort:null,ariaValueMax:xt,ariaValueMin:xt,ariaValueNow:xt,ariaValueText:null,role:null}}),Gwt=NC({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:y8e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hS,acceptCharset:as,accessKey:as,action:null,allow:null,allowFullScreen:Yn,allowPaymentRequest:Yn,allowUserMedia:Yn,alt:null,as:null,async:Yn,autoCapitalize:null,autoComplete:as,autoFocus:Yn,autoPlay:Yn,blocking:as,capture:null,charSet:null,checked:Yn,cite:null,className:as,cols:xt,colSpan:null,content:null,contentEditable:No,controls:Yn,controlsList:as,coords:xt|hS,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Yn,defer:Yn,dir:null,dirName:null,disabled:Yn,download:h8e,draggable:No,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Yn,formTarget:null,headers:as,height:xt,hidden:Yn,high:xt,href:null,hrefLang:null,htmlFor:as,httpEquiv:as,id:null,imageSizes:null,imageSrcSet:null,inert:Yn,inputMode:null,integrity:null,is:null,isMap:Yn,itemId:null,itemProp:as,itemRef:as,itemScope:Yn,itemType:as,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Yn,low:xt,manifest:null,max:null,maxLength:xt,media:null,method:null,min:null,minLength:xt,multiple:Yn,muted:Yn,name:null,nonce:null,noModule:Yn,noValidate:Yn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Yn,optimum:xt,pattern:null,ping:as,placeholder:null,playsInline:Yn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Yn,referrerPolicy:null,rel:as,required:Yn,reversed:Yn,rows:xt,rowSpan:xt,sandbox:as,scope:null,scoped:Yn,seamless:Yn,selected:Yn,shadowRootClonable:Yn,shadowRootDelegatesFocus:Yn,shadowRootMode:null,shape:null,size:xt,sizes:null,slot:null,span:xt,spellCheck:No,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xt,step:null,style:null,tabIndex:xt,target:null,title:null,translate:null,type:null,typeMustMatch:Yn,useMap:null,value:No,width:xt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:as,axis:null,background:null,bgColor:null,border:xt,borderColor:null,bottomMargin:xt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Yn,declare:Yn,event:null,face:null,frame:null,frameBorder:null,hSpace:xt,leftMargin:xt,link:null,longDesc:null,lowSrc:null,marginHeight:xt,marginWidth:xt,noResize:Yn,noHref:Yn,noShade:Yn,noWrap:Yn,object:null,profile:null,prompt:null,rev:null,rightMargin:xt,rules:null,scheme:null,scrolling:No,standby:null,summary:null,text:null,topMargin:xt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Yn,disableRemotePlayback:Yn,prefix:null,property:null,results:xt,security:null,unselectable:null}}),Ywt=NC({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:g8e,properties:{about:gf,accentHeight:xt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xt,amplitude:xt,arabicForm:null,ascent:xt,attributeName:null,attributeType:null,azimuth:xt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xt,by:null,calcMode:null,capHeight:xt,className:as,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xt,diffuseConstant:xt,direction:null,display:null,dur:null,divisor:xt,dominantBaseline:null,download:Yn,dx:null,dy:null,edgeMode:null,editable:null,elevation:xt,enableBackground:null,end:null,event:null,exponent:xt,externalResourcesRequired:null,fill:null,fillOpacity:xt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hS,g2:hS,glyphName:hS,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xt,horizOriginX:xt,horizOriginY:xt,id:null,ideographic:xt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xt,k:xt,k1:xt,k2:xt,k3:xt,k4:xt,kernelMatrix:gf,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xt,overlineThickness:xt,paintOrder:null,panose1:null,path:null,pathLength:xt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:as,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xt,pointsAtY:xt,pointsAtZ:xt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gf,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gf,rev:gf,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gf,requiredFeatures:gf,requiredFonts:gf,requiredFormats:gf,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xt,specularExponent:xt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xt,strikethroughThickness:xt,string:null,stroke:null,strokeDashArray:gf,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xt,strokeOpacity:xt,strokeWidth:null,style:null,surfaceScale:xt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gf,tabIndex:xt,tableValues:null,target:null,targetX:xt,targetY:xt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gf,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xt,underlineThickness:xt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xt,values:null,vAlphabetic:xt,vMathematical:xt,vectorEffect:null,vHanging:xt,vIdeographic:xt,version:null,vertAdvY:xt,vertOriginX:xt,vertOriginY:xt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Kwt=/^data[-\w.:]+$/i,Q1e=/-[a-z]/g,Xwt=/[A-Z]/g;function eB(e,t){const n=Gk(t);let r=t,i=uh;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Kwt.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Q1e,Jwt);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Q1e.test(s)){let o=s.replace(Xwt,Qwt);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Bie}return new i(r,t)}function Qwt(e){return"-"+e.toLowerCase()}function Jwt(e){return e.charAt(1).toUpperCase()}const Zwt={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},N$=d8e([m8e,p8e,v8e,b8e,Gwt],"html"),u_=d8e([m8e,p8e,v8e,b8e,Ywt],"svg");function J1e(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function _8e(e){return e.join(" ").trim()}var w8e={},Z1e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ext=/\n/g,txt=/^\s*/,nxt=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,rxt=/^:\s*/,ixt=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,sxt=/^[;\s]*/,oxt=/^\s+|\s+$/g,axt=`
`,eve="/",tve="*",Iw="",uxt="comment",lxt="declaration",cxt=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(ext);m&&(n+=m.length);var g=p.lastIndexOf(axt);r=~g?p.length-g:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),l(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function u(p){var m=p.exec(e);if(m){var g=m[0];return i(g),e=e.slice(g.length),m}}function l(){u(txt)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=s();if(!(eve!=e.charAt(0)||tve!=e.charAt(1))){for(var m=2;Iw!=e.charAt(m)&&(tve!=e.charAt(m)||eve!=e.charAt(m+1));)++m;if(m+=2,Iw===e.charAt(m-1))return a("End of comment missing");var g=e.slice(2,m-2);return r+=2,i(g),e=e.slice(m),r+=2,p({type:uxt,comment:g})}}function d(){var p=s(),m=u(nxt);if(m){if(f(),!u(rxt))return a("property missing ':'");var g=u(ixt),y=p({type:lxt,property:nve(m[0].replace(Z1e,Iw)),value:g?nve(g[0].replace(Z1e,Iw)):Iw});return u(sxt),y}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return l(),h()};function nve(e){return e?e.replace(oxt,Iw):Iw}var fxt=Jt&&Jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(w8e,"__esModule",{value:!0});var dxt=fxt(cxt);function hxt(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,dxt.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?t(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var rve=w8e.default=hxt;const pxt=rve.default||rve,tB=x8e("end"),$m=x8e("start");function x8e(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function mxt(e){const t=$m(e),n=tB(e);if(t&&n)return{start:t,end:n}}function k6(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ive(e.position):"start"in e||"end"in e?ive(e):"line"in e||"column"in e?VX(e):""}function VX(e){return sve(e&&e.line)+":"+sve(e&&e.column)}function ive(e){return VX(e&&e.start)+"-"+VX(e&&e.end)}function sve(e){return e&&typeof e=="number"?e:1}class tl extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=k6(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}tl.prototype.file="";tl.prototype.name="";tl.prototype.reason="";tl.prototype.message="";tl.prototype.stack="";tl.prototype.column=void 0;tl.prototype.line=void 0;tl.prototype.ancestors=void 0;tl.prototype.cause=void 0;tl.prototype.fatal=void 0;tl.prototype.place=void 0;tl.prototype.ruleId=void 0;tl.prototype.source=void 0;const jie={}.hasOwnProperty,gxt=new Map,yxt=/[A-Z]/g,vxt=/-([a-z])/g,bxt=new Set(["table","tbody","thead","tfoot","tr"]),_xt=new Set(["td","th"]),E8e="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function wxt(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=kxt(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Ixt(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?u_:N$,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=T8e(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function T8e(e,t,n){if(t.type==="element")return xxt(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Ext(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Sxt(e,t,n);if(t.type==="mdxjsEsm")return Txt(e,t);if(t.type==="root")return Axt(e,t,n);if(t.type==="text")return Cxt(e,t)}function xxt(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=u_,e.schema=i),e.ancestors.push(t);const s=A8e(e,t.tagName,!1),o=Rxt(e,t);let a=zie(e,t);return bxt.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!Hwt(u):!0})),S8e(e,o,s,t),Uie(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Ext(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Yk(e,t.position)}function Txt(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Yk(e,t.position)}function Sxt(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=u_,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:A8e(e,t.name,!0),o=$xt(e,t),a=zie(e,t);return S8e(e,o,s,t),Uie(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Axt(e,t,n){const r={};return Uie(r,zie(e,t)),e.create(t,e.Fragment,r,n)}function Cxt(e,t){return t.value}function S8e(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Uie(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Ixt(e,t,n){return r;function r(i,s,o,a){const l=Array.isArray(o.children)?n:t;return a?l(s,o,a):l(s,o)}}function kxt(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=$m(r);return t(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function Rxt(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&jie.call(t.properties,i)){const s=Nxt(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&_xt.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function $xt(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Yk(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Yk(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function zie(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:gxt;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const l=i.get(u)||0;o=u+"-"+l,i.set(u,l+1)}}const a=T8e(e,s,o);a!==void 0&&n.push(a)}return n}function Nxt(e,t,n){const r=eB(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?f8e(n):_8e(n)),r.property==="style"){let i=typeof n=="object"?n:Pxt(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Oxt(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Zwt[r.property]||r.property:r.attribute,n]}}function Pxt(e,t){const n={};try{pxt(t,r)}catch(i){if(!e.ignoreInvalidStyle){const s=i,o=new tl("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=E8e+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(vxt,Lxt)),n[o]=s}}function A8e(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=Y1e(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Y1e(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return jie.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Yk(e)}function Yk(e,t){const n=new tl("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=E8e+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Oxt(e){const t={};let n;for(n in e)jie.call(e,n)&&(t[Dxt(n)]=e[n]);return t}function Dxt(e){let t=e.replace(yxt,Mxt);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Lxt(e,t){return t.toUpperCase()}function Mxt(e){return"-"+e.toLowerCase()}const HH={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Fxt={};function Bxt(e,t){const n=Fxt,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return C8e(e,r,i)}function C8e(e,t,n){if(jxt(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ove(e.children,t,n)}return Array.isArray(e)?ove(e,t,n):""}function ove(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=C8e(e[i],t,n);return r.join("")}function jxt(e){return!!(e&&typeof e=="object")}const ave=document.createElement("i");function Vie(e){const t="&"+e+";";ave.innerHTML=t;const n=ave.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function wy(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function $d(e,t){return e.length>0?(wy(e,e.length,0,t),e):t}const uve={}.hasOwnProperty;function Uxt(e){const t={};let n=-1;for(;++n<e.length;)zxt(t,e[n]);return t}function zxt(e,t){let n;for(n in t){const i=(uve.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){uve.call(i,o)||(i[o]=[]);const a=s[o];Vxt(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Vxt(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);wy(e,0,0,r)}function I8e(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function pS(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const E0=l_(/[A-Za-z]/),$f=l_(/[\dA-Za-z]/),Hxt=l_(/[#-'*+\--9=?A-Z^-~]/);function HX(e){return e!==null&&(e<32||e===127)}const qX=l_(/\d/),qxt=l_(/[\dA-Fa-f]/),Wxt=l_(/[!-/:-@[-`{-~]/);function In(e){return e!==null&&e<-2}function Mc(e){return e!==null&&(e<0||e===32)}function vi(e){return e===-2||e===-1||e===32}const Gxt=l_(new RegExp("\\p{P}|\\p{S}","u")),Yxt=l_(/\s/);function l_(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function PC(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&$f(e.charCodeAt(n+1))&&$f(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ls(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return vi(u)?(e.enter(n),a(u)):t(u)}function a(u){return vi(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const Kxt={tokenize:Xxt};function Xxt(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ls(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return In(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Qxt={tokenize:Jxt},lve={tokenize:Zxt};function Jxt(e){const t=this,n=[];let r=0,i,s,o;return a;function a(b){if(r<n.length){const w=n[r];return t.containerState=w[1],e.attempt(w[0].continuation,u,l)(b)}return l(b)}function u(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const w=t.events.length;let x=w,S;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){S=t.events[x][1].end;break}y(r);let A=w;for(;A<t.events.length;)t.events[A][1].end=Object.assign({},S),A++;return wy(t.events,x+1,0,t.events.slice(w)),t.events.length=A,l(b)}return a(b)}function l(b){if(r===n.length){if(!i)return d(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(lve,c,f)(b)}function c(b){return i&&v(),y(r),d(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(b)}function d(b){return t.containerState={},e.attempt(lve,h,p)(b)}function h(b){return r++,n.push([t.currentConstruct,t.containerState]),d(b)}function p(b){if(b===null){i&&v(),y(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(b)}function m(b){if(b===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(b);return}return In(b)?(e.consume(b),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(b),m)}function g(b,w){const x=t.sliceStream(b);if(w&&x.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(x),t.parser.lazy[b.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const A=t.events.length;let C=A,$,k;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if($){k=t.events[C][1].end;break}$=!0}for(y(r),S=A;S<t.events.length;)t.events[S][1].end=Object.assign({},k),S++;wy(t.events,C+1,0,t.events.slice(A)),t.events.length=S}}function y(b){let w=n.length;for(;w-- >b;){const x=n[w];t.containerState=x[1],x[0].exit.call(t,e)}n.length=b}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Zxt(e,t,n){return ls(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function cve(e){if(e===null||Mc(e)||Yxt(e))return 1;if(Gxt(e))return 2}function Hie(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const WX={name:"attention",tokenize:t2t,resolveAll:e2t};function e2t(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);fve(f,-u),fve(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=$d(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=$d(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=$d(l,Hie(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=$d(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=$d(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,wy(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function t2t(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=cve(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=cve(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function fve(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const n2t={name:"autolink",tokenize:r2t};function r2t(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return E0(h)?(e.consume(h),o):h===64?n(h):l(h)}function o(h){return h===43||h===45||h===46||$f(h)?(r=1,a(h)):l(h)}function a(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||$f(h))&&r++<32?(e.consume(h),a):(r=0,l(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||HX(h)?n(h):(e.consume(h),u)}function l(h){return h===64?(e.consume(h),c):Hxt(h)?(e.consume(h),l):n(h)}function c(h){return $f(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||$f(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const nB={tokenize:i2t,partial:!0};function i2t(e,t,n){return r;function r(s){return vi(s)?ls(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||In(s)?t(s):n(s)}}const k8e={name:"blockQuote",tokenize:s2t,continuation:{tokenize:o2t},exit:a2t};function s2t(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return vi(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function o2t(e,t,n){const r=this;return i;function i(o){return vi(o)?ls(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(k8e,t,n)(o)}}function a2t(e){e.exit("blockQuote")}const R8e={name:"characterEscape",tokenize:u2t};function u2t(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Wxt(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const $8e={name:"characterReference",tokenize:l2t};function l2t(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=$f,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=qxt,c):(e.enter("characterReferenceValue"),s=7,o=qX,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return o===$f&&!Vie(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),c):n(f)}}const dve={tokenize:f2t,partial:!0},hve={name:"codeFenced",tokenize:c2t,concrete:!0};function c2t(e,t,n){const r=this,i={tokenize:x,partial:!0};let s=0,o=0,a;return u;function u(S){return l(S)}function l(S){const A=r.events[r.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===a?(o++,e.consume(S),c):o<3?n(S):(e.exit("codeFencedFenceSequence"),vi(S)?ls(e,f,"whitespace")(S):f(S))}function f(S){return S===null||In(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(dve,m,w)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(S))}function d(S){return S===null||In(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):vi(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ls(e,h,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),d)}function h(S){return S===null||In(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||In(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===a?n(S):(e.consume(S),p)}function m(S){return e.attempt(i,w,g)(S)}function g(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y}function y(S){return s>0&&vi(S)?ls(e,v,"linePrefix",s+1)(S):v(S)}function v(S){return S===null||In(S)?e.check(dve,m,w)(S):(e.enter("codeFlowValue"),b(S))}function b(S){return S===null||In(S)?(e.exit("codeFlowValue"),v(S)):(e.consume(S),b)}function w(S){return e.exit("codeFenced"),t(S)}function x(S,A,C){let $=0;return k;function k(q){return S.enter("lineEnding"),S.consume(q),S.exit("lineEnding"),P}function P(q){return S.enter("codeFencedFence"),vi(q)?ls(S,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):L(q)}function L(q){return q===a?(S.enter("codeFencedFenceSequence"),O(q)):C(q)}function O(q){return q===a?($++,S.consume(q),O):$>=o?(S.exit("codeFencedFenceSequence"),vi(q)?ls(S,B,"whitespace")(q):B(q)):C(q)}function B(q){return q===null||In(q)?(S.exit("codeFencedFence"),A(q)):C(q)}}}function f2t(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const qH={name:"codeIndented",tokenize:h2t},d2t={tokenize:p2t,partial:!0};function h2t(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),ls(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):In(l)?e.attempt(d2t,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||In(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function p2t(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):In(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):ls(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):In(o)?i(o):n(o)}}const m2t={name:"codeText",tokenize:v2t,resolve:g2t,previous:y2t};function g2t(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function y2t(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function v2t(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):In(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||In(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}class b2t{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&gI(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),gI(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),gI(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);gI(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);gI(this.left,n.reverse())}}}function gI(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function N8e(e){const t={};let n=-1,r,i,s,o,a,u,l;const c=new b2t(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,_2t(c,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},c.get(i)[1].start),a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return wy(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function _2t(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),d=g.length;d--;){const y=a.slice(g[d],g[d+1]),v=s.pop();u.push([v,v+y.length-1]),e.splice(v,2,y)}for(u.reverse(),d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const w2t={tokenize:T2t,resolve:E2t},x2t={tokenize:S2t,partial:!0};function E2t(e){return N8e(e),e}function T2t(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):In(a)?e.check(x2t,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function S2t(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ls(e,s,"linePrefix")}function s(o){if(o===null||In(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function P8e(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),d):y===null||y===32||y===41||HX(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(y))}function d(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),d(y)):y===null||y===60||In(y)?n(y):(e.consume(y),y===92?p:h)}function p(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function m(y){return!c&&(y===null||y===41||Mc(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):c<l&&y===40?(e.consume(y),c++,m):y===41?(e.consume(y),c--,m):y===null||y===32||y===40||HX(y)?n(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function O8e(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):In(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||In(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u||(u=!vi(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function D8e(e,t,n,r,i,s){let o;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u):n(d)}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):In(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),ls(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||In(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function R6(e,t){let n;return r;function r(i){return In(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):vi(i)?ls(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const A2t={name:"definition",tokenize:I2t},C2t={tokenize:k2t,partial:!0};function I2t(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return O8e.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=pS(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return Mc(h)?R6(e,l)(h):l(h)}function l(h){return P8e(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(C2t,f,f)(h)}function f(h){return vi(h)?ls(e,d,"whitespace")(h):d(h)}function d(h){return h===null||In(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function k2t(e,t,n){return r;function r(a){return Mc(a)?R6(e,i)(a):n(a)}function i(a){return D8e(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return vi(a)?ls(e,o,"whitespace")(a):o(a)}function o(a){return a===null||In(a)?t(a):n(a)}}const R2t={name:"hardBreakEscape",tokenize:$2t};function $2t(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return In(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const N2t={name:"headingAtx",tokenize:O2t,resolve:P2t};function P2t(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},wy(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function O2t(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||Mc(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||In(c)?(e.exit("atxHeading"),t(c)):vi(c)?ls(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||Mc(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const D2t=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pve=["pre","script","style","textarea"],L2t={name:"htmlFlow",tokenize:j2t,resolveTo:B2t,concrete:!0},M2t={tokenize:z2t,partial:!0},F2t={tokenize:U2t,partial:!0};function B2t(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function j2t(e,t,n){const r=this;let i,s,o,a,u;return l;function l(M){return c(M)}function c(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),f}function f(M){return M===33?(e.consume(M),d):M===47?(e.consume(M),s=!0,m):M===63?(e.consume(M),i=3,r.interrupt?t:F):E0(M)?(e.consume(M),o=String.fromCharCode(M),g):n(M)}function d(M){return M===45?(e.consume(M),i=2,h):M===91?(e.consume(M),i=5,a=0,p):E0(M)?(e.consume(M),i=4,r.interrupt?t:F):n(M)}function h(M){return M===45?(e.consume(M),r.interrupt?t:F):n(M)}function p(M){const V="CDATA[";return M===V.charCodeAt(a++)?(e.consume(M),a===V.length?r.interrupt?t:L:p):n(M)}function m(M){return E0(M)?(e.consume(M),o=String.fromCharCode(M),g):n(M)}function g(M){if(M===null||M===47||M===62||Mc(M)){const V=M===47,Q=o.toLowerCase();return!V&&!s&&pve.includes(Q)?(i=1,r.interrupt?t(M):L(M)):D2t.includes(o.toLowerCase())?(i=6,V?(e.consume(M),y):r.interrupt?t(M):L(M)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):s?v(M):b(M))}return M===45||$f(M)?(e.consume(M),o+=String.fromCharCode(M),g):n(M)}function y(M){return M===62?(e.consume(M),r.interrupt?t:L):n(M)}function v(M){return vi(M)?(e.consume(M),v):k(M)}function b(M){return M===47?(e.consume(M),k):M===58||M===95||E0(M)?(e.consume(M),w):vi(M)?(e.consume(M),b):k(M)}function w(M){return M===45||M===46||M===58||M===95||$f(M)?(e.consume(M),w):x(M)}function x(M){return M===61?(e.consume(M),S):vi(M)?(e.consume(M),x):b(M)}function S(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),u=M,A):vi(M)?(e.consume(M),S):C(M)}function A(M){return M===u?(e.consume(M),u=null,$):M===null||In(M)?n(M):(e.consume(M),A)}function C(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Mc(M)?x(M):(e.consume(M),C)}function $(M){return M===47||M===62||vi(M)?b(M):n(M)}function k(M){return M===62?(e.consume(M),P):n(M)}function P(M){return M===null||In(M)?L(M):vi(M)?(e.consume(M),P):n(M)}function L(M){return M===45&&i===2?(e.consume(M),H):M===60&&i===1?(e.consume(M),G):M===62&&i===4?(e.consume(M),j):M===63&&i===3?(e.consume(M),F):M===93&&i===5?(e.consume(M),J):In(M)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(M2t,W,O)(M)):M===null||In(M)?(e.exit("htmlFlowData"),O(M)):(e.consume(M),L)}function O(M){return e.check(F2t,B,W)(M)}function B(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),q}function q(M){return M===null||In(M)?O(M):(e.enter("htmlFlowData"),L(M))}function H(M){return M===45?(e.consume(M),F):L(M)}function G(M){return M===47?(e.consume(M),o="",K):L(M)}function K(M){if(M===62){const V=o.toLowerCase();return pve.includes(V)?(e.consume(M),j):L(M)}return E0(M)&&o.length<8?(e.consume(M),o+=String.fromCharCode(M),K):L(M)}function J(M){return M===93?(e.consume(M),F):L(M)}function F(M){return M===62?(e.consume(M),j):M===45&&i===2?(e.consume(M),F):L(M)}function j(M){return M===null||In(M)?(e.exit("htmlFlowData"),W(M)):(e.consume(M),j)}function W(M){return e.exit("htmlFlow"),t(M)}}function U2t(e,t,n){const r=this;return i;function i(o){return In(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function z2t(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(nB,t,n)}}const V2t={name:"htmlText",tokenize:H2t};function H2t(e,t,n){const r=this;let i,s,o;return a;function a(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),u}function u(F){return F===33?(e.consume(F),l):F===47?(e.consume(F),x):F===63?(e.consume(F),b):E0(F)?(e.consume(F),C):n(F)}function l(F){return F===45?(e.consume(F),c):F===91?(e.consume(F),s=0,p):E0(F)?(e.consume(F),v):n(F)}function c(F){return F===45?(e.consume(F),h):n(F)}function f(F){return F===null?n(F):F===45?(e.consume(F),d):In(F)?(o=f,G(F)):(e.consume(F),f)}function d(F){return F===45?(e.consume(F),h):f(F)}function h(F){return F===62?H(F):F===45?d(F):f(F)}function p(F){const j="CDATA[";return F===j.charCodeAt(s++)?(e.consume(F),s===j.length?m:p):n(F)}function m(F){return F===null?n(F):F===93?(e.consume(F),g):In(F)?(o=m,G(F)):(e.consume(F),m)}function g(F){return F===93?(e.consume(F),y):m(F)}function y(F){return F===62?H(F):F===93?(e.consume(F),y):m(F)}function v(F){return F===null||F===62?H(F):In(F)?(o=v,G(F)):(e.consume(F),v)}function b(F){return F===null?n(F):F===63?(e.consume(F),w):In(F)?(o=b,G(F)):(e.consume(F),b)}function w(F){return F===62?H(F):b(F)}function x(F){return E0(F)?(e.consume(F),S):n(F)}function S(F){return F===45||$f(F)?(e.consume(F),S):A(F)}function A(F){return In(F)?(o=A,G(F)):vi(F)?(e.consume(F),A):H(F)}function C(F){return F===45||$f(F)?(e.consume(F),C):F===47||F===62||Mc(F)?$(F):n(F)}function $(F){return F===47?(e.consume(F),H):F===58||F===95||E0(F)?(e.consume(F),k):In(F)?(o=$,G(F)):vi(F)?(e.consume(F),$):H(F)}function k(F){return F===45||F===46||F===58||F===95||$f(F)?(e.consume(F),k):P(F)}function P(F){return F===61?(e.consume(F),L):In(F)?(o=P,G(F)):vi(F)?(e.consume(F),P):$(F)}function L(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),i=F,O):In(F)?(o=L,G(F)):vi(F)?(e.consume(F),L):(e.consume(F),B)}function O(F){return F===i?(e.consume(F),i=void 0,q):F===null?n(F):In(F)?(o=O,G(F)):(e.consume(F),O)}function B(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||Mc(F)?$(F):(e.consume(F),B)}function q(F){return F===47||F===62||Mc(F)?$(F):n(F)}function H(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}function G(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),K}function K(F){return vi(F)?ls(e,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):J(F)}function J(F){return e.enter("htmlTextData"),o(F)}}const qie={name:"labelEnd",tokenize:X2t,resolveTo:K2t,resolveAll:Y2t},q2t={tokenize:Q2t},W2t={tokenize:J2t},G2t={tokenize:Z2t};function Y2t(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function K2t(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=$d(a,e.slice(s+1,s+r+3)),a=$d(a,[["enter",c,t]]),a=$d(a,Hie(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=$d(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=$d(a,e.slice(o+1)),a=$d(a,[["exit",u,t]]),wy(e,s,e.length,a),e}function X2t(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(d){return s?s._inactive?f(d):(o=r.parser.defined.includes(pS(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),u):n(d)}function u(d){return d===40?e.attempt(q2t,c,o?c:f)(d):d===91?e.attempt(W2t,c,o?l:f)(d):o?c(d):f(d)}function l(d){return e.attempt(G2t,c,f)(d)}function c(d){return t(d)}function f(d){return s._balanced=!0,n(d)}}function Q2t(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Mc(f)?R6(e,s)(f):s(f)}function s(f){return f===41?c(f):P8e(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Mc(f)?R6(e,u)(f):c(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?D8e(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return Mc(f)?R6(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function J2t(e,t,n){const r=this;return i;function i(a){return O8e.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(pS(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function Z2t(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const eEt={name:"labelStartImage",tokenize:tEt,resolveAll:qie.resolveAll};function tEt(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const nEt={name:"labelStartLink",tokenize:rEt,resolveAll:qie.resolveAll};function rEt(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const WH={name:"lineEnding",tokenize:iEt};function iEt(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ls(e,t,"linePrefix")}}const sD={name:"thematicBreak",tokenize:sEt};function sEt(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),o(l)}function o(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||In(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),vi(l)?ls(e,a,"whitespace")(l):a(l))}}const uc={name:"list",tokenize:uEt,continuation:{tokenize:lEt},exit:fEt},oEt={tokenize:dEt,partial:!0},aEt={tokenize:cEt,partial:!0};function uEt(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:qX(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(sD,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return qX(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(nB,r.interrupt?n:c,e.attempt(oEt,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return vi(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function lEt(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(nB,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ls(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!vi(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(aEt,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ls(e,e.attempt(uc,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function cEt(e,t,n){const r=this;return ls(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function fEt(e){e.exit(this.containerState.type)}function dEt(e,t,n){const r=this;return ls(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!vi(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const mve={name:"setextUnderline",tokenize:pEt,resolveTo:hEt};function hEt(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function pEt(e,t,n){const r=this;let i;return s;function s(l){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=l,o(l)):n(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),vi(l)?ls(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||In(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const mEt={tokenize:gEt};function gEt(e){const t=this,n=e.attempt(nB,r,e.attempt(this.parser.constructs.flowInitial,i,ls(e,e.attempt(this.parser.constructs.flow,i,e.attempt(w2t,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const yEt={resolveAll:M8e()},vEt=L8e("string"),bEt=L8e("text");function L8e(e){return{tokenize:t,resolveAll:M8e(e==="text"?_Et:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function M8e(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function _Et(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function wEt(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:v,enter:b,exit:w,attempt:A(x),check:A(S),interrupt:A(S,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:m,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(P){return o=$d(o,P),g(),o[o.length-1]!==null?[]:(C(t,0),l.events=Hie(s,l.events,l),l.events)}function d(P,L){return EEt(h(P),L)}function h(P){return xEt(o,P)}function p(){const{line:P,column:L,offset:O,_index:B,_bufferIndex:q}=r;return{line:P,column:L,offset:O,_index:B,_bufferIndex:q}}function m(P){i[P.line]=P.column,k()}function g(){let P;for(;r._index<o.length;){const L=o[r._index];if(typeof L=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<L.length;)y(L.charCodeAt(r._bufferIndex));else y(L)}}function y(P){c=c(P)}function v(P){In(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,k()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=P}function b(P,L){const O=L||{};return O.type=P,O.start=p(),l.events.push(["enter",O,l]),a.push(O),O}function w(P){const L=a.pop();return L.end=p(),l.events.push(["exit",L,l]),L}function x(P,L){C(P,L.from)}function S(P,L){L.restore()}function A(P,L){return O;function O(B,q,H){let G,K,J,F;return Array.isArray(B)?W(B):"tokenize"in B?W([B]):j(B);function j(se){return be;function be(he){const Ce=he!==null&&se[he],Pe=he!==null&&se.null,rt=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(Pe)?Pe:Pe?[Pe]:[]];return W(rt)(he)}}function W(se){return G=se,K=0,se.length===0?H:M(se[K])}function M(se){return be;function be(he){return F=$(),J=se,se.partial||(l.currentConstruct=se),se.name&&l.parser.constructs.disable.null.includes(se.name)?Q():se.tokenize.call(L?Object.assign(Object.create(l),L):l,u,V,Q)(he)}}function V(se){return P(J,F),q}function Q(se){return F.restore(),++K<G.length?M(G[K]):H}}}function C(P,L){P.resolveAll&&!s.includes(P)&&s.push(P),P.resolve&&wy(l.events,L,l.events.length-L,P.resolve(l.events.slice(L),l)),P.resolveTo&&(l.events=P.resolveTo(l.events,l))}function $(){const P=p(),L=l.previous,O=l.currentConstruct,B=l.events.length,q=Array.from(a);return{restore:H,from:B};function H(){r=P,l.previous=L,l.currentConstruct=O,l.events.length=B,a=q,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function xEt(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function EEt(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const TEt={42:uc,43:uc,45:uc,48:uc,49:uc,50:uc,51:uc,52:uc,53:uc,54:uc,55:uc,56:uc,57:uc,62:k8e},SEt={91:A2t},AEt={[-2]:qH,[-1]:qH,32:qH},CEt={35:N2t,42:sD,45:[mve,sD],60:L2t,61:mve,95:sD,96:hve,126:hve},IEt={38:$8e,92:R8e},kEt={[-5]:WH,[-4]:WH,[-3]:WH,33:eEt,38:$8e,42:WX,60:[n2t,V2t],91:nEt,92:[R2t,R8e],93:qie,95:WX,96:m2t},REt={null:[WX,yEt]},$Et={null:[42,95]},NEt={null:[]},PEt=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:$Et,contentInitial:SEt,disable:NEt,document:TEt,flow:CEt,flowInitial:AEt,insideSpan:REt,string:IEt,text:kEt},Symbol.toStringTag,{value:"Module"}));function OEt(e){const n=Uxt([PEt,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(Kxt),document:i(Qxt),flow:i(mEt),string:i(vEt),text:i(bEt)};return r;function i(s){return o;function o(a){return wEt(r,s,a)}}}function DEt(e){for(;!N8e(e););return e}const gve=/[\0\t\n\r]/g;function LEt(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(gve.lastIndex=f,l=gve.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const MEt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function FEt(e){return e.replace(MEt,BEt)}function BEt(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return I8e(n.slice(s?2:1),s?16:10)}return Vie(n)||e}const F8e={}.hasOwnProperty;function jEt(e,t,n){return typeof t!="string"&&(n=t,t=void 0),UEt(n)(DEt(OEt(n).document().write(LEt()(e,t,!0))))}function UEt(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(st),autolinkProtocol:$,autolinkEmail:$,atxHeading:s(It),blockQuote:s(Pe),characterEscape:$,characterReference:$,codeFenced:s(rt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(rt,o),codeText:s(Re,o),codeTextData:$,data:$,codeFlowValue:$,definition:s(Tt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Ze),hardBreakEscape:s(mt),hardBreakTrailing:s(mt),htmlFlow:s(Se,o),htmlFlowData:$,htmlText:s(Se,o),htmlTextData:$,image:s(Fe),label:o,link:s(st),listItem:s($t),listItemValue:d,listOrdered:s(yt,f),listUnordered:s(yt),paragraph:s(Je),reference:M,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(It),strong:s(xe),thematicBreak:s(Rt)},exit:{atxHeading:u(),atxHeadingSequence:x,autolink:u(),autolinkEmail:Ce,autolinkProtocol:he,blockQuote:u(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:se,characterReference:be,codeFenced:u(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:k,codeIndented:u(y),codeText:u(q),codeTextData:k,data:k,definition:u(),definitionDestinationString:w,definitionLabelString:v,definitionTitleString:b,emphasis:u(),hardBreakEscape:u(L),hardBreakTrailing:u(L),htmlFlow:u(O),htmlFlowData:k,htmlText:u(B),htmlTextData:k,image:u(G),label:J,labelText:K,lineEnding:P,link:u(H),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:V,resourceDestinationString:F,resourceTitleString:j,resource:W,setextHeading:u(C),setextHeadingLineSequence:A,setextHeadingText:S,strong:u(),thematicBreak:u()}};B8e(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ee){let Oe={type:"root",children:[]};const ot={stack:[Oe],tokenStack:[],config:t,enter:a,exit:l,buffer:o,resume:c,data:n},_t=[];let jt=-1;for(;++jt<Ee.length;)if(Ee[jt][1].type==="listOrdered"||Ee[jt][1].type==="listUnordered")if(Ee[jt][0]==="enter")_t.push(jt);else{const qn=_t.pop();jt=i(Ee,qn,jt)}for(jt=-1;++jt<Ee.length;){const qn=t[Ee[jt][0]];F8e.call(qn,Ee[jt][1].type)&&qn[Ee[jt][1].type].call(Object.assign({sliceSerialize:Ee[jt][2].sliceSerialize},ot),Ee[jt][1])}if(ot.tokenStack.length>0){const qn=ot.tokenStack[ot.tokenStack.length-1];(qn[1]||yve).call(ot,void 0,qn[0])}for(Oe.position={start:I1(Ee.length>0?Ee[0][1].start:{line:1,column:1,offset:0}),end:I1(Ee.length>0?Ee[Ee.length-2][1].end:{line:1,column:1,offset:0})},jt=-1;++jt<t.transforms.length;)Oe=t.transforms[jt](Oe)||Oe;return Oe}function i(Ee,Oe,ot){let _t=Oe-1,jt=-1,qn=!1,yr,$r,Ci,Cn;for(;++_t<=ot;){const Wn=Ee[_t];switch(Wn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Wn[0]==="enter"?jt++:jt--,Cn=void 0;break}case"lineEndingBlank":{Wn[0]==="enter"&&(yr&&!Cn&&!jt&&!Ci&&(Ci=_t),Cn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Cn=void 0}if(!jt&&Wn[0]==="enter"&&Wn[1].type==="listItemPrefix"||jt===-1&&Wn[0]==="exit"&&(Wn[1].type==="listUnordered"||Wn[1].type==="listOrdered")){if(yr){let vr=_t;for($r=void 0;vr--;){const wr=Ee[vr];if(wr[1].type==="lineEnding"||wr[1].type==="lineEndingBlank"){if(wr[0]==="exit")continue;$r&&(Ee[$r][1].type="lineEndingBlank",qn=!0),wr[1].type="lineEnding",$r=vr}else if(!(wr[1].type==="linePrefix"||wr[1].type==="blockQuotePrefix"||wr[1].type==="blockQuotePrefixWhitespace"||wr[1].type==="blockQuoteMarker"||wr[1].type==="listItemIndent"))break}Ci&&(!$r||Ci<$r)&&(yr._spread=!0),yr.end=Object.assign({},$r?Ee[$r][1].start:Wn[1].end),Ee.splice($r||_t,0,["exit",yr,Wn[2]]),_t++,ot++}if(Wn[1].type==="listItemPrefix"){const vr={type:"listItem",_spread:!1,start:Object.assign({},Wn[1].start),end:void 0};yr=vr,Ee.splice(_t,0,["enter",vr,Wn[2]]),_t++,ot++,Ci=void 0,Cn=!0}}}return Ee[Oe][1]._spread=qn,ot}function s(Ee,Oe){return ot;function ot(_t){a.call(this,Ee(_t),_t),Oe&&Oe.call(this,_t)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ee,Oe,ot){this.stack[this.stack.length-1].children.push(Ee),this.stack.push(Ee),this.tokenStack.push([Oe,ot]),Ee.position={start:I1(Oe.start),end:void 0}}function u(Ee){return Oe;function Oe(ot){Ee&&Ee.call(this,ot),l.call(this,ot)}}function l(Ee,Oe){const ot=this.stack.pop(),_t=this.tokenStack.pop();if(_t)_t[0].type!==Ee.type&&(Oe?Oe.call(this,Ee,_t[0]):(_t[1]||yve).call(this,Ee,_t[0]));else throw new Error("Cannot close `"+Ee.type+"` ("+k6({start:Ee.start,end:Ee.end})+"): its not open");ot.position.end=I1(Ee.end)}function c(){return Bxt(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(Ee){if(this.data.expectingFirstListItemValue){const Oe=this.stack[this.stack.length-2];Oe.start=Number.parseInt(this.sliceSerialize(Ee),10),this.data.expectingFirstListItemValue=void 0}}function h(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.lang=Ee}function p(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.meta=Ee}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ee.replace(/(\r?\n|\r)$/g,"")}function v(Ee){const Oe=this.resume(),ot=this.stack[this.stack.length-1];ot.label=Oe,ot.identifier=pS(this.sliceSerialize(Ee)).toLowerCase()}function b(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=Ee}function w(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=Ee}function x(Ee){const Oe=this.stack[this.stack.length-1];if(!Oe.depth){const ot=this.sliceSerialize(Ee).length;Oe.depth=ot}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function A(Ee){const Oe=this.stack[this.stack.length-1];Oe.depth=this.sliceSerialize(Ee).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function $(Ee){const ot=this.stack[this.stack.length-1].children;let _t=ot[ot.length-1];(!_t||_t.type!=="text")&&(_t=kt(),_t.position={start:I1(Ee.start),end:void 0},ot.push(_t)),this.stack.push(_t)}function k(Ee){const Oe=this.stack.pop();Oe.value+=this.sliceSerialize(Ee),Oe.position.end=I1(Ee.end)}function P(Ee){const Oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ot=Oe.children[Oe.children.length-1];ot.position.end=I1(Ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Oe.type)&&($.call(this,Ee),k.call(this,Ee))}function L(){this.data.atHardBreak=!0}function O(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ee}function B(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ee}function q(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=Ee}function H(){const Ee=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";Ee.type+="Reference",Ee.referenceType=Oe,delete Ee.url,delete Ee.title}else delete Ee.identifier,delete Ee.label;this.data.referenceType=void 0}function G(){const Ee=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";Ee.type+="Reference",Ee.referenceType=Oe,delete Ee.url,delete Ee.title}else delete Ee.identifier,delete Ee.label;this.data.referenceType=void 0}function K(Ee){const Oe=this.sliceSerialize(Ee),ot=this.stack[this.stack.length-2];ot.label=FEt(Oe),ot.identifier=pS(Oe).toLowerCase()}function J(){const Ee=this.stack[this.stack.length-1],Oe=this.resume(),ot=this.stack[this.stack.length-1];if(this.data.inReference=!0,ot.type==="link"){const _t=Ee.children;ot.children=_t}else ot.alt=Oe}function F(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=Ee}function j(){const Ee=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=Ee}function W(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function V(Ee){const Oe=this.resume(),ot=this.stack[this.stack.length-1];ot.label=Oe,ot.identifier=pS(this.sliceSerialize(Ee)).toLowerCase(),this.data.referenceType="full"}function Q(Ee){this.data.characterReferenceType=Ee.type}function se(Ee){const Oe=this.sliceSerialize(Ee),ot=this.data.characterReferenceType;let _t;ot?(_t=I8e(Oe,ot==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_t=Vie(Oe);const jt=this.stack[this.stack.length-1];jt.value+=_t}function be(Ee){const Oe=this.stack.pop();Oe.position.end=I1(Ee.end)}function he(Ee){k.call(this,Ee);const Oe=this.stack[this.stack.length-1];Oe.url=this.sliceSerialize(Ee)}function Ce(Ee){k.call(this,Ee);const Oe=this.stack[this.stack.length-1];Oe.url="mailto:"+this.sliceSerialize(Ee)}function Pe(){return{type:"blockquote",children:[]}}function rt(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function Tt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ze(){return{type:"emphasis",children:[]}}function It(){return{type:"heading",depth:0,children:[]}}function mt(){return{type:"break"}}function Se(){return{type:"html",value:""}}function Fe(){return{type:"image",title:null,url:"",alt:null}}function st(){return{type:"link",title:null,url:"",children:[]}}function yt(Ee){return{type:"list",ordered:Ee.type==="listOrdered",start:null,spread:Ee._spread,children:[]}}function $t(Ee){return{type:"listItem",spread:Ee._spread,checked:null,children:[]}}function Je(){return{type:"paragraph",children:[]}}function xe(){return{type:"strong",children:[]}}function kt(){return{type:"text",value:""}}function Rt(){return{type:"thematicBreak"}}}function I1(e){return{line:e.line,column:e.column,offset:e.offset}}function B8e(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?B8e(e,r):zEt(e,r)}}function zEt(e,t){let n;for(n in t)if(F8e.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function yve(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+k6({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+k6({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+k6({start:t.start,end:t.end})+") is still open")}function VEt(e){const t=this;t.parser=n;function n(r){return jEt(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function HEt(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function qEt(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function WEt(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function GEt(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YEt(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KEt(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=PC(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,l),e.applyData(t,l)}function XEt(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QEt(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function j8e(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function JEt(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return j8e(e,t);const i={src:PC(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function ZEt(e,t){const n={src:PC(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function eTt(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function tTt(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return j8e(e,t);const i={href:PC(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function nTt(e,t){const n={href:PC(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function rTt(e,t,n){const r=e.all(t),i=n?iTt(n):U8e(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,l),e.applyData(t,l)}function iTt(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=U8e(n[r])}return t}function U8e(e){const t=e.spread;return t??e.children.length>1}function sTt(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function oTt(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aTt(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function uTt(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lTt(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=$m(t.children[1]),u=tB(t.children[t.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function cTt(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const f=t.children[u],d={},h=o?o[u]:void 0;h&&(d.align=h);let p={type:"element",tagName:s,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function fTt(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const vve=9,bve=32;function dTt(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(_ve(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(_ve(t.slice(i),i>0,!1)),s.join("")}function _ve(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===vve||s===bve;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===vve||s===bve;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function hTt(e,t){const n={type:"text",value:dTt(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function pTt(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const mTt={blockquote:HEt,break:qEt,code:WEt,delete:GEt,emphasis:YEt,footnoteReference:KEt,heading:XEt,html:QEt,imageReference:JEt,image:ZEt,inlineCode:eTt,linkReference:tTt,link:nTt,listItem:rTt,list:sTt,paragraph:oTt,root:aTt,strong:uTt,table:lTt,tableCell:fTt,tableRow:cTt,text:hTt,thematicBreak:pTt,toml:PP,yaml:PP,definition:PP,footnoteDefinition:PP};function PP(){}const z8e=-1,rB=0,X9=1,Q9=2,Wie=3,Gie=4,Yie=5,Kie=6,V8e=7,H8e=8,wve=typeof self=="object"?self:globalThis,gTt=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case rB:case z8e:return n(o,i);case X9:{const a=n([],i);for(const u of o)a.push(r(u));return a}case Q9:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case Wie:return n(new Date(o),i);case Gie:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case Yie:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case Kie:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case V8e:{const{name:a,message:u}=o;return n(new wve[a](u),i)}case H8e:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new wve[s](o),i)};return r},xve=e=>gTt(new Map,e)(0),BE="",{toString:yTt}={},{keys:vTt}=Object,yI=e=>{const t=typeof e;if(t!=="object"||!e)return[rB,t];const n=yTt.call(e).slice(8,-1);switch(n){case"Array":return[X9,BE];case"Object":return[Q9,BE];case"Date":return[Wie,BE];case"RegExp":return[Gie,BE];case"Map":return[Yie,BE];case"Set":return[Kie,BE]}return n.includes("Array")?[X9,n]:n.includes("Error")?[V8e,n]:[Q9,n]},OP=([e,t])=>e===rB&&(t==="function"||t==="symbol"),bTt=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=yI(o);switch(a){case rB:{let c=o;switch(u){case"bigint":a=H8e,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([z8e],o)}return i([a,c],o)}case X9:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case Q9:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of vTt(o))(e||!OP(yI(o[d])))&&c.push([s(d),s(o[d])]);return f}case Wie:return i([a,o.toISOString()],o);case Gie:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case Yie:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(OP(yI(d))||OP(yI(h))))&&c.push([s(d),s(h)]);return f}case Kie:{const c=[],f=i([a,c],o);for(const d of o)(e||!OP(yI(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},Eve=(e,{json:t,lossy:n}={})=>{const r=[];return bTt(!(t||n),!!t,new Map,r)(e),r},iA=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?xve(Eve(e,t)):structuredClone(e):(e,t)=>xve(Eve(e,t));function _Tt(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function wTt(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function xTt(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||_Tt,r=e.options.footnoteBackLabel||wTt,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const l=e.footnoteById.get(e.footnoteOrder[u]);if(!l)continue;const c=e.all(l),f=String(l.identifier).toUpperCase(),d=PC(f.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(u,h);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else c.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(l,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...iA(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const q8e=function(e){if(e==null)return ATt;if(typeof e=="function")return iB(e);if(typeof e=="object")return Array.isArray(e)?ETt(e):TTt(e);if(typeof e=="string")return STt(e);throw new Error("Expected function, string, or object as test")};function ETt(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=q8e(e[n]);return iB(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function TTt(e){const t=e;return iB(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function STt(e){return iB(t);function t(n){return n&&n.type===e}}function iB(e){return t;function t(n,r,i){return!!(CTt(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function ATt(){return!0}function CTt(e){return e!==null&&typeof e=="object"&&"type"in e}const W8e=[],ITt=!0,Tve=!1,kTt="skip";function RTt(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=q8e(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=W8e,p,m,g;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=$Tt(n(u,c)),h[0]===Tve))return h;if("children"in u&&u.children){const y=u;if(y.children&&h[0]!==kTt)for(m=(r?y.children.length:-1)+o,g=c.concat(y);m>-1&&m<y.children.length;){const v=y.children[m];if(p=a(v,m,g)(),p[0]===Tve)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function $Tt(e){return Array.isArray(e)?e:typeof e=="number"?[ITt,e]:e==null?W8e:[e]}function Xie(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),RTt(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const GX={}.hasOwnProperty,NTt={};function PTt(e,t){const n=t||NTt,r=new Map,i=new Map,s=new Map,o={...mTt,...n.handlers},a={all:l,applyData:DTt,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:OTt,wrap:MTt};return Xie(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();f.has(d)||f.set(d,c)}}),a;function u(c,f){const d=c.type,h=a.handlers[d];if(GX.call(a.handlers,d)&&h)return h(a,c,f);if(a.options.passThrough&&a.options.passThrough.includes(d)){if("children"in c){const{children:m,...g}=c,y=iA(g);return y.children=a.all(c),y}return iA(c)}return(a.options.unknownHandler||LTt)(a,c,f)}function l(c){const f=[];if("children"in c){const d=c.children;let h=-1;for(;++h<d.length;){const p=a.one(d[h],c);if(p){if(h&&d[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=Sve(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=Sve(m.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function OTt(e,t){e.position&&(t.position=mxt(e))}function DTt(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,iA(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function LTt(e,t){const n=t.data||{},r="value"in t&&!(GX.call(n,"hProperties")||GX.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function MTt(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Sve(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ave(e,t){const n=PTt(e,t),r=n.one(e,void 0),i=xTt(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function FTt(e,t){return e&&"run"in e?async function(n,r){const i=Ave(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Ave(n,{file:r,...t||e})}}function Cve(e){if(e)throw e}var oD=Object.prototype.hasOwnProperty,G8e=Object.prototype.toString,Ive=Object.defineProperty,kve=Object.getOwnPropertyDescriptor,Rve=function(t){return typeof Array.isArray=="function"?Array.isArray(t):G8e.call(t)==="[object Array]"},$ve=function(t){if(!t||G8e.call(t)!=="[object Object]")return!1;var n=oD.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&oD.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||oD.call(t,i)},Nve=function(t,n){Ive&&n.name==="__proto__"?Ive(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Pve=function(t,n){if(n==="__proto__")if(oD.call(t,n)){if(kve)return kve(t,n).value}else return;return t[n]},BTt=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=Pve(a,n),i=Pve(t,n),a!==i&&(c&&i&&($ve(i)||(s=Rve(i)))?(s?(s=!1,o=r&&Rve(r)?r:[]):o=r&&$ve(r)?r:{},Nve(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&Nve(a,{name:n,newValue:i}));return a};const GH=tf(BTt);function YX(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function jTt(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?UTt(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function UTt(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const h0={basename:zTt,dirname:VTt,extname:HTt,join:qTt,sep:"/"};function zTt(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');P$(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function VTt(e){if(P$(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function HTt(e){P$(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function qTt(...e){let t=-1,n;for(;++t<e.length;)P$(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":WTt(n)}function WTt(e){P$(e);const t=e.codePointAt(0)===47;let n=GTt(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function GTt(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function P$(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const YTt={cwd:KTt};function KTt(){return"/"}function KX(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function XTt(e){if(typeof e=="string")e=new URL(e);else if(!KX(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return QTt(e)}function QTt(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const YH=["history","path","basename","stem","extname","dirname"];class Y8e{constructor(t){let n;t?KX(t)?n={path:t}:typeof t=="string"||JTt(t)?n={value:t}:n=t:n={},this.cwd=YTt.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<YH.length;){const s=YH[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)YH.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?h0.basename(this.path):void 0}set basename(t){XH(t,"basename"),KH(t,"basename"),this.path=h0.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?h0.dirname(this.path):void 0}set dirname(t){Ove(this.basename,"dirname"),this.path=h0.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?h0.extname(this.path):void 0}set extname(t){if(KH(t,"extname"),Ove(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=h0.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){KX(t)&&(t=XTt(t)),XH(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?h0.basename(this.path,this.extname):void 0}set stem(t){XH(t,"stem"),KH(t,"stem"),this.path=h0.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new tl(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function KH(e,t){if(e&&e.includes(h0.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+h0.sep+"`")}function XH(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ove(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function JTt(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ZTt=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};Object.setPrototypeOf(s,r);const o=Object.getOwnPropertyNames(i);for(const a of o){const u=Object.getOwnPropertyDescriptor(i,a);u&&Object.defineProperty(s,a,u)}return s},eSt={}.hasOwnProperty;class Qie extends ZTt{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=jTt()}copy(){const t=new Qie;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(GH(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(ZH("data",this.frozen),this.namespace[t]=n,this):eSt.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ZH("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=DP(t),r=this.parser||this.Parser;return QH("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),QH("process",this.parser||this.Parser),JH("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=DP(t),u=r.parse(a);r.run(u,a,function(c,f,d){if(c||!f||!d)return l(c);const h=f,p=r.stringify(h,d);rSt(p)?d.value=p:d.result=p,l(c,d)});function l(c,f){c||!f?o(c):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),QH("processSync",this.parser||this.Parser),JH("processSync",this.compiler||this.Compiler),this.process(t,i),Lve("processSync","process",n),r;function i(s,o){n=!0,Cve(s),r=o}}run(t,n,r){Dve(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=DP(n);i.run(t,u,l);function l(c,f,d){const h=f||t;c?a(c):o?o(h):r(void 0,h,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),Lve("runSync","run",r),i;function s(o,a){Cve(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=DP(n),i=this.compiler||this.Compiler;return JH("stringify",i),Dve(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(ZH("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[c,...f]=l;u(c,f)}else o(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function o(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(l.plugins),l.settings&&(i.settings=GH(!0,i.settings,l.settings))}function a(l){let c=-1;if(l!=null)if(Array.isArray(l))for(;++c<l.length;){const f=l[c];s(f)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===l){d=f;break}if(d===-1)r.push([l,...c]);else if(c.length>0){let[h,...p]=c;const m=r[d][1];YX(m)&&YX(h)&&(h=GH(!0,m,h)),r[d]=[l,h,...p]}}}}const tSt=new Qie().freeze();function QH(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function JH(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ZH(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Dve(e){if(!YX(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Lve(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function DP(e){return nSt(e)?e:new Y8e(e)}function nSt(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function rSt(e){return typeof e=="string"||iSt(e)}function iSt(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sSt="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Mve=[],Fve={allowDangerousHtml:!0},oSt=/^(https?|ircs?|mailto|xmpp)$/i,aSt=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function uSt(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,o=e.disallowedElements,a=e.rehypePlugins||Mve,u=e.remarkPlugins||Mve,l=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Fve}:Fve,c=e.skipHtml,f=e.unwrapDisallowed,d=e.urlTransform||lSt,h=tSt().use(VEt).use(u).use(FTt,l).use(a),p=new Y8e;typeof r=="string"&&(p.value=r);for(const v of aSt)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+sSt+v.id,void 0);const m=h.parse(p);let g=h.runSync(m,p);return i&&(g={type:"element",tagName:"div",properties:{className:i},children:g.type==="root"?g.children:[g]}),Xie(g,y),wxt(g,{Fragment:E.Fragment,components:s,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function y(v,b,w){if(v.type==="raw"&&w&&typeof b=="number")return c?w.children.splice(b,1):w.children[b]={type:"text",value:v.value},b;if(v.type==="element"){let x;for(x in HH)if(Object.hasOwn(HH,x)&&Object.hasOwn(v.properties,x)){const S=v.properties[x],A=HH[x];(A===null||A.includes(v.tagName))&&(v.properties[x]=d(String(S||""),x,v))}}if(v.type==="element"){let x=t?!t.includes(v.tagName):o?o.includes(v.tagName):!1;if(!x&&n&&typeof b=="number"&&(x=!n(v,b,w)),x&&w&&typeof b=="number")return f&&v.children?w.children.splice(b,1,...v.children):w.children.splice(b,1),b}}}function lSt(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||oSt.test(e.slice(0,t))?e:""}const Bve=/[#.]/g;function cSt(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){Bve.lastIndex=i;const a=Bve.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const fSt=new Set(["button","menu","reset","submit"]),XX={}.hasOwnProperty;function K8e(e,t,n){const r=n&&mSt(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=cSt(s,t),l.tagName=l.tagName.toLowerCase(),r&&XX.call(r,l.tagName)&&(l.tagName=r[l.tagName]),dSt(o,l.tagName)){let c;for(c in o)XX.call(o,c)&&hSt(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)QX(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function dSt(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?fSt.has(e.type.toLowerCase()):!("value"in e)}function hSt(e,t,n,r){const i=eB(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=J1e(r):i.commaSeparated?o=G1e(r):i.commaOrSpaceSeparated?o=J1e(G1e(r).join(" ")):o=jve(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?pSt(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=jve(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function QX(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)QX(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?QX(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function jve(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Gk(n)===Gk(t)))return!0}return n}function pSt(e){const t=[];let n;for(n in e)XX.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function mSt(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const gSt=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],ySt=K8e(N$,"div"),vSt=K8e(u_,"g",gSt),eq=/\r?\n|\r/g;function bSt(e){const t=String(e),n=[];for(eq.lastIndex=0;eq.test(t);)n.push(eq.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const Ww={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},X8e={}.hasOwnProperty,_St=Object.prototype;function wSt(e,t){const n=t;return Jie({file:n.file||void 0,location:!1,schema:n.space==="svg"?u_:N$,verbose:n.verbose||!1},e)}function Jie(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},aD(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Q8e(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=bSt(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},aD(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},aD(e,r,n),n}default:return n=xSt(e,t),n}}function Q8e(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=Jie(e,t[n]);r.push(i)}return r}function xSt(e,t){const n=e.schema;e.schema=t.namespaceURI===Ww.svg?u_:N$;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;X8e.call(_St,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?vSt:ySt)(t.tagName,i,Q8e(e,t.childNodes));if(aD(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&zT(u.startTag),c=u&&u.endTag&&zT(u.endTag),f=Jie(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function aD(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=ESt(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function ESt(e,t,n){const r=zT(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)X8e.call(n.attrs,o)&&(s[eB(e.schema,o).property]=zT(n.attrs[o]));n.startTag;const a=zT(n.startTag),u=n.endTag?zT(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function zT(e){const t=Uve({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Uve({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Uve(e){return e.line&&e.column?e:void 0}const zve={}.hasOwnProperty;function J8e(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&zve.call(i,e)){const u=String(i[e]);o=zve.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const TSt={}.hasOwnProperty,Z8e=J8e("type",{handlers:{root:ASt,element:$St,text:kSt,comment:RSt,doctype:ISt}});function SSt(e,t){const r=t.space;return Z8e(e,r==="svg"?u_:N$)}function ASt(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Zie(e.children,n,t),OC(e,n),n}function CSt(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Zie(e.children,n,t),OC(e,n),n}function ISt(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return OC(e,t),t}function kSt(e){const t={nodeName:"#text",value:e.value,parentNode:null};return OC(e,t),t}function RSt(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return OC(e,t),t}function $St(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=u_);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&TSt.call(e.properties,s)){const u=NSt(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Ww[o],childNodes:[],parentNode:null};return a.childNodes=Zie(e.children,a,r),OC(e,a),e.tagName==="template"&&e.content&&(a.content=CSt(e.content,r)),a}function NSt(e,t,n){const r=eB(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?f8e(n):_8e(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Ww[r.space]}return i}function Zie(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=Z8e(e[r],n);s.parentNode=t,i.push(s)}return i}function OC(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const PSt=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],OSt=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),ks="";var ie;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(ie=ie||(ie={}));const ic={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function eOe(e){return e>=55296&&e<=57343}function DSt(e){return e>=56320&&e<=57343}function LSt(e,t){return(e-55296)*1024+9216+t}function tOe(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function nOe(e){return e>=64976&&e<=65007||OSt.has(e)}var ze;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ze=ze||(ze={}));const MSt=65536;class FSt{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=MSt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(DSt(n))return this.pos++,this._addGap(),LSt(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ie.EOF;return this._err(ze.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ie.EOF;const r=this.html.charCodeAt(n);return r===ie.CARRIAGE_RETURN?ie.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ie.EOF;let t=this.html.charCodeAt(this.pos);return t===ie.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ie.LINE_FEED):t===ie.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,eOe(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ie.LINE_FEED||t===ie.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){tOe(t)?this._err(ze.controlCharacterInInputStream):nOe(t)&&this._err(ze.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var cr;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(cr=cr||(cr={}));function rOe(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const G1=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),BSt=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var tq;const jSt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),USt=(tq=String.fromCodePoint)!==null&&tq!==void 0?tq:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function zSt(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=jSt.get(e))!==null&&t!==void 0?t:e}var Ea;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ea||(Ea={}));const VSt=32;var L0;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(L0||(L0={}));function JX(e){return e>=Ea.ZERO&&e<=Ea.NINE}function HSt(e){return e>=Ea.UPPER_A&&e<=Ea.UPPER_F||e>=Ea.LOWER_A&&e<=Ea.LOWER_F}function qSt(e){return e>=Ea.UPPER_A&&e<=Ea.UPPER_Z||e>=Ea.LOWER_A&&e<=Ea.LOWER_Z||JX(e)}function WSt(e){return e===Ea.EQUALS||qSt(e)}var ga;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ga||(ga={}));var kw;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(kw||(kw={}));class GSt{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=ga.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=kw.Strict}startEntity(t){this.decodeMode=t,this.state=ga.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case ga.EntityStart:return t.charCodeAt(n)===Ea.NUM?(this.state=ga.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=ga.NamedEntity,this.stateNamedEntity(t,n));case ga.NumericStart:return this.stateNumericStart(t,n);case ga.NumericDecimal:return this.stateNumericDecimal(t,n);case ga.NumericHex:return this.stateNumericHex(t,n);case ga.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|VSt)===Ea.LOWER_X?(this.state=ga.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=ga.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(JX(i)||HSt(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(JX(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ea.SEMI)this.consumed+=1;else if(this.decodeMode===kw.Strict)return 0;return this.emitCodePoint(zSt(this.result),this.consumed),this.errors&&(t!==Ea.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&L0.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=sOe(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===kw.Attribute&&(s===0||WSt(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&L0.VALUE_LENGTH)>>14,s!==0){if(o===Ea.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==kw.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&L0.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~L0.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case ga.NamedEntity:return this.result!==0&&(this.decodeMode!==kw.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ga.NumericDecimal:return this.emitNumericEntity(0,2);case ga.NumericHex:return this.emitNumericEntity(0,3);case ga.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ga.EntityStart:return 0}}}function iOe(e){let t="";const n=new GSt(e,r=>t+=USt(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function sOe(e,t,n,r){const i=(t&L0.BRANCH_LENGTH)>>7,s=t&L0.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}iOe(G1);iOe(BSt);var Xe;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Xe=Xe||(Xe={}));var Gv;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Gv=Gv||(Gv={}));var Ef;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Ef=Ef||(Ef={}));var Ne;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ne=Ne||(Ne={}));var D;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(D=D||(D={}));const YSt=new Map([[Ne.A,D.A],[Ne.ADDRESS,D.ADDRESS],[Ne.ANNOTATION_XML,D.ANNOTATION_XML],[Ne.APPLET,D.APPLET],[Ne.AREA,D.AREA],[Ne.ARTICLE,D.ARTICLE],[Ne.ASIDE,D.ASIDE],[Ne.B,D.B],[Ne.BASE,D.BASE],[Ne.BASEFONT,D.BASEFONT],[Ne.BGSOUND,D.BGSOUND],[Ne.BIG,D.BIG],[Ne.BLOCKQUOTE,D.BLOCKQUOTE],[Ne.BODY,D.BODY],[Ne.BR,D.BR],[Ne.BUTTON,D.BUTTON],[Ne.CAPTION,D.CAPTION],[Ne.CENTER,D.CENTER],[Ne.CODE,D.CODE],[Ne.COL,D.COL],[Ne.COLGROUP,D.COLGROUP],[Ne.DD,D.DD],[Ne.DESC,D.DESC],[Ne.DETAILS,D.DETAILS],[Ne.DIALOG,D.DIALOG],[Ne.DIR,D.DIR],[Ne.DIV,D.DIV],[Ne.DL,D.DL],[Ne.DT,D.DT],[Ne.EM,D.EM],[Ne.EMBED,D.EMBED],[Ne.FIELDSET,D.FIELDSET],[Ne.FIGCAPTION,D.FIGCAPTION],[Ne.FIGURE,D.FIGURE],[Ne.FONT,D.FONT],[Ne.FOOTER,D.FOOTER],[Ne.FOREIGN_OBJECT,D.FOREIGN_OBJECT],[Ne.FORM,D.FORM],[Ne.FRAME,D.FRAME],[Ne.FRAMESET,D.FRAMESET],[Ne.H1,D.H1],[Ne.H2,D.H2],[Ne.H3,D.H3],[Ne.H4,D.H4],[Ne.H5,D.H5],[Ne.H6,D.H6],[Ne.HEAD,D.HEAD],[Ne.HEADER,D.HEADER],[Ne.HGROUP,D.HGROUP],[Ne.HR,D.HR],[Ne.HTML,D.HTML],[Ne.I,D.I],[Ne.IMG,D.IMG],[Ne.IMAGE,D.IMAGE],[Ne.INPUT,D.INPUT],[Ne.IFRAME,D.IFRAME],[Ne.KEYGEN,D.KEYGEN],[Ne.LABEL,D.LABEL],[Ne.LI,D.LI],[Ne.LINK,D.LINK],[Ne.LISTING,D.LISTING],[Ne.MAIN,D.MAIN],[Ne.MALIGNMARK,D.MALIGNMARK],[Ne.MARQUEE,D.MARQUEE],[Ne.MATH,D.MATH],[Ne.MENU,D.MENU],[Ne.META,D.META],[Ne.MGLYPH,D.MGLYPH],[Ne.MI,D.MI],[Ne.MO,D.MO],[Ne.MN,D.MN],[Ne.MS,D.MS],[Ne.MTEXT,D.MTEXT],[Ne.NAV,D.NAV],[Ne.NOBR,D.NOBR],[Ne.NOFRAMES,D.NOFRAMES],[Ne.NOEMBED,D.NOEMBED],[Ne.NOSCRIPT,D.NOSCRIPT],[Ne.OBJECT,D.OBJECT],[Ne.OL,D.OL],[Ne.OPTGROUP,D.OPTGROUP],[Ne.OPTION,D.OPTION],[Ne.P,D.P],[Ne.PARAM,D.PARAM],[Ne.PLAINTEXT,D.PLAINTEXT],[Ne.PRE,D.PRE],[Ne.RB,D.RB],[Ne.RP,D.RP],[Ne.RT,D.RT],[Ne.RTC,D.RTC],[Ne.RUBY,D.RUBY],[Ne.S,D.S],[Ne.SCRIPT,D.SCRIPT],[Ne.SECTION,D.SECTION],[Ne.SELECT,D.SELECT],[Ne.SOURCE,D.SOURCE],[Ne.SMALL,D.SMALL],[Ne.SPAN,D.SPAN],[Ne.STRIKE,D.STRIKE],[Ne.STRONG,D.STRONG],[Ne.STYLE,D.STYLE],[Ne.SUB,D.SUB],[Ne.SUMMARY,D.SUMMARY],[Ne.SUP,D.SUP],[Ne.TABLE,D.TABLE],[Ne.TBODY,D.TBODY],[Ne.TEMPLATE,D.TEMPLATE],[Ne.TEXTAREA,D.TEXTAREA],[Ne.TFOOT,D.TFOOT],[Ne.TD,D.TD],[Ne.TH,D.TH],[Ne.THEAD,D.THEAD],[Ne.TITLE,D.TITLE],[Ne.TR,D.TR],[Ne.TRACK,D.TRACK],[Ne.TT,D.TT],[Ne.U,D.U],[Ne.UL,D.UL],[Ne.SVG,D.SVG],[Ne.VAR,D.VAR],[Ne.WBR,D.WBR],[Ne.XMP,D.XMP]]);function DC(e){var t;return(t=YSt.get(e))!==null&&t!==void 0?t:D.UNKNOWN}const ht=D,KSt={[Xe.HTML]:new Set([ht.ADDRESS,ht.APPLET,ht.AREA,ht.ARTICLE,ht.ASIDE,ht.BASE,ht.BASEFONT,ht.BGSOUND,ht.BLOCKQUOTE,ht.BODY,ht.BR,ht.BUTTON,ht.CAPTION,ht.CENTER,ht.COL,ht.COLGROUP,ht.DD,ht.DETAILS,ht.DIR,ht.DIV,ht.DL,ht.DT,ht.EMBED,ht.FIELDSET,ht.FIGCAPTION,ht.FIGURE,ht.FOOTER,ht.FORM,ht.FRAME,ht.FRAMESET,ht.H1,ht.H2,ht.H3,ht.H4,ht.H5,ht.H6,ht.HEAD,ht.HEADER,ht.HGROUP,ht.HR,ht.HTML,ht.IFRAME,ht.IMG,ht.INPUT,ht.LI,ht.LINK,ht.LISTING,ht.MAIN,ht.MARQUEE,ht.MENU,ht.META,ht.NAV,ht.NOEMBED,ht.NOFRAMES,ht.NOSCRIPT,ht.OBJECT,ht.OL,ht.P,ht.PARAM,ht.PLAINTEXT,ht.PRE,ht.SCRIPT,ht.SECTION,ht.SELECT,ht.SOURCE,ht.STYLE,ht.SUMMARY,ht.TABLE,ht.TBODY,ht.TD,ht.TEMPLATE,ht.TEXTAREA,ht.TFOOT,ht.TH,ht.THEAD,ht.TITLE,ht.TR,ht.TRACK,ht.UL,ht.WBR,ht.XMP]),[Xe.MATHML]:new Set([ht.MI,ht.MO,ht.MN,ht.MS,ht.MTEXT,ht.ANNOTATION_XML]),[Xe.SVG]:new Set([ht.TITLE,ht.FOREIGN_OBJECT,ht.DESC]),[Xe.XLINK]:new Set,[Xe.XML]:new Set,[Xe.XMLNS]:new Set};function oOe(e){return e===ht.H1||e===ht.H2||e===ht.H3||e===ht.H4||e===ht.H5||e===ht.H6}Ne.STYLE,Ne.SCRIPT,Ne.XMP,Ne.IFRAME,Ne.NOEMBED,Ne.NOFRAMES,Ne.PLAINTEXT;const XSt=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var ae;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(ae||(ae={}));const vo={DATA:ae.DATA,RCDATA:ae.RCDATA,RAWTEXT:ae.RAWTEXT,SCRIPT_DATA:ae.SCRIPT_DATA,PLAINTEXT:ae.PLAINTEXT,CDATA_SECTION:ae.CDATA_SECTION};function $6(e){return e>=ie.DIGIT_0&&e<=ie.DIGIT_9}function k4(e){return e>=ie.LATIN_CAPITAL_A&&e<=ie.LATIN_CAPITAL_Z}function QSt(e){return e>=ie.LATIN_SMALL_A&&e<=ie.LATIN_SMALL_Z}function Y1(e){return QSt(e)||k4(e)}function ZX(e){return Y1(e)||$6(e)}function aOe(e){return e>=ie.LATIN_CAPITAL_A&&e<=ie.LATIN_CAPITAL_F}function uOe(e){return e>=ie.LATIN_SMALL_A&&e<=ie.LATIN_SMALL_F}function JSt(e){return $6(e)||aOe(e)||uOe(e)}function LP(e){return e+32}function lOe(e){return e===ie.SPACE||e===ie.LINE_FEED||e===ie.TABULATION||e===ie.FORM_FEED}function ZSt(e){return e===ie.EQUALS_SIGN||ZX(e)}function Vve(e){return lOe(e)||e===ie.SOLIDUS||e===ie.GREATER_THAN_SIGN}class eAt{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ae.DATA,this.returnState=ae.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new FSt(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:cr.START_TAG,tagName:"",tagID:D.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:cr.END_TAG,tagName:"",tagID:D.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:cr.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:cr.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(rOe(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ze.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=DC(t.tagName),t.type===cr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ze.endTagWithAttributes),t.selfClosing&&this._err(ze.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case cr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case cr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case cr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:cr.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=lOe(t)?cr.WHITESPACE_CHARACTER:t===ie.NULL?cr.NULL_CHARACTER:cr.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(cr.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=G1[0];s>=0&&(s=sOe(G1,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=G1[s];const a=o&L0.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==ie.SEMICOLON&&this._isCharacterReferenceInAttribute()&&ZSt(this.preprocessor.peek(1))?(n=[ie.AMPERSAND],s+=u):(n=u===0?[G1[s]&~L0.VALUE_LENGTH]:u===1?[G1[++s]]:[G1[++s],G1[++s]],r=0,i=t!==ie.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(ze.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ae.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ae.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ae.DATA:{this._stateData(t);break}case ae.RCDATA:{this._stateRcdata(t);break}case ae.RAWTEXT:{this._stateRawtext(t);break}case ae.SCRIPT_DATA:{this._stateScriptData(t);break}case ae.PLAINTEXT:{this._statePlaintext(t);break}case ae.TAG_OPEN:{this._stateTagOpen(t);break}case ae.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ae.TAG_NAME:{this._stateTagName(t);break}case ae.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ae.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ae.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ae.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ae.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ae.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ae.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ae.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ae.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ae.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ae.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ae.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ae.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ae.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ae.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ae.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ae.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ae.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ae.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ae.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ae.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ae.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ae.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ae.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ae.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ae.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ae.COMMENT_START:{this._stateCommentStart(t);break}case ae.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ae.COMMENT:{this._stateComment(t);break}case ae.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ae.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ae.COMMENT_END:{this._stateCommentEnd(t);break}case ae.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ae.DOCTYPE:{this._stateDoctype(t);break}case ae.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ae.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ae.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ae.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ae.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ae.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ae.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ae.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ae.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ae.CDATA_SECTION:{this._stateCdataSection(t);break}case ae.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ae.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ae.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case ae.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case ae.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case ae.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case ae.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case ae.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case ae.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case ae.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.TAG_OPEN;break}case ie.AMPERSAND:{this.returnState=ae.DATA,this.state=ae.CHARACTER_REFERENCE;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this._emitCodePoint(t);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ie.AMPERSAND:{this.returnState=ae.RCDATA,this.state=ae.CHARACTER_REFERENCE;break}case ie.LESS_THAN_SIGN:{this.state=ae.RCDATA_LESS_THAN_SIGN;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this._emitChars(ks);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.RAWTEXT_LESS_THAN_SIGN;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this._emitChars(ks);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_LESS_THAN_SIGN;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this._emitChars(ks);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ie.NULL:{this._err(ze.unexpectedNullCharacter),this._emitChars(ks);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Y1(t))this._createStartTagToken(),this.state=ae.TAG_NAME,this._stateTagName(t);else switch(t){case ie.EXCLAMATION_MARK:{this.state=ae.MARKUP_DECLARATION_OPEN;break}case ie.SOLIDUS:{this.state=ae.END_TAG_OPEN;break}case ie.QUESTION_MARK:{this._err(ze.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t);break}case ie.EOF:{this._err(ze.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ze.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ae.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Y1(t))this._createEndTagToken(),this.state=ae.TAG_NAME,this._stateTagName(t);else switch(t){case ie.GREATER_THAN_SIGN:{this._err(ze.missingEndTagName),this.state=ae.DATA;break}case ie.EOF:{this._err(ze.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ze.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.SOLIDUS:{this.state=ae.SELF_CLOSING_START_TAG;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),n.tagName+=ks;break}case ie.EOF:{this._err(ze.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(k4(t)?LP(t):t)}}_stateRcdataLessThanSign(t){t===ie.SOLIDUS?this.state=ae.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ae.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Y1(t)?(this.state=ae.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ae.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ae.BEFORE_ATTRIBUTE_NAME,!1;case ie.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ae.SELF_CLOSING_START_TAG,!1;case ie.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ae.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ie.SOLIDUS?this.state=ae.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Y1(t)?(this.state=ae.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ie.SOLIDUS:{this.state=ae.SCRIPT_DATA_END_TAG_OPEN;break}case ie.EXCLAMATION_MARK:{this.state=ae.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Y1(t)?(this.state=ae.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ie.HYPHEN_MINUS?(this.state=ae.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ie.HYPHEN_MINUS?(this.state=ae.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this._emitChars(ks);break}case ie.EOF:{this._err(ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_ESCAPED,this._emitChars(ks);break}case ie.EOF:{this._err(ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ie.HYPHEN_MINUS:{this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.GREATER_THAN_SIGN:{this.state=ae.SCRIPT_DATA,this._emitChars(">");break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_ESCAPED,this._emitChars(ks);break}case ie.EOF:{this._err(ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ie.SOLIDUS?this.state=ae.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Y1(t)?(this._emitChars("<"),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Y1(t)?(this.state=ae.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(ic.SCRIPT,!1)&&Vve(this.preprocessor.peek(ic.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<ic.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this._emitChars(ks);break}case ie.EOF:{this._err(ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ks);break}case ie.EOF:{this._err(ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ie.HYPHEN_MINUS:{this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.GREATER_THAN_SIGN:{this.state=ae.SCRIPT_DATA,this._emitChars(">");break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ks);break}case ie.EOF:{this._err(ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ie.SOLIDUS?(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(ic.SCRIPT,!1)&&Vve(this.preprocessor.peek(ic.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<ic.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ae.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.SOLIDUS:case ie.GREATER_THAN_SIGN:case ie.EOF:{this.state=ae.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ie.EQUALS_SIGN:{this._err(ze.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ae.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ae.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:case ie.SOLIDUS:case ie.GREATER_THAN_SIGN:case ie.EOF:{this._leaveAttrName(),this.state=ae.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ie.EQUALS_SIGN:{this._leaveAttrName(),this.state=ae.BEFORE_ATTRIBUTE_VALUE;break}case ie.QUOTATION_MARK:case ie.APOSTROPHE:case ie.LESS_THAN_SIGN:{this._err(ze.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this.currentAttr.name+=ks;break}default:this.currentAttr.name+=String.fromCodePoint(k4(t)?LP(t):t)}}_stateAfterAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.SOLIDUS:{this.state=ae.SELF_CLOSING_START_TAG;break}case ie.EQUALS_SIGN:{this.state=ae.BEFORE_ATTRIBUTE_VALUE;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err(ze.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ae.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{this.state=ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this.state=ae.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err(ze.missingAttributeValue),this.state=ae.DATA,this.emitCurrentTagToken();break}default:this.state=ae.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ie.AMPERSAND:{this.returnState=ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=ae.CHARACTER_REFERENCE;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this.currentAttr.value+=ks;break}case ie.EOF:{this._err(ze.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ie.AMPERSAND:{this.returnState=ae.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=ae.CHARACTER_REFERENCE;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this.currentAttr.value+=ks;break}case ie.EOF:{this._err(ze.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this._leaveAttrValue(),this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.AMPERSAND:{this.returnState=ae.ATTRIBUTE_VALUE_UNQUOTED,this.state=ae.CHARACTER_REFERENCE;break}case ie.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),this.currentAttr.value+=ks;break}case ie.QUOTATION_MARK:case ie.APOSTROPHE:case ie.LESS_THAN_SIGN:case ie.EQUALS_SIGN:case ie.GRAVE_ACCENT:{this._err(ze.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ie.EOF:{this._err(ze.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this._leaveAttrValue(),this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.SOLIDUS:{this._leaveAttrValue(),this.state=ae.SELF_CLOSING_START_TAG;break}case ie.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err(ze.eofInTag),this._emitEOFToken();break}default:this._err(ze.missingWhitespaceBetweenAttributes),this.state=ae.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ie.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err(ze.eofInTag),this._emitEOFToken();break}default:this._err(ze.unexpectedSolidusInTag),this.state=ae.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),n.data+=ks;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(ic.DASH_DASH,!0)?(this._createCommentToken(ic.DASH_DASH.length+1),this.state=ae.COMMENT_START):this._consumeSequenceIfMatch(ic.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ic.DOCTYPE.length+1),this.state=ae.DOCTYPE):this._consumeSequenceIfMatch(ic.CDATA_START,!0)?this.inForeignNode?this.state=ae.CDATA_SECTION:(this._err(ze.cdataInHtmlContent),this._createCommentToken(ic.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ae.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ze.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_START_DASH;break}case ie.GREATER_THAN_SIGN:{this._err(ze.abruptClosingOfEmptyComment),this.state=ae.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END;break}case ie.GREATER_THAN_SIGN:{this._err(ze.abruptClosingOfEmptyComment),this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this._err(ze.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ae.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END_DASH;break}case ie.LESS_THAN_SIGN:{n.data+="<",this.state=ae.COMMENT_LESS_THAN_SIGN;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),n.data+=ks;break}case ie.EOF:{this._err(ze.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ie.EXCLAMATION_MARK:{n.data+="!",this.state=ae.COMMENT_LESS_THAN_SIGN_BANG;break}case ie.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ie.HYPHEN_MINUS?this.state=ae.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ae.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ie.HYPHEN_MINUS?this.state=ae.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ae.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ie.GREATER_THAN_SIGN&&t!==ie.EOF&&this._err(ze.nestedComment),this.state=ae.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END;break}case ie.EOF:{this._err(ze.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EXCLAMATION_MARK:{this.state=ae.COMMENT_END_BANG;break}case ie.HYPHEN_MINUS:{n.data+="-";break}case ie.EOF:{this._err(ze.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{n.data+="--!",this.state=ae.COMMENT_END_DASH;break}case ie.GREATER_THAN_SIGN:{this._err(ze.incorrectlyClosedComment),this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this._err(ze.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=ae.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this.state=ae.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ie.EOF:{this._err(ze.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ze.missingWhitespaceBeforeDoctypeName),this.state=ae.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(k4(t))this._createDoctypeToken(String.fromCharCode(LP(t))),this.state=ae.DOCTYPE_NAME;else switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.NULL:{this._err(ze.unexpectedNullCharacter),this._createDoctypeToken(ks),this.state=ae.DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this._err(ze.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err(ze.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ae.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.AFTER_DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),n.name+=ks;break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(k4(t)?LP(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ic.PUBLIC,!1)?this.state=ae.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ic.SYSTEM,!1)?this.state=ae.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ze.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.QUOTATION_MARK:{this._err(ze.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err(ze.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err(ze.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ze.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err(ze.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ze.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),n.publicId+=ks;break}case ie.GREATER_THAN_SIGN:{this._err(ze.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),n.publicId+=ks;break}case ie.GREATER_THAN_SIGN:{this._err(ze.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.QUOTATION_MARK:{this._err(ze.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err(ze.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ze.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.QUOTATION_MARK:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ze.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.QUOTATION_MARK:{this._err(ze.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err(ze.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err(ze.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ze.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err(ze.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ze.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),n.systemId+=ks;break}case ie.GREATER_THAN_SIGN:{this._err(ze.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter),n.systemId+=ks;break}case ie.GREATER_THAN_SIGN:{this._err(ze.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err(ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ze.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.NULL:{this._err(ze.unexpectedNullCharacter);break}case ie.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ie.RIGHT_SQUARE_BRACKET:{this.state=ae.CDATA_SECTION_BRACKET;break}case ie.EOF:{this._err(ze.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ie.RIGHT_SQUARE_BRACKET?this.state=ae.CDATA_SECTION_END:(this._emitChars("]"),this.state=ae.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA;break}case ie.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ae.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===ie.NUMBER_SIGN?this.state=ae.NUMERIC_CHARACTER_REFERENCE:ZX(t)?(this.state=ae.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(ie.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(ie.AMPERSAND),this.state=ae.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){ZX(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ie.SEMICOLON&&this._err(ze.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===ie.LATIN_SMALL_X||t===ie.LATIN_CAPITAL_X?this.state=ae.HEXADEMICAL_CHARACTER_REFERENCE_START:$6(t)?(this.state=ae.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(ze.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ie.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ie.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){JSt(t)?(this.state=ae.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(ze.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ie.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ie.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){aOe(t)?this.charRefCode=this.charRefCode*16+t-55:uOe(t)?this.charRefCode=this.charRefCode*16+t-87:$6(t)?this.charRefCode=this.charRefCode*16+t-48:t===ie.SEMICOLON?this.state=ae.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ze.missingSemicolonAfterCharacterReference),this.state=ae.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){$6(t)?this.charRefCode=this.charRefCode*10+t-48:t===ie.SEMICOLON?this.state=ae.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ze.missingSemicolonAfterCharacterReference),this.state=ae.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===ie.NULL)this._err(ze.nullCharacterReference),this.charRefCode=ie.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ze.characterReferenceOutsideUnicodeRange),this.charRefCode=ie.REPLACEMENT_CHARACTER;else if(eOe(this.charRefCode))this._err(ze.surrogateCharacterReference),this.charRefCode=ie.REPLACEMENT_CHARACTER;else if(nOe(this.charRefCode))this._err(ze.noncharacterCharacterReference);else if(tOe(this.charRefCode)||this.charRefCode===ie.CARRIAGE_RETURN){this._err(ze.controlCharacterReference);const n=XSt.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const cOe=new Set([D.DD,D.DT,D.LI,D.OPTGROUP,D.OPTION,D.P,D.RB,D.RP,D.RT,D.RTC]),Hve=new Set([...cOe,D.CAPTION,D.COLGROUP,D.TBODY,D.TD,D.TFOOT,D.TH,D.THEAD,D.TR]),MP=new Map([[D.APPLET,Xe.HTML],[D.CAPTION,Xe.HTML],[D.HTML,Xe.HTML],[D.MARQUEE,Xe.HTML],[D.OBJECT,Xe.HTML],[D.TABLE,Xe.HTML],[D.TD,Xe.HTML],[D.TEMPLATE,Xe.HTML],[D.TH,Xe.HTML],[D.ANNOTATION_XML,Xe.MATHML],[D.MI,Xe.MATHML],[D.MN,Xe.MATHML],[D.MO,Xe.MATHML],[D.MS,Xe.MATHML],[D.MTEXT,Xe.MATHML],[D.DESC,Xe.SVG],[D.FOREIGN_OBJECT,Xe.SVG],[D.TITLE,Xe.SVG]]),tAt=[D.H1,D.H2,D.H3,D.H4,D.H5,D.H6],nAt=[D.TR,D.TEMPLATE,D.HTML],rAt=[D.TBODY,D.TFOOT,D.THEAD,D.TEMPLATE,D.HTML],iAt=[D.TABLE,D.TEMPLATE,D.HTML],sAt=[D.TD,D.TH];class oAt{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=D.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===D.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Xe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Xe.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(tAt,Xe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(sAt,Xe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(iAt,Xe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(rAt,Xe.HTML)}clearBackToTableRowContext(){this.clearBackTo(nAt,Xe.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===D.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===D.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Xe.HTML)return!0;if(MP.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(oOe(n)&&r===Xe.HTML)return!0;if(MP.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Xe.HTML)return!0;if((r===D.UL||r===D.OL)&&i===Xe.HTML||MP.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Xe.HTML)return!0;if(r===D.BUTTON&&i===Xe.HTML||MP.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Xe.HTML){if(r===t)return!0;if(r===D.TABLE||r===D.TEMPLATE||r===D.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Xe.HTML){if(n===D.TBODY||n===D.THEAD||n===D.TFOOT)return!0;if(n===D.TABLE||n===D.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Xe.HTML){if(r===t)return!0;if(r!==D.OPTION&&r!==D.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;cOe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Hve.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Hve.has(this.currentTagId);)this.pop()}}const nq=3;var Yh;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Yh=Yh||(Yh={}));const qve={type:Yh.Marker};class aAt{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===Yh.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<nq)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<nq)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=nq&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(qve)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Yh.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Yh.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(qve);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Yh.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Yh.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Yh.Element&&n.element===t)}}function Wve(e){return{nodeName:"#text",value:e,parentNode:null}}const vT={createDocument(){return{nodeName:"#document",mode:Ef.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};vT.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(vT.isTextNode(n)){n.value+=t;return}}vT.appendChild(e,Wve(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&vT.isTextNode(r)?r.value+=t:vT.insertBefore(e,Wve(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},fOe="html",uAt="about:legacy-compat",lAt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",dOe=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],cAt=[...dOe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],fAt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),hOe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],dAt=[...hOe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Gve(e,t){return t.some(n=>e.startsWith(n))}function hAt(e){return e.name===fOe&&e.publicId===null&&(e.systemId===null||e.systemId===uAt)}function pAt(e){if(e.name!==fOe)return Ef.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===lAt)return Ef.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),fAt.has(n))return Ef.QUIRKS;let r=t===null?cAt:dOe;if(Gve(n,r))return Ef.QUIRKS;if(r=t===null?hOe:dAt,Gve(n,r))return Ef.LIMITED_QUIRKS}return Ef.NO_QUIRKS}const Yve={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},mAt="definitionurl",gAt="definitionURL",yAt=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),vAt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Xe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Xe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Xe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Xe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Xe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Xe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Xe.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Xe.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Xe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Xe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Xe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Xe.XMLNS}]]),bAt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),_At=new Set([D.B,D.BIG,D.BLOCKQUOTE,D.BODY,D.BR,D.CENTER,D.CODE,D.DD,D.DIV,D.DL,D.DT,D.EM,D.EMBED,D.H1,D.H2,D.H3,D.H4,D.H5,D.H6,D.HEAD,D.HR,D.I,D.IMG,D.LI,D.LISTING,D.MENU,D.META,D.NOBR,D.OL,D.P,D.PRE,D.RUBY,D.S,D.SMALL,D.SPAN,D.STRONG,D.STRIKE,D.SUB,D.SUP,D.TABLE,D.TT,D.U,D.UL,D.VAR]);function wAt(e){const t=e.tagID;return t===D.FONT&&e.attrs.some(({name:r})=>r===Gv.COLOR||r===Gv.SIZE||r===Gv.FACE)||_At.has(t)}function pOe(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===mAt){e.attrs[t].name=gAt;break}}function mOe(e){for(let t=0;t<e.attrs.length;t++){const n=yAt.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function ese(e){for(let t=0;t<e.attrs.length;t++){const n=vAt.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function xAt(e){const t=bAt.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=DC(e.tagName))}function EAt(e,t){return t===Xe.MATHML&&(e===D.MI||e===D.MO||e===D.MN||e===D.MS||e===D.MTEXT)}function TAt(e,t,n){if(t===Xe.MATHML&&e===D.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Gv.ENCODING){const i=n[r].value.toLowerCase();return i===Yve.TEXT_HTML||i===Yve.APPLICATION_XML}}return t===Xe.SVG&&(e===D.FOREIGN_OBJECT||e===D.DESC||e===D.TITLE)}function SAt(e,t,n,r){return(!r||r===Xe.HTML)&&TAt(e,t,n)||(!r||r===Xe.MATHML)&&EAt(e,t)}const AAt="hidden",CAt=8,IAt=3;var de;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(de||(de={}));const kAt={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},gOe=new Set([D.TABLE,D.TBODY,D.TFOOT,D.THEAD,D.TR]),Kve={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:vT,onParseError:null};let Xve=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=de.INITIAL,this.originalInsertionMode=de.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Kve,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new eAt(this.options,this),this.activeFormattingElements=new aAt(this.treeAdapter),this.fragmentContextID=r?DC(this.treeAdapter.getTagName(r)):D.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new oAt(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Kve,...n};t??(t=r.treeAdapter.createElement(Ne.TEMPLATE,Xe.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Xe.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===D.TEMPLATE&&s.tmplInsertionModeStack.unshift(de.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:kAt,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Xe.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Xe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=de.TEXT}switchToPlaintextParsing(){this.insertionMode=de.TEXT,this.originalInsertionMode=de.IN_BODY,this.tokenizer.state=vo.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ne.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Xe.HTML))switch(this.fragmentContextID){case D.TITLE:case D.TEXTAREA:{this.tokenizer.state=vo.RCDATA;break}case D.STYLE:case D.XMP:case D.IFRAME:case D.NOEMBED:case D.NOFRAMES:case D.NOSCRIPT:{this.tokenizer.state=vo.RAWTEXT;break}case D.SCRIPT:{this.tokenizer.state=vo.SCRIPT_DATA;break}case D.PLAINTEXT:{this.tokenizer.state=vo.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Xe.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Xe.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ne.HTML,Xe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,D.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===cr.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===D.SVG&&this.treeAdapter.getTagName(n)===Ne.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Xe.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===D.MGLYPH||t.tagID===D.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Xe.HTML)}_processToken(t){switch(t.type){case cr.CHARACTER:{this.onCharacter(t);break}case cr.NULL_CHARACTER:{this.onNullCharacter(t);break}case cr.COMMENT:{this.onComment(t);break}case cr.DOCTYPE:{this.onDoctype(t);break}case cr.START_TAG:{this._processStartTag(t);break}case cr.END_TAG:{this.onEndTag(t);break}case cr.EOF:{this.onEof(t);break}case cr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return SAt(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Yh.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=de.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(D.P),this.openElements.popUntilTagNamePopped(D.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case D.TR:{this.insertionMode=de.IN_ROW;return}case D.TBODY:case D.THEAD:case D.TFOOT:{this.insertionMode=de.IN_TABLE_BODY;return}case D.CAPTION:{this.insertionMode=de.IN_CAPTION;return}case D.COLGROUP:{this.insertionMode=de.IN_COLUMN_GROUP;return}case D.TABLE:{this.insertionMode=de.IN_TABLE;return}case D.BODY:{this.insertionMode=de.IN_BODY;return}case D.FRAMESET:{this.insertionMode=de.IN_FRAMESET;return}case D.SELECT:{this._resetInsertionModeForSelect(t);return}case D.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case D.HTML:{this.insertionMode=this.headElement?de.AFTER_HEAD:de.BEFORE_HEAD;return}case D.TD:case D.TH:{if(t>0){this.insertionMode=de.IN_CELL;return}break}case D.HEAD:{if(t>0){this.insertionMode=de.IN_HEAD;return}break}}this.insertionMode=de.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===D.TEMPLATE)break;if(r===D.TABLE){this.insertionMode=de.IN_SELECT_IN_TABLE;return}}this.insertionMode=de.IN_SELECT}_isElementCausesFosterParenting(t){return gOe.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case D.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Xe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case D.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return KSt[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){s3t(this,t);return}switch(this.insertionMode){case de.INITIAL:{vI(this,t);break}case de.BEFORE_HTML:{N6(this,t);break}case de.BEFORE_HEAD:{P6(this,t);break}case de.IN_HEAD:{O6(this,t);break}case de.IN_HEAD_NO_SCRIPT:{D6(this,t);break}case de.AFTER_HEAD:{L6(this,t);break}case de.IN_BODY:case de.IN_CAPTION:case de.IN_CELL:case de.IN_TEMPLATE:{vOe(this,t);break}case de.TEXT:case de.IN_SELECT:case de.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case de.IN_TABLE:case de.IN_TABLE_BODY:case de.IN_ROW:{rq(this,t);break}case de.IN_TABLE_TEXT:{TOe(this,t);break}case de.IN_COLUMN_GROUP:{J9(this,t);break}case de.AFTER_BODY:{Z9(this,t);break}case de.AFTER_AFTER_BODY:{uD(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){i3t(this,t);return}switch(this.insertionMode){case de.INITIAL:{vI(this,t);break}case de.BEFORE_HTML:{N6(this,t);break}case de.BEFORE_HEAD:{P6(this,t);break}case de.IN_HEAD:{O6(this,t);break}case de.IN_HEAD_NO_SCRIPT:{D6(this,t);break}case de.AFTER_HEAD:{L6(this,t);break}case de.TEXT:{this._insertCharacters(t);break}case de.IN_TABLE:case de.IN_TABLE_BODY:case de.IN_ROW:{rq(this,t);break}case de.IN_COLUMN_GROUP:{J9(this,t);break}case de.AFTER_BODY:{Z9(this,t);break}case de.AFTER_AFTER_BODY:{uD(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){eQ(this,t);return}switch(this.insertionMode){case de.INITIAL:case de.BEFORE_HTML:case de.BEFORE_HEAD:case de.IN_HEAD:case de.IN_HEAD_NO_SCRIPT:case de.AFTER_HEAD:case de.IN_BODY:case de.IN_TABLE:case de.IN_CAPTION:case de.IN_COLUMN_GROUP:case de.IN_TABLE_BODY:case de.IN_ROW:case de.IN_CELL:case de.IN_SELECT:case de.IN_SELECT_IN_TABLE:case de.IN_TEMPLATE:case de.IN_FRAMESET:case de.AFTER_FRAMESET:{eQ(this,t);break}case de.IN_TABLE_TEXT:{bI(this,t);break}case de.AFTER_BODY:{LAt(this,t);break}case de.AFTER_AFTER_BODY:case de.AFTER_AFTER_FRAMESET:{MAt(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case de.INITIAL:{FAt(this,t);break}case de.BEFORE_HEAD:case de.IN_HEAD:case de.IN_HEAD_NO_SCRIPT:case de.AFTER_HEAD:{this._err(t,ze.misplacedDoctype);break}case de.IN_TABLE_TEXT:{bI(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ze.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?o3t(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case de.INITIAL:{vI(this,t);break}case de.BEFORE_HTML:{BAt(this,t);break}case de.BEFORE_HEAD:{UAt(this,t);break}case de.IN_HEAD:{Lp(this,t);break}case de.IN_HEAD_NO_SCRIPT:{HAt(this,t);break}case de.AFTER_HEAD:{WAt(this,t);break}case de.IN_BODY:{nl(this,t);break}case de.IN_TABLE:{sA(this,t);break}case de.IN_TABLE_TEXT:{bI(this,t);break}case de.IN_CAPTION:{zCt(this,t);break}case de.IN_COLUMN_GROUP:{rse(this,t);break}case de.IN_TABLE_BODY:{aB(this,t);break}case de.IN_ROW:{uB(this,t);break}case de.IN_CELL:{qCt(this,t);break}case de.IN_SELECT:{COe(this,t);break}case de.IN_SELECT_IN_TABLE:{GCt(this,t);break}case de.IN_TEMPLATE:{KCt(this,t);break}case de.AFTER_BODY:{QCt(this,t);break}case de.IN_FRAMESET:{JCt(this,t);break}case de.AFTER_FRAMESET:{e3t(this,t);break}case de.AFTER_AFTER_BODY:{n3t(this,t);break}case de.AFTER_AFTER_FRAMESET:{r3t(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?a3t(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case de.INITIAL:{vI(this,t);break}case de.BEFORE_HTML:{jAt(this,t);break}case de.BEFORE_HEAD:{zAt(this,t);break}case de.IN_HEAD:{VAt(this,t);break}case de.IN_HEAD_NO_SCRIPT:{qAt(this,t);break}case de.AFTER_HEAD:{GAt(this,t);break}case de.IN_BODY:{oB(this,t);break}case de.TEXT:{NCt(this,t);break}case de.IN_TABLE:{Kk(this,t);break}case de.IN_TABLE_TEXT:{bI(this,t);break}case de.IN_CAPTION:{VCt(this,t);break}case de.IN_COLUMN_GROUP:{HCt(this,t);break}case de.IN_TABLE_BODY:{tQ(this,t);break}case de.IN_ROW:{AOe(this,t);break}case de.IN_CELL:{WCt(this,t);break}case de.IN_SELECT:{IOe(this,t);break}case de.IN_SELECT_IN_TABLE:{YCt(this,t);break}case de.IN_TEMPLATE:{XCt(this,t);break}case de.AFTER_BODY:{ROe(this,t);break}case de.IN_FRAMESET:{ZCt(this,t);break}case de.AFTER_FRAMESET:{t3t(this,t);break}case de.AFTER_AFTER_BODY:{uD(this,t);break}}}onEof(t){switch(this.insertionMode){case de.INITIAL:{vI(this,t);break}case de.BEFORE_HTML:{N6(this,t);break}case de.BEFORE_HEAD:{P6(this,t);break}case de.IN_HEAD:{O6(this,t);break}case de.IN_HEAD_NO_SCRIPT:{D6(this,t);break}case de.AFTER_HEAD:{L6(this,t);break}case de.IN_BODY:case de.IN_TABLE:case de.IN_CAPTION:case de.IN_COLUMN_GROUP:case de.IN_TABLE_BODY:case de.IN_ROW:case de.IN_CELL:case de.IN_SELECT:case de.IN_SELECT_IN_TABLE:{xOe(this,t);break}case de.TEXT:{PCt(this,t);break}case de.IN_TABLE_TEXT:{bI(this,t);break}case de.IN_TEMPLATE:{kOe(this,t);break}case de.AFTER_BODY:case de.IN_FRAMESET:case de.AFTER_FRAMESET:case de.AFTER_AFTER_BODY:case de.AFTER_AFTER_FRAMESET:{nse(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ie.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case de.IN_HEAD:case de.IN_HEAD_NO_SCRIPT:case de.AFTER_HEAD:case de.TEXT:case de.IN_COLUMN_GROUP:case de.IN_SELECT:case de.IN_SELECT_IN_TABLE:case de.IN_FRAMESET:case de.AFTER_FRAMESET:{this._insertCharacters(t);break}case de.IN_BODY:case de.IN_CAPTION:case de.IN_CELL:case de.IN_TEMPLATE:case de.AFTER_BODY:case de.AFTER_AFTER_BODY:case de.AFTER_AFTER_FRAMESET:{yOe(this,t);break}case de.IN_TABLE:case de.IN_TABLE_BODY:case de.IN_ROW:{rq(this,t);break}case de.IN_TABLE_TEXT:{EOe(this,t);break}}}};function RAt(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):wOe(e,t),n}function $At(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function NAt(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=IAt;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=PAt(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function PAt(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function OAt(e,t,n){const r=e.treeAdapter.getTagName(t),i=DC(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===D.TEMPLATE&&s===Xe.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function DAt(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function tse(e,t){for(let n=0;n<CAt;n++){const r=RAt(e,t);if(!r)break;const i=$At(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=NAt(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&OAt(e,o,s),DAt(e,i,r)}}function eQ(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function LAt(e,t){e._appendCommentNode(t,e.openElements.items[0])}function MAt(e,t){e._appendCommentNode(t,e.document)}function nse(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function FAt(e,t){e._setDocumentType(t);const n=t.forceQuirks?Ef.QUIRKS:pAt(t);hAt(t)||e._err(t,ze.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=de.BEFORE_HTML}function vI(e,t){e._err(t,ze.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Ef.QUIRKS),e.insertionMode=de.BEFORE_HTML,e._processToken(t)}function BAt(e,t){t.tagID===D.HTML?(e._insertElement(t,Xe.HTML),e.insertionMode=de.BEFORE_HEAD):N6(e,t)}function jAt(e,t){const n=t.tagID;(n===D.HTML||n===D.HEAD||n===D.BODY||n===D.BR)&&N6(e,t)}function N6(e,t){e._insertFakeRootElement(),e.insertionMode=de.BEFORE_HEAD,e._processToken(t)}function UAt(e,t){switch(t.tagID){case D.HTML:{nl(e,t);break}case D.HEAD:{e._insertElement(t,Xe.HTML),e.headElement=e.openElements.current,e.insertionMode=de.IN_HEAD;break}default:P6(e,t)}}function zAt(e,t){const n=t.tagID;n===D.HEAD||n===D.BODY||n===D.HTML||n===D.BR?P6(e,t):e._err(t,ze.endTagWithoutMatchingOpenElement)}function P6(e,t){e._insertFakeElement(Ne.HEAD,D.HEAD),e.headElement=e.openElements.current,e.insertionMode=de.IN_HEAD,e._processToken(t)}function Lp(e,t){switch(t.tagID){case D.HTML:{nl(e,t);break}case D.BASE:case D.BASEFONT:case D.BGSOUND:case D.LINK:case D.META:{e._appendElement(t,Xe.HTML),t.ackSelfClosing=!0;break}case D.TITLE:{e._switchToTextParsing(t,vo.RCDATA);break}case D.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,vo.RAWTEXT):(e._insertElement(t,Xe.HTML),e.insertionMode=de.IN_HEAD_NO_SCRIPT);break}case D.NOFRAMES:case D.STYLE:{e._switchToTextParsing(t,vo.RAWTEXT);break}case D.SCRIPT:{e._switchToTextParsing(t,vo.SCRIPT_DATA);break}case D.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=de.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(de.IN_TEMPLATE);break}case D.HEAD:{e._err(t,ze.misplacedStartTagForHeadElement);break}default:O6(e,t)}}function VAt(e,t){switch(t.tagID){case D.HEAD:{e.openElements.pop(),e.insertionMode=de.AFTER_HEAD;break}case D.BODY:case D.BR:case D.HTML:{O6(e,t);break}case D.TEMPLATE:{S2(e,t);break}default:e._err(t,ze.endTagWithoutMatchingOpenElement)}}function S2(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==D.TEMPLATE&&e._err(t,ze.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(D.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ze.endTagWithoutMatchingOpenElement)}function O6(e,t){e.openElements.pop(),e.insertionMode=de.AFTER_HEAD,e._processToken(t)}function HAt(e,t){switch(t.tagID){case D.HTML:{nl(e,t);break}case D.BASEFONT:case D.BGSOUND:case D.HEAD:case D.LINK:case D.META:case D.NOFRAMES:case D.STYLE:{Lp(e,t);break}case D.NOSCRIPT:{e._err(t,ze.nestedNoscriptInHead);break}default:D6(e,t)}}function qAt(e,t){switch(t.tagID){case D.NOSCRIPT:{e.openElements.pop(),e.insertionMode=de.IN_HEAD;break}case D.BR:{D6(e,t);break}default:e._err(t,ze.endTagWithoutMatchingOpenElement)}}function D6(e,t){const n=t.type===cr.EOF?ze.openElementsLeftAfterEof:ze.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=de.IN_HEAD,e._processToken(t)}function WAt(e,t){switch(t.tagID){case D.HTML:{nl(e,t);break}case D.BODY:{e._insertElement(t,Xe.HTML),e.framesetOk=!1,e.insertionMode=de.IN_BODY;break}case D.FRAMESET:{e._insertElement(t,Xe.HTML),e.insertionMode=de.IN_FRAMESET;break}case D.BASE:case D.BASEFONT:case D.BGSOUND:case D.LINK:case D.META:case D.NOFRAMES:case D.SCRIPT:case D.STYLE:case D.TEMPLATE:case D.TITLE:{e._err(t,ze.abandonedHeadElementChild),e.openElements.push(e.headElement,D.HEAD),Lp(e,t),e.openElements.remove(e.headElement);break}case D.HEAD:{e._err(t,ze.misplacedStartTagForHeadElement);break}default:L6(e,t)}}function GAt(e,t){switch(t.tagID){case D.BODY:case D.HTML:case D.BR:{L6(e,t);break}case D.TEMPLATE:{S2(e,t);break}default:e._err(t,ze.endTagWithoutMatchingOpenElement)}}function L6(e,t){e._insertFakeElement(Ne.BODY,D.BODY),e.insertionMode=de.IN_BODY,sB(e,t)}function sB(e,t){switch(t.type){case cr.CHARACTER:{vOe(e,t);break}case cr.WHITESPACE_CHARACTER:{yOe(e,t);break}case cr.COMMENT:{eQ(e,t);break}case cr.START_TAG:{nl(e,t);break}case cr.END_TAG:{oB(e,t);break}case cr.EOF:{xOe(e,t);break}}}function yOe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function vOe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function YAt(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function KAt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function XAt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Xe.HTML),e.insertionMode=de.IN_FRAMESET)}function QAt(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,Xe.HTML)}function JAt(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),oOe(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Xe.HTML)}function ZAt(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,Xe.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function eCt(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,Xe.HTML),n||(e.formElement=e.openElements.current))}function tCt(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===D.LI&&i===D.LI||(n===D.DD||n===D.DT)&&(i===D.DD||i===D.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==D.ADDRESS&&i!==D.DIV&&i!==D.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,Xe.HTML)}function nCt(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,Xe.HTML),e.tokenizer.state=vo.PLAINTEXT}function rCt(e,t){e.openElements.hasInScope(D.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(D.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Xe.HTML),e.framesetOk=!1}function iCt(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ne.A);n&&(tse(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Xe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function sCt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Xe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function oCt(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(D.NOBR)&&(tse(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Xe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function aCt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Xe.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function uCt(e,t){e.treeAdapter.getDocumentMode(e.document)!==Ef.QUIRKS&&e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,Xe.HTML),e.framesetOk=!1,e.insertionMode=de.IN_TABLE}function bOe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Xe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function _Oe(e){const t=rOe(e,Gv.TYPE);return t!=null&&t.toLowerCase()===AAt}function lCt(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Xe.HTML),_Oe(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function cCt(e,t){e._appendElement(t,Xe.HTML),t.ackSelfClosing=!0}function fCt(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._appendElement(t,Xe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function dCt(e,t){t.tagName=Ne.IMG,t.tagID=D.IMG,bOe(e,t)}function hCt(e,t){e._insertElement(t,Xe.HTML),e.skipNextNewLine=!0,e.tokenizer.state=vo.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=de.TEXT}function pCt(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,vo.RAWTEXT)}function mCt(e,t){e.framesetOk=!1,e._switchToTextParsing(t,vo.RAWTEXT)}function Qve(e,t){e._switchToTextParsing(t,vo.RAWTEXT)}function gCt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Xe.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===de.IN_TABLE||e.insertionMode===de.IN_CAPTION||e.insertionMode===de.IN_TABLE_BODY||e.insertionMode===de.IN_ROW||e.insertionMode===de.IN_CELL?de.IN_SELECT_IN_TABLE:de.IN_SELECT}function yCt(e,t){e.openElements.currentTagId===D.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Xe.HTML)}function vCt(e,t){e.openElements.hasInScope(D.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Xe.HTML)}function bCt(e,t){e.openElements.hasInScope(D.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(D.RTC),e._insertElement(t,Xe.HTML)}function _Ct(e,t){e._reconstructActiveFormattingElements(),pOe(t),ese(t),t.selfClosing?e._appendElement(t,Xe.MATHML):e._insertElement(t,Xe.MATHML),t.ackSelfClosing=!0}function wCt(e,t){e._reconstructActiveFormattingElements(),mOe(t),ese(t),t.selfClosing?e._appendElement(t,Xe.SVG):e._insertElement(t,Xe.SVG),t.ackSelfClosing=!0}function Jve(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Xe.HTML)}function nl(e,t){switch(t.tagID){case D.I:case D.S:case D.B:case D.U:case D.EM:case D.TT:case D.BIG:case D.CODE:case D.FONT:case D.SMALL:case D.STRIKE:case D.STRONG:{sCt(e,t);break}case D.A:{iCt(e,t);break}case D.H1:case D.H2:case D.H3:case D.H4:case D.H5:case D.H6:{JAt(e,t);break}case D.P:case D.DL:case D.OL:case D.UL:case D.DIV:case D.DIR:case D.NAV:case D.MAIN:case D.MENU:case D.ASIDE:case D.CENTER:case D.FIGURE:case D.FOOTER:case D.HEADER:case D.HGROUP:case D.DIALOG:case D.DETAILS:case D.ADDRESS:case D.ARTICLE:case D.SECTION:case D.SUMMARY:case D.FIELDSET:case D.BLOCKQUOTE:case D.FIGCAPTION:{QAt(e,t);break}case D.LI:case D.DD:case D.DT:{tCt(e,t);break}case D.BR:case D.IMG:case D.WBR:case D.AREA:case D.EMBED:case D.KEYGEN:{bOe(e,t);break}case D.HR:{fCt(e,t);break}case D.RB:case D.RTC:{vCt(e,t);break}case D.RT:case D.RP:{bCt(e,t);break}case D.PRE:case D.LISTING:{ZAt(e,t);break}case D.XMP:{pCt(e,t);break}case D.SVG:{wCt(e,t);break}case D.HTML:{YAt(e,t);break}case D.BASE:case D.LINK:case D.META:case D.STYLE:case D.TITLE:case D.SCRIPT:case D.BGSOUND:case D.BASEFONT:case D.TEMPLATE:{Lp(e,t);break}case D.BODY:{KAt(e,t);break}case D.FORM:{eCt(e,t);break}case D.NOBR:{oCt(e,t);break}case D.MATH:{_Ct(e,t);break}case D.TABLE:{uCt(e,t);break}case D.INPUT:{lCt(e,t);break}case D.PARAM:case D.TRACK:case D.SOURCE:{cCt(e,t);break}case D.IMAGE:{dCt(e,t);break}case D.BUTTON:{rCt(e,t);break}case D.APPLET:case D.OBJECT:case D.MARQUEE:{aCt(e,t);break}case D.IFRAME:{mCt(e,t);break}case D.SELECT:{gCt(e,t);break}case D.OPTION:case D.OPTGROUP:{yCt(e,t);break}case D.NOEMBED:{Qve(e,t);break}case D.FRAMESET:{XAt(e,t);break}case D.TEXTAREA:{hCt(e,t);break}case D.NOSCRIPT:{e.options.scriptingEnabled?Qve(e,t):Jve(e,t);break}case D.PLAINTEXT:{nCt(e,t);break}case D.COL:case D.TH:case D.TD:case D.TR:case D.HEAD:case D.FRAME:case D.TBODY:case D.TFOOT:case D.THEAD:case D.CAPTION:case D.COLGROUP:break;default:Jve(e,t)}}function xCt(e,t){if(e.openElements.hasInScope(D.BODY)&&(e.insertionMode=de.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function ECt(e,t){e.openElements.hasInScope(D.BODY)&&(e.insertionMode=de.AFTER_BODY,ROe(e,t))}function TCt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function SCt(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(D.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(D.FORM):n&&e.openElements.remove(n))}function ACt(e){e.openElements.hasInButtonScope(D.P)||e._insertFakeElement(Ne.P,D.P),e._closePElement()}function CCt(e){e.openElements.hasInListItemScope(D.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(D.LI),e.openElements.popUntilTagNamePopped(D.LI))}function ICt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function kCt(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function RCt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function $Ct(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ne.BR,D.BR),e.openElements.pop(),e.framesetOk=!1}function wOe(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==D.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function oB(e,t){switch(t.tagID){case D.A:case D.B:case D.I:case D.S:case D.U:case D.EM:case D.TT:case D.BIG:case D.CODE:case D.FONT:case D.NOBR:case D.SMALL:case D.STRIKE:case D.STRONG:{tse(e,t);break}case D.P:{ACt(e);break}case D.DL:case D.UL:case D.OL:case D.DIR:case D.DIV:case D.NAV:case D.PRE:case D.MAIN:case D.MENU:case D.ASIDE:case D.BUTTON:case D.CENTER:case D.FIGURE:case D.FOOTER:case D.HEADER:case D.HGROUP:case D.DIALOG:case D.ADDRESS:case D.ARTICLE:case D.DETAILS:case D.SECTION:case D.SUMMARY:case D.LISTING:case D.FIELDSET:case D.BLOCKQUOTE:case D.FIGCAPTION:{TCt(e,t);break}case D.LI:{CCt(e);break}case D.DD:case D.DT:{ICt(e,t);break}case D.H1:case D.H2:case D.H3:case D.H4:case D.H5:case D.H6:{kCt(e);break}case D.BR:{$Ct(e);break}case D.BODY:{xCt(e,t);break}case D.HTML:{ECt(e,t);break}case D.FORM:{SCt(e);break}case D.APPLET:case D.OBJECT:case D.MARQUEE:{RCt(e,t);break}case D.TEMPLATE:{S2(e,t);break}default:wOe(e,t)}}function xOe(e,t){e.tmplInsertionModeStack.length>0?kOe(e,t):nse(e,t)}function NCt(e,t){var n;t.tagID===D.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function PCt(e,t){e._err(t,ze.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function rq(e,t){if(gOe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=de.IN_TABLE_TEXT,t.type){case cr.CHARACTER:{TOe(e,t);break}case cr.WHITESPACE_CHARACTER:{EOe(e,t);break}}else O$(e,t)}function OCt(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Xe.HTML),e.insertionMode=de.IN_CAPTION}function DCt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Xe.HTML),e.insertionMode=de.IN_COLUMN_GROUP}function LCt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ne.COLGROUP,D.COLGROUP),e.insertionMode=de.IN_COLUMN_GROUP,rse(e,t)}function MCt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Xe.HTML),e.insertionMode=de.IN_TABLE_BODY}function FCt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ne.TBODY,D.TBODY),e.insertionMode=de.IN_TABLE_BODY,aB(e,t)}function BCt(e,t){e.openElements.hasInTableScope(D.TABLE)&&(e.openElements.popUntilTagNamePopped(D.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function jCt(e,t){_Oe(t)?e._appendElement(t,Xe.HTML):O$(e,t),t.ackSelfClosing=!0}function UCt(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Xe.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function sA(e,t){switch(t.tagID){case D.TD:case D.TH:case D.TR:{FCt(e,t);break}case D.STYLE:case D.SCRIPT:case D.TEMPLATE:{Lp(e,t);break}case D.COL:{LCt(e,t);break}case D.FORM:{UCt(e,t);break}case D.TABLE:{BCt(e,t);break}case D.TBODY:case D.TFOOT:case D.THEAD:{MCt(e,t);break}case D.INPUT:{jCt(e,t);break}case D.CAPTION:{OCt(e,t);break}case D.COLGROUP:{DCt(e,t);break}default:O$(e,t)}}function Kk(e,t){switch(t.tagID){case D.TABLE:{e.openElements.hasInTableScope(D.TABLE)&&(e.openElements.popUntilTagNamePopped(D.TABLE),e._resetInsertionMode());break}case D.TEMPLATE:{S2(e,t);break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:case D.TBODY:case D.TD:case D.TFOOT:case D.TH:case D.THEAD:case D.TR:break;default:O$(e,t)}}function O$(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,sB(e,t),e.fosterParentingEnabled=n}function EOe(e,t){e.pendingCharacterTokens.push(t)}function TOe(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function bI(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)O$(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const SOe=new Set([D.CAPTION,D.COL,D.COLGROUP,D.TBODY,D.TD,D.TFOOT,D.TH,D.THEAD,D.TR]);function zCt(e,t){const n=t.tagID;SOe.has(n)?e.openElements.hasInTableScope(D.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(D.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=de.IN_TABLE,sA(e,t)):nl(e,t)}function VCt(e,t){const n=t.tagID;switch(n){case D.CAPTION:case D.TABLE:{e.openElements.hasInTableScope(D.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(D.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=de.IN_TABLE,n===D.TABLE&&Kk(e,t));break}case D.BODY:case D.COL:case D.COLGROUP:case D.HTML:case D.TBODY:case D.TD:case D.TFOOT:case D.TH:case D.THEAD:case D.TR:break;default:oB(e,t)}}function rse(e,t){switch(t.tagID){case D.HTML:{nl(e,t);break}case D.COL:{e._appendElement(t,Xe.HTML),t.ackSelfClosing=!0;break}case D.TEMPLATE:{Lp(e,t);break}default:J9(e,t)}}function HCt(e,t){switch(t.tagID){case D.COLGROUP:{e.openElements.currentTagId===D.COLGROUP&&(e.openElements.pop(),e.insertionMode=de.IN_TABLE);break}case D.TEMPLATE:{S2(e,t);break}case D.COL:break;default:J9(e,t)}}function J9(e,t){e.openElements.currentTagId===D.COLGROUP&&(e.openElements.pop(),e.insertionMode=de.IN_TABLE,e._processToken(t))}function aB(e,t){switch(t.tagID){case D.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Xe.HTML),e.insertionMode=de.IN_ROW;break}case D.TH:case D.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ne.TR,D.TR),e.insertionMode=de.IN_ROW,uB(e,t);break}case D.CAPTION:case D.COL:case D.COLGROUP:case D.TBODY:case D.TFOOT:case D.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE,sA(e,t));break}default:sA(e,t)}}function tQ(e,t){const n=t.tagID;switch(t.tagID){case D.TBODY:case D.TFOOT:case D.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE);break}case D.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE,Kk(e,t));break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:case D.TD:case D.TH:case D.TR:break;default:Kk(e,t)}}function uB(e,t){switch(t.tagID){case D.TH:case D.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Xe.HTML),e.insertionMode=de.IN_CELL,e.activeFormattingElements.insertMarker();break}case D.CAPTION:case D.COL:case D.COLGROUP:case D.TBODY:case D.TFOOT:case D.THEAD:case D.TR:{e.openElements.hasInTableScope(D.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE_BODY,aB(e,t));break}default:sA(e,t)}}function AOe(e,t){switch(t.tagID){case D.TR:{e.openElements.hasInTableScope(D.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE_BODY);break}case D.TABLE:{e.openElements.hasInTableScope(D.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE_BODY,tQ(e,t));break}case D.TBODY:case D.TFOOT:case D.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(D.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE_BODY,tQ(e,t));break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:case D.TD:case D.TH:break;default:Kk(e,t)}}function qCt(e,t){const n=t.tagID;SOe.has(n)?(e.openElements.hasInTableScope(D.TD)||e.openElements.hasInTableScope(D.TH))&&(e._closeTableCell(),uB(e,t)):nl(e,t)}function WCt(e,t){const n=t.tagID;switch(n){case D.TD:case D.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=de.IN_ROW);break}case D.TABLE:case D.TBODY:case D.TFOOT:case D.THEAD:case D.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),AOe(e,t));break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:break;default:oB(e,t)}}function COe(e,t){switch(t.tagID){case D.HTML:{nl(e,t);break}case D.OPTION:{e.openElements.currentTagId===D.OPTION&&e.openElements.pop(),e._insertElement(t,Xe.HTML);break}case D.OPTGROUP:{e.openElements.currentTagId===D.OPTION&&e.openElements.pop(),e.openElements.currentTagId===D.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Xe.HTML);break}case D.INPUT:case D.KEYGEN:case D.TEXTAREA:case D.SELECT:{e.openElements.hasInSelectScope(D.SELECT)&&(e.openElements.popUntilTagNamePopped(D.SELECT),e._resetInsertionMode(),t.tagID!==D.SELECT&&e._processStartTag(t));break}case D.SCRIPT:case D.TEMPLATE:{Lp(e,t);break}}}function IOe(e,t){switch(t.tagID){case D.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===D.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===D.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===D.OPTGROUP&&e.openElements.pop();break}case D.OPTION:{e.openElements.currentTagId===D.OPTION&&e.openElements.pop();break}case D.SELECT:{e.openElements.hasInSelectScope(D.SELECT)&&(e.openElements.popUntilTagNamePopped(D.SELECT),e._resetInsertionMode());break}case D.TEMPLATE:{S2(e,t);break}}}function GCt(e,t){const n=t.tagID;n===D.CAPTION||n===D.TABLE||n===D.TBODY||n===D.TFOOT||n===D.THEAD||n===D.TR||n===D.TD||n===D.TH?(e.openElements.popUntilTagNamePopped(D.SELECT),e._resetInsertionMode(),e._processStartTag(t)):COe(e,t)}function YCt(e,t){const n=t.tagID;n===D.CAPTION||n===D.TABLE||n===D.TBODY||n===D.TFOOT||n===D.THEAD||n===D.TR||n===D.TD||n===D.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(D.SELECT),e._resetInsertionMode(),e.onEndTag(t)):IOe(e,t)}function KCt(e,t){switch(t.tagID){case D.BASE:case D.BASEFONT:case D.BGSOUND:case D.LINK:case D.META:case D.NOFRAMES:case D.SCRIPT:case D.STYLE:case D.TEMPLATE:case D.TITLE:{Lp(e,t);break}case D.CAPTION:case D.COLGROUP:case D.TBODY:case D.TFOOT:case D.THEAD:{e.tmplInsertionModeStack[0]=de.IN_TABLE,e.insertionMode=de.IN_TABLE,sA(e,t);break}case D.COL:{e.tmplInsertionModeStack[0]=de.IN_COLUMN_GROUP,e.insertionMode=de.IN_COLUMN_GROUP,rse(e,t);break}case D.TR:{e.tmplInsertionModeStack[0]=de.IN_TABLE_BODY,e.insertionMode=de.IN_TABLE_BODY,aB(e,t);break}case D.TD:case D.TH:{e.tmplInsertionModeStack[0]=de.IN_ROW,e.insertionMode=de.IN_ROW,uB(e,t);break}default:e.tmplInsertionModeStack[0]=de.IN_BODY,e.insertionMode=de.IN_BODY,nl(e,t)}}function XCt(e,t){t.tagID===D.TEMPLATE&&S2(e,t)}function kOe(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(D.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):nse(e,t)}function QCt(e,t){t.tagID===D.HTML?nl(e,t):Z9(e,t)}function ROe(e,t){var n;if(t.tagID===D.HTML){if(e.fragmentContext||(e.insertionMode=de.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===D.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Z9(e,t)}function Z9(e,t){e.insertionMode=de.IN_BODY,sB(e,t)}function JCt(e,t){switch(t.tagID){case D.HTML:{nl(e,t);break}case D.FRAMESET:{e._insertElement(t,Xe.HTML);break}case D.FRAME:{e._appendElement(t,Xe.HTML),t.ackSelfClosing=!0;break}case D.NOFRAMES:{Lp(e,t);break}}}function ZCt(e,t){t.tagID===D.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==D.FRAMESET&&(e.insertionMode=de.AFTER_FRAMESET))}function e3t(e,t){switch(t.tagID){case D.HTML:{nl(e,t);break}case D.NOFRAMES:{Lp(e,t);break}}}function t3t(e,t){t.tagID===D.HTML&&(e.insertionMode=de.AFTER_AFTER_FRAMESET)}function n3t(e,t){t.tagID===D.HTML?nl(e,t):uD(e,t)}function uD(e,t){e.insertionMode=de.IN_BODY,sB(e,t)}function r3t(e,t){switch(t.tagID){case D.HTML:{nl(e,t);break}case D.NOFRAMES:{Lp(e,t);break}}}function i3t(e,t){t.chars=ks,e._insertCharacters(t)}function s3t(e,t){e._insertCharacters(t),e.framesetOk=!1}function $Oe(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Xe.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function o3t(e,t){if(wAt(t))$Oe(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Xe.MATHML?pOe(t):r===Xe.SVG&&(xAt(t),mOe(t)),ese(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function a3t(e,t){if(t.tagID===D.P||t.tagID===D.BR){$Oe(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Xe.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Ne.AREA,Ne.BASE,Ne.BASEFONT,Ne.BGSOUND,Ne.BR,Ne.COL,Ne.EMBED,Ne.FRAME,Ne.HR,Ne.IMG,Ne.INPUT,Ne.KEYGEN,Ne.LINK,Ne.META,Ne.PARAM,Ne.SOURCE,Ne.TRACK,Ne.WBR;const u3t=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Zve={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function NOe(e,t){const n=v3t(e),r=J8e("type",{handlers:{root:l3t,element:c3t,text:f3t,comment:OOe,doctype:d3t,raw:p3t},unknown:m3t}),i={parser:n?new Xve(Zve):Xve.getFragmentParser(void 0,Zve),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),LC(i,$m());const s=n?i.parser.document:i.parser.getFragment(),o=wSt(s,{file:i.options.file});return i.stitches&&Xie(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function POe(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function l3t(e,t){POe(e.children,t)}function c3t(e,t){g3t(e,t),POe(e.children,t),y3t(e,t)}function f3t(e,t){const n={type:cr.CHARACTER,chars:e.value,location:D$(e)};LC(t,$m(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function d3t(e,t){const n={type:cr.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:D$(e)};LC(t,$m(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function h3t(e,t){t.stitches=!0;const n=b3t(e);if("children"in e&&"children"in n){const r=NOe({type:"root",children:e.children},t.options);n.children=r.children}OOe({type:"comment",value:{stitch:n}},t)}function OOe(e,t){const n=e.value,r={type:cr.COMMENT,data:n,location:D$(e)};LC(t,$m(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function p3t(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,DOe(t,$m(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function m3t(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))h3t(n,t);else{let r="";throw u3t.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function LC(e,t){DOe(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=vo.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function DOe(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function g3t(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===vo.PLAINTEXT)return;LC(t,$m(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Ww.html;i===Ww.html&&n==="svg"&&(i=Ww.svg);const s=SSt({...e,children:[]},{space:i===Ww.svg?"svg":"html"}),o={type:cr.START_TAG,tagName:n,tagID:DC(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:D$(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function y3t(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&PSt.includes(n)||t.parser.tokenizer.state===vo.PLAINTEXT)return;LC(t,tB(e));const r={type:cr.END_TAG,tagName:n,tagID:DC(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:D$(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===vo.RCDATA||t.parser.tokenizer.state===vo.RAWTEXT||t.parser.tokenizer.state===vo.SCRIPT_DATA)&&(t.parser.tokenizer.state=vo.DATA)}function v3t(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function D$(e){const t=$m(e)||{line:void 0,column:void 0,offset:void 0},n=tB(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function b3t(e){return"children"in e?iA({...e,children:[]}):iA(e)}function _3t(e){return function(t,n){return NOe(t,{...e,file:n})}}function Ku({text:e,required:t}){const n={img({node:i,width:s,height:o,...a}){return E.jsx(i_,{...a,h:o,w:s,ref:void 0})},p({node:i,...s}){return E.jsx(Ue,{...s,pb:8,fw:"inherit",ref:void 0})},h1({node:i,...s}){return E.jsx(to,{...s,order:1,...s,pb:12})},h2({node:i,...s}){return E.jsx(to,{...s,order:2,...s,pb:12})},h3({node:i,...s}){return E.jsx(to,{...s,order:3,...s,pb:12})},h4({node:i,...s}){return E.jsx(to,{...s,order:4,...s,pb:12})},h5({node:i,...s}){return E.jsx(to,{...s,order:5,...s,pb:12})},h6({node:i,...s}){return E.jsx(to,{...s,order:6,...s,pb:12})},a({node:i,...s}){return E.jsx(n_,{...s,ref:void 0})},ul({node:i,...s}){return E.jsx(yo,{withPadding:!0,...s,pb:8})},ol({node:i,type:s,...o}){return E.jsx(yo,{type:"ordered",withPadding:!0,...o,pb:8})}};return E.jsx(uSt,{components:n,rehypePlugins:[_3t],children:e+(t?'<span style="color: #fa5252; margin-left: 4px">*</span>':"")})}function lD({issues:e,type:t}){const n=`
    ${t==="error"?"There was an issue loading the study config. Please check the following issues:":"There were some warnings while loading the study config. Please check the following warnings:"}

    ${e.map(r=>`- You have an error at ${r.instancePath||"root"}: ${r.message} - ${JSON.stringify(r.params)}  `).join(`
`)}
  `.replace(/\n\s+/g,`
`);return E.jsx(Ku,{text:n})}const jE=14;function w3t({completed:e,inProgress:t,rejected:n}){return E.jsxs(qt,{ml:4,gap:4,children:[E.jsx(vs,{label:"Completed",children:E.jsx(qv,{variant:"light",color:"green",leftSection:E.jsx(s8e,{width:jE,height:jE,style:{paddingTop:1}}),pb:1,children:e})}),E.jsx(vs,{label:"In Progress",children:E.jsx(qv,{variant:"light",color:"orange",leftSection:E.jsx(o8e,{width:jE,height:jE,style:{paddingTop:1}}),pb:1,children:t})}),E.jsx(vs,{label:"Rejected",children:E.jsx(qv,{variant:"light",color:"red",leftSection:E.jsx(Fie,{width:jE,height:jE,style:{paddingTop:1}}),pb:1,children:n})})]})}const x3t="https://github.com/revisit-studies/study/tree/main/public/";function E3t({configName:e,config:t,url:n}){const{storageEngine:r}=Ao(),[i,s]=R.useState(null);R.useEffect(()=>{r&&r.getParticipantsStatusCounts(e).then(f=>{s(f)})},[e,r]);const{minTime:o,maxTime:a}=R.useMemo(()=>{if(!i)return{minTime:null,maxTime:null};if(!i.minTime||!i.maxTime)return{minTime:null,maxTime:null};const f=typeof i.minTime=="number"?new Date(i.minTime):i.minTime.toDate(),d=typeof i.maxTime=="number"?new Date(i.maxTime):i.maxTime.toDate();return{minTime:f.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),maxTime:d.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})}},[i]),[u,l]=R.useState(null);R.useEffect(()=>{r&&r.getModes(e).then(f=>{l(f)})},[e,r]);const c=R.useMemo(()=>u?u.dataCollectionEnabled?i&&(i.inProgress>0||i.completed>0)?"Collecting Data":"Ready to Collect Data":"Data Collection Disabled":"Unknown",[u,i]);return E.jsx(EC,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,children:t.errors.length>0?E.jsxs(E.Fragment,{children:[E.jsx(Ue,{fw:"bold",children:e}),E.jsxs(qt,{align:"center",direction:"row",children:[E.jsx(I6,{color:"red"}),E.jsx(Ue,{fw:"bold",ml:8,color:"red",children:"Errors"})]}),E.jsx(lD,{issues:t.errors,type:"error"}),t.warnings.length>0&&E.jsxs(E.Fragment,{children:[E.jsxs(qt,{align:"center",direction:"row",children:[E.jsx(I6,{color:"orange"}),E.jsx(Ue,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),E.jsx(lD,{issues:t.warnings,type:"warning"})]})]}):E.jsxs(E.Fragment,{children:[E.jsx(qt,{direction:"row",justify:"space-between",children:E.jsx(Ue,{fw:"bold",children:t.studyMetadata.title})}),E.jsxs(Ue,{c:"dimmed",children:[E.jsx(Ue,{span:!0,fw:500,children:"Authors: "}),t.studyMetadata.authors.join(", ")]}),E.jsx(Ue,{c:"dimmed",children:t.studyMetadata.description}),E.jsx(Ue,{c:"dimmed",ta:"right",style:{paddingRight:5},children:E.jsxs(n_,{target:"_blank",onClick:f=>f.stopPropagation(),href:`${x3t}${n}`,children:["View source:"," ",n,E.jsx(wwt,{style:{width:De(18),height:De(18),marginLeft:De(2),marginBottom:De(-3)}})]})}),t.warnings.length>0&&E.jsxs(E.Fragment,{children:[E.jsxs(qt,{align:"center",direction:"row",children:[E.jsx(I6,{color:"orange"}),E.jsx(Ue,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),E.jsx(lD,{issues:t.warnings,type:"warning"})]}),E.jsx(TC,{my:"md"}),E.jsxs(qt,{direction:"row",gap:"sm",children:[E.jsxs(Ue,{fw:"bold",size:"sm",opacity:.7,children:["Study Status:"," ",c]}),i&&E.jsx(w3t,{completed:i.completed,inProgress:i.inProgress,rejected:i.rejected})]}),o&&a&&E.jsxs(Ue,{c:"dimmed",mt:4,children:["Activity:"," ",o," ",""," ",a]}),E.jsxs(qt,{direction:"row",align:"end",gap:"sm",mt:"md",children:[E.jsx(on,{leftSection:E.jsx(i8e,{}),style:{marginLeft:"auto"},variant:"default",component:"a",href:`${Nl}analysis/stats/${n}`,children:"Analyze & Manage Study"}),E.jsx(on,{leftSection:E.jsx(Twt,{}),component:"a",href:`${Nl}${n}`,children:"Go to Study"})]})]})},e)}function UE({configNames:e,studyConfigs:t}){return e.map(n=>{const r=t[n];if(!r)return null;const i=c8e(n);return E.jsx(E3t,{configName:n,config:r,url:i},n)})}function T3t({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=n.filter(l=>l.startsWith("demo-")),i=n.filter(l=>l.startsWith("tutorial-")),s=n.filter(l=>l.startsWith("example-")),o=n.filter(l=>l.startsWith("test-")),a=n.filter(l=>l.startsWith("library-")),u=n.filter(l=>!l.startsWith("demo-")&&!l.startsWith("tutorial-")&&!l.startsWith("example-")&&!l.startsWith("test-")&&!l.startsWith("library-"));return E.jsx(Ui.Main,{children:E.jsxs($l,{size:"sm",px:0,children:[E.jsx(i_,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Nl}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),E.jsxs(Fr,{variant:"outline",defaultValue:u.length>0?"Others":"Demos",children:[E.jsxs(Fr.List,{children:[u.length>0&&E.jsx(Fr.Tab,{value:"Others",children:"Your Studies"}),E.jsx(Fr.Tab,{value:"Demos",children:"Demo Studies"}),E.jsx(Fr.Tab,{value:"Examples",children:"Example Studies"}),E.jsx(Fr.Tab,{value:"Tutorials",children:"Tutorials"}),E.jsx(Fr.Tab,{value:"Tests",children:"Tests"}),E.jsx(Fr.Tab,{value:"Libraries",children:"Libraries"})]}),u.length>0&&E.jsx(Fr.Panel,{value:"Others",children:E.jsx(UE,{configNames:u,studyConfigs:t})}),E.jsxs(Fr.Panel,{value:"Demos",children:[E.jsx(Ue,{c:"dimmed",mt:"sm",children:"These studies show off individual features of the reVISit platform."}),E.jsx(UE,{configNames:r,studyConfigs:t})]}),E.jsxs(Fr.Panel,{value:"Examples",children:[E.jsx(Ue,{c:"dimmed",mt:"sm",children:"These are full studies that demonstrate the capabilities of the reVISit platform."}),E.jsx(UE,{configNames:s,studyConfigs:t})]}),E.jsxs(Fr.Panel,{value:"Tutorials",children:[E.jsx(Ue,{c:"dimmed",mt:"sm",children:"These studies are designed to help you learn how to use the reVISit platform."}),E.jsx(UE,{configNames:i,studyConfigs:t})]}),E.jsxs(Fr.Panel,{value:"Tests",children:[E.jsx(Ue,{c:"dimmed",mt:"sm",children:"These studies exist for testing purposes."}),E.jsx(UE,{configNames:o,studyConfigs:t})]}),E.jsxs(Fr.Panel,{value:"Libraries",children:[E.jsx(Ue,{c:"dimmed",mt:"sm",children:"Here you can see an example of every library that we publish"}),E.jsx(UE,{configNames:a,studyConfigs:t})]})]})]})})}var LOe={exports:{}},MOe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L$=R;function S3t(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A3t=typeof Object.is=="function"?Object.is:S3t,C3t=L$.useSyncExternalStore,I3t=L$.useRef,k3t=L$.useEffect,R3t=L$.useMemo,$3t=L$.useDebugValue;MOe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=I3t(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=R3t(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,A3t(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=C3t(e,s[0],s[1]);return k3t(function(){o.hasValue=!0,o.value=a},[a]),$3t(a),a};LOe.exports=MOe;var N3t=LOe.exports,Nf="default"in f9?ui:f9,ebe=Symbol.for("react-redux-context"),tbe=typeof globalThis<"u"?globalThis:{};function P3t(){if(!Nf.createContext)return{};const e=tbe[ebe]??(tbe[ebe]=new Map);let t=e.get(Nf.createContext);return t||(t=Nf.createContext(null),e.set(Nf.createContext,t)),t}var fb=P3t(),O3t=()=>{throw new Error("uSES not initialized!")};function ise(e=fb){return function(){return Nf.useContext(e)}}var FOe=ise(),BOe=O3t,D3t=e=>{BOe=e},L3t=(e,t)=>e===t;function M3t(e=fb){const t=e===fb?FOe:ise(e),n=(r,i={})=>{const{equalityFn:s=L3t,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:l,stabilityCheck:c,identityFunctionCheck:f}=t();Nf.useRef(!0);const d=Nf.useCallback({[r.name](p){return r(p)}}[r.name],[r,c,o.stabilityCheck]),h=BOe(u.addNestedSub,a.getState,l||a.getState,d,s);return Nf.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var F3t=M3t();function B3t(e){e()}function j3t(){let e=null,t=null;return{clear(){e=null,t=null},notify(){B3t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var nbe={notify(){},get:()=>[]};function U3t(e,t){let n,r=nbe,i=0,s=!1;function o(m){c();const g=r.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),f())}}function a(){r.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return s}function c(){i++,n||(n=e.subscribe(u),r=j3t())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=nbe)}function d(){s||(s=!0,c())}function h(){s&&(s=!1,f())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}var z3t=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V3t=typeof navigator<"u"&&navigator.product==="ReactNative",H3t=z3t||V3t?Nf.useLayoutEffect:Nf.useEffect;function q3t({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Nf.useMemo(()=>{const l=U3t(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),a=Nf.useMemo(()=>e.getState(),[e]);H3t(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=t||fb;return Nf.createElement(u.Provider,{value:o},n)}var W3t=q3t;function jOe(e=fb){const t=e===fb?FOe:ise(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var G3t=jOe();function Y3t(e=fb){const t=e===fb?G3t:jOe(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var UOe=Y3t();D3t(N3t.useSyncExternalStoreWithSelector);function Wa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K3t=typeof Symbol=="function"&&Symbol.observable||"@@observable",rbe=K3t,iq=()=>Math.random().toString(36).substring(7).split("").join("."),X3t={INIT:`@@redux/INIT${iq()}`,REPLACE:`@@redux/REPLACE${iq()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iq()}`},eL=X3t;function sse(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function zOe(e,t,n){if(typeof e!="function")throw new Error(Wa(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wa(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wa(1));return n(zOe)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,u=!1;function l(){o===s&&(o=new Map,s.forEach((g,y)=>{o.set(y,g)}))}function c(){if(u)throw new Error(Wa(3));return i}function f(g){if(typeof g!="function")throw new Error(Wa(4));if(u)throw new Error(Wa(5));let y=!0;l();const v=a++;return o.set(v,g),function(){if(y){if(u)throw new Error(Wa(6));y=!1,l(),o.delete(v),s=null}}}function d(g){if(!sse(g))throw new Error(Wa(7));if(typeof g.type>"u")throw new Error(Wa(8));if(typeof g.type!="string")throw new Error(Wa(17));if(u)throw new Error(Wa(9));try{u=!0,i=r(i,g)}finally{u=!1}return(s=o).forEach(v=>{v()}),g}function h(g){if(typeof g!="function")throw new Error(Wa(10));r=g,d({type:eL.REPLACE})}function p(){const g=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Wa(11));function v(){const w=y;w.next&&w.next(c())}return v(),{unsubscribe:g(v)}},[rbe](){return this}}}return d({type:eL.INIT}),{dispatch:d,subscribe:f,getState:c,replaceReducer:h,[rbe]:p}}function Q3t(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:eL.INIT})>"u")throw new Error(Wa(12));if(typeof n(void 0,{type:eL.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wa(13))})}function J3t(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{Q3t(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const l={};for(let c=0;c<r.length;c++){const f=r[c],d=n[f],h=o[f],p=d(h,a);if(typeof p>"u")throw a&&a.type,new Error(Wa(14));l[f]=p,u=u||p!==h}return u=u||r.length!==Object.keys(o).length,u?l:o}}function tL(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Z3t(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Wa(15))};const o={getState:i.getState,dispatch:(u,...l)=>s(u,...l)},a=e.map(u=>u(o));return s=tL(...a)(i.dispatch),{...i,dispatch:s}}}function eIt(e){return sse(e)&&"type"in e&&typeof e.type=="string"}var VOe=Symbol.for("immer-nothing"),ibe=Symbol.for("immer-draftable"),Wf=Symbol.for("immer-state");function Qh(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var oA=Object.getPrototypeOf;function db(e){return!!e&&!!e[Wf]}function xy(e){var t;return e?HOe(e)||Array.isArray(e)||!!e[ibe]||!!((t=e.constructor)!=null&&t[ibe])||cB(e)||fB(e):!1}var tIt=Object.prototype.constructor.toString();function HOe(e){if(!e||typeof e!="object")return!1;const t=oA(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===tIt}function nL(e,t){lB(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function lB(e){const t=e[Wf];return t?t.type_:Array.isArray(e)?1:cB(e)?2:fB(e)?3:0}function nQ(e,t){return lB(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qOe(e,t,n){const r=lB(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function nIt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cB(e){return e instanceof Map}function fB(e){return e instanceof Set}function pw(e){return e.copy_||e.base_}function rQ(e,t){if(cB(e))return new Map(e);if(fB(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=HOe(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Wf];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(oA(e),r)}else{const r=oA(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function ose(e,t=!1){return dB(e)||db(e)||!xy(e)||(lB(e)>1&&(e.set=e.add=e.clear=e.delete=rIt),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>ose(r,!0))),e}function rIt(){Qh(2)}function dB(e){return Object.isFrozen(e)}var iIt={};function kx(e){const t=iIt[e];return t||Qh(0,e),t}var Xk;function WOe(){return Xk}function sIt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sbe(e,t){t&&(kx("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iQ(e){sQ(e),e.drafts_.forEach(oIt),e.drafts_=null}function sQ(e){e===Xk&&(Xk=e.parent_)}function obe(e){return Xk=sIt(Xk,e)}function oIt(e){const t=e[Wf];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function abe(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Wf].modified_&&(iQ(t),Qh(4)),xy(e)&&(e=rL(t,e),t.parent_||iL(t,e)),t.patches_&&kx("Patches").generateReplacementPatches_(n[Wf].base_,e,t.patches_,t.inversePatches_)):e=rL(t,n,[]),iQ(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VOe?e:void 0}function rL(e,t,n){if(dB(t))return t;const r=t[Wf];if(!r)return nL(t,(i,s)=>ube(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return iL(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),nL(s,(a,u)=>ube(e,r,i,a,u,n,o)),iL(e,i,!1),n&&e.patches_&&kx("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ube(e,t,n,r,i,s,o){if(db(i)){const a=s&&t&&t.type_!==3&&!nQ(t.assigned_,r)?s.concat(r):void 0,u=rL(e,i,a);if(qOe(n,r,u),db(u))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(xy(i)&&!dB(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;rL(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&iL(e,i)}}function iL(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ose(t,n)}function aIt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:WOe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=ase;n&&(i=[r],s=Qk);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var ase={get(e,t){if(t===Wf)return e;const n=pw(e);if(!nQ(n,t))return uIt(e,n,t);const r=n[t];return e.finalized_||!xy(r)?r:r===sq(e.base_,t)?(oq(e),e.copy_[t]=aQ(r,e)):r},has(e,t){return t in pw(e)},ownKeys(e){return Reflect.ownKeys(pw(e))},set(e,t,n){const r=GOe(pw(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=sq(pw(e),t),s=i==null?void 0:i[Wf];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(nIt(n,i)&&(n!==void 0||nQ(e.base_,t)))return!0;oq(e),oQ(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sq(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,oq(e),oQ(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=pw(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Qh(11)},getPrototypeOf(e){return oA(e.base_)},setPrototypeOf(){Qh(12)}},Qk={};nL(ase,(e,t)=>{Qk[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qk.deleteProperty=function(e,t){return Qk.set.call(this,e,t,void 0)};Qk.set=function(e,t,n){return ase.set.call(this,e[0],t,n,e[0])};function sq(e,t){const n=e[Wf];return(n?pw(n):e)[t]}function uIt(e,t,n){var i;const r=GOe(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function GOe(e,t){if(!(t in e))return;let n=oA(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=oA(n)}}function oQ(e){e.modified_||(e.modified_=!0,e.parent_&&oQ(e.parent_))}function oq(e){e.copy_||(e.copy_=rQ(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lIt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(u=s,...l){return o.produce(u,c=>n.call(this,c,...l))}}typeof n!="function"&&Qh(6),r!==void 0&&typeof r!="function"&&Qh(7);let i;if(xy(t)){const s=obe(this),o=aQ(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?iQ(s):sQ(s)}return sbe(s,r),abe(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===VOe&&(i=void 0),this.autoFreeze_&&ose(i,!0),r){const s=[],o=[];kx("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Qh(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,u=>t(u,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){xy(e)||Qh(8),db(e)&&(e=YOe(e));const t=obe(this),n=aQ(e,void 0);return n[Wf].isManual_=!0,sQ(t),n}finishDraft(e,t){const n=e&&e[Wf];(!n||!n.isManual_)&&Qh(9);const{scope_:r}=n;return sbe(r,t),abe(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=kx("Patches").applyPatches_;return db(e)?r(e,t):this.produce(e,i=>r(i,t))}};function aQ(e,t){const n=cB(e)?kx("MapSet").proxyMap_(e,t):fB(e)?kx("MapSet").proxySet_(e,t):aIt(e,t);return(t?t.scope_:WOe()).drafts_.push(n),n}function YOe(e){return db(e)||Qh(10,e),KOe(e)}function KOe(e){if(!xy(e)||dB(e))return e;const t=e[Wf];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=rQ(e,t.scope_.immer_.useStrictShallowCopy_)}else n=rQ(e,!0);return nL(n,(r,i)=>{qOe(n,r,KOe(i))}),t&&(t.finalized_=!1),n}var Gf=new lIt,XOe=Gf.produce;Gf.produceWithPatches.bind(Gf);Gf.setAutoFreeze.bind(Gf);Gf.setUseStrictShallowCopy.bind(Gf);Gf.applyPatches.bind(Gf);Gf.createDraft.bind(Gf);Gf.finishDraft.bind(Gf);function cIt(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function fIt(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function dIt(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var lbe=e=>Array.isArray(e)?e:[e];function hIt(e){const t=Array.isArray(e[0])?e[0]:e;return dIt(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function pIt(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var mIt=class{constructor(e){this.value=e}deref(){return this.value}},gIt=typeof WeakRef<"u"?WeakRef:mIt,yIt=0,cbe=1;function FP(){return{s:yIt,v:void 0,o:null,p:null}}function use(e,t={}){let n=FP();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var f;let a=n;const{length:u}=arguments;for(let d=0,h=u;d<h;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const g=m.get(p);g===void 0?(a=FP(),m.set(p,a)):a=g}else{let m=a.p;m===null&&(a.p=m=new Map);const g=m.get(p);g===void 0?(a=FP(),m.set(p,a)):a=g}}const l=a;let c;if(a.s===cbe)c=a.v;else if(c=e.apply(null,arguments),s++,r){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&r(d,c)&&(c=d,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new gIt(c):c}return l.s=cbe,l.v=c,c}return o.clearCache=()=>{n=FP(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function QOe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,u={},l=i.pop();typeof l=="object"&&(u=l,l=i.pop()),cIt(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...n,...u},{memoize:f,memoizeOptions:d=[],argsMemoize:h=use,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,g=lbe(d),y=lbe(p),v=hIt(i),b=f(function(){return s++,l.apply(null,arguments)},...g),w=h(function(){o++;const S=pIt(v,arguments);return a=b.apply(null,S),a},...y);return Object.assign(w,{resultFunc:l,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var JOe=QOe(use),vIt=Object.assign((e,t=JOe)=>{fIt(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,u)=>(o[n[u]]=a,o),{}))},{withTypes:()=>vIt});function ZOe(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var bIt=ZOe(),_It=ZOe,wIt=(...e)=>{const t=QOe(...e),n=Object.assign((...r)=>{const i=t(...r),s=(o,...a)=>i(db(o)?YOe(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};wIt(use);var xIt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tL:tL.apply(null,arguments)};function aA(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Fc(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>eIt(r)&&r.type===e,n}var eDe=class R4 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,R4.prototype)}static get[Symbol.species](){return R4}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new R4(...t[0].concat(this)):new R4(...t.concat(this))}};function fbe(e){return xy(e)?XOe(e,()=>{}):e}function dbe(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(Fc(10));const r=n.insert(t,e);return e.set(t,r),r}function EIt(e){return typeof e=="boolean"}var TIt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new eDe;return n&&(EIt(n)?o.push(bIt):o.push(_It(n.extraArgument))),o},SIt="RTK_autoBatch",tDe=e=>t=>{setTimeout(t,e)},AIt=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tDe(10),CIt=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?AIt:e.type==="callback"?e.queueNotification:tDe(e.timeout),l=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),d=r.subscribe(f);return a.add(c),()=>{d(),a.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[SIt]),s=!i,s&&(o||(o=!0,u(l))),r.dispatch(c)}finally{i=!0}}})},IIt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new eDe(e);return r&&i.push(CIt(typeof r=="object"?r:void 0)),i};function kIt(e){const t=TIt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e;let a;if(typeof n=="function")a=n;else if(sse(n))a=J3t(n);else throw new Error(Fc(1));let u;typeof r=="function"?u=r(t):u=t();let l=tL;i&&(l=xIt({trace:!1,...typeof i=="object"&&i}));const c=Z3t(...u),f=IIt(c);let d=typeof o=="function"?o(f):f();const h=l(...d);return zOe(a,s,h)}function nDe(e){const t={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Fc(28));if(a in t)throw new Error(Fc(29));return t[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function RIt(e){return typeof e=="function"}function $It(e,t){let[n,r,i]=nDe(t),s;if(RIt(e))s=()=>fbe(e());else{const a=fbe(e);s=()=>a}function o(a=s(),u){let l=[n[u.type],...r.filter(({matcher:c})=>c(u)).map(({reducer:c})=>c)];return l.filter(c=>!!c).length===0&&(l=[i]),l.reduce((c,f)=>{if(f)if(db(c)){const h=f(c,u);return h===void 0?c:h}else{if(xy(c))return XOe(c,d=>f(d,u));{const d=f(c,u);if(d===void 0){if(c===null)return c;throw new Error(Fc(9))}return d}}return c},a)}return o.getInitialState=s,o}var NIt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PIt=(e=21)=>{let t="",n=e;for(;n--;)t+=NIt[Math.random()*64|0];return t},OIt=Symbol.for("rtk-slice-createasyncthunk");function DIt(e,t){return`${e}/${t}`}function LIt({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[OIt];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Fc(11));const a=(typeof i.reducers=="function"?i.reducers(BIt()):i.reducers)||{},u=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(b,w){const x=typeof b=="string"?b:b.type;if(!x)throw new Error(Fc(12));if(x in l.sliceCaseReducersByType)throw new Error(Fc(13));return l.sliceCaseReducersByType[x]=w,c},addMatcher(b,w){return l.sliceMatchers.push({matcher:b,reducer:w}),c},exposeAction(b,w){return l.actionCreators[b]=w,c},exposeCaseReducer(b,w){return l.sliceCaseReducersByName[b]=w,c}};u.forEach(b=>{const w=a[b],x={reducerName:b,type:DIt(s,b),createNotation:typeof i.reducers=="function"};UIt(w)?VIt(x,w,c,t):jIt(x,w,c)});function f(){const[b={},w=[],x=void 0]=typeof i.extraReducers=="function"?nDe(i.extraReducers):[i.extraReducers],S={...b,...l.sliceCaseReducersByType};return $It(i.initialState,A=>{for(let C in S)A.addCase(C,S[C]);for(let C of l.sliceMatchers)A.addMatcher(C.matcher,C.reducer);for(let C of w)A.addMatcher(C.matcher,C.reducer);x&&A.addDefaultCase(x)})}const d=b=>b,h=new Map;let p;function m(b,w){return p||(p=f()),p(b,w)}function g(){return p||(p=f()),p.getInitialState()}function y(b,w=!1){function x(A){let C=A[b];return typeof C>"u"&&w&&(C=g()),C}function S(A=d){const C=dbe(h,w,{insert:()=>new WeakMap});return dbe(C,A,{insert:()=>{const $={};for(const[k,P]of Object.entries(i.selectors??{}))$[k]=MIt(P,A,g,w);return $}})}return{reducerPath:b,getSelectors:S,get selectors(){return S(x)},selectSlice:x}}const v={name:s,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...y(o),injectInto(b,{reducerPath:w,...x}={}){const S=w??o;return b.inject({reducerPath:S,reducer:m},x),{...v,...y(S,!0)}}};return v}}function MIt(e,t,n,r){function i(s,...o){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var FIt=LIt();function BIt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function jIt({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!zIt(r))throw new Error(Fc(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?aA(e,o):aA(e))}function UIt(e){return e._reducerDefinitionType==="asyncThunk"}function zIt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function VIt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Fc(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:l,options:c}=n,f=i(e,s,c);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),u&&r.addCase(f.rejected,u),l&&r.addMatcher(f.settled,l),r.exposeCaseReducer(t,{fulfilled:o||BP,pending:a||BP,rejected:u||BP,settled:l||BP})}function BP(){}var HIt=(e,t)=>{if(typeof e!="function")throw new Error(Fc(32))},lse="listenerMiddleware",qIt=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=aA(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Fc(21));return HIt(s),{predicate:i,type:t,effect:s}},WIt=Object.assign(e=>{const{type:t,predicate:n,effect:r}=qIt(e);return{id:PIt(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fc(22))}}},{withTypes:()=>WIt}),GIt=Object.assign(aA(`${lse}/add`),{withTypes:()=>GIt});aA(`${lse}/removeAll`);var YIt=Object.assign(aA(`${lse}/remove`),{withTypes:()=>YIt});function Fc(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function Tp(e){return e.components.flatMap(t=>typeof t=="string"?t:Tp(t))}function rDe(e){var t;return[...e.components.flatMap(n=>typeof n=="string"?n:rDe(n)),...((t=e.interruptions)==null?void 0:t.flatMap(n=>n.components))||[]]}function iDe(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+Tp(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+Tp(e).length-1}];r+=1}else{const o=iDe(s,t,n+r);if(typeof o=="number")r+=o;else{const a={currentBlock:e,firstIndex:n,lastIndex:o[0].lastIndex};return[...o,a]}}}return r}function cse(e,t){const n=iDe(e,t,0);return typeof n=="number"?null:n}function sDe(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string")r+=1;else{const o=sDe(s,t,n+r);if(o.found)return o;r+=o.distance}}return{found:!1,distance:r}}function KIt(e,t){const n=sDe(e,t,0);return n.found?n.distance:-1}function oDe(e,t="root"){const n=[],r={};return e.components.forEach((i,s)=>{typeof i=="string"?(n.push({componentName:i,orderPath:t,timesSeenInBlock:r[i]||0}),r[i]=r[i]?r[i]+1:1):n.push(...oDe(i,`${t}-${s}`))}),n}function fse(e,t){return typeof e=="string"?e:{...e,orderPath:t,components:e.components.map((n,r)=>fse(n,`${t}-${r}`))}}async function XIt(e,t,n,r,i,s,o){const a=Tp(n),u=Object.fromEntries(a.filter(p=>p!=="end").map((p,m)=>[`${p}_${m}`,{answer:{},incorrectAnswers:{},startTime:0,endTime:-1,provenanceGraph:void 0,windowEvents:[],timedOut:!1,helpButtonClickedCount:0}])),l=Object.assign({},...a.map((p,m)=>({[`${p}_${m}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),c=Object.assign({},...a.map((p,m)=>({[`${p}_${m}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),f={studyId:e,isRecording:!1,answers:Object.keys(i).length>0?i:u,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:i?c:l,iframeAnswers:{},iframeProvenance:null,metadata:r,analysisProvState:null,analysisIsPlaying:!1,analysisHasAudio:!1,analysisHasProvenance:!1,modes:s,matrixAnswers:{},participantId:o},d=FIt({name:"storeSlice",initialState:f,reducers:{setConfig(p,m){p.config=m.payload},setIsRecording(p,m){p.isRecording=m.payload},toggleStudyBrowser:p=>{p.showStudyBrowser=!p.showStudyBrowser},toggleShowHelpText:p=>{p.showHelpText=!p.showHelpText},setAlertModal:(p,m)=>{p.alertModal=m.payload},setIframeAnswers:(p,m)=>{p.iframeAnswers=m.payload},setIframeProvenance:(p,m)=>{p.iframeProvenance=m.payload},saveAnalysisState(p,{payload:m}){p.analysisProvState=m},setAnalysisIsPlaying(p,{payload:m}){p.analysisIsPlaying=m},setAnalysisHasAudio(p,{payload:m}){p.analysisHasAudio=m},setAnalysisHasProvenance(p,{payload:m}){p.analysisHasProvenance=m},setMatrixAnswersRadio:(p,m)=>{if(m.payload){const{responseId:g,questionKey:y,val:v}=m.payload;p.matrixAnswers={...p.matrixAnswers,[g]:{...p.matrixAnswers[g],[y]:v}}}else p.matrixAnswers={}},setMatrixAnswersCheckbox:(p,m)=>{var g;if(m.payload){const{responseId:y,questionKey:v,value:b,isChecked:w,choiceOptions:x}=m.payload,S=((g=p.matrixAnswers[y])==null?void 0:g[v])??"";let A="";w?S.length>0?A=[...S.split("|"),b].sort((C,$)=>x.map(k=>k.value).indexOf(C)-x.map(k=>k.value).indexOf($)).join("|"):A=`${b}`:A=S.split("|").filter(C=>C!==b).join("|"),p.matrixAnswers={...p.matrixAnswers,[y]:{...p.matrixAnswers[y],[v]:A}}}else p.matrixAnswers={}},updateResponseBlockValidation:(p,{payload:m})=>{p.trialValidation[m.identifier]||(p.trialValidation[m.identifier]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),p.trialValidation[m.identifier][m.location]={valid:m.status,values:m.values},m.provenanceGraph&&(p.trialValidation[m.identifier].provenanceGraph=m.provenanceGraph)},saveTrialAnswer(p,{payload:m}){const{identifier:g,answer:y,startTime:v,endTime:b,provenanceGraph:w,windowEvents:x,timedOut:S,incorrectAnswers:A,helpButtonClickedCount:C}=m;p.answers[g]={incorrectAnswers:A,answer:y,startTime:v,endTime:b,provenanceGraph:w,windowEvents:x,timedOut:S,helpButtonClickedCount:C}},incrementHelpCounter(p,{payload:m}){const{identifier:g}=m;p.answers[g].helpButtonClickedCount+=1},saveIncorrectAnswer(p,{payload:m}){const{identifier:g,answer:y,question:v}=m;p.answers[v].incorrectAnswers||(p.answers[v].incorrectAnswers={}),p.answers[v].incorrectAnswers[g]||(p.answers[v].incorrectAnswers[g]={id:g,value:[]}),p.answers[v].incorrectAnswers[g].value.push(y)}}});return{store:kIt({reducer:d.reducer,preloadedState:f}),actions:d.actions}}const aDe=R.createContext(null);function Pl(){return R.useContext(aDe).actions}const rf=UOe,Kr=F3t;function QIt(e){return Kr(t=>{if(e.includes("reviewer-"))return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}const JIt=JOe(e=>e.sequence,e=>Tp(e));function dse(){return Kr(JIt)}var uDe={exports:{}};function $4(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var aq={exports:{}};const ZIt={},e4t=Object.freeze(Object.defineProperty({__proto__:null,default:ZIt},Symbol.toStringTag,{value:"Module"})),lDe=glt(e4t);var hbe;function Hr(){return hbe||(hbe=1,function(e,t){(function(n,r){e.exports=r()})(Jt,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Jt<"u"&&Jt.crypto&&(s=Jt.crypto),!s&&typeof $4=="function")try{s=lDe}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function v(){}return function(b){var w;return v.prototype=b,w=new v,v.prototype=null,w}}(),u={},l=u.lib={},c=l.Base=function(){return{extend:function(v){var b=a(this);return v&&b.mixIn(v),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var b in v)v.hasOwnProperty(b)&&(this[b]=v[b]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=c.extend({init:function(v,b){v=this.words=v||[],b!=i?this.sigBytes=b:this.sigBytes=v.length*4},toString:function(v){return(v||h).stringify(this)},concat:function(v){var b=this.words,w=v.words,x=this.sigBytes,S=v.sigBytes;if(this.clamp(),x%4)for(var A=0;A<S;A++){var C=w[A>>>2]>>>24-A%4*8&255;b[x+A>>>2]|=C<<24-(x+A)%4*8}else for(var $=0;$<S;$+=4)b[x+$>>>2]=w[$>>>2];return this.sigBytes+=S,this},clamp:function(){var v=this.words,b=this.sigBytes;v[b>>>2]&=4294967295<<32-b%4*8,v.length=r.ceil(b/4)},clone:function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var b=[],w=0;w<v;w+=4)b.push(o());return new f.init(b,v)}}),d=u.enc={},h=d.Hex={stringify:function(v){for(var b=v.words,w=v.sigBytes,x=[],S=0;S<w;S++){var A=b[S>>>2]>>>24-S%4*8&255;x.push((A>>>4).toString(16)),x.push((A&15).toString(16))}return x.join("")},parse:function(v){for(var b=v.length,w=[],x=0;x<b;x+=2)w[x>>>3]|=parseInt(v.substr(x,2),16)<<24-x%8*4;return new f.init(w,b/2)}},p=d.Latin1={stringify:function(v){for(var b=v.words,w=v.sigBytes,x=[],S=0;S<w;S++){var A=b[S>>>2]>>>24-S%4*8&255;x.push(String.fromCharCode(A))}return x.join("")},parse:function(v){for(var b=v.length,w=[],x=0;x<b;x++)w[x>>>2]|=(v.charCodeAt(x)&255)<<24-x%4*8;return new f.init(w,b)}},m=d.Utf8={stringify:function(v){try{return decodeURIComponent(escape(p.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return p.parse(unescape(encodeURIComponent(v)))}},g=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=m.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var b,w=this._data,x=w.words,S=w.sigBytes,A=this.blockSize,C=A*4,$=S/C;v?$=r.ceil($):$=r.max(($|0)-this._minBufferSize,0);var k=$*A,P=r.min(k*4,S);if(k){for(var L=0;L<k;L+=A)this._doProcessBlock(x,L);b=x.splice(0,k),w.sigBytes-=P}return new f.init(b,P)},clone:function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0});l.Hasher=g.extend({cfg:c.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(v){return function(b,w){return new v.init(w).finalize(b)}},_createHmacHelper:function(v){return function(b,w){return new y.HMAC.init(v,w).finalize(b)}}});var y=u.algo={};return u}(Math);return n})}(aq)),aq.exports}var uq={exports:{}},pbe;function hB(){return pbe||(pbe=1,function(e,t){(function(n,r){e.exports=r(Hr())})(Jt,function(n){return function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,u=i.x64={};u.Word=o.extend({init:function(l,c){this.high=l,this.low=c}}),u.WordArray=o.extend({init:function(l,c){l=this.words=l||[],c!=r?this.sigBytes=c:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,c=l.length,f=[],d=0;d<c;d++){var h=l[d];f.push(h.high),f.push(h.low)}return a.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),c=l.words=this.words.slice(0),f=c.length,d=0;d<f;d++)c[d]=c[d].clone();return l}})}(),n})}(uq)),uq.exports}var lq={exports:{}},mbe;function t4t(){return mbe||(mbe=1,function(e,t){(function(n,r){e.exports=r(Hr())})(Jt,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var l=u.byteLength,c=[],f=0;f<l;f++)c[f>>>2]|=u[f]<<24-f%4*8;o.call(this,c,l)}else o.apply(this,arguments)};a.prototype=s}}(),n.lib.WordArray})}(lq)),lq.exports}var cq={exports:{}},gbe;function n4t(){return gbe||(gbe=1,function(e,t){(function(n,r){e.exports=r(Hr())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(u){for(var l=u.words,c=u.sigBytes,f=[],d=0;d<c;d+=2){var h=l[d>>>2]>>>16-d%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},parse:function(u){for(var l=u.length,c=[],f=0;f<l;f++)c[f>>>1]|=u.charCodeAt(f)<<16-f%2*16;return s.create(c,l*2)}},o.Utf16LE={stringify:function(u){for(var l=u.words,c=u.sigBytes,f=[],d=0;d<c;d+=2){var h=a(l[d>>>2]>>>16-d%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},parse:function(u){for(var l=u.length,c=[],f=0;f<l;f++)c[f>>>1]|=a(u.charCodeAt(f)<<16-f%2*16);return s.create(c,l*2)}};function a(u){return u<<8&4278255360|u>>>8&16711935}}(),n.enc.Utf16})}(cq)),cq.exports}var fq={exports:{}},ybe;function A2(){return ybe||(ybe=1,function(e,t){(function(n,r){e.exports=r(Hr())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(u){var l=u.words,c=u.sigBytes,f=this._map;u.clamp();for(var d=[],h=0;h<c;h+=3)for(var p=l[h>>>2]>>>24-h%4*8&255,m=l[h+1>>>2]>>>24-(h+1)%4*8&255,g=l[h+2>>>2]>>>24-(h+2)%4*8&255,y=p<<16|m<<8|g,v=0;v<4&&h+v*.75<c;v++)d.push(f.charAt(y>>>6*(3-v)&63));var b=f.charAt(64);if(b)for(;d.length%4;)d.push(b);return d.join("")},parse:function(u){var l=u.length,c=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<c.length;d++)f[c.charCodeAt(d)]=d}var h=c.charAt(64);if(h){var p=u.indexOf(h);p!==-1&&(l=p)}return a(u,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(u,l,c){for(var f=[],d=0,h=0;h<l;h++)if(h%4){var p=c[u.charCodeAt(h-1)]<<h%4*2,m=c[u.charCodeAt(h)]>>>6-h%4*2,g=p|m;f[d>>>2]|=g<<24-d%4*8,d++}return s.create(f,d)}}(),n.enc.Base64})}(fq)),fq.exports}var dq={exports:{}},vbe;function r4t(){return vbe||(vbe=1,function(e,t){(function(n,r){e.exports=r(Hr())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(u,l){l===void 0&&(l=!0);var c=u.words,f=u.sigBytes,d=l?this._safe_map:this._map;u.clamp();for(var h=[],p=0;p<f;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,g=c[p+1>>>2]>>>24-(p+1)%4*8&255,y=c[p+2>>>2]>>>24-(p+2)%4*8&255,v=m<<16|g<<8|y,b=0;b<4&&p+b*.75<f;b++)h.push(d.charAt(v>>>6*(3-b)&63));var w=d.charAt(64);if(w)for(;h.length%4;)h.push(w);return h.join("")},parse:function(u,l){l===void 0&&(l=!0);var c=u.length,f=l?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<f.length;h++)d[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var m=u.indexOf(p);m!==-1&&(c=m)}return a(u,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(u,l,c){for(var f=[],d=0,h=0;h<l;h++)if(h%4){var p=c[u.charCodeAt(h-1)]<<h%4*2,m=c[u.charCodeAt(h)]>>>6-h%4*2,g=p|m;f[d>>>2]|=g<<24-d%4*8,d++}return s.create(f,d)}}(),n.enc.Base64url})}(dq)),dq.exports}var hq={exports:{}},bbe;function C2(){return bbe||(bbe=1,function(e,t){(function(n,r){e.exports=r(Hr())})(Jt,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,u=i.algo,l=[];(function(){for(var m=0;m<64;m++)l[m]=r.abs(r.sin(m+1))*4294967296|0})();var c=u.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,g){for(var y=0;y<16;y++){var v=g+y,b=m[v];m[v]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var w=this._hash.words,x=m[g+0],S=m[g+1],A=m[g+2],C=m[g+3],$=m[g+4],k=m[g+5],P=m[g+6],L=m[g+7],O=m[g+8],B=m[g+9],q=m[g+10],H=m[g+11],G=m[g+12],K=m[g+13],J=m[g+14],F=m[g+15],j=w[0],W=w[1],M=w[2],V=w[3];j=f(j,W,M,V,x,7,l[0]),V=f(V,j,W,M,S,12,l[1]),M=f(M,V,j,W,A,17,l[2]),W=f(W,M,V,j,C,22,l[3]),j=f(j,W,M,V,$,7,l[4]),V=f(V,j,W,M,k,12,l[5]),M=f(M,V,j,W,P,17,l[6]),W=f(W,M,V,j,L,22,l[7]),j=f(j,W,M,V,O,7,l[8]),V=f(V,j,W,M,B,12,l[9]),M=f(M,V,j,W,q,17,l[10]),W=f(W,M,V,j,H,22,l[11]),j=f(j,W,M,V,G,7,l[12]),V=f(V,j,W,M,K,12,l[13]),M=f(M,V,j,W,J,17,l[14]),W=f(W,M,V,j,F,22,l[15]),j=d(j,W,M,V,S,5,l[16]),V=d(V,j,W,M,P,9,l[17]),M=d(M,V,j,W,H,14,l[18]),W=d(W,M,V,j,x,20,l[19]),j=d(j,W,M,V,k,5,l[20]),V=d(V,j,W,M,q,9,l[21]),M=d(M,V,j,W,F,14,l[22]),W=d(W,M,V,j,$,20,l[23]),j=d(j,W,M,V,B,5,l[24]),V=d(V,j,W,M,J,9,l[25]),M=d(M,V,j,W,C,14,l[26]),W=d(W,M,V,j,O,20,l[27]),j=d(j,W,M,V,K,5,l[28]),V=d(V,j,W,M,A,9,l[29]),M=d(M,V,j,W,L,14,l[30]),W=d(W,M,V,j,G,20,l[31]),j=h(j,W,M,V,k,4,l[32]),V=h(V,j,W,M,O,11,l[33]),M=h(M,V,j,W,H,16,l[34]),W=h(W,M,V,j,J,23,l[35]),j=h(j,W,M,V,S,4,l[36]),V=h(V,j,W,M,$,11,l[37]),M=h(M,V,j,W,L,16,l[38]),W=h(W,M,V,j,q,23,l[39]),j=h(j,W,M,V,K,4,l[40]),V=h(V,j,W,M,x,11,l[41]),M=h(M,V,j,W,C,16,l[42]),W=h(W,M,V,j,P,23,l[43]),j=h(j,W,M,V,B,4,l[44]),V=h(V,j,W,M,G,11,l[45]),M=h(M,V,j,W,F,16,l[46]),W=h(W,M,V,j,A,23,l[47]),j=p(j,W,M,V,x,6,l[48]),V=p(V,j,W,M,L,10,l[49]),M=p(M,V,j,W,J,15,l[50]),W=p(W,M,V,j,k,21,l[51]),j=p(j,W,M,V,G,6,l[52]),V=p(V,j,W,M,C,10,l[53]),M=p(M,V,j,W,q,15,l[54]),W=p(W,M,V,j,S,21,l[55]),j=p(j,W,M,V,O,6,l[56]),V=p(V,j,W,M,F,10,l[57]),M=p(M,V,j,W,P,15,l[58]),W=p(W,M,V,j,K,21,l[59]),j=p(j,W,M,V,$,6,l[60]),V=p(V,j,W,M,H,10,l[61]),M=p(M,V,j,W,A,15,l[62]),W=p(W,M,V,j,B,21,l[63]),w[0]=w[0]+j|0,w[1]=w[1]+W|0,w[2]=w[2]+M|0,w[3]=w[3]+V|0},_doFinalize:function(){var m=this._data,g=m.words,y=this._nDataBytes*8,v=m.sigBytes*8;g[v>>>5]|=128<<24-v%32;var b=r.floor(y/4294967296),w=y;g[(v+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var x=this._hash,S=x.words,A=0;A<4;A++){var C=S[A];S[A]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return x},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function f(m,g,y,v,b,w,x){var S=m+(g&y|~g&v)+b+x;return(S<<w|S>>>32-w)+g}function d(m,g,y,v,b,w,x){var S=m+(g&v|y&~v)+b+x;return(S<<w|S>>>32-w)+g}function h(m,g,y,v,b,w,x){var S=m+(g^y^v)+b+x;return(S<<w|S>>>32-w)+g}function p(m,g,y,v,b,w,x){var S=m+(y^(g|~v))+b+x;return(S<<w|S>>>32-w)+g}i.MD5=a._createHelper(c),i.HmacMD5=a._createHmacHelper(c)}(Math),n.MD5})}(hq)),hq.exports}var pq={exports:{}},_be;function cDe(){return _be||(_be=1,function(e,t){(function(n,r){e.exports=r(Hr())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,u=[],l=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,f){for(var d=this._hash.words,h=d[0],p=d[1],m=d[2],g=d[3],y=d[4],v=0;v<80;v++){if(v<16)u[v]=c[f+v]|0;else{var b=u[v-3]^u[v-8]^u[v-14]^u[v-16];u[v]=b<<1|b>>>31}var w=(h<<5|h>>>27)+y+u[v];v<20?w+=(p&m|~p&g)+1518500249:v<40?w+=(p^m^g)+1859775393:v<60?w+=(p&m|p&g|m&g)-1894007588:w+=(p^m^g)-899497514,y=g,g=m,m=p<<30|p>>>2,p=h,h=w}d[0]=d[0]+h|0,d[1]=d[1]+p|0,d[2]=d[2]+m|0,d[3]=d[3]+g|0,d[4]=d[4]+y|0},_doFinalize:function(){var c=this._data,f=c.words,d=this._nDataBytes*8,h=c.sigBytes*8;return f[h>>>5]|=128<<24-h%32,f[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),f[(h+64>>>9<<4)+15]=d,c.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var c=o.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA1=o._createHelper(l),r.HmacSHA1=o._createHmacHelper(l)}(),n.SHA1})}(pq)),pq.exports}var mq={exports:{}},wbe;function hse(){return wbe||(wbe=1,function(e,t){(function(n,r){e.exports=r(Hr())})(Jt,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,u=i.algo,l=[],c=[];(function(){function h(y){for(var v=r.sqrt(y),b=2;b<=v;b++)if(!(y%b))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var m=2,g=0;g<64;)h(m)&&(g<8&&(l[g]=p(r.pow(m,1/2))),c[g]=p(r.pow(m,1/3)),g++),m++})();var f=[],d=u.SHA256=a.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,g=m[0],y=m[1],v=m[2],b=m[3],w=m[4],x=m[5],S=m[6],A=m[7],C=0;C<64;C++){if(C<16)f[C]=h[p+C]|0;else{var $=f[C-15],k=($<<25|$>>>7)^($<<14|$>>>18)^$>>>3,P=f[C-2],L=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;f[C]=k+f[C-7]+L+f[C-16]}var O=w&x^~w&S,B=g&y^g&v^y&v,q=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),H=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),G=A+H+O+c[C]+f[C],K=q+B;A=S,S=x,x=w,w=b+G|0,b=v,v=y,y=g,g=G+K|0}m[0]=m[0]+g|0,m[1]=m[1]+y|0,m[2]=m[2]+v|0,m[3]=m[3]+b|0,m[4]=m[4]+w|0,m[5]=m[5]+x|0,m[6]=m[6]+S|0,m[7]=m[7]+A|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,g=h.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=r.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=a._createHelper(d),i.HmacSHA256=a._createHmacHelper(d)}(Math),n.SHA256})}(mq)),mq.exports}var gq={exports:{}},xbe;function i4t(){return xbe||(xbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),hse())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,u=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=a._doFinalize.call(this);return l.sigBytes-=4,l}});r.SHA224=a._createHelper(u),r.HmacSHA224=a._createHmacHelper(u)}(),n.SHA224})}(gq)),gq.exports}var yq={exports:{}},Ebe;function fDe(){return Ebe||(Ebe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),hB())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,u=o.WordArray,l=r.algo;function c(){return a.create.apply(a,arguments)}var f=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var p=0;p<80;p++)d[p]=c()})();var h=l.SHA512=s.extend({_doReset:function(){this._hash=new u.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var g=this._hash.words,y=g[0],v=g[1],b=g[2],w=g[3],x=g[4],S=g[5],A=g[6],C=g[7],$=y.high,k=y.low,P=v.high,L=v.low,O=b.high,B=b.low,q=w.high,H=w.low,G=x.high,K=x.low,J=S.high,F=S.low,j=A.high,W=A.low,M=C.high,V=C.low,Q=$,se=k,be=P,he=L,Ce=O,Pe=B,rt=q,Re=H,Tt=G,Ze=K,It=J,mt=F,Se=j,Fe=W,st=M,yt=V,$t=0;$t<80;$t++){var Je,xe,kt=d[$t];if($t<16)xe=kt.high=p[m+$t*2]|0,Je=kt.low=p[m+$t*2+1]|0;else{var Rt=d[$t-15],Ee=Rt.high,Oe=Rt.low,ot=(Ee>>>1|Oe<<31)^(Ee>>>8|Oe<<24)^Ee>>>7,_t=(Oe>>>1|Ee<<31)^(Oe>>>8|Ee<<24)^(Oe>>>7|Ee<<25),jt=d[$t-2],qn=jt.high,yr=jt.low,$r=(qn>>>19|yr<<13)^(qn<<3|yr>>>29)^qn>>>6,Ci=(yr>>>19|qn<<13)^(yr<<3|qn>>>29)^(yr>>>6|qn<<26),Cn=d[$t-7],Wn=Cn.high,vr=Cn.low,wr=d[$t-16],da=wr.high,hs=wr.low;Je=_t+vr,xe=ot+Wn+(Je>>>0<_t>>>0?1:0),Je=Je+Ci,xe=xe+$r+(Je>>>0<Ci>>>0?1:0),Je=Je+hs,xe=xe+da+(Je>>>0<hs>>>0?1:0),kt.high=xe,kt.low=Je}var Ss=Tt&It^~Tt&Se,qs=Ze&mt^~Ze&Fe,Xr=Q&be^Q&Ce^be&Ce,As=se&he^se&Pe^he&Pe,lf=(Q>>>28|se<<4)^(Q<<30|se>>>2)^(Q<<25|se>>>7),ha=(se>>>28|Q<<4)^(se<<30|Q>>>2)^(se<<25|Q>>>7),rl=(Tt>>>14|Ze<<18)^(Tt>>>18|Ze<<14)^(Tt<<23|Ze>>>9),qr=(Ze>>>14|Tt<<18)^(Ze>>>18|Tt<<14)^(Ze<<23|Tt>>>9),Li=f[$t],wi=Li.high,lo=Li.low,di=yt+qr,Mi=st+rl+(di>>>0<yt>>>0?1:0),di=di+qs,Mi=Mi+Ss+(di>>>0<qs>>>0?1:0),di=di+lo,Mi=Mi+wi+(di>>>0<lo>>>0?1:0),di=di+Je,Mi=Mi+xe+(di>>>0<Je>>>0?1:0),me=ha+As,ue=lf+Xr+(me>>>0<ha>>>0?1:0);st=Se,yt=Fe,Se=It,Fe=mt,It=Tt,mt=Ze,Ze=Re+di|0,Tt=rt+Mi+(Ze>>>0<Re>>>0?1:0)|0,rt=Ce,Re=Pe,Ce=be,Pe=he,be=Q,he=se,se=di+me|0,Q=Mi+ue+(se>>>0<di>>>0?1:0)|0}k=y.low=k+se,y.high=$+Q+(k>>>0<se>>>0?1:0),L=v.low=L+he,v.high=P+be+(L>>>0<he>>>0?1:0),B=b.low=B+Pe,b.high=O+Ce+(B>>>0<Pe>>>0?1:0),H=w.low=H+Re,w.high=q+rt+(H>>>0<Re>>>0?1:0),K=x.low=K+Ze,x.high=G+Tt+(K>>>0<Ze>>>0?1:0),F=S.low=F+mt,S.high=J+It+(F>>>0<mt>>>0?1:0),W=A.low=W+Fe,A.high=j+Se+(W>>>0<Fe>>>0?1:0),V=C.low=V+yt,C.high=M+st+(V>>>0<yt>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,g=this._nDataBytes*8,y=p.sigBytes*8;m[y>>>5]|=128<<24-y%32,m[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(y+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=s._createHelper(h),r.HmacSHA512=s._createHmacHelper(h)}(),n.SHA512})}(yq)),yq.exports}var vq={exports:{}},Tbe;function s4t(){return Tbe||(Tbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),hB(),fDe())})(Jt,function(n){return function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,u=a.SHA512,l=a.SHA384=u.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var c=u._doFinalize.call(this);return c.sigBytes-=16,c}});r.SHA384=u._createHelper(l),r.HmacSHA384=u._createHmacHelper(l)}(),n.SHA384})}(vq)),vq.exports}var bq={exports:{}},Sbe;function o4t(){return Sbe||(Sbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),hB())})(Jt,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,u=i.x64,l=u.Word,c=i.algo,f=[],d=[],h=[];(function(){for(var g=1,y=0,v=0;v<24;v++){f[g+5*y]=(v+1)*(v+2)/2%64;var b=y%5,w=(2*g+3*y)%5;g=b,y=w}for(var g=0;g<5;g++)for(var y=0;y<5;y++)d[g+5*y]=y+(2*g+3*y)%5*5;for(var x=1,S=0;S<24;S++){for(var A=0,C=0,$=0;$<7;$++){if(x&1){var k=(1<<$)-1;k<32?C^=1<<k:A^=1<<k-32}x&128?x=x<<1^113:x<<=1}h[S]=l.create(A,C)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=l.create()})();var m=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,y){for(var v=this._state,b=this.blockSize/2,w=0;w<b;w++){var x=g[y+2*w],S=g[y+2*w+1];x=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var A=v[w];A.high^=S,A.low^=x}for(var C=0;C<24;C++){for(var $=0;$<5;$++){for(var k=0,P=0,L=0;L<5;L++){var A=v[$+5*L];k^=A.high,P^=A.low}var O=p[$];O.high=k,O.low=P}for(var $=0;$<5;$++)for(var B=p[($+4)%5],q=p[($+1)%5],H=q.high,G=q.low,k=B.high^(H<<1|G>>>31),P=B.low^(G<<1|H>>>31),L=0;L<5;L++){var A=v[$+5*L];A.high^=k,A.low^=P}for(var K=1;K<25;K++){var k,P,A=v[K],J=A.high,F=A.low,j=f[K];j<32?(k=J<<j|F>>>32-j,P=F<<j|J>>>32-j):(k=F<<j-32|J>>>64-j,P=J<<j-32|F>>>64-j);var W=p[d[K]];W.high=k,W.low=P}var M=p[0],V=v[0];M.high=V.high,M.low=V.low;for(var $=0;$<5;$++)for(var L=0;L<5;L++){var K=$+5*L,A=v[K],Q=p[K],se=p[($+1)%5+5*L],be=p[($+2)%5+5*L];A.high=Q.high^~se.high&be.high,A.low=Q.low^~se.low&be.low}var A=v[0],he=h[C];A.high^=he.high,A.low^=he.low}},_doFinalize:function(){var g=this._data,y=g.words;this._nDataBytes*8;var v=g.sigBytes*8,b=this.blockSize*32;y[v>>>5]|=1<<24-v%32,y[(r.ceil((v+1)/b)*b>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var w=this._state,x=this.cfg.outputLength/8,S=x/8,A=[],C=0;C<S;C++){var $=w[C],k=$.high,P=$.low;k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,A.push(P),A.push(k)}return new o.init(A,x)},clone:function(){for(var g=a.clone.call(this),y=g._state=this._state.slice(0),v=0;v<25;v++)y[v]=y[v].clone();return g}});i.SHA3=a._createHelper(m),i.HmacSHA3=a._createHmacHelper(m)}(Math),n.SHA3})}(bq)),bq.exports}var _q={exports:{}},Abe;function a4t(){return Abe||(Abe=1,function(e,t){(function(n,r){e.exports=r(Hr())})(Jt,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,u=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=u.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,A){for(var C=0;C<16;C++){var $=A+C,k=S[$];S[$]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var P=this._hash.words,L=h.words,O=p.words,B=l.words,q=c.words,H=f.words,G=d.words,K,J,F,j,W,M,V,Q,se,be;M=K=P[0],V=J=P[1],Q=F=P[2],se=j=P[3],be=W=P[4];for(var he,C=0;C<80;C+=1)he=K+S[A+B[C]]|0,C<16?he+=g(J,F,j)+L[0]:C<32?he+=y(J,F,j)+L[1]:C<48?he+=v(J,F,j)+L[2]:C<64?he+=b(J,F,j)+L[3]:he+=w(J,F,j)+L[4],he=he|0,he=x(he,H[C]),he=he+W|0,K=W,W=j,j=x(F,10),F=J,J=he,he=M+S[A+q[C]]|0,C<16?he+=w(V,Q,se)+O[0]:C<32?he+=b(V,Q,se)+O[1]:C<48?he+=v(V,Q,se)+O[2]:C<64?he+=y(V,Q,se)+O[3]:he+=g(V,Q,se)+O[4],he=he|0,he=x(he,G[C]),he=he+be|0,M=be,be=se,se=x(Q,10),Q=V,V=he;he=P[1]+F+se|0,P[1]=P[2]+j+be|0,P[2]=P[3]+W+M|0,P[3]=P[4]+K+V|0,P[4]=P[0]+J+Q|0,P[0]=he},_doFinalize:function(){var S=this._data,A=S.words,C=this._nDataBytes*8,$=S.sigBytes*8;A[$>>>5]|=128<<24-$%32,A[($+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,S.sigBytes=(A.length+1)*4,this._process();for(var k=this._hash,P=k.words,L=0;L<5;L++){var O=P[L];P[L]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return k},clone:function(){var S=a.clone.call(this);return S._hash=this._hash.clone(),S}});function g(S,A,C){return S^A^C}function y(S,A,C){return S&A|~S&C}function v(S,A,C){return(S|~A)^C}function b(S,A,C){return S&C|A&~C}function w(S,A,C){return S^(A|~C)}function x(S,A){return S<<A|S>>>32-A}i.RIPEMD160=a._createHelper(m),i.HmacRIPEMD160=a._createHmacHelper(m)}(),n.RIPEMD160})}(_q)),_q.exports}var wq={exports:{}},Cbe;function pse(){return Cbe||(Cbe=1,function(e,t){(function(n,r){e.exports=r(Hr())})(Jt,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,u=r.algo;u.HMAC=s.extend({init:function(l,c){l=this._hasher=new l.init,typeof c=="string"&&(c=a.parse(c));var f=l.blockSize,d=f*4;c.sigBytes>d&&(c=l.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),p=this._iKey=c.clone(),m=h.words,g=p.words,y=0;y<f;y++)m[y]^=1549556828,g[y]^=909522486;h.sigBytes=p.sigBytes=d,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var c=this._hasher,f=c.finalize(l);c.reset();var d=c.finalize(this._oKey.clone().concat(f));return d}})})()})}(wq)),wq.exports}var xq={exports:{}},Ibe;function u4t(){return Ibe||(Ibe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),hse(),pse())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,u=a.SHA256,l=a.HMAC,c=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,d){for(var h=this.cfg,p=l.create(h.hasher,f),m=o.create(),g=o.create([1]),y=m.words,v=g.words,b=h.keySize,w=h.iterations;y.length<b;){var x=p.update(d).finalize(g);p.reset();for(var S=x.words,A=S.length,C=x,$=1;$<w;$++){C=p.finalize(C),p.reset();for(var k=C.words,P=0;P<A;P++)S[P]^=k[P]}m.concat(x),v[0]++}return m.sigBytes=b*4,m}});r.PBKDF2=function(f,d,h){return c.create(h).compute(f,d)}}(),n.PBKDF2})}(xq)),xq.exports}var Eq={exports:{}},kbe;function c_(){return kbe||(kbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),cDe(),pse())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,u=a.MD5,l=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:u,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,f){for(var d,h=this.cfg,p=h.hasher.create(),m=o.create(),g=m.words,y=h.keySize,v=h.iterations;g.length<y;){d&&p.update(d),d=p.update(c).finalize(f),p.reset();for(var b=1;b<v;b++)d=p.finalize(d),p.reset();m.concat(d)}return m.sigBytes=y*4,m}});r.EvpKDF=function(c,f,d){return l.create(d).compute(c,f)}}(),n.EvpKDF})}(Eq)),Eq.exports}var Tq={exports:{}},Rbe;function Da(){return Rbe||(Rbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),c_())})(Jt,function(n){n.lib.Cipher||function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,u=s.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var c=l.Base64,f=i.algo,d=f.EvpKDF,h=s.Cipher=u.extend({cfg:o.extend(),createEncryptor:function(k,P){return this.create(this._ENC_XFORM_MODE,k,P)},createDecryptor:function(k,P){return this.create(this._DEC_XFORM_MODE,k,P)},init:function(k,P,L){this.cfg=this.cfg.extend(L),this._xformMode=k,this._key=P,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(k){return this._append(k),this._process()},finalize:function(k){k&&this._append(k);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function k(P){return typeof P=="string"?$:S}return function(P){return{encrypt:function(L,O,B){return k(O).encrypt(P,L,O,B)},decrypt:function(L,O,B){return k(O).decrypt(P,L,O,B)}}}}()});s.StreamCipher=h.extend({_doFinalize:function(){var k=this._process(!0);return k},blockSize:1});var p=i.mode={},m=s.BlockCipherMode=o.extend({createEncryptor:function(k,P){return this.Encryptor.create(k,P)},createDecryptor:function(k,P){return this.Decryptor.create(k,P)},init:function(k,P){this._cipher=k,this._iv=P}}),g=p.CBC=function(){var k=m.extend();k.Encryptor=k.extend({processBlock:function(L,O){var B=this._cipher,q=B.blockSize;P.call(this,L,O,q),B.encryptBlock(L,O),this._prevBlock=L.slice(O,O+q)}}),k.Decryptor=k.extend({processBlock:function(L,O){var B=this._cipher,q=B.blockSize,H=L.slice(O,O+q);B.decryptBlock(L,O),P.call(this,L,O,q),this._prevBlock=H}});function P(L,O,B){var q,H=this._iv;H?(q=H,this._iv=r):q=this._prevBlock;for(var G=0;G<B;G++)L[O+G]^=q[G]}return k}(),y=i.pad={},v=y.Pkcs7={pad:function(k,P){for(var L=P*4,O=L-k.sigBytes%L,B=O<<24|O<<16|O<<8|O,q=[],H=0;H<O;H+=4)q.push(B);var G=a.create(q,O);k.concat(G)},unpad:function(k){var P=k.words[k.sigBytes-1>>>2]&255;k.sigBytes-=P}};s.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:v}),reset:function(){var k;h.reset.call(this);var P=this.cfg,L=P.iv,O=P.mode;this._xformMode==this._ENC_XFORM_MODE?k=O.createEncryptor:(k=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==k?this._mode.init(this,L&&L.words):(this._mode=k.call(O,this,L&&L.words),this._mode.__creator=k)},_doProcessBlock:function(k,P){this._mode.processBlock(k,P)},_doFinalize:function(){var k,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),k=this._process(!0)):(k=this._process(!0),P.unpad(k)),k},blockSize:128/32});var b=s.CipherParams=o.extend({init:function(k){this.mixIn(k)},toString:function(k){return(k||this.formatter).stringify(this)}}),w=i.format={},x=w.OpenSSL={stringify:function(k){var P,L=k.ciphertext,O=k.salt;return O?P=a.create([1398893684,1701076831]).concat(O).concat(L):P=L,P.toString(c)},parse:function(k){var P,L=c.parse(k),O=L.words;return O[0]==1398893684&&O[1]==1701076831&&(P=a.create(O.slice(2,4)),O.splice(0,4),L.sigBytes-=16),b.create({ciphertext:L,salt:P})}},S=s.SerializableCipher=o.extend({cfg:o.extend({format:x}),encrypt:function(k,P,L,O){O=this.cfg.extend(O);var B=k.createEncryptor(L,O),q=B.finalize(P),H=B.cfg;return b.create({ciphertext:q,key:L,iv:H.iv,algorithm:k,mode:H.mode,padding:H.padding,blockSize:k.blockSize,formatter:O.format})},decrypt:function(k,P,L,O){O=this.cfg.extend(O),P=this._parse(P,O.format);var B=k.createDecryptor(L,O).finalize(P.ciphertext);return B},_parse:function(k,P){return typeof k=="string"?P.parse(k,this):k}}),A=i.kdf={},C=A.OpenSSL={execute:function(k,P,L,O,B){if(O||(O=a.random(64/8)),B)var q=d.create({keySize:P+L,hasher:B}).compute(k,O);else var q=d.create({keySize:P+L}).compute(k,O);var H=a.create(q.words.slice(P),L*4);return q.sigBytes=P*4,b.create({key:q,iv:H,salt:O})}},$=s.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:C}),encrypt:function(k,P,L,O){O=this.cfg.extend(O);var B=O.kdf.execute(L,k.keySize,k.ivSize,O.salt,O.hasher);O.iv=B.iv;var q=S.encrypt.call(this,k,P,B.key,O);return q.mixIn(B),q},decrypt:function(k,P,L,O){O=this.cfg.extend(O),P=this._parse(P,O.format);var B=O.kdf.execute(L,k.keySize,k.ivSize,P.salt,O.hasher);O.iv=B.iv;var q=S.decrypt.call(this,k,P,B.key,O);return q}})}()})}(Tq)),Tq.exports}var Sq={exports:{}},$be;function l4t(){return $be||($be=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,u=a.blockSize;i.call(this,s,o,u,a),this._prevBlock=s.slice(o,o+u)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,u=a.blockSize,l=s.slice(o,o+u);i.call(this,s,o,u,a),this._prevBlock=l}});function i(s,o,a,u){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,u.encryptBlock(l,0);for(var f=0;f<a;f++)s[o+f]^=l[f]}return r}(),n.mode.CFB})}(Sq)),Sq.exports}var Aq={exports:{}},Nbe;function c4t(){return Nbe||(Nbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,u=a.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var f=c.slice(0);a.encryptBlock(f,0),c[u-1]=c[u-1]+1|0;for(var d=0;d<u;d++)s[o+d]^=f[d]}});return r.Decryptor=i,r}(),n.mode.CTR})}(Aq)),Aq.exports}var Cq={exports:{}},Pbe;function f4t(){return Pbe||(Pbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var u=a>>16&255,l=a>>8&255,c=a&255;u===255?(u=0,l===255?(l=0,c===255?c=0:++c):++l):++u,a=0,a+=u<<16,a+=l<<8,a+=c}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,u){var l=this._cipher,c=l.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0),s(d);var h=d.slice(0);l.encryptBlock(h,0);for(var p=0;p<c;p++)a[u+p]^=h[p]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(Cq)),Cq.exports}var Iq={exports:{}},Obe;function d4t(){return Obe||(Obe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,u=a.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var f=0;f<u;f++)s[o+f]^=c[f]}});return r.Decryptor=i,r}(),n.mode.OFB})}(Iq)),Iq.exports}var kq={exports:{}},Dbe;function h4t(){return Dbe||(Dbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r}(),n.mode.ECB})}(kq)),kq.exports}var Rq={exports:{}},Lbe;function p4t(){return Lbe||(Lbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,u=s+a-1;r.clamp(),r.words[u>>>2]|=a<<24-u%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(Rq)),Rq.exports}var $q={exports:{}},Mbe;function m4t(){return Mbe||(Mbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}($q)),$q.exports}var Nq={exports:{}},Fbe;function g4t(){return Fbe||(Fbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(Nq)),Nq.exports}var Pq={exports:{}},Bbe;function y4t(){return Bbe||(Bbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})}(Pq)),Pq.exports}var Oq={exports:{}},jbe;function v4t(){return jbe||(jbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(Oq)),Oq.exports}var Dq={exports:{}},Ube;function b4t(){return Ube||(Ube=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),Da())})(Jt,function(n){return function(r){var i=n,s=i.lib,o=s.CipherParams,a=i.enc,u=a.Hex,l=i.format;l.Hex={stringify:function(c){return c.ciphertext.toString(u)},parse:function(c){var f=u.parse(c);return o.create({ciphertext:f})}}}(),n.format.Hex})}(Dq)),Dq.exports}var Lq={exports:{}},zbe;function _4t(){return zbe||(zbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),A2(),C2(),c_(),Da())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],u=[],l=[],c=[],f=[],d=[],h=[],p=[],m=[],g=[];(function(){for(var b=[],w=0;w<256;w++)w<128?b[w]=w<<1:b[w]=w<<1^283;for(var x=0,S=0,w=0;w<256;w++){var A=S^S<<1^S<<2^S<<3^S<<4;A=A>>>8^A&255^99,a[x]=A,u[A]=x;var C=b[x],$=b[C],k=b[$],P=b[A]*257^A*16843008;l[x]=P<<24|P>>>8,c[x]=P<<16|P>>>16,f[x]=P<<8|P>>>24,d[x]=P;var P=k*16843009^$*65537^C*257^x*16843008;h[A]=P<<24|P>>>8,p[A]=P<<16|P>>>16,m[A]=P<<8|P>>>24,g[A]=P,x?(x=C^b[b[b[k^C]]],S^=b[b[S]]):x=S=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=s.extend({_doReset:function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var w=this._keyPriorReset=this._key,x=w.words,S=w.sigBytes/4,A=this._nRounds=S+6,C=(A+1)*4,$=this._keySchedule=[],k=0;k<C;k++)k<S?$[k]=x[k]:(b=$[k-1],k%S?S>6&&k%S==4&&(b=a[b>>>24]<<24|a[b>>>16&255]<<16|a[b>>>8&255]<<8|a[b&255]):(b=b<<8|b>>>24,b=a[b>>>24]<<24|a[b>>>16&255]<<16|a[b>>>8&255]<<8|a[b&255],b^=y[k/S|0]<<24),$[k]=$[k-S]^b);for(var P=this._invKeySchedule=[],L=0;L<C;L++){var k=C-L;if(L%4)var b=$[k];else var b=$[k-4];L<4||k<=4?P[L]=b:P[L]=h[a[b>>>24]]^p[a[b>>>16&255]]^m[a[b>>>8&255]]^g[a[b&255]]}}},encryptBlock:function(b,w){this._doCryptBlock(b,w,this._keySchedule,l,c,f,d,a)},decryptBlock:function(b,w){var x=b[w+1];b[w+1]=b[w+3],b[w+3]=x,this._doCryptBlock(b,w,this._invKeySchedule,h,p,m,g,u);var x=b[w+1];b[w+1]=b[w+3],b[w+3]=x},_doCryptBlock:function(b,w,x,S,A,C,$,k){for(var P=this._nRounds,L=b[w]^x[0],O=b[w+1]^x[1],B=b[w+2]^x[2],q=b[w+3]^x[3],H=4,G=1;G<P;G++){var K=S[L>>>24]^A[O>>>16&255]^C[B>>>8&255]^$[q&255]^x[H++],J=S[O>>>24]^A[B>>>16&255]^C[q>>>8&255]^$[L&255]^x[H++],F=S[B>>>24]^A[q>>>16&255]^C[L>>>8&255]^$[O&255]^x[H++],j=S[q>>>24]^A[L>>>16&255]^C[O>>>8&255]^$[B&255]^x[H++];L=K,O=J,B=F,q=j}var K=(k[L>>>24]<<24|k[O>>>16&255]<<16|k[B>>>8&255]<<8|k[q&255])^x[H++],J=(k[O>>>24]<<24|k[B>>>16&255]<<16|k[q>>>8&255]<<8|k[L&255])^x[H++],F=(k[B>>>24]<<24|k[q>>>16&255]<<16|k[L>>>8&255]<<8|k[O&255])^x[H++],j=(k[q>>>24]<<24|k[L>>>16&255]<<16|k[O>>>8&255]<<8|k[B&255])^x[H++];b[w]=K,b[w+1]=J,b[w+2]=F,b[w+3]=j},keySize:256/32});r.AES=s._createHelper(v)}(),n.AES})}(Lq)),Lq.exports}var Mq={exports:{}},Vbe;function w4t(){return Vbe||(Vbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),A2(),C2(),c_(),Da())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=o.extend({_doReset:function(){for(var y=this._key,v=y.words,b=[],w=0;w<56;w++){var x=u[w]-1;b[w]=v[x>>>5]>>>31-x%32&1}for(var S=this._subKeys=[],A=0;A<16;A++){for(var C=S[A]=[],$=c[A],w=0;w<24;w++)C[w/6|0]|=b[(l[w]-1+$)%28]<<31-w%6,C[4+(w/6|0)]|=b[28+(l[w+24]-1+$)%28]<<31-w%6;C[0]=C[0]<<1|C[0]>>>31;for(var w=1;w<7;w++)C[w]=C[w]>>>(w-1)*4+3;C[7]=C[7]<<5|C[7]>>>27}for(var k=this._invSubKeys=[],w=0;w<16;w++)k[w]=S[15-w]},encryptBlock:function(y,v){this._doCryptBlock(y,v,this._subKeys)},decryptBlock:function(y,v){this._doCryptBlock(y,v,this._invSubKeys)},_doCryptBlock:function(y,v,b){this._lBlock=y[v],this._rBlock=y[v+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var w=0;w<16;w++){for(var x=b[w],S=this._lBlock,A=this._rBlock,C=0,$=0;$<8;$++)C|=f[$][((A^x[$])&d[$])>>>0];this._lBlock=A,this._rBlock=S^C}var k=this._lBlock;this._lBlock=this._rBlock,this._rBlock=k,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[v]=this._lBlock,y[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,v){var b=(this._lBlock>>>y^this._rBlock)&v;this._rBlock^=b,this._lBlock^=b<<y}function m(y,v){var b=(this._rBlock>>>y^this._lBlock)&v;this._lBlock^=b,this._rBlock^=b<<y}r.DES=o._createHelper(h);var g=a.TripleDES=o.extend({_doReset:function(){var y=this._key,v=y.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=v.slice(0,2),w=v.length<4?v.slice(0,2):v.slice(2,4),x=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=h.createEncryptor(s.create(b)),this._des2=h.createEncryptor(s.create(w)),this._des3=h.createEncryptor(s.create(x))},encryptBlock:function(y,v){this._des1.encryptBlock(y,v),this._des2.decryptBlock(y,v),this._des3.encryptBlock(y,v)},decryptBlock:function(y,v){this._des3.decryptBlock(y,v),this._des2.encryptBlock(y,v),this._des1.decryptBlock(y,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(g)}(),n.TripleDES})}(Mq)),Mq.exports}var Fq={exports:{}},Hbe;function x4t(){return Hbe||(Hbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),A2(),C2(),c_(),Da())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var c=this._key,f=c.words,d=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var g=p%d,y=f[g>>>2]>>>24-g%4*8&255;m=(m+h[p]+y)%256;var v=h[p];h[p]=h[m],h[m]=v}this._i=this._j=0},_doProcessBlock:function(c,f){c[f]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var c=this._S,f=this._i,d=this._j,h=0,p=0;p<4;p++){f=(f+1)%256,d=(d+c[f])%256;var m=c[f];c[f]=c[d],c[d]=m,h|=c[(c[f]+c[d])%256]<<24-p*8}return this._i=f,this._j=d,h}r.RC4=s._createHelper(a);var l=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)u.call(this)}});r.RC4Drop=s._createHelper(l)}(),n.RC4})}(Fq)),Fq.exports}var Bq={exports:{}},qbe;function E4t(){return qbe||(qbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),A2(),C2(),c_(),Da())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],u=[],l=[],c=o.Rabbit=s.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,p=0;p<4;p++)d[p]=(d[p]<<8|d[p]>>>24)&16711935|(d[p]<<24|d[p]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],g=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(h){var y=h.words,v=y[0],b=y[1],w=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,x=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,S=w>>>16|x&4294901760,A=x<<16|w&65535;g[0]^=w,g[1]^=S,g[2]^=x,g[3]^=A,g[4]^=w,g[5]^=S,g[6]^=x,g[7]^=A;for(var p=0;p<4;p++)f.call(this)}},_doProcessBlock:function(d,h){var p=this._X;f.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,p=0;p<8;p++)u[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<u[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<u[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<u[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<u[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<u[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<u[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<u[6]>>>0?1:0)|0,this._b=h[7]>>>0<u[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],g=m&65535,y=m>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,b=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=v^b}d[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,d[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,d[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,d[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,d[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,d[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,d[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,d[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.Rabbit=s._createHelper(c)}(),n.Rabbit})}(Bq)),Bq.exports}var jq={exports:{}},Wbe;function T4t(){return Wbe||(Wbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),A2(),C2(),c_(),Da())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],u=[],l=[],c=o.RabbitLegacy=s.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(h){var y=h.words,v=y[0],b=y[1],w=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,x=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,S=w>>>16|x&4294901760,A=x<<16|w&65535;m[0]^=w,m[1]^=S,m[2]^=x,m[3]^=A,m[4]^=w,m[5]^=S,m[6]^=x,m[7]^=A;for(var g=0;g<4;g++)f.call(this)}},_doProcessBlock:function(d,h){var p=this._X;f.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,p=0;p<8;p++)u[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<u[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<u[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<u[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<u[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<u[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<u[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<u[6]>>>0?1:0)|0,this._b=h[7]>>>0<u[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],g=m&65535,y=m>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,b=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=v^b}d[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,d[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,d[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,d[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,d[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,d[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,d[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,d[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.RabbitLegacy=s._createHelper(c)}(),n.RabbitLegacy})}(jq)),jq.exports}var Uq={exports:{}},Gbe;function S4t(){return Gbe||(Gbe=1,function(e,t){(function(n,r,i){e.exports=r(Hr(),A2(),C2(),c_(),Da())})(Jt,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo;const a=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function f(g,y){let v=y>>24&255,b=y>>16&255,w=y>>8&255,x=y&255,S=g.sbox[0][v]+g.sbox[1][b];return S=S^g.sbox[2][w],S=S+g.sbox[3][x],S}function d(g,y,v){let b=y,w=v,x;for(let S=0;S<a;++S)b=b^g.pbox[S],w=f(g,b)^w,x=b,b=w,w=x;return x=b,b=w,w=x,w=w^g.pbox[a],b=b^g.pbox[a+1],{left:b,right:w}}function h(g,y,v){let b=y,w=v,x;for(let S=a+1;S>1;--S)b=b^g.pbox[S],w=f(g,b)^w,x=b,b=w,w=x;return x=b,b=w,w=x,w=w^g.pbox[1],b=b^g.pbox[0],{left:b,right:w}}function p(g,y,v){for(let A=0;A<4;A++){g.sbox[A]=[];for(let C=0;C<256;C++)g.sbox[A][C]=l[A][C]}let b=0;for(let A=0;A<a+2;A++)g.pbox[A]=u[A]^y[b],b++,b>=v&&(b=0);let w=0,x=0,S=0;for(let A=0;A<a+2;A+=2)S=d(g,w,x),w=S.left,x=S.right,g.pbox[A]=w,g.pbox[A+1]=x;for(let A=0;A<4;A++)for(let C=0;C<256;C+=2)S=d(g,w,x),w=S.left,x=S.right,g.sbox[A][C]=w,g.sbox[A][C+1]=x;return!0}var m=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,v=g.sigBytes/4;p(c,y,v)}},encryptBlock:function(g,y){var v=d(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},decryptBlock:function(g,y){var v=h(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(m)}(),n.Blowfish})}(Uq)),Uq.exports}(function(e,t){(function(n,r,i){e.exports=r(Hr(),hB(),t4t(),n4t(),A2(),r4t(),C2(),cDe(),hse(),i4t(),fDe(),s4t(),o4t(),a4t(),pse(),u4t(),c_(),Da(),l4t(),c4t(),f4t(),d4t(),h4t(),p4t(),m4t(),g4t(),y4t(),v4t(),b4t(),_4t(),w4t(),x4t(),E4t(),T4t(),S4t())})(Jt,function(n){return n})})(uDe);var uQ=uDe.exports;function Jh(e){const t=uQ.AES.encrypt(e.toString(),"notSecret").toString();return btoa(t)}function A4t(e){const t=uQ.AES.decrypt(atob(e),"notSecret").toString(uQ.enc.Utf8);return parseInt(t,10)}function I2(){const{studyId:e}=sm();return`${e}`}function lh(){const{index:e}=sm();return e===void 0?0:e.startsWith("reviewer-")?e:A4t(e)}function ch(){const e=lh(),t=dse();return typeof e=="number"?t[e]:e.replace("reviewer-","")}var sL={exports:{}};sL.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",b="[object Proxy]",w="[object RegExp]",x="[object Set]",S="[object String]",A="[object Undefined]",C="[object WeakMap]",$="[object ArrayBuffer]",k="[object DataView]",P="[object Float32Array]",L="[object Float64Array]",O="[object Int8Array]",B="[object Int16Array]",q="[object Int32Array]",H="[object Uint8Array]",G="[object Uint8ClampedArray]",K="[object Uint16Array]",J="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,j=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,M={};M[P]=M[L]=M[O]=M[B]=M[q]=M[H]=M[G]=M[K]=M[J]=!0,M[a]=M[u]=M[$]=M[c]=M[k]=M[f]=M[d]=M[h]=M[m]=M[g]=M[v]=M[w]=M[x]=M[S]=M[C]=!1;var V=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,Q=typeof self=="object"&&self&&self.Object===Object&&self,se=V||Q||Function("return this")(),be=t&&!t.nodeType&&t,he=be&&!0&&e&&!e.nodeType&&e,Ce=he&&he.exports===be,Pe=Ce&&V.process,rt=function(){try{var le=he&&he.require&&he.require("util").types;return le||Pe&&Pe.binding&&Pe.binding("util")}catch{}}(),Re=rt&&rt.isTypedArray;function Tt(le,ye,Be){switch(Be.length){case 0:return le.call(ye);case 1:return le.call(ye,Be[0]);case 2:return le.call(ye,Be[0],Be[1]);case 3:return le.call(ye,Be[0],Be[1],Be[2])}return le.apply(ye,Be)}function Ze(le,ye){for(var Be=-1,Ht=Array(le);++Be<le;)Ht[Be]=ye(Be);return Ht}function It(le){return function(ye){return le(ye)}}function mt(le,ye){return le==null?void 0:le[ye]}function Se(le,ye){return function(Be){return le(ye(Be))}}var Fe=Array.prototype,st=Function.prototype,yt=Object.prototype,$t=se["__core-js_shared__"],Je=st.toString,xe=yt.hasOwnProperty,kt=function(){var le=/[^.]+$/.exec($t&&$t.keys&&$t.keys.IE_PROTO||"");return le?"Symbol(src)_1."+le:""}(),Rt=yt.toString,Ee=Je.call(Object),Oe=RegExp("^"+Je.call(xe).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=Ce?se.Buffer:void 0,_t=se.Symbol,jt=se.Uint8Array;ot&&ot.allocUnsafe;var qn=Se(Object.getPrototypeOf,Object),yr=Object.create,$r=yt.propertyIsEnumerable,Ci=Fe.splice,Cn=_t?_t.toStringTag:void 0,Wn=function(){try{var le=at(Object,"defineProperty");return le({},"",{}),le}catch{}}(),vr=ot?ot.isBuffer:void 0,wr=Math.max,da=Date.now,hs=at(se,"Map"),Ss=at(Object,"create"),qs=function(){function le(){}return function(ye){if(!wh(ye))return{};if(yr)return yr(ye);le.prototype=ye;var Be=new le;return le.prototype=void 0,Be}}();function Xr(le){var ye=-1,Be=le==null?0:le.length;for(this.clear();++ye<Be;){var Ht=le[ye];this.set(Ht[0],Ht[1])}}function As(){this.__data__=Ss?Ss(null):{},this.size=0}function lf(le){var ye=this.has(le)&&delete this.__data__[le];return this.size-=ye?1:0,ye}function ha(le){var ye=this.__data__;if(Ss){var Be=ye[le];return Be===r?void 0:Be}return xe.call(ye,le)?ye[le]:void 0}function rl(le){var ye=this.__data__;return Ss?ye[le]!==void 0:xe.call(ye,le)}function qr(le,ye){var Be=this.__data__;return this.size+=this.has(le)?0:1,Be[le]=Ss&&ye===void 0?r:ye,this}Xr.prototype.clear=As,Xr.prototype.delete=lf,Xr.prototype.get=ha,Xr.prototype.has=rl,Xr.prototype.set=qr;function Li(le){var ye=-1,Be=le==null?0:le.length;for(this.clear();++ye<Be;){var Ht=le[ye];this.set(Ht[0],Ht[1])}}function wi(){this.__data__=[],this.size=0}function lo(le){var ye=this.__data__,Be=xr(ye,le);if(Be<0)return!1;var Ht=ye.length-1;return Be==Ht?ye.pop():Ci.call(ye,Be,1),--this.size,!0}function di(le){var ye=this.__data__,Be=xr(ye,le);return Be<0?void 0:ye[Be][1]}function Mi(le){return xr(this.__data__,le)>-1}function me(le,ye){var Be=this.__data__,Ht=xr(Be,le);return Ht<0?(++this.size,Be.push([le,ye])):Be[Ht][1]=ye,this}Li.prototype.clear=wi,Li.prototype.delete=lo,Li.prototype.get=di,Li.prototype.has=Mi,Li.prototype.set=me;function ue(le){var ye=-1,Be=le==null?0:le.length;for(this.clear();++ye<Be;){var Ht=le[ye];this.set(Ht[0],Ht[1])}}function ge(){this.size=0,this.__data__={hash:new Xr,map:new(hs||Li),string:new Xr}}function Me(le){var ye=it(this,le).delete(le);return this.size-=ye?1:0,ye}function Le(le){return it(this,le).get(le)}function wt(le){return it(this,le).has(le)}function Ut(le,ye){var Be=it(this,le),Ht=Be.size;return Be.set(le,ye),this.size+=Be.size==Ht?0:1,this}ue.prototype.clear=ge,ue.prototype.delete=Me,ue.prototype.get=Le,ue.prototype.has=wt,ue.prototype.set=Ut;function pn(le){var ye=this.__data__=new Li(le);this.size=ye.size}function rr(){this.__data__=new Li,this.size=0}function dr(le){var ye=this.__data__,Be=ye.delete(le);return this.size=ye.size,Be}function Ln(le){return this.__data__.get(le)}function Nr(le){return this.__data__.has(le)}function hi(le,ye){var Be=this.__data__;if(Be instanceof Li){var Ht=Be.__data__;if(!hs||Ht.length<n-1)return Ht.push([le,ye]),this.size=++Be.size,this;Be=this.__data__=new ue(Ht)}return Be.set(le,ye),this.size=Be.size,this}pn.prototype.clear=rr,pn.prototype.delete=dr,pn.prototype.get=Ln,pn.prototype.has=Nr,pn.prototype.set=hi;function an(le,ye){var Be=bh(le),Ht=!Be&&gu(le),ur=!Be&&!Ht&&_h(le),Zr=!Be&&!Ht&&!ur&&pE(le),Ii=Be||Ht||ur||Zr,un=Ii?Ze(le.length,String):[],pi=un.length;for(var ki in le)Ii&&(ki=="length"||ur&&(ki=="offset"||ki=="parent")||Zr&&(ki=="buffer"||ki=="byteLength"||ki=="byteOffset")||Lt(ki,pi))||un.push(ki);return un}function Pr(le,ye,Be){(Be!==void 0&&!il(le[ye],Be)||Be===void 0&&!(ye in le))&&Fi(le,ye,Be)}function ii(le,ye,Be){var Ht=le[ye];(!(xe.call(le,ye)&&il(Ht,Be))||Be===void 0&&!(ye in le))&&Fi(le,ye,Be)}function xr(le,ye){for(var Be=le.length;Be--;)if(il(le[Be][0],ye))return Be;return-1}function Fi(le,ye,Be){ye=="__proto__"&&Wn?Wn(le,ye,{configurable:!0,enumerable:!0,value:Be,writable:!0}):le[ye]=Be}var Io=qe();function Bi(le){return le==null?le===void 0?A:y:Cn&&Cn in Object(le)?ut(le):Uo(le)}function Bo(le){return pa(le)&&Bi(le)==a}function ps(le){if(!wh(le)||ir(le))return!1;var ye=O_(le)?Oe:j;return ye.test(N_(le))}function ms(le){return pa(le)&&hE(le.length)&&!!M[Bi(le)]}function jo(le){if(!wh(le))return Er(le);var ye=Qr(le),Be=[];for(var Ht in le)Ht=="constructor"&&(ye||!xe.call(le,Ht))||Be.push(Ht);return Be}function Ba(le,ye,Be,Ht,ur){le!==ye&&Io(ye,function(Zr,Ii){if(ur||(ur=new pn),wh(Zr))ko(le,ye,Ii,Be,Ba,Ht,ur);else{var un=Ht?Ht(vh(le,Ii),Zr,Ii+"",le,ye,ur):void 0;un===void 0&&(un=Zr),Pr(le,Ii,un)}},Xm)}function ko(le,ye,Be,Ht,ur,Zr,Ii){var un=vh(le,Be),pi=vh(ye,Be),ki=Ii.get(pi);if(ki){Pr(le,Be,ki);return}var zo=Zr?Zr(un,pi,Be+"",le,ye,Ii):void 0,xh=zo===void 0;if(xh){var Ws=bh(pi),Qm=!Ws&&_h(pi),Jm=!Ws&&!Qm&&pE(pi);zo=pi,Ws||Qm||Jm?bh(un)?zo=un:P_(un)?zo=we(un):Qm?(xh=!1,zo=ee(pi)):Jm?(xh=!1,zo=oe(pi)):zo=[]:z3(pi)||gu(pi)?(zo=un,gu(un)?zo=Km(un):(!wh(un)||O_(un))&&(zo=vt(pi))):xh=!1}xh&&(Ii.set(pi,zo),ur(zo,pi,Ht,Zr,Ii),Ii.delete(pi)),Pr(le,Be,zo)}function Jl(le,ye){return g1(cf(le,ye,Or),le+"")}var od=Wn?function(le,ye){return Wn(le,"toString",{configurable:!0,enumerable:!1,value:Jr(ye),writable:!0})}:Or;function ee(le,ye){return le.slice()}function pe(le){var ye=new le.constructor(le.byteLength);return new jt(ye).set(new jt(le)),ye}function oe(le,ye){var Be=pe(le.buffer);return new le.constructor(Be,le.byteOffset,le.length)}function we(le,ye){var Be=-1,Ht=le.length;for(ye||(ye=Array(Ht));++Be<Ht;)ye[Be]=le[Be];return ye}function Ae(le,ye,Be,Ht){var ur=!Be;Be||(Be={});for(var Zr=-1,Ii=ye.length;++Zr<Ii;){var un=ye[Zr],pi=void 0;pi===void 0&&(pi=le[un]),ur?Fi(Be,un,pi):ii(Be,un,pi)}return Be}function _e(le){return Jl(function(ye,Be){var Ht=-1,ur=Be.length,Zr=ur>1?Be[ur-1]:void 0,Ii=ur>2?Be[2]:void 0;for(Zr=le.length>3&&typeof Zr=="function"?(ur--,Zr):void 0,Ii&&Mn(Be[0],Be[1],Ii)&&(Zr=ur<3?void 0:Zr,ur=1),ye=Object(ye);++Ht<ur;){var un=Be[Ht];un&&le(ye,un,Ht,Zr)}return ye})}function qe(le){return function(ye,Be,Ht){for(var ur=-1,Zr=Object(ye),Ii=Ht(ye),un=Ii.length;un--;){var pi=Ii[++ur];if(Be(Zr[pi],pi,Zr)===!1)break}return ye}}function it(le,ye){var Be=le.__data__;return Kt(ye)?Be[typeof ye=="string"?"string":"hash"]:Be.map}function at(le,ye){var Be=mt(le,ye);return ps(Be)?Be:void 0}function ut(le){var ye=xe.call(le,Cn),Be=le[Cn];try{le[Cn]=void 0;var Ht=!0}catch{}var ur=Rt.call(le);return Ht&&(ye?le[Cn]=Be:delete le[Cn]),ur}function vt(le){return typeof le.constructor=="function"&&!Qr(le)?qs(qn(le)):{}}function Lt(le,ye){var Be=typeof le;return ye=ye??o,!!ye&&(Be=="number"||Be!="symbol"&&W.test(le))&&le>-1&&le%1==0&&le<ye}function Mn(le,ye,Be){if(!wh(Be))return!1;var Ht=typeof ye;return(Ht=="number"?y1(Be)&&Lt(ye,Be.length):Ht=="string"&&ye in Be)?il(Be[ye],le):!1}function Kt(le){var ye=typeof le;return ye=="string"||ye=="number"||ye=="symbol"||ye=="boolean"?le!=="__proto__":le===null}function ir(le){return!!kt&&kt in le}function Qr(le){var ye=le&&le.constructor,Be=typeof ye=="function"&&ye.prototype||yt;return le===Be}function Er(le){var ye=[];if(le!=null)for(var Be in Object(le))ye.push(Be);return ye}function Uo(le){return Rt.call(le)}function cf(le,ye,Be){return ye=wr(ye===void 0?le.length-1:ye,0),function(){for(var Ht=arguments,ur=-1,Zr=wr(Ht.length-ye,0),Ii=Array(Zr);++ur<Zr;)Ii[ur]=Ht[ye+ur];ur=-1;for(var un=Array(ye+1);++ur<ye;)un[ur]=Ht[ur];return un[ye]=Be(Ii),Tt(le,this,un)}}function vh(le,ye){if(!(ye==="constructor"&&typeof le[ye]=="function")&&ye!="__proto__")return le[ye]}var g1=Xp(od);function Xp(le){var ye=0,Be=0;return function(){var Ht=da(),ur=s-(Ht-Be);if(Be=Ht,ur>0){if(++ye>=i)return arguments[0]}else ye=0;return le.apply(void 0,arguments)}}function N_(le){if(le!=null){try{return Je.call(le)}catch{}try{return le+""}catch{}}return""}function il(le,ye){return le===ye||le!==le&&ye!==ye}var gu=Bo(function(){return arguments}())?Bo:function(le){return pa(le)&&xe.call(le,"callee")&&!$r.call(le,"callee")},bh=Array.isArray;function y1(le){return le!=null&&hE(le.length)&&!O_(le)}function P_(le){return pa(le)&&y1(le)}var _h=vr||gE;function O_(le){if(!wh(le))return!1;var ye=Bi(le);return ye==h||ye==p||ye==l||ye==b}function hE(le){return typeof le=="number"&&le>-1&&le%1==0&&le<=o}function wh(le){var ye=typeof le;return le!=null&&(ye=="object"||ye=="function")}function pa(le){return le!=null&&typeof le=="object"}function z3(le){if(!pa(le)||Bi(le)!=v)return!1;var ye=qn(le);if(ye===null)return!0;var Be=xe.call(ye,"constructor")&&ye.constructor;return typeof Be=="function"&&Be instanceof Be&&Je.call(Be)==Ee}var pE=Re?It(Re):ms;function Km(le){return Ae(le,Xm(le))}function Xm(le){return y1(le)?an(le):jo(le)}var mE=_e(function(le,ye,Be){Ba(le,ye,Be)});function Jr(le){return function(){return le}}function Or(le){return le}function gE(){return!1}e.exports=mE})(sL,sL.exports);var C4t=sL.exports;const mse=tf(C4t);function ty(e){return structuredClone(e)}function gse(){const e=lh(),n=`${ch()}_${e}`;return Kr(i=>i.answers[n])}const dDe=R.createContext(null);function I4t(){const e=R.useContext(dDe);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Ey(){return Kr(e=>e.config)}function MC(){const[e]=a_();return!!e.get("participantId")}function Ybe(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),s=Object.entries(r.components).find(([a])=>a===i),o=s?s[1]:null;if(!o)throw new Error(`Component ${i} could not be found in the study components.`);return o.correctAnswer?o.correctAnswer.every(a=>e[a.id]===a.answer):!0}function hDe(){const e=lh(),t=dse(),r=`${ch()}_${e}`,i=Kr($=>$.trialValidation),s=Kr($=>$.sequence),o=Kr($=>$.answers),a=Kr($=>$.modes),u=rf(),{saveTrialAnswer:l,setIframeAnswers:c,setMatrixAnswersRadio:f,setMatrixAnswersCheckbox:d}=Pl(),{storageEngine:h}=Ao(),p=I2(),m=R.useMemo(()=>a.dataCollectionEnabled,[a]),g=QIt(r),y=MC(),v=typeof e!="number"||y||!g,b=gse(),w=Dp(),x=Ey(),S=R.useMemo(()=>Date.now(),[]),A=I4t(),C=R.useCallback(($=!0)=>{if(typeof e!="number")return;const k=ty(i[r]),P=Object.values(k).reduce((j,W)=>Object.hasOwn(W,"values")?{...j,...W.values}:j,{}),{provenanceGraph:L}=k,O=Date.now(),{incorrectAnswers:B,helpButtonClickedCount:q}=b,H=A&&"current"in A&&A.current?A.current.splice(0,A.current.length):[];if(m&&b.endTime===-1){const j={answer:$?P:{},startTime:S,endTime:O,incorrectAnswers:B,provenanceGraph:L,windowEvents:H,timedOut:!$,helpButtonClickedCount:q};u(l({identifier:r,...j})),h&&h.saveAnswers({...o,[r]:j}),u(c({})),u(d(null)),u(f(null))}let G=e+1;const K=cse(s,e),J=K!==null&&K.some(j=>Object.hasOwn(j.currentBlock,"skip")&&j.currentBlock.skip!==void 0),F={...o,[r]:{answer:P,startTime:S,endTime:O,provenanceGraph:L,windowEvents:H}};J&&[...K.flatMap(W=>W.currentBlock.skip?W.currentBlock.skip.map(M=>({...M,firstIndex:W.firstIndex,lastIndex:W.lastIndex})):[])].some(W=>{let M=!1;const V=Object.fromEntries(Object.entries(F).filter(([se])=>{const be=parseInt(se.slice(se.lastIndexOf("_")+1),10);return be>=W.firstIndex&&be<=e})),Q=W.check!=="block"?Object.entries(V).filter(([se])=>se.slice(0,se.lastIndexOf("_"))===W.name):Object.entries(V);if(Q.length===0)return!1;if(Q.some(([se,be])=>!be))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(W,null,2)}`);if(W.check==="response"||W.check==="responses"){const[se,be]=Q[0];W.check==="response"?M=W.comparison==="equal"?W.value===be.answer[W.responseId]:W.value!==be.answer[W.responseId]:M=!Ybe(be.answer,se,x.components[se.slice(0,se.lastIndexOf("_"))],x)}else if(W.check==="block"||W.check==="repeatedComponent"){if(Q.length<W.value)return!1;const se=Q.map(([Ce,Pe])=>Ybe(Pe.answer,Ce,x.components[Ce.slice(0,Ce.lastIndexOf("_"))],x)),be=se.filter(Ce=>Ce).length,he=se.length-be;M=W.condition==="numCorrect"&&be===W.value||W.condition==="numIncorrect"&&he===W.value}if(M){const se=t.indexOf(W.to),be=se===-1?KIt(s,W.to):-1;return G=se===-1?be:se,!0}return!1}),w(`/${p}/${Jh(G)}${window.location.search}`)},[e,i,r,A,m,b,s,o,S,w,p,u,l,h,c,d,f,x,t]);return{isNextDisabled:v,goToNextStep:C}}function k4t({label:e="Next",disabled:t=!1,onClick:n,configInUse:r}){const{isNextDisabled:i,goToNextStep:s}=hDe(),o=Ey(),a=Dp(),u=R.useCallback(()=>{n&&n(),s()},[s,n]),l=r==null?void 0:r.nextButtonDisableTime,c=(r==null?void 0:r.nextButtonEnableTime)||0,[f,d]=R.useState(void 0);R.useEffect(()=>{let p=0;const m=setInterval(()=>{p+=100,d(p)},100);return()=>{clearInterval(m)}},[]),R.useEffect(()=>{f&&l&&f>=l&&o.uiConfig.timeoutReject&&a("./__timeout")},[l,f,a,o.uiConfig.timeoutReject]);const h=R.useMemo(()=>{const p=l&&f?f<=l:!0,m=f?f>=c:!0;return p&&m},[l,c,f]);return E.jsxs(E.Fragment,{children:[E.jsx(on,{type:"submit",disabled:t||i||!h,onClick:u,children:e}),c>0&&f&&f<c&&E.jsxs(ey,{mt:"md",title:"Please wait",color:"blue",icon:E.jsx(Lie,{}),children:["The next button will be enabled in"," ",Math.ceil((c-f)/1e3)," ","seconds."]}),l&&f&&l-f<1e4&&(l-f>0?E.jsxs(ey,{mt:"md",title:"Next button disables soon",color:"yellow",icon:E.jsx(I6,{}),children:["The next button disables in"," ",Math.ceil((l-f)/1e3)," ","seconds."]}):!o.uiConfig.timeoutReject&&E.jsxs(ey,{mt:"md",title:"Next button disabled",color:"red",icon:E.jsx(I6,{}),children:["The next button has timed out and is now disabled.",E.jsx(Si,{justify:"right",mt:"sm",children:E.jsx(on,{onClick:()=>s(!1),variant:"link",color:"red",children:"Proceed"})})]}))]})}function R4t(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const $4t=typeof window<"u"?R.useLayoutEffect:R.useEffect;function Ua(e,t){$4t(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function N4t(e,t){e&&R4t(e),Ua(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),Ua(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),Ua(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),Ua(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),Ua(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),Ua(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),Ua(`mantine-form:${e}:clear-errors`,t.clearErrors),Ua(`mantine-form:${e}:reset`,t.reset),Ua(`mantine-form:${e}:validate`,t.validate),Ua(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),Ua(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),Ua(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),Ua(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),Ua(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),Ua(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),Ua(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),Ua(`mantine-form:${e}:reset-touched`,t.resetTouched)}function P4t(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function lQ(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function O4t(e){const[t,n]=R.useState(lQ(e)),r=R.useRef(t),i=R.useCallback(u=>{n(l=>{const c=lQ(typeof u=="function"?u(l):u);return r.current=c,c})},[]),s=R.useCallback(()=>i({}),[]),o=R.useCallback(u=>{r.current[u]!==void 0&&i(l=>{const c={...l};return delete c[u],c})},[t]),a=R.useCallback((u,l)=>{l==null||l===!1?o(u):r.current[u]!==l&&i(c=>({...c,[u]:l}))},[t]);return{errorsState:t,setErrors:i,clearErrors:s,setFieldError:a,clearFieldError:o}}function pDe(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function Kbe(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function Xbe(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=pDe(`${i}.${t}`,s));const o={...s},a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=Kbe(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=Kbe(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function D4t(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o={...r};return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function Qbe(e,t,n){typeof n.value=="object"&&(n.value=VT(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function VT(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(VT(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(VT(a),VT(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(VT(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)Qbe(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||Qbe(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function mDe(e){return typeof e!="string"?[]:e.split(".")}function Cc(e,t){const n=mDe(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function pB(e,t,n){const r=mDe(e);if(r.length===0)return n;const i=VT(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function L4t(e,{from:t,to:n},r){const i=Cc(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),pB(e,s,r)}function M4t(e,t,n,r){const i=Cc(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),pB(e,s,r)}function F4t(e,t,n){const r=Cc(e,n);return Array.isArray(r)?pB(e,r.filter((i,s)=>s!==t),n):n}function B4t({$values:e,$errors:t,$status:n}){const r=R.useCallback((o,a)=>{n.clearFieldDirty(o),t.setErrors(u=>D4t(o,a,u)),e.setValues({values:L4t(o,a,e.refValues.current),updateState:!0})},[]),i=R.useCallback((o,a)=>{n.clearFieldDirty(o),t.setErrors(u=>Xbe(o,a,u,-1)),e.setValues({values:F4t(o,a,e.refValues.current),updateState:!0})},[]),s=R.useCallback((o,a,u)=>{n.clearFieldDirty(o),t.setErrors(l=>Xbe(o,u,l,1)),e.setValues({values:M4t(o,a,u,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:s}}var yse=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const cD=tf(yse);function jP(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function j4t({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,s]=R.useState(t),[o,a]=R.useState(e),u=R.useRef(t),l=R.useRef(e),c=R.useCallback(x=>{const S=typeof x=="function"?x(u.current):x;u.current=S,n==="controlled"&&s(S)},[]),f=R.useCallback(x=>{const S=typeof x=="function"?x(l.current):x;l.current=S,n==="controlled"&&a(S)},[]),d=R.useCallback(()=>c({}),[]),h=x=>{const S=x?{...x,...r.refValues.current}:r.refValues.current;r.setValuesSnapshot(S),f({})},p=R.useCallback((x,S)=>{c(A=>jP(A,x)===S?A:{...A,[x]:S})},[]),m=R.useCallback((x,S)=>{f(A=>jP(A,x)===S?A:{...A,[x]:S})},[]),g=R.useCallback(x=>jP(u.current,x),[]),y=R.useCallback(x=>f(S=>{if(typeof x!="string")return S;const A=pDe(x,S);return delete A[x],cD(A,S)?S:A}),[]),v=R.useCallback(x=>{if(x){const A=Cc(x,l.current);if(typeof A=="boolean")return A;const C=Cc(x,r.refValues.current),$=Cc(x,r.valuesSnapshot.current);return!cD(C,$)}return Object.keys(l.current).length>0?jP(l.current):!cD(r.refValues.current,r.valuesSnapshot.current)},[]),b=R.useCallback(()=>l.current,[]),w=R.useCallback(()=>u.current,[]);return{touchedState:i,dirtyState:o,touchedRef:u,dirtyRef:l,setTouched:c,setDirty:f,resetDirty:h,resetTouched:d,isTouched:g,setFieldTouched:p,setFieldDirty:m,setTouchedState:s,setDirtyState:a,clearFieldDirty:y,isDirty:v,getDirty:b,getTouched:w}}function U4t({initialValues:e,onValuesChange:t,mode:n}){const r=R.useRef(!1),[i,s]=R.useState(e||{}),o=R.useRef(i),a=R.useRef(i),u=R.useCallback(({values:p,subscribers:m,updateState:g=!0,mergeWithPreviousValues:y=!0})=>{const v=o.current,b=p instanceof Function?p(o.current):p,w=y?{...v,...b}:b;o.current=w,g&&s(w),t==null||t(w,v),m==null||m.filter(Boolean).forEach(x=>x({updatedValues:w,previousValues:v}))},[t]),l=R.useCallback(p=>{var y;const m=Cc(p.path,o.current),g=p.value instanceof Function?p.value(m):p.value;if(m!==g){const v=o.current,b=pB(p.path,g,o.current);u({values:b,updateState:p.updateState}),(y=p.subscribers)==null||y.filter(Boolean).forEach(w=>w({path:p.path,updatedValues:b,previousValues:v}))}},[]),c=R.useCallback(p=>{a.current=p},[]),f=R.useCallback((p,m)=>{r.current||(r.current=!0,u({values:p,updateState:n==="controlled"}),c(p),m())},[]),d=R.useCallback(()=>{u({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[]),h=R.useCallback(()=>o.current,[]);return{initialized:r,stateValues:i,refValues:o,valuesSnapshot:a,setValues:u,setFieldValue:l,resetValues:d,setValuesSnapshot:c,initialize:f,getValues:h}}function z4t({$status:e}){const t=R.useRef({}),n=R.useCallback((i,s)=>{R.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(s),()=>{t.current[i]=t.current[i].filter(o=>o!==s)}),[s])},[]),r=R.useCallback(i=>t.current[i]?t.current[i].map(s=>o=>s({previousValue:Cc(i,o.previousValues),value:Cc(i,o.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function Jbe(e,t){return e?`${e}-${t.toString()}`:t.toString()}function Zbe(e){const t=lQ(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function cQ(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=Cc(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>cQ(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||cQ(o,t,a,i)),i},r)}function fQ(e,t){return Zbe(typeof e=="function"?e(t):cQ(e,t))}function UP(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=fQ(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const V4t="__MANTINE_FORM_INDEX__";function e_e(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${V4t}`)):!1:!1}function gDe({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:s={},clearInputErrorOnChange:o=!0,validateInputOnChange:a=!1,validateInputOnBlur:u=!1,onValuesChange:l,transformValues:c=h=>h,enhanceGetInputProps:f,validate:d}={}){const h=O4t(r),p=U4t({initialValues:n,onValuesChange:l,mode:t}),m=j4t({initialDirty:i,initialTouched:s,$values:p,mode:t}),g=B4t({$values:p,$errors:h,$status:m}),y=z4t({$status:m}),[v,b]=R.useState(0),[w,x]=R.useState({}),S=R.useCallback(()=>{p.resetValues(),h.clearErrors(),m.resetDirty(),m.resetTouched(),t==="uncontrolled"&&b(F=>F+1)},[]),A=R.useCallback(F=>{p.initialize(F,()=>t==="uncontrolled"&&b(j=>j+1))},[]),C=R.useCallback((F,j,W)=>{const M=e_e(F,a);m.clearFieldDirty(F),m.setFieldTouched(F,!0),!M&&o&&h.clearFieldError(F),p.setFieldValue({path:F,value:j,updateState:t==="controlled",subscribers:[...y.getFieldSubscribers(F),M?V=>{const Q=UP(F,d,V.updatedValues);Q.hasError?h.setFieldError(F,Q.error):h.clearFieldError(F)}:null,(W==null?void 0:W.forceUpdate)!==!1&&t!=="controlled"?()=>x(V=>({...V,[F]:(V[F]||0)+1})):null]})},[l,d]),$=R.useCallback(F=>{const j=p.refValues.current;p.setValues({values:F,updateState:t==="controlled"}),o&&h.clearErrors(),t==="uncontrolled"&&b(W=>W+1),Object.keys(y.subscribers.current).forEach(W=>{const M=Cc(W,p.refValues.current),V=Cc(W,j);M!==V&&y.getFieldSubscribers(W).forEach(Q=>Q({previousValues:j,updatedValues:p.refValues.current}))})},[l,o]),k=R.useCallback(()=>{const F=fQ(d,p.refValues.current);return h.setErrors(F.errors),F},[d]),P=R.useCallback(F=>{const j=UP(F,d,p.refValues.current);return j.hasError?h.setFieldError(F,j.error):h.clearFieldError(F),j},[d]),L=(F,{type:j="input",withError:W=!0,withFocus:M=!0,...V}={})=>{const se={onChange:P4t(be=>C(F,be,{forceUpdate:!1})),"data-path":Jbe(e,F)};return W&&(se.error=h.errorsState[F]),j==="checkbox"?se[t==="controlled"?"checked":"defaultChecked"]=Cc(F,p.refValues.current):se[t==="controlled"?"value":"defaultValue"]=Cc(F,p.refValues.current),M&&(se.onFocus=()=>m.setFieldTouched(F,!0),se.onBlur=()=>{if(e_e(F,u)){const be=UP(F,d,p.refValues.current);be.hasError?h.setFieldError(F,be.error):h.clearFieldError(F)}}),Object.assign(se,f==null?void 0:f({inputProps:se,field:F,options:{type:j,withError:W,withFocus:M,...V},form:J}))},O=(F,j)=>W=>{W==null||W.preventDefault();const M=k();M.hasErrors?j==null||j(M.errors,p.refValues.current,W):F==null||F(c(p.refValues.current),W)},B=F=>c(F||p.refValues.current),q=R.useCallback(F=>{F.preventDefault(),S()},[]),H=R.useCallback(F=>F?!UP(F,d,p.refValues.current).hasError:!fQ(d,p.refValues.current).hasErrors,[d]),G=F=>`${v}-${F}-${w[F]||0}`,K=R.useCallback(F=>document.querySelector(`[data-path="${Jbe(e,F)}"]`),[]),J={watch:y.watch,initialized:p.initialized.current,values:p.stateValues,getValues:p.getValues,setInitialValues:p.setValuesSnapshot,initialize:A,setValues:$,setFieldValue:C,errors:h.errorsState,setErrors:h.setErrors,setFieldError:h.setFieldError,clearFieldError:h.clearFieldError,clearErrors:h.clearErrors,resetDirty:m.resetDirty,setTouched:m.setTouched,setDirty:m.setDirty,isTouched:m.isTouched,resetTouched:m.resetTouched,isDirty:m.isDirty,getTouched:m.getTouched,getDirty:m.getDirty,reorderListItem:g.reorderListItem,insertListItem:g.insertListItem,removeListItem:g.removeListItem,reset:S,validate:k,validateField:P,getInputProps:L,onSubmit:O,onReset:q,isValid:H,getTransformedValues:B,key:G,getInputNode:K};return N4t(e,J),J}function H4t(e,t){const n=t||!0;return r=>typeof r!="string"?n:e.test(r)?null:n}function q4t(e){return H4t(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function yDe(e,t){if(e.type==="checkbox"){const n=e,r=n.minSelections&&t.length<n.minSelections,i=n.maxSelections&&t.length>n.maxSelections;if(r&&i)return`Please select between ${n.minSelections} and ${n.maxSelections} options`;if(r)return`Please select at least ${n.minSelections} options`;if(i)return`Please select at most ${n.maxSelections} options`}return null}const W4t=new URLSearchParams(window.location.search),G4t=(e,t)=>{let n={};return e.forEach(r=>{const i=t[r.id];if(i)n={...n,[r.id]:i};else{let s="";r.paramCapture?s=W4t.get(r.paramCapture):r.type==="iframe"?s=[]:(r.type==="matrix-radio"||r.type==="matrix-checkbox")&&(s=Object.fromEntries(r.questionOptions.map(o=>[o,""]))),n={...n,[r.id]:s}}}),{...n}},Y4t=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(typeof r=="object"&&!Array.isArray(r)&&r!==null)return Object.values(r).every(i=>i!=="")?null:"Empty Input";if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value. Contact study administrator.";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return n.type==="checkbox"?yDe(n,r):r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function K4t(e,t,n){const[r,i]=R.useState(null),s=gDe({initialValues:G4t(e,n),validate:Y4t(e)});return R.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function k2(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:t.checked&&e.required?s=yDe(e,t.checked):s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}function X4t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,secondaryText:u}=e,l=a.map(c=>typeof c=="string"?{value:c,label:c}:c);return E.jsx(Ac.Group,{label:E.jsxs(qt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&E.jsx(ke,{style:{minWidth:"fit-content"},children:`${r}. `}),E.jsx(ke,{style:{display:"block"},className:"no-last-child-bottom-padding",children:E.jsx(Ku,{text:s,required:o})})]}),description:u,...n,error:k2(e,n,l),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:E.jsx(Si,{mt:"xs",children:l.map(c=>E.jsx(Ac,{disabled:t,value:c.value,label:c.label},c.value))})})}function Q4t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,options:u,secondaryText:l}=e,c=u.map(f=>typeof f=="string"?{value:f,label:f}:f);return E.jsx(IC,{disabled:t,label:E.jsxs(qt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&E.jsx(ke,{style:{minWidth:"fit-content"},children:`${r}. `}),E.jsx(ke,{style:{display:"block"},className:"no-last-child-bottom-padding",children:E.jsx(Ku,{text:o,required:a})})]}),description:l,placeholder:s,data:c,radius:"md",size:"md",...n,error:k2(e,n,c)})}function J4t({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:s,secondaryText:o}=e;return E.jsx(oo.Wrapper,{label:E.jsxs(qt,{direction:"row",wrap:"nowrap",gap:4,children:[r&&E.jsx(ke,{style:{minWidth:"fit-content"},children:`${n}. `}),E.jsx(ke,{style:{display:"block"},className:"no-last-child-bottom-padding",children:E.jsx(Ku,{text:i,required:s})})]}),description:o,size:"md",children:t.value&&E.jsx(yo,{children:Array.isArray(t.value)?t.value.map(a=>E.jsx(yo.Item,{children:a},a)):E.jsx(yo.Item,{children:t.value})})})}function vDe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,stretch:s}){const{prompt:o,required:a,options:u,leftLabel:l,rightLabel:c,secondaryText:f}=e,d=u.map(h=>typeof h=="string"?{value:h,label:h}:h);return E.jsx(_y.Group,{name:`radioInput${e.id}`,label:E.jsxs(qt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&E.jsx(ke,{style:{minWidth:"fit-content"},children:`${r}. `}),E.jsx(ke,{style:{display:"block"},className:"no-last-child-bottom-padding",children:E.jsx(Ku,{text:o,required:a})})]}),description:f,...n,error:k2(e,n,d),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:E.jsxs(Si,{mt:"md",gap:"lg",style:{display:"flex",alignItems:"flex-end",justifyContent:s?"space-around":"inherit"},children:[l?E.jsx(Ue,{children:l}):null,d.map(h=>E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[E.jsx(Ue,{children:h.label}),E.jsx(_y,{disabled:t,value:h.value,label:h.label,styles:{label:{display:"none"}}})]},h.label)),E.jsx(Ue,{children:c})]})},e.id)}function Z4t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:s}=e,o=[];for(let u=1;u<=+s;u+=1)o.push({label:`${u}`,value:`${u}`});const a={...e,type:"radio",options:o};return E.jsx(vDe,{disabled:t,response:a,answer:n,index:r,enumerateQuestions:i,stretch:!0})}function e6t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,min:a,max:u,placeholder:l,secondaryText:c}=e;return E.jsx(hie,{disabled:t,placeholder:l,label:E.jsxs(qt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&E.jsx(ke,{style:{minWidth:"fit-content"},children:`${r}. `}),E.jsx(ke,{style:{display:"block"},className:"no-last-child-bottom-padding",children:E.jsx(Ku,{text:s,required:o})})]}),description:c,radius:"md",size:"md",min:a,max:u,...n,error:k2(e,n)})}function t6t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,secondaryText:u}=e,[l,c]=R.useMemo(()=>[Math.min(...a.map(d=>d.value)),Math.max(...a.map(d=>d.value))],[a]),f=k2(e,n);return E.jsx(oo.Wrapper,{label:E.jsxs(qt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&E.jsx(ke,{style:{minWidth:"fit-content"},children:`${r}. `}),E.jsx(ke,{style:{display:"block"},className:"no-last-child-bottom-padding",children:E.jsx(Ku,{text:s,required:o})})]}),description:u,error:f,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:E.jsx(s_,{disabled:t,marks:a,min:l,max:c,...n,h:40})})}function n6t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:u}=e;return E.jsx(zg,{disabled:t,placeholder:s,label:E.jsxs(qt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&E.jsx(ke,{style:{minWidth:"fit-content"},children:`${r}. `}),E.jsx(ke,{style:{display:"block"},className:"no-last-child-bottom-padding",children:E.jsx(Ku,{text:o,required:a})})]}),description:u,radius:"md",size:"md",...n,value:n.value||"",error:k2(e,n)})}function r6t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:u}=e;return E.jsx(eie,{disabled:t,placeholder:s,label:E.jsxs(qt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&E.jsx(ke,{style:{minWidth:"fit-content"},children:`${r}. `}),E.jsx(ke,{style:{display:"block"},className:"no-last-child-bottom-padding",children:E.jsx(Ku,{text:o,required:a})})]}),description:u,radius:"md",size:"md",...n,value:n.value||"",error:k2(e,n)})}function i6t({_choices:e,_n:t,idx:n,question:r,answer:i,onChange:s,disabled:o}){return E.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(a=>E.jsx(Ac,{disabled:o,checked:i.value[r.label].split("|").includes(a.value),onChange:u=>s(u,r.label,a),value:a.value},`${a.label}-${n}`))})}function s6t({_choices:e,_n:t,idx:n,question:r,response:i,answer:s,onChange:o,disabled:a}){return E.jsx(_y.Group,{name:`radioInput${i.id}-${n}`,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))",flex:1},onChange:u=>o(u,r.label),value:s.value[r.label],children:E.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(u=>E.jsx(_y,{disabled:a,value:u.value},`${u.label}-${n}`))})},`${i.id}-${n}`)}function o6t({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{setMatrixAnswersRadio:s,setMatrixAnswersCheckbox:o}=Pl(),a=rf(),{answerOptions:u,questionOptions:l,prompt:c,required:f}=e,h=typeof u=="string"?{likely5:["Highly Unlikely","Unlikely","Neutral","Likely","Highly Likely"],likely7:["Highly Unlikely","Unlikely","Slightly Unlikely","Neutral","Slightly Likely","Likely","Highly Likely"],satisfaction5:["Highly Unsatisfied","Unsatisfied","Neutral","Satisfied","Highly Satisfied"],satisfaction7:["Highly Unsatisfied","Unsatisfied","Slightly Unsatisfied","Neutral","Slightly Satisfied","Satisfied","Highly Satisfied"]}[u].map(b=>({value:b,label:b})):u.map(b=>typeof b=="string"?{value:b,label:b}:b),p=l.map(b=>typeof b=="string"?{value:b,label:b}:b),m=(b,w)=>{const x={type:"radio",questionKey:w,val:b,responseId:e.id};a(s(x))},g=(b,w,x)=>{const S=b.target.checked,A={questionKey:w,responseId:e.id,value:x.value,label:x.label,isChecked:S,choiceOptions:h};a(o(A))},y=h.length,v=p.length;return E.jsxs(E.Fragment,{children:[E.jsxs(qt,{direction:"row",wrap:"nowrap",gap:0,children:[i&&E.jsx(ke,{style:{minWidth:"fit-content"},children:`${n}. `}),E.jsx(ke,{style:{display:"block"},className:"no-last-child-bottom-padding",children:E.jsx(Ku,{text:c,required:f})})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto 1fr",margin:"40px 100px 100px 100px"},children:[E.jsx("div",{style:{borderBottom:"1px solid var(--mantine-color-dark-0)",borderRight:"1px solid var(--mantine-color-dark-0)"}}),E.jsx("div",{style:{height:"100%",display:"grid",gridTemplateColumns:`repeat(${y}, 1fr)`,alignItems:"center",justifyItems:"center",borderBottom:"1px solid var(--mantine-color-dark-0)"},children:h.map((b,w)=>E.jsx(Ue,{style:{fontWeight:"bold",textAlign:"center",fontSize:"0.8em"},mb:"sm",ml:"xs",mr:"xs",children:b.label},`choice-${w}-label`))}),E.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${v}, 1fr)`},children:p.map((b,w)=>E.jsx(Ue,{style:{height:"60px",display:"flex",alignItems:"center",borderRight:"1px solid var(--mantine-color-dark-0)",backgroundColor:`${(w+1)%2===0?"var(--mantine-color-gray-2)":"white"}`,paddingLeft:"10px"},children:b.label},`question-${w}-label`))}),E.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${v},1fr)`},children:p.map((b,w)=>E.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",backgroundColor:`${(w+1)%2===0?"var(--mantine-color-gray-2)":"white"}`},children:e.type==="matrix-radio"?E.jsx(s6t,{disabled:r,idx:w,question:b,answer:t,_choices:h,_n:y,onChange:m,response:e}):E.jsx(i6t,{disabled:r,idx:w,question:b,answer:t,_choices:h,_n:y,onChange:g})},`question-${w}`))})]})]})}function a6t({response:e,answer:t,storedAnswer:n,index:r}){const i=(n?{value:n}:t)||{value:void 0},s=!!n,[o]=a_(),u=Ey().uiConfig.enumerateQuestions??!1,l=R.useMemo(()=>{if(e.paramCapture){const c=o.get(e.paramCapture);return s||!!c}return s},[s,e.paramCapture,o]);return E.jsxs(ke,{mb:"md",children:[e.type==="numerical"&&E.jsx(e6t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="shortText"&&E.jsx(n6t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="longText"&&E.jsx(r6t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="likert"&&E.jsx(Z4t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="dropdown"&&E.jsx(Q4t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="slider"&&E.jsx(t6t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="radio"&&E.jsx(vDe,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="checkbox"&&E.jsx(X4t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="iframe"&&E.jsx(J4t,{response:e,answer:i,index:r,enumerateQuestions:u}),(e.type==="matrix-radio"||e.type==="matrix-checkbox")&&E.jsx(o6t,{disabled:l,response:e,answer:i,index:r,enumerateQuestions:u})]})}function oL({config:e,location:t,status:n,style:r}){var F;const{storageEngine:i}=Ao(),s=rf(),{updateResponseBlockValidation:o,toggleShowHelpText:a,saveIncorrectAnswer:u,incrementHelpCounter:l}=Pl(),c=lh(),f=ch(),d=n==null?void 0:n.answer,h=I2(),p=Dp(),m=e,g=R.useMemo(()=>{var j;return((j=m==null?void 0:m.response)==null?void 0:j.filter(W=>W.location?W.location===t:t==="belowStimulus"))||[]},[m==null?void 0:m.response,t]),y=R.useMemo(()=>g.map(j=>({...j,required:j.required===void 0?!0:j.required})),[g]),v=K4t(y,c,d||{}),[b,w]=R.useState(void 0),x=Kr(j=>j.iframeAnswers),S=Kr(j=>j.iframeProvenance),A=Kr(j=>j.matrixAnswers),C=(m==null?void 0:m.provideFeedback)&&(((F=m==null?void 0:m.correctAnswer)==null?void 0:F.length)||0)>0,$=(m==null?void 0:m.allowFailedTraining)===void 0?!0:m.allowFailedTraining,[k,P]=R.useState(0),L=(m==null?void 0:m.trainingAttempts)||2,[O,B]=R.useState(!1),q=t===((m==null?void 0:m.nextButtonLocation)||"belowStimulus");R.useEffect(()=>{const j=y.find(W=>W.type==="iframe");if(x&&j){const W=j.id;v.setValues({...v.values,[W]:x[W]})}},[x]),R.useEffect(()=>{S&&w(S)},[S]),R.useEffect(()=>{const j=y.filter(W=>W.type==="matrix-radio"||W.type==="matrix-checkbox");if(A&&j.length>0){const W={...v.values};j.forEach(M=>{const{id:V}=M;W[V]={...v.getInputProps(V).value,...A[V]}}),v.setValues(W)}},[A]),R.useEffect(()=>{s(o({location:t,identifier:`${f}_${c}`,status:v.isValid(),values:ty(v.values),provenanceGraph:b}))},[v.values,f,c,t,s,o,b]);const[H,G]=R.useState(Object.fromEntries(y.map(j=>[j.id,{visible:!1,title:"Correct Answer",message:"The correct answer is: ",color:"green"}]))),K=(j,W,M,V,Q)=>{G(se=>({...se,[j]:{visible:W,title:M,message:V,color:Q}}))},J=()=>{const j=k+1;P(j);const W=Object.fromEntries(y.map(M=>{var se,be;const V=(be=(se=m.correctAnswer)==null?void 0:se.find(he=>he.id===M.id))==null?void 0:be.answer,Q=v.values[M.id];return[M.id,Array.isArray(Q)?typeof V=="string"?Q.length===1&&V===Q[0]:Q.length===V.length&&Q.every(he=>V.includes(he)):V===Q]}));C&&(y.forEach(M=>{var V;if(W[M.id]&&!((V=H[M.id])!=null&&V.message.includes("You've failed to answer this question correctly")))K(M.id,!0,"Correct Answer","You have answered the question correctly.","green");else{s(u({question:`${f}_${c}`,identifier:M.id,answer:v.values[M.id]}));let Q="";L===-1?Q="Please try again.":j>=L?(Q=`You didn't answer this question correctly after ${L} attempts. ${$?"You can continue to the next question.":"Unfortunately you have not met the criteria for continuing this study."}`,!$&&i&&i.rejectCurrentParticipant(h,"Failed training").then(()=>{setTimeout(()=>{p("./__trainingFailed")},5e3)}).catch(()=>{console.error("Failed to reject participant who failed training"),setTimeout(()=>{p("./__trainingFailed")},5e3)})):L-j===1?Q="Please try again. You have 1 attempt left.":Q=`Please try again. You have ${L-j} attempts left.`,K(M.id,!0,"Incorrect Answer",Q,"red")}}),B($&&j>=L||Object.values(W).every(M=>M)&&j<=L))};return E.jsxs("div",{style:r,children:[y.map((j,W)=>{var V,Q;const M=(Q=(V=m.correctAnswer)==null?void 0:V.find(se=>se.id===j.id))==null?void 0:Q.answer;return E.jsx(ui.Fragment,{children:j.hidden?"":E.jsxs(E.Fragment,{children:[E.jsx(a6t,{storedAnswer:d?d[j.id]:void 0,answer:{...v.getInputProps(j.id,{type:j.type==="checkbox"?"checkbox":"input"})},response:j,index:W+1}),H[j.id].visible&&E.jsxs(ey,{mb:"md",title:H[j.id].title,color:H[j.id].color,children:[H[j.id].message," ",H[j.id].message.includes("Please try again")&&E.jsxs(E.Fragment,{children:[E.jsx("br",{}),E.jsx("br",{}),"If you're unsure"," ",E.jsx(n_,{style:{fontSize:14},onClick:()=>{s(a()),s(l({identifier:`${f}_${c}`}))},children:"review the help text."})," "]}),E.jsx("br",{}),E.jsx("br",{}),k>=L&&L>=0&&M&&` The correct answer was: ${M}.`]})]})},`${j.id}-${c}`)}),E.jsxs(Si,{justify:"right",gap:"xs",children:[C&&q&&E.jsx(on,{onClick:()=>J(),disabled:!v.isValid()||k>=L&&L>=0,children:"Check Answer"}),q&&E.jsx(k4t,{disabled:C&&!O||!v.isValid(),label:m.nextButtonText||"Next",configInUse:m})]})]})}const _I="@REVISIT_COMMS",u6t={minHeight:"500px",width:"100%",border:0};function l6t({currentConfig:e}){const{setIframeAnswers:t,setIframeProvenance:n}=Pl(),r=rf(),i=UOe(),s=R.useRef(null),o=R.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),a=ch(),u=Dp(),l=R.useCallback((c,f)=>{var d,h;(h=(d=s.current)==null?void 0:d.contentWindow)==null||h.postMessage({error:!1,type:`${_I}/${c}`,iframeId:o,message:f},"*")},[s,o]);return R.useEffect(()=>{const c=f=>{const{data:d}=f;if(typeof d=="object"&&o===d.iframeId)switch(d.type){case`${_I}/WINDOW_READY`:e.parameters&&l("STUDY_DATA",e.parameters);break;case`${_I}/READY`:s.current&&(s.current.style.height=`${d.message.documentHeight}px`);break;case`${_I}/ANSWERS`:r(t(d.message));break;case`${_I}/PROVENANCE`:r(n(d.message));break}};return window.addEventListener("message",c),()=>window.removeEventListener("message",c)},[r,i,o,u,e,l,t,n]),E.jsx("iframe",{ref:s,src:e.path.startsWith("http")?e.path:`${Nl}${e.path}?trialid=${a}&id=${o}`,style:u6t})}async function vse(e){const n=await(await fetch(`${Nl}${e}`)).text();if(!n.includes("<title>reVISit</title>"))return n}async function c6t(e){const t=await fetch(`${Nl}${e}`);let n;try{n=await t.json()}catch(r){console.error("Invalid JSON:",r)}return n}function hb({email:e,path:t}){const n=o_();return E.jsxs($l,{fluid:!0,my:50,maw:800,mx:"auto",children:[E.jsx(to,{order:2,children:E.jsx(Ue,{span:!0,c:"orange",children:"404"})}),E.jsxs(Ue,{children:[E.jsx(Ue,{span:!0,fw:700,children:t||n.pathname})," ","not Found."]}),E.jsx(iu,{h:"lg"}),E.jsxs(yo,{children:[E.jsx(yo.Item,{children:E.jsx(Ue,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),E.jsx(yo.Item,{children:E.jsxs(Ue,{children:["If you're a participant, please contact the study administrator"," ",e&&E.jsxs(E.Fragment,{children:["at"," ",E.jsxs(n_,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}const f6t={maxWidth:"100%"};function d6t({currentConfig:e}){const t={...f6t,...e.style},[n,r]=R.useState(!0),[i,s]=R.useState(!1);return R.useEffect(()=>{async function o(){const a=await vse(e.path);s(!!a),r(!1)}o()},[e]),n||i?E.jsx(i_,{mx:"auto",src:`${Nl}${e.path}`,style:t}):E.jsx(hb,{path:e.path})}function ny(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h6t(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pp(e){let t,n,r;e.length!==2?(t=ny,n=(a,u)=>ny(e(a),u),r=(a,u)=>e(a)-u):(t=e===ny||e===h6t?e:p6t,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function p6t(){return 0}function bDe(e){return e===null?NaN:+e}function*m6t(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const _De=pp(ny),pb=_De.right,g6t=_De.left;pp(bDe).center;function y6t(e,t){let n=0,r,i=0,s=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,s+=r*(o-i));else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i))}if(n>1)return s/(n-1)}function v6t(e,t){const n=y6t(e,t);return n&&Math.sqrt(n)}function Jk(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class Il{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=t+s,a=Math.abs(t)<Math.abs(s)?t-(o-s):s-(o-t);a&&(n[r++]=a),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,s,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,s=i-(o-r),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}class t_e extends Map{constructor(t,n=EDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(dQ(this,t))}has(t){return super.has(dQ(this,t))}set(t,n){return super.set(wDe(this,t),n)}delete(t){return super.delete(xDe(this,t))}}class aL extends Set{constructor(t,n=EDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(dQ(this,t))}add(t){return super.add(wDe(this,t))}delete(t){return super.delete(xDe(this,t))}}function dQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function wDe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function xDe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function EDe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function b6t(e,t){return Array.from(t,n=>e[n])}function _6t(e=ny){if(e===ny)return TDe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function TDe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w6t=Math.sqrt(50),x6t=Math.sqrt(10),E6t=Math.sqrt(2);function uL(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=w6t?10:s>=x6t?5:s>=E6t?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?uL(e,t,n*2):[a,u,l]}function hQ(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?uL(t,e,n):uL(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function pQ(e,t,n){return t=+t,e=+e,n=+n,uL(e,t,n)[2]}function mb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?pQ(t,e,n):pQ(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ry(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function mQ(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function SDe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?TDe:_6t(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(t-l*f/u+d)),p=Math.min(r,Math.floor(t+(u-l)*f/u+d));SDe(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(wI(e,n,t),i(e[r],s)>0&&wI(e,n,r);o<a;){for(wI(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?wI(e,n,a):(++a,wI(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function wI(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gQ(e,t,n){if(e=Float64Array.from(m6t(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return mQ(e);if(t>=1)return ry(e);var r,i=(r-1)*t,s=Math.floor(i),o=ry(SDe(e,s).subarray(0,s+1)),a=mQ(e.subarray(s+1));return o+(a-o)*(i-s)}}function ADe(e,t,n=bDe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function T6t(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function CDe(e,t){return gQ(e,.5,t)}function*S6t(e){for(const t of e)yield*t}function IDe(e){return Array.from(S6t(e))}function Ic(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function kDe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function A6t(e,...t){e=new aL(e),t=t.map(C6t);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function C6t(e){return e instanceof aL?e:new aL(e)}function I6t(...e){const t=new aL;for(const n of e)for(const r of n)t.add(r);return t}function k6t(e){return e}var zq=1,Vq=2,yQ=3,N4=4,n_e=1e-6;function R6t(e){return"translate("+e+",0)"}function $6t(e){return"translate(0,"+e+")"}function N6t(e){return t=>+e(t)}function P6t(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function O6t(){return!this.__axis}function RDe(e,t){var n=[],r=null,i=null,s=6,o=6,a=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===zq||e===N4?-1:1,c=e===N4||e===Vq?"x":"y",f=e===zq||e===yQ?R6t:$6t;function d(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):k6t),g=Math.max(s,0)+a,y=t.range(),v=+y[0]+u,b=+y[y.length-1]+u,w=(t.bandwidth?P6t:N6t)(t.copy(),u),x=h.selection?h.selection():h,S=x.selectAll(".domain").data([null]),A=x.selectAll(".tick").data(p,t).order(),C=A.exit(),$=A.enter().append("g").attr("class","tick"),k=A.select("line"),P=A.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge($),k=k.merge($.append("line").attr("stroke","currentColor").attr(c+"2",l*s)),P=P.merge($.append("text").attr("fill","currentColor").attr(c,l*g).attr("dy",e===zq?"0em":e===yQ?"0.71em":"0.32em")),h!==x&&(S=S.transition(h),A=A.transition(h),k=k.transition(h),P=P.transition(h),C=C.transition(h).attr("opacity",n_e).attr("transform",function(L){return isFinite(L=w(L))?f(L+u):this.getAttribute("transform")}),$.attr("opacity",n_e).attr("transform",function(L){var O=this.parentNode.__axis;return f((O&&isFinite(O=O(L))?O:w(L))+u)})),C.remove(),S.attr("d",e===N4||e===Vq?o?"M"+l*o+","+v+"H"+u+"V"+b+"H"+l*o:"M"+u+","+v+"V"+b:o?"M"+v+","+l*o+"V"+u+"H"+b+"V"+l*o:"M"+v+","+u+"H"+b),A.attr("opacity",1).attr("transform",function(L){return f(w(L)+u)}),k.attr(c+"2",l*s),P.attr(c,l*g).text(m),x.filter(O6t).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Vq?"start":e===N4?"end":"middle"),x.each(function(){this.__axis=w})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(s=o=+h,d):s},d.tickSizeInner=function(h){return arguments.length?(s=+h,d):s},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(a=+h,d):a},d.offset=function(h){return arguments.length?(u=+h,d):u},d}function bse(e){return RDe(yQ,e)}function _se(e){return RDe(N4,e)}var D6t={value:()=>{}};function mB(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new fD(n)}function fD(e){this._=e}function L6t(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}fD.prototype=mB.prototype={constructor:fD,on:function(e,t){var n=this._,r=L6t(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=M6t(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=r_e(n[i],e.name,t);else if(t==null)for(i in n)n[i]=r_e(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new fD(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function M6t(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function r_e(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=D6t,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var vQ="http://www.w3.org/1999/xhtml";const i_e={svg:"http://www.w3.org/2000/svg",xhtml:vQ,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gB(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),i_e.hasOwnProperty(t)?{space:i_e[t],local:e}:e}function F6t(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===vQ&&t.documentElement.namespaceURI===vQ?t.createElement(e):t.createElementNS(n,e)}}function B6t(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $De(e){var t=gB(e);return(t.local?B6t:F6t)(t)}function j6t(){}function wse(e){return e==null?j6t:function(){return this.querySelector(e)}}function U6t(e){typeof e!="function"&&(e=wse(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Ol(r,this._parents)}function NDe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function z6t(){return[]}function PDe(e){return e==null?z6t:function(){return this.querySelectorAll(e)}}function V6t(e){return function(){return NDe(e.apply(this,arguments))}}function H6t(e){typeof e=="function"?e=V6t(e):e=PDe(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new Ol(r,i)}function ODe(e){return function(){return this.matches(e)}}function DDe(e){return function(t){return t.matches(e)}}var q6t=Array.prototype.find;function W6t(e){return function(){return q6t.call(this.children,e)}}function G6t(){return this.firstElementChild}function Y6t(e){return this.select(e==null?G6t:W6t(typeof e=="function"?e:DDe(e)))}var K6t=Array.prototype.filter;function X6t(){return Array.from(this.children)}function Q6t(e){return function(){return K6t.call(this.children,e)}}function J6t(e){return this.selectAll(e==null?X6t:Q6t(typeof e=="function"?e:DDe(e)))}function Z6t(e){typeof e!="function"&&(e=ODe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Ol(r,this._parents)}function LDe(e){return new Array(e.length)}function ekt(){return new Ol(this._enter||this._groups.map(LDe),this._parents)}function lL(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}lL.prototype={constructor:lL,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function tkt(e){return function(){return e}}function nkt(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new lL(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function rkt(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new lL(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function ikt(e){return e.__data__}function skt(e,t){if(!arguments.length)return Array.from(this,ikt);var n=t?rkt:nkt,r=this._parents,i=this._groups;typeof e!="function"&&(e=tkt(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=okt(e.call(c,c&&c.__data__,l,r)),p=h.length,m=a[l]=new Array(p),g=o[l]=new Array(p),y=u[l]=new Array(d);n(c,f,m,g,y,h,t);for(var v=0,b=0,w,x;v<p;++v)if(w=m[v]){for(v>=b&&(b=v+1);!(x=g[b])&&++b<p;);w._next=x||null}}return o=new Ol(o,r),o._enter=a,o._exit=u,o}function okt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function akt(){return new Ol(this._exit||this._groups.map(LDe),this._parents)}function ukt(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function lkt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new Ol(a,this._parents)}function ckt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function fkt(e){e||(e=dkt);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new Ol(i,this._parents).order()}function dkt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function hkt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function pkt(){return Array.from(this)}function mkt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function gkt(){let e=0;for(const t of this)++e;return e}function ykt(){return!this.node()}function vkt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function bkt(e){return function(){this.removeAttribute(e)}}function _kt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wkt(e,t){return function(){this.setAttribute(e,t)}}function xkt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ekt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Tkt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Skt(e,t){var n=gB(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?_kt:bkt:typeof t=="function"?n.local?Tkt:Ekt:n.local?xkt:wkt)(n,t))}function MDe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Akt(e){return function(){this.style.removeProperty(e)}}function Ckt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ikt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function kkt(e,t,n){return arguments.length>1?this.each((t==null?Akt:typeof t=="function"?Ikt:Ckt)(e,t,n??"")):uA(this.node(),e)}function uA(e,t){return e.style.getPropertyValue(t)||MDe(e).getComputedStyle(e,null).getPropertyValue(t)}function Rkt(e){return function(){delete this[e]}}function $kt(e,t){return function(){this[e]=t}}function Nkt(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Pkt(e,t){return arguments.length>1?this.each((t==null?Rkt:typeof t=="function"?Nkt:$kt)(e,t)):this.node()[e]}function FDe(e){return e.trim().split(/^|\s+/)}function xse(e){return e.classList||new BDe(e)}function BDe(e){this._node=e,this._names=FDe(e.getAttribute("class")||"")}BDe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function jDe(e,t){for(var n=xse(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function UDe(e,t){for(var n=xse(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Okt(e){return function(){jDe(this,e)}}function Dkt(e){return function(){UDe(this,e)}}function Lkt(e,t){return function(){(t.apply(this,arguments)?jDe:UDe)(this,e)}}function Mkt(e,t){var n=FDe(e+"");if(arguments.length<2){for(var r=xse(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Lkt:t?Okt:Dkt)(n,t))}function Fkt(){this.textContent=""}function Bkt(e){return function(){this.textContent=e}}function jkt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ukt(e){return arguments.length?this.each(e==null?Fkt:(typeof e=="function"?jkt:Bkt)(e)):this.node().textContent}function zkt(){this.innerHTML=""}function Vkt(e){return function(){this.innerHTML=e}}function Hkt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function qkt(e){return arguments.length?this.each(e==null?zkt:(typeof e=="function"?Hkt:Vkt)(e)):this.node().innerHTML}function Wkt(){this.nextSibling&&this.parentNode.appendChild(this)}function Gkt(){return this.each(Wkt)}function Ykt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Kkt(){return this.each(Ykt)}function Xkt(e){var t=typeof e=="function"?e:$De(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Qkt(){return null}function Jkt(e,t){var n=typeof e=="function"?e:$De(e),r=t==null?Qkt:typeof t=="function"?t:wse(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Zkt(){var e=this.parentNode;e&&e.removeChild(this)}function eRt(){return this.each(Zkt)}function tRt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nRt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rRt(e){return this.select(e?nRt:tRt)}function iRt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function sRt(e){return function(t){e.call(this,t,this.__data__)}}function oRt(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function aRt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function uRt(e,t,n){return function(){var r=this.__on,i,s=sRt(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function lRt(e,t,n){var r=oRt(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?uRt:aRt,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function zDe(e,t,n){var r=MDe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function cRt(e,t){return function(){return zDe(this,e,t)}}function fRt(e,t){return function(){return zDe(this,e,t.apply(this,arguments))}}function dRt(e,t){return this.each((typeof t=="function"?fRt:cRt)(e,t))}function*hRt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Ese=[null];function Ol(e,t){this._groups=e,this._parents=t}function M$(){return new Ol([[document.documentElement]],Ese)}function pRt(){return this}Ol.prototype=M$.prototype={constructor:Ol,select:U6t,selectAll:H6t,selectChild:Y6t,selectChildren:J6t,filter:Z6t,data:skt,enter:ekt,exit:akt,join:ukt,merge:lkt,selection:pRt,order:ckt,sort:fkt,call:hkt,nodes:pkt,node:mkt,size:gkt,empty:ykt,each:vkt,attr:Skt,style:kkt,property:Pkt,classed:Mkt,text:Ukt,html:qkt,raise:Gkt,lower:Kkt,append:Xkt,insert:Jkt,remove:eRt,clone:rRt,datum:iRt,on:lRt,dispatch:dRt,[Symbol.iterator]:hRt};function pr(e){return typeof e=="string"?new Ol([[document.querySelector(e)]],[document.documentElement]):new Ol([[e]],Ese)}function mRt(e){let t;for(;t=e.sourceEvent;)e=t;return e}function cL(e,t){if(e=mRt(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function VDe(e){return typeof e=="string"?new Ol([document.querySelectorAll(e)],[document.documentElement]):new Ol([NDe(e)],Ese)}const bQ={capture:!0,passive:!1};function _Q(e){e.preventDefault(),e.stopImmediatePropagation()}function gRt(e){var t=e.document.documentElement,n=pr(e).on("dragstart.drag",_Q,bQ);"onselectstart"in t?n.on("selectstart.drag",_Q,bQ):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function yRt(e,t){var n=e.document.documentElement,r=pr(e).on("dragstart.drag",null);t&&(r.on("click.drag",_Q,bQ),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function FC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function F$(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function f_(){}var Rx=.7,lA=1/Rx,mS="\\s*([+-]?\\d+)\\s*",Zk="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",q0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vRt=/^#([0-9a-f]{3,8})$/,bRt=new RegExp(`^rgb\\(${mS},${mS},${mS}\\)$`),_Rt=new RegExp(`^rgb\\(${q0},${q0},${q0}\\)$`),wRt=new RegExp(`^rgba\\(${mS},${mS},${mS},${Zk}\\)$`),xRt=new RegExp(`^rgba\\(${q0},${q0},${q0},${Zk}\\)$`),ERt=new RegExp(`^hsl\\(${Zk},${q0},${q0}\\)$`),TRt=new RegExp(`^hsla\\(${Zk},${q0},${q0},${Zk}\\)$`),s_e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FC(f_,$x,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:o_e,formatHex:o_e,formatHex8:SRt,formatHsl:ARt,formatRgb:a_e,toString:a_e});function o_e(){return this.rgb().formatHex()}function SRt(){return this.rgb().formatHex8()}function ARt(){return HDe(this).formatHsl()}function a_e(){return this.rgb().formatRgb()}function $x(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vRt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?u_e(t):n===3?new Sa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zP(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zP(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bRt.exec(e))?new Sa(t[1],t[2],t[3],1):(t=_Rt.exec(e))?new Sa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wRt.exec(e))?zP(t[1],t[2],t[3],t[4]):(t=xRt.exec(e))?zP(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ERt.exec(e))?f_e(t[1],t[2]/100,t[3]/100,1):(t=TRt.exec(e))?f_e(t[1],t[2]/100,t[3]/100,t[4]):s_e.hasOwnProperty(e)?u_e(s_e[e]):e==="transparent"?new Sa(NaN,NaN,NaN,0):null}function u_e(e){return new Sa(e>>16&255,e>>8&255,e&255,1)}function zP(e,t,n,r){return r<=0&&(e=t=n=NaN),new Sa(e,t,n,r)}function Tse(e){return e instanceof f_||(e=$x(e)),e?(e=e.rgb(),new Sa(e.r,e.g,e.b,e.opacity)):new Sa}function gb(e,t,n,r){return arguments.length===1?Tse(e):new Sa(e,t,n,r??1)}function Sa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}FC(Sa,gb,F$(f_,{brighter(e){return e=e==null?lA:Math.pow(lA,e),new Sa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rx:Math.pow(Rx,e),new Sa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sa(fx(this.r),fx(this.g),fx(this.b),fL(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l_e,formatHex:l_e,formatHex8:CRt,formatRgb:c_e,toString:c_e}));function l_e(){return`#${Gw(this.r)}${Gw(this.g)}${Gw(this.b)}`}function CRt(){return`#${Gw(this.r)}${Gw(this.g)}${Gw(this.b)}${Gw((isNaN(this.opacity)?1:this.opacity)*255)}`}function c_e(){const e=fL(this.opacity);return`${e===1?"rgb(":"rgba("}${fx(this.r)}, ${fx(this.g)}, ${fx(this.b)}${e===1?")":`, ${e})`}`}function fL(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fx(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gw(e){return e=fx(e),(e<16?"0":"")+e.toString(16)}function f_e(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zh(e,t,n,r)}function HDe(e){if(e instanceof Zh)return new Zh(e.h,e.s,e.l,e.opacity);if(e instanceof f_||(e=$x(e)),!e)return new Zh;if(e instanceof Zh)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Zh(o,a,u,e.opacity)}function dL(e,t,n,r){return arguments.length===1?HDe(e):new Zh(e,t,n,r??1)}function Zh(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}FC(Zh,dL,F$(f_,{brighter(e){return e=e==null?lA:Math.pow(lA,e),new Zh(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rx:Math.pow(Rx,e),new Zh(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Sa(Hq(e>=240?e-240:e+120,i,r),Hq(e,i,r),Hq(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Zh(d_e(this.h),VP(this.s),VP(this.l),fL(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fL(this.opacity);return`${e===1?"hsl(":"hsla("}${d_e(this.h)}, ${VP(this.s)*100}%, ${VP(this.l)*100}%${e===1?")":`, ${e})`}`}}));function d_e(e){return e=(e||0)%360,e<0?e+360:e}function VP(e){return Math.max(0,Math.min(1,e||0))}function Hq(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qDe=Math.PI/180,WDe=180/Math.PI,hL=18,GDe=.96422,YDe=1,KDe=.82521,XDe=4/29,gS=6/29,QDe=3*gS*gS,IRt=gS*gS*gS;function JDe(e){if(e instanceof W0)return new W0(e.l,e.a,e.b,e.opacity);if(e instanceof Vg)return ZDe(e);e instanceof Sa||(e=Tse(e));var t=Yq(e.r),n=Yq(e.g),r=Yq(e.b),i=qq((.2225045*t+.7168786*n+.0606169*r)/YDe),s,o;return t===n&&n===r?s=o=i:(s=qq((.4360747*t+.3850649*n+.1430804*r)/GDe),o=qq((.0139322*t+.0971045*n+.7141733*r)/KDe)),new W0(116*i-16,500*(s-i),200*(i-o),e.opacity)}function pL(e,t,n,r){return arguments.length===1?JDe(e):new W0(e,t,n,r??1)}function W0(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}FC(W0,pL,F$(f_,{brighter(e){return new W0(this.l+hL*(e??1),this.a,this.b,this.opacity)},darker(e){return new W0(this.l-hL*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=GDe*Wq(t),e=YDe*Wq(e),n=KDe*Wq(n),new Sa(Gq(3.1338561*t-1.6168667*e-.4906146*n),Gq(-.9787684*t+1.9161415*e+.033454*n),Gq(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function qq(e){return e>IRt?Math.pow(e,1/3):e/QDe+XDe}function Wq(e){return e>gS?e*e*e:QDe*(e-XDe)}function Gq(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Yq(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function kRt(e){if(e instanceof Vg)return new Vg(e.h,e.c,e.l,e.opacity);if(e instanceof W0||(e=JDe(e)),e.a===0&&e.b===0)return new Vg(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*WDe;return new Vg(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function mL(e,t,n,r){return arguments.length===1?kRt(e):new Vg(e,t,n,r??1)}function Vg(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function ZDe(e){if(isNaN(e.h))return new W0(e.l,0,0,e.opacity);var t=e.h*qDe;return new W0(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}FC(Vg,mL,F$(f_,{brighter(e){return new Vg(this.h,this.c,this.l+hL*(e??1),this.opacity)},darker(e){return new Vg(this.h,this.c,this.l-hL*(e??1),this.opacity)},rgb(){return ZDe(this).rgb()}}));var e9e=-.14861,Sse=1.78277,Ase=-.29227,yB=-.90649,eR=1.97294,h_e=eR*yB,p_e=eR*Sse,m_e=Sse*Ase-yB*e9e;function RRt(e){if(e instanceof dx)return new dx(e.h,e.s,e.l,e.opacity);e instanceof Sa||(e=Tse(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(m_e*r+h_e*t-p_e*n)/(m_e+h_e-p_e),s=r-i,o=(eR*(n-i)-Ase*s)/yB,a=Math.sqrt(o*o+s*s)/(eR*i*(1-i)),u=a?Math.atan2(o,s)*WDe-120:NaN;return new dx(u<0?u+360:u,a,i,e.opacity)}function wQ(e,t,n,r){return arguments.length===1?RRt(e):new dx(e,t,n,r??1)}function dx(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}FC(dx,wQ,F$(f_,{brighter(e){return e=e==null?lA:Math.pow(lA,e),new dx(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rx:Math.pow(Rx,e),new dx(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*qDe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Sa(255*(t+n*(e9e*r+Sse*i)),255*(t+n*(Ase*r+yB*i)),255*(t+n*(eR*r)),this.opacity)}}));function t9e(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}function n9e(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],o=r>0?e[r-1]:2*i-s,a=r<t-1?e[r+2]:2*s-i;return t9e((n-r/t)*t,o,i,s,a)}}function r9e(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],a=e[(r+2)%t];return t9e((n-r/t)*t,i,s,o,a)}}const vB=e=>()=>e;function i9e(e,t){return function(n){return e+n*t}}function $Rt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bB(e,t){var n=t-e;return n?i9e(e,n>180||n<-180?n-360*Math.round(n/360):n):vB(isNaN(e)?t:e)}function NRt(e){return(e=+e)==1?Aa:function(t,n){return n-t?$Rt(t,n,e):vB(isNaN(t)?n:t)}}function Aa(e,t){var n=t-e;return n?i9e(e,n):vB(isNaN(e)?t:e)}const tR=function e(t){var n=NRt(t);function r(i,s){var o=n((i=gb(i)).r,(s=gb(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=Aa(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function s9e(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=gb(t[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=e(r),i=e(i),s=e(s),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=s(u),a+""}}}var PRt=s9e(n9e),ORt=s9e(r9e);function Cse(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function o9e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DRt(e,t){return(o9e(t)?Cse:a9e)(e,t)}function a9e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Ky(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function u9e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Nd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function l9e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ky(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var xQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kq=new RegExp(xQ.source,"g");function LRt(e){return function(){return e}}function MRt(e){return function(t){return e(t)+""}}function Ise(e,t){var n=xQ.lastIndex=Kq.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=xQ.exec(e))&&(i=Kq.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Nd(r,i)})),n=Kq.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?MRt(u[0].x):LRt(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function Ky(e,t){var n=typeof t,r;return t==null||n==="boolean"?vB(t):(n==="number"?Nd:n==="string"?(r=$x(t))?(t=r,tR):Ise:t instanceof $x?tR:t instanceof Date?u9e:o9e(t)?Cse:Array.isArray(t)?a9e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?l9e:Nd)(e,t)}function FRt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function BRt(e,t){var n=bB(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function B$(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var g_e=180/Math.PI,EQ={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function c9e(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*g_e,skewX:Math.atan(u)*g_e,scaleX:o,scaleY:a}}var HP;function jRt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?EQ:c9e(t.a,t.b,t.c,t.d,t.e,t.f)}function URt(e){return e==null||(HP||(HP=document.createElementNS("http://www.w3.org/2000/svg","g")),HP.setAttribute("transform",e),!(e=HP.transform.baseVal.consolidate()))?EQ:(e=e.matrix,c9e(e.a,e.b,e.c,e.d,e.e,e.f))}function f9e(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:Nd(l,f)},{i:m-2,x:Nd(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Nd(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Nd(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Nd(l,f)},{i:m-2,x:Nd(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,m=d.length,g;++p<m;)f[(g=d[p]).i]=g.x(h);return f.join("")}}}var d9e=f9e(jRt,"px, ","px)","deg)"),h9e=f9e(URt,", ",")",")"),zRt=1e-12;function y_e(e){return((e=Math.exp(e))+1/e)/2}function VRt(e){return((e=Math.exp(e))-1/e)/2}function HRt(e){return((e=Math.exp(2*e))-1)/(e+1)}const qRt=function e(t,n,r){function i(s,o){var a=s[0],u=s[1],l=s[2],c=o[0],f=o[1],d=o[2],h=c-a,p=f-u,m=h*h+p*p,g,y;if(m<zRt)y=Math.log(d/l)/t,g=function(A){return[a+A*h,u+A*p,l*Math.exp(t*A*y)]};else{var v=Math.sqrt(m),b=(d*d-l*l+r*m)/(2*l*n*v),w=(d*d-l*l-r*m)/(2*d*n*v),x=Math.log(Math.sqrt(b*b+1)-b),S=Math.log(Math.sqrt(w*w+1)-w);y=(S-x)/t,g=function(A){var C=A*y,$=y_e(x),k=l/(n*v)*($*HRt(t*C+x)-VRt(x));return[a+k*h,u+k*p,l*$/y_e(t*C+x)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,u=a*a;return e(o,a,u)},i}(Math.SQRT2,2,4);function p9e(e){return function(t,n){var r=e((t=dL(t)).h,(n=dL(n)).h),i=Aa(t.s,n.s),s=Aa(t.l,n.l),o=Aa(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const WRt=p9e(bB);var GRt=p9e(Aa);function YRt(e,t){var n=Aa((e=pL(e)).l,(t=pL(t)).l),r=Aa(e.a,t.a),i=Aa(e.b,t.b),s=Aa(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=s(o),e+""}}function m9e(e){return function(t,n){var r=e((t=mL(t)).h,(n=mL(n)).h),i=Aa(t.c,n.c),s=Aa(t.l,n.l),o=Aa(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const KRt=m9e(bB);var XRt=m9e(Aa);function g9e(e){return function t(n){n=+n;function r(i,s){var o=e((i=wQ(i)).h,(s=wQ(s)).h),a=Aa(i.s,s.s),u=Aa(i.l,s.l),l=Aa(i.opacity,s.opacity);return function(c){return i.h=o(c),i.s=a(c),i.l=u(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=t,r}(1)}const QRt=g9e(bB);var JRt=g9e(Aa);function kse(e,t){t===void 0&&(t=e,e=Ky);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function ZRt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const e$t=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Ky,interpolateArray:DRt,interpolateBasis:n9e,interpolateBasisClosed:r9e,interpolateCubehelix:QRt,interpolateCubehelixLong:JRt,interpolateDate:u9e,interpolateDiscrete:FRt,interpolateHcl:KRt,interpolateHclLong:XRt,interpolateHsl:WRt,interpolateHslLong:GRt,interpolateHue:BRt,interpolateLab:YRt,interpolateNumber:Nd,interpolateNumberArray:Cse,interpolateObject:l9e,interpolateRgb:tR,interpolateRgbBasis:PRt,interpolateRgbBasisClosed:ORt,interpolateRound:B$,interpolateString:Ise,interpolateTransformCss:d9e,interpolateTransformSvg:h9e,interpolateZoom:qRt,piecewise:kse,quantize:ZRt},Symbol.toStringTag,{value:"Module"}));var cA=0,P4=0,xI=0,y9e=1e3,gL,O4,yL=0,Nx=0,_B=0,nR=typeof performance=="object"&&performance.now?performance:Date,v9e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wB(){return Nx||(v9e(t$t),Nx=nR.now()+_B)}function t$t(){Nx=0}function rR(){this._call=this._time=this._next=null}rR.prototype=Rse.prototype={constructor:rR,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wB():+n)+(t==null?0:+t),!this._next&&O4!==this&&(O4?O4._next=this:gL=this,O4=this),this._call=e,this._time=n,TQ()},stop:function(){this._call&&(this._call=null,this._time=1/0,TQ())}};function Rse(e,t,n){var r=new rR;return r.restart(e,t,n),r}function n$t(){wB(),++cA;for(var e=gL,t;e;)(t=Nx-e._time)>=0&&e._call.call(void 0,t),e=e._next;--cA}function v_e(){Nx=(yL=nR.now())+_B,cA=P4=0;try{n$t()}finally{cA=0,i$t(),Nx=0}}function r$t(){var e=nR.now(),t=e-yL;t>y9e&&(_B-=t,yL=e)}function i$t(){for(var e,t=gL,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:gL=n);O4=e,TQ(r)}function TQ(e){if(!cA){P4&&(P4=clearTimeout(P4));var t=e-Nx;t>24?(e<1/0&&(P4=setTimeout(v_e,e-nR.now()-_B)),xI&&(xI=clearInterval(xI))):(xI||(yL=nR.now(),xI=setInterval(r$t,y9e)),cA=1,v9e(v_e))}}function b_e(e,t,n){var r=new rR;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function s$t(e,t,n){var r=new rR,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(s,o,a){o=+o,a=a==null?wB():+a,r._restart(function u(l){l+=i,r._restart(u,i+=o,a),s(l)},o,a)},r.restart(e,t,n),r)}var o$t=mB("start","end","cancel","interrupt"),a$t=[],b9e=0,__e=1,SQ=2,dD=3,w_e=4,AQ=5,hD=6;function xB(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;u$t(e,n,{name:t,index:r,group:i,on:o$t,tween:a$t,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:b9e})}function $se(e,t){var n=Mp(e,t);if(n.state>b9e)throw new Error("too late; already scheduled");return n}function Nm(e,t){var n=Mp(e,t);if(n.state>dD)throw new Error("too late; already running");return n}function Mp(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function u$t(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Rse(s,0,n.time);function s(l){n.state=__e,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==__e)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===dD)return b_e(o);h.state===w_e?(h.state=hD,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=hD,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(b_e(function(){n.state===dD&&(n.state=w_e,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=SQ,n.on.call("start",e,e.__data__,n.index,n.group),n.state===SQ){for(n.state=dD,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=AQ,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===AQ&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=hD,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function CQ(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>SQ&&r.state<AQ,r.state=hD,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function l$t(e){return this.each(function(){CQ(this,e)})}function c$t(e,t){var n,r;return function(){var i=Nm(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function f$t(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Nm(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function d$t(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Mp(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?c$t:f$t)(n,e,t))}function Nse(e,t,n){var r=e._id;return e.each(function(){var i=Nm(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Mp(i,r).value[t]}}function _9e(e,t){var n;return(typeof t=="number"?Nd:t instanceof $x?tR:(n=$x(t))?(t=n,tR):Ise)(e,t)}function h$t(e){return function(){this.removeAttribute(e)}}function p$t(e){return function(){this.removeAttributeNS(e.space,e.local)}}function m$t(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function g$t(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function y$t(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function v$t(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function b$t(e,t){var n=gB(e),r=n==="transform"?h9e:_9e;return this.attrTween(e,typeof t=="function"?(n.local?v$t:y$t)(n,r,Nse(this,"attr."+e,t)):t==null?(n.local?p$t:h$t)(n):(n.local?g$t:m$t)(n,r,t))}function _$t(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function w$t(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function x$t(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&w$t(e,s)),n}return i._value=t,i}function E$t(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&_$t(e,s)),n}return i._value=t,i}function T$t(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=gB(e);return this.tween(n,(r.local?x$t:E$t)(r,t))}function S$t(e,t){return function(){$se(this,e).delay=+t.apply(this,arguments)}}function A$t(e,t){return t=+t,function(){$se(this,e).delay=t}}function C$t(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?S$t:A$t)(t,e)):Mp(this.node(),t).delay}function I$t(e,t){return function(){Nm(this,e).duration=+t.apply(this,arguments)}}function k$t(e,t){return t=+t,function(){Nm(this,e).duration=t}}function R$t(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?I$t:k$t)(t,e)):Mp(this.node(),t).duration}function $$t(e,t){if(typeof t!="function")throw new Error;return function(){Nm(this,e).ease=t}}function N$t(e){var t=this._id;return arguments.length?this.each($$t(t,e)):Mp(this.node(),t).ease}function P$t(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Nm(this,e).ease=n}}function O$t(e){if(typeof e!="function")throw new Error;return this.each(P$t(this._id,e))}function D$t(e){typeof e!="function"&&(e=ODe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Ty(r,this._parents,this._name,this._id)}function L$t(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new Ty(o,this._parents,this._name,this._id)}function M$t(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function F$t(e,t,n){var r,i,s=M$t(t)?$se:Nm;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function B$t(e,t){var n=this._id;return arguments.length<2?Mp(this.node(),n).on.on(e):this.each(F$t(n,e,t))}function j$t(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function U$t(){return this.on("end.remove",j$t(this._id))}function z$t(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wse(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,xB(l[d],t,n,d,l,Mp(c,n)));return new Ty(s,this._parents,t,n)}function V$t(e){var t=this._name,n=this._id;typeof e!="function"&&(e=PDe(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=Mp(c,n),m=0,g=d.length;m<g;++m)(h=d[m])&&xB(h,t,n,m,d,p);s.push(d),o.push(c)}return new Ty(s,o,t,n)}var H$t=M$.prototype.constructor;function q$t(){return new H$t(this._groups,this._parents)}function W$t(e,t){var n,r,i;return function(){var s=uA(this,e),o=(this.style.removeProperty(e),uA(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function w9e(e){return function(){this.style.removeProperty(e)}}function G$t(e,t,n){var r,i=n+"",s;return function(){var o=uA(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function Y$t(e,t,n){var r,i,s;return function(){var o=uA(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),uA(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function K$t(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=Nm(this,e),l=u.on,c=u.value[s]==null?a||(a=w9e(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function X$t(e,t,n){var r=(e+="")=="transform"?d9e:_9e;return t==null?this.styleTween(e,W$t(e,r)).on("end.style."+e,w9e(e)):typeof t=="function"?this.styleTween(e,Y$t(e,r,Nse(this,"style."+e,t))).each(K$t(this._id,e)):this.styleTween(e,G$t(e,r,t),n).on("end.style."+e,null)}function Q$t(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function J$t(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Q$t(e,o,n)),r}return s._value=t,s}function Z$t(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,J$t(e,t,n??""))}function eNt(e){return function(){this.textContent=e}}function tNt(e){return function(){var t=e(this);this.textContent=t??""}}function nNt(e){return this.tween("text",typeof e=="function"?tNt(Nse(this,"text",e)):eNt(e==null?"":e+""))}function rNt(e){return function(t){this.textContent=e.call(this,t)}}function iNt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&rNt(i)),t}return r._value=e,r}function sNt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,iNt(e))}function oNt(){for(var e=this._name,t=this._id,n=x9e(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=Mp(u,t);xB(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ty(r,this._parents,e,n)}function aNt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=Nm(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var uNt=0;function Ty(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function x9e(){return++uNt}var lg=M$.prototype;Ty.prototype={constructor:Ty,select:z$t,selectAll:V$t,selectChild:lg.selectChild,selectChildren:lg.selectChildren,filter:D$t,merge:L$t,selection:q$t,transition:oNt,call:lg.call,nodes:lg.nodes,node:lg.node,size:lg.size,empty:lg.empty,each:lg.each,on:B$t,attr:b$t,attrTween:T$t,style:X$t,styleTween:Z$t,text:nNt,textTween:sNt,remove:U$t,tween:d$t,delay:C$t,duration:R$t,ease:N$t,easeVarying:O$t,end:aNt,[Symbol.iterator]:lg[Symbol.iterator]};const lNt=e=>+e;function cNt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var fNt={time:null,delay:0,duration:250,ease:cNt};function dNt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function hNt(e){var t,n;e instanceof Ty?(t=e._id,e=e._name):(t=x9e(),(n=fNt).time=wB(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&xB(u,e,t,l,o,n||dNt(u,t));return new Ty(r,this._parents,e,t)}M$.prototype.interrupt=l$t;M$.prototype.transition=hNt;const Xq=e=>()=>e;function pNt(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function mNt(e){e.stopImmediatePropagation()}function Qq(e){e.preventDefault(),e.stopImmediatePropagation()}var x_e={name:"drag"},Jq={name:"space"},zE={name:"handle"},VE={name:"center"};const{abs:E_e,max:Eu,min:Tu}=Math;function T_e(e){return[+e[0],+e[1]]}function IQ(e){return[T_e(e[0]),T_e(e[1])]}var pD={name:"x",handles:["w","e"].map(iR),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},mD={name:"y",handles:["n","s"].map(iR),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},gNt={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(iR),input:function(e){return e==null?null:IQ(e)},output:function(e){return e}},cg={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},S_e={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},A_e={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},yNt={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},vNt={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function iR(e){return{type:e}}function bNt(e){return!e.ctrlKey&&!e.button}function _Nt(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function wNt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zq(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function xNt(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function E9e(){return Pse(pD)}function T9e(){return Pse(mD)}function S9e(){return Pse(gNt)}function Pse(e){var t=_Nt,n=bNt,r=wNt,i=!0,s=mB("start","brush","end"),o=6,a;function u(g){var y=g.property("__brush",m).selectAll(".overlay").data([iR("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cg.overlay).merge(y).each(function(){var b=Zq(this).extent;pr(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),g.selectAll(".selection").data([iR("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cg.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=g.selectAll(".handle").data(e.handles,function(b){return b.type});v.exit().remove(),v.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return cg[b.type]}),g.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(g,y,v){g.tween?g.on("start.brush",function(b){c(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){c(this,arguments).end(b)}).tween("brush",function(){var b=this,w=b.__brush,x=c(b,arguments),S=w.selection,A=e.input(typeof y=="function"?y.apply(this,arguments):y,w.extent),C=Ky(S,A);function $(k){w.selection=k===1&&A===null?null:C(k),l.call(b),x.brush()}return S!==null&&A!==null?$:$(1)}):g.each(function(){var b=this,w=arguments,x=b.__brush,S=e.input(typeof y=="function"?y.apply(b,w):y,x.extent),A=c(b,w).beforestart();CQ(b),x.selection=S===null?null:S,l.call(b),A.start(v).brush(v).end(v)})},u.clear=function(g,y){u.move(g,null,y)};function l(){var g=pr(this),y=Zq(this).selection;y?(g.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?y[1][1]-y[0][1]+o:o})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(g,y,v){var b=g.__brush.emitter;return b&&(!v||!b.clean)?b:new f(g,y,v)}function f(g,y,v){this.that=g,this.args=y,this.state=g.__brush,this.active=0,this.clean=v}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,y){return this.starting?(this.starting=!1,this.emit("start",g,y)):this.emit("brush",g),this},brush:function(g,y){return this.emit("brush",g,y),this},end:function(g,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,y)),this},emit:function(g,y,v){var b=pr(this.that).datum();s.call(g,this.that,new pNt(g,{sourceEvent:y,target:u,selection:e.output(this.state.selection),mode:v,dispatch:s}),b)}};function d(g){if(a&&!g.touches||!n.apply(this,arguments))return;var y=this,v=g.target.__data__.type,b=(i&&g.metaKey?v="overlay":v)==="selection"?x_e:i&&g.altKey?VE:zE,w=e===mD?null:yNt[v],x=e===pD?null:vNt[v],S=Zq(y),A=S.extent,C=S.selection,$=A[0][0],k,P,L=A[0][1],O,B,q=A[1][0],H,G,K=A[1][1],J,F,j=0,W=0,M,V=w&&x&&i&&g.shiftKey,Q,se,be=Array.from(g.touches||[g],Se=>{const Fe=Se.identifier;return Se=cL(Se,y),Se.point0=Se.slice(),Se.identifier=Fe,Se});CQ(y);var he=c(y,arguments,!0).beforestart();if(v==="overlay"){C&&(M=!0);const Se=[be[0],be[1]||be[0]];S.selection=C=[[k=e===mD?$:Tu(Se[0][0],Se[1][0]),O=e===pD?L:Tu(Se[0][1],Se[1][1])],[H=e===mD?q:Eu(Se[0][0],Se[1][0]),J=e===pD?K:Eu(Se[0][1],Se[1][1])]],be.length>1&&Tt(g)}else k=C[0][0],O=C[0][1],H=C[1][0],J=C[1][1];P=k,B=O,G=H,F=J;var Ce=pr(y).attr("pointer-events","none"),Pe=Ce.selectAll(".overlay").attr("cursor",cg[v]);if(g.touches)he.moved=Re,he.ended=Ze;else{var rt=pr(g.view).on("mousemove.brush",Re,!0).on("mouseup.brush",Ze,!0);i&&rt.on("keydown.brush",It,!0).on("keyup.brush",mt,!0),gRt(g.view)}l.call(y),he.start(g,b.name);function Re(Se){for(const Fe of Se.changedTouches||[Se])for(const st of be)st.identifier===Fe.identifier&&(st.cur=cL(Fe,y));if(V&&!Q&&!se&&be.length===1){const Fe=be[0];E_e(Fe.cur[0]-Fe[0])>E_e(Fe.cur[1]-Fe[1])?se=!0:Q=!0}for(const Fe of be)Fe.cur&&(Fe[0]=Fe.cur[0],Fe[1]=Fe.cur[1]);M=!0,Qq(Se),Tt(Se)}function Tt(Se){const Fe=be[0],st=Fe.point0;var yt;switch(j=Fe[0]-st[0],W=Fe[1]-st[1],b){case Jq:case x_e:{w&&(j=Eu($-k,Tu(q-H,j)),P=k+j,G=H+j),x&&(W=Eu(L-O,Tu(K-J,W)),B=O+W,F=J+W);break}case zE:{be[1]?(w&&(P=Eu($,Tu(q,be[0][0])),G=Eu($,Tu(q,be[1][0])),w=1),x&&(B=Eu(L,Tu(K,be[0][1])),F=Eu(L,Tu(K,be[1][1])),x=1)):(w<0?(j=Eu($-k,Tu(q-k,j)),P=k+j,G=H):w>0&&(j=Eu($-H,Tu(q-H,j)),P=k,G=H+j),x<0?(W=Eu(L-O,Tu(K-O,W)),B=O+W,F=J):x>0&&(W=Eu(L-J,Tu(K-J,W)),B=O,F=J+W));break}case VE:{w&&(P=Eu($,Tu(q,k-j*w)),G=Eu($,Tu(q,H+j*w))),x&&(B=Eu(L,Tu(K,O-W*x)),F=Eu(L,Tu(K,J+W*x)));break}}G<P&&(w*=-1,yt=k,k=H,H=yt,yt=P,P=G,G=yt,v in S_e&&Pe.attr("cursor",cg[v=S_e[v]])),F<B&&(x*=-1,yt=O,O=J,J=yt,yt=B,B=F,F=yt,v in A_e&&Pe.attr("cursor",cg[v=A_e[v]])),S.selection&&(C=S.selection),Q&&(P=C[0][0],G=C[1][0]),se&&(B=C[0][1],F=C[1][1]),(C[0][0]!==P||C[0][1]!==B||C[1][0]!==G||C[1][1]!==F)&&(S.selection=[[P,B],[G,F]],l.call(y),he.brush(Se,b.name))}function Ze(Se){if(mNt(Se),Se.touches){if(Se.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else yRt(Se.view,M),rt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ce.attr("pointer-events","all"),Pe.attr("cursor",cg.overlay),S.selection&&(C=S.selection),xNt(C)&&(S.selection=null,l.call(y)),he.end(Se,b.name)}function It(Se){switch(Se.keyCode){case 16:{V=w&&x;break}case 18:{b===zE&&(w&&(H=G-j*w,k=P+j*w),x&&(J=F-W*x,O=B+W*x),b=VE,Tt(Se));break}case 32:{(b===zE||b===VE)&&(w<0?H=G-j:w>0&&(k=P-j),x<0?J=F-W:x>0&&(O=B-W),b=Jq,Pe.attr("cursor",cg.selection),Tt(Se));break}default:return}Qq(Se)}function mt(Se){switch(Se.keyCode){case 16:{V&&(Q=se=V=!1,Tt(Se));break}case 18:{b===VE&&(w<0?H=G:w>0&&(k=P),x<0?J=F:x>0&&(O=B),b=zE,Tt(Se));break}case 32:{b===Jq&&(Se.altKey?(w&&(H=G-j*w,k=P+j*w),x&&(J=F-W*x,O=B+W*x),b=VE):(w<0?H=G:w>0&&(k=P),x<0?J=F:x>0&&(O=B),b=zE),Pe.attr("cursor",cg[v]),Tt(Se));break}default:return}Qq(Se)}}function h(g){c(this,arguments).moved(g)}function p(g){c(this,arguments).ended(g)}function m(){var g=this.__brush||{selection:null};return g.extent=IQ(t.apply(this,arguments)),g.dim=e,g}return u.extent=function(g){return arguments.length?(t=typeof g=="function"?g:Xq(IQ(g)),u):t},u.filter=function(g){return arguments.length?(n=typeof g=="function"?g:Xq(!!g),u):n},u.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:Xq(!!g),u):r},u.handleSize=function(g){return arguments.length?(o=+g,u):o},u.keyModifiers=function(g){return arguments.length?(i=!!g,u):i},u.on=function(){var g=s.on.apply(s,arguments);return g===s?u:g},u}const kQ=Math.PI,RQ=2*kQ,mw=1e-6,ENt=RQ-mw;function A9e(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function TNt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return A9e;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Ose=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?A9e:TNt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>mw)if(!(Math.abs(f*u-l*c)>mw)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=u*u+l*l,g=h*h+p*p,y=Math.sqrt(m),v=Math.sqrt(d),b=s*Math.tan((kQ-Math.acos((m+d-g)/(2*y*v)))/2),w=b/v,x=b/y;Math.abs(w-1)>mw&&this._append`L${t+w*c},${n+w*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+x*u},${this._y1=n+x*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>mw||Math.abs(this._y1-c)>mw)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%RQ+RQ),d>ENt?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>mw&&this._append`A${r},${r},0,${+(d>=kQ)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function EB(){return new Ose}EB.prototype=Ose.prototype;const iy=11102230246251565e-32,Su=134217729,SNt=(3+8*iy)*iy;function eW(e,t,n,r,i){let s,o,a,u,l=t[0],c=r[0],f=0,d=0;c>l==c>-l?(s=l,l=t[++f]):(s=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>l==c>-l?(o=l+s,a=s-(o-l),l=t[++f]):(o=c+s,a=s-(o-c),c=r[++d]),s=o,a!==0&&(i[h++]=a);f<e&&d<n;)c>l==c>-l?(o=s+l,u=o-s,a=s-(o-u)+(l-u),l=t[++f]):(o=s+c,u=o-s,a=s-(o-u)+(c-u),c=r[++d]),s=o,a!==0&&(i[h++]=a);for(;f<e;)o=s+l,u=o-s,a=s-(o-u)+(l-u),l=t[++f],s=o,a!==0&&(i[h++]=a);for(;d<n;)o=s+c,u=o-s,a=s-(o-u)+(c-u),c=r[++d],s=o,a!==0&&(i[h++]=a);return(s!==0||h===0)&&(i[h++]=s),h}function ANt(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function j$(e){return new Float64Array(e)}const CNt=(3+16*iy)*iy,INt=(2+12*iy)*iy,kNt=(9+64*iy)*iy*iy,HE=j$(4),C_e=j$(8),I_e=j$(12),k_e=j$(16),fl=j$(4);function RNt(e,t,n,r,i,s,o){let a,u,l,c,f,d,h,p,m,g,y,v,b,w,x,S,A,C;const $=e-i,k=n-i,P=t-s,L=r-s;w=$*L,d=Su*$,h=d-(d-$),p=$-h,d=Su*L,m=d-(d-L),g=L-m,x=p*g-(w-h*m-p*m-h*g),S=P*k,d=Su*P,h=d-(d-P),p=P-h,d=Su*k,m=d-(d-k),g=k-m,A=p*g-(S-h*m-p*m-h*g),y=x-A,f=x-y,HE[0]=x-(y+f)+(f-A),v=w+y,f=v-w,b=w-(v-f)+(y-f),y=b-S,f=b-y,HE[1]=b-(y+f)+(f-S),C=v+y,f=C-v,HE[2]=v-(C-f)+(y-f),HE[3]=C;let O=ANt(4,HE),B=INt*o;if(O>=B||-O>=B||(f=e-$,a=e-($+f)+(f-i),f=n-k,l=n-(k+f)+(f-i),f=t-P,u=t-(P+f)+(f-s),f=r-L,c=r-(L+f)+(f-s),a===0&&u===0&&l===0&&c===0)||(B=kNt*o+SNt*Math.abs(O),O+=$*c+L*a-(P*l+k*u),O>=B||-O>=B))return O;w=a*L,d=Su*a,h=d-(d-a),p=a-h,d=Su*L,m=d-(d-L),g=L-m,x=p*g-(w-h*m-p*m-h*g),S=u*k,d=Su*u,h=d-(d-u),p=u-h,d=Su*k,m=d-(d-k),g=k-m,A=p*g-(S-h*m-p*m-h*g),y=x-A,f=x-y,fl[0]=x-(y+f)+(f-A),v=w+y,f=v-w,b=w-(v-f)+(y-f),y=b-S,f=b-y,fl[1]=b-(y+f)+(f-S),C=v+y,f=C-v,fl[2]=v-(C-f)+(y-f),fl[3]=C;const q=eW(4,HE,4,fl,C_e);w=$*c,d=Su*$,h=d-(d-$),p=$-h,d=Su*c,m=d-(d-c),g=c-m,x=p*g-(w-h*m-p*m-h*g),S=P*l,d=Su*P,h=d-(d-P),p=P-h,d=Su*l,m=d-(d-l),g=l-m,A=p*g-(S-h*m-p*m-h*g),y=x-A,f=x-y,fl[0]=x-(y+f)+(f-A),v=w+y,f=v-w,b=w-(v-f)+(y-f),y=b-S,f=b-y,fl[1]=b-(y+f)+(f-S),C=v+y,f=C-v,fl[2]=v-(C-f)+(y-f),fl[3]=C;const H=eW(q,C_e,4,fl,I_e);w=a*c,d=Su*a,h=d-(d-a),p=a-h,d=Su*c,m=d-(d-c),g=c-m,x=p*g-(w-h*m-p*m-h*g),S=u*l,d=Su*u,h=d-(d-u),p=u-h,d=Su*l,m=d-(d-l),g=l-m,A=p*g-(S-h*m-p*m-h*g),y=x-A,f=x-y,fl[0]=x-(y+f)+(f-A),v=w+y,f=v-w,b=w-(v-f)+(y-f),y=b-S,f=b-y,fl[1]=b-(y+f)+(f-S),C=v+y,f=C-v,fl[2]=v-(C-f)+(y-f),fl[3]=C;const G=eW(H,I_e,4,fl,k_e);return k_e[G-1]}function qP(e,t,n,r,i,s){const o=(t-s)*(n-i),a=(e-i)*(r-s),u=o-a,l=Math.abs(o+a);return Math.abs(u)>=CNt*l?u:-RNt(e,t,n,r,i,s,l)}const R_e=Math.pow(2,-52),WP=new Uint32Array(512);class vL{static from(t,n=DNt,r=LNt){const i=t.length,s=new Float64Array(i*2);for(let o=0;o<i;o++){const a=t[o];s[2*o]=n(a),s[2*o+1]=r(a)}return new vL(s)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:s}=this,o=t.length>>1;let a=1/0,u=1/0,l=-1/0,c=-1/0;for(let $=0;$<o;$++){const k=t[2*$],P=t[2*$+1];k<a&&(a=k),P<u&&(u=P),k>l&&(l=k),P>c&&(c=P),this._ids[$]=$}const f=(a+l)/2,d=(u+c)/2;let h,p,m;for(let $=0,k=1/0;$<o;$++){const P=tW(f,d,t[2*$],t[2*$+1]);P<k&&(h=$,k=P)}const g=t[2*h],y=t[2*h+1];for(let $=0,k=1/0;$<o;$++){if($===h)continue;const P=tW(g,y,t[2*$],t[2*$+1]);P<k&&P>0&&(p=$,k=P)}let v=t[2*p],b=t[2*p+1],w=1/0;for(let $=0;$<o;$++){if($===h||$===p)continue;const k=PNt(g,y,v,b,t[2*$],t[2*$+1]);k<w&&(m=$,w=k)}let x=t[2*m],S=t[2*m+1];if(w===1/0){for(let P=0;P<o;P++)this._dists[P]=t[2*P]-t[0]||t[2*P+1]-t[1];HT(this._ids,this._dists,0,o-1);const $=new Uint32Array(o);let k=0;for(let P=0,L=-1/0;P<o;P++){const O=this._ids[P],B=this._dists[O];B>L&&($[k++]=O,L=B)}this.hull=$.subarray(0,k),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(qP(g,y,v,b,x,S)<0){const $=p,k=v,P=b;p=m,v=x,b=S,m=$,x=k,S=P}const A=ONt(g,y,v,b,x,S);this._cx=A.x,this._cy=A.y;for(let $=0;$<o;$++)this._dists[$]=tW(t[2*$],t[2*$+1],A.x,A.y);HT(this._ids,this._dists,0,o-1),this._hullStart=h;let C=3;r[h]=n[m]=p,r[p]=n[h]=m,r[m]=n[p]=h,i[h]=0,i[p]=1,i[m]=2,s.fill(-1),s[this._hashKey(g,y)]=h,s[this._hashKey(v,b)]=p,s[this._hashKey(x,S)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(let $=0,k,P;$<this._ids.length;$++){const L=this._ids[$],O=t[2*L],B=t[2*L+1];if($>0&&Math.abs(O-k)<=R_e&&Math.abs(B-P)<=R_e||(k=O,P=B,L===h||L===p||L===m))continue;let q=0;for(let F=0,j=this._hashKey(O,B);F<this._hashSize&&(q=s[(j+F)%this._hashSize],!(q!==-1&&q!==r[q]));F++);q=n[q];let H=q,G;for(;G=r[H],qP(O,B,t[2*H],t[2*H+1],t[2*G],t[2*G+1])>=0;)if(H=G,H===q){H=-1;break}if(H===-1)continue;let K=this._addTriangle(H,L,r[H],-1,-1,i[H]);i[L]=this._legalize(K+2),i[H]=K,C++;let J=r[H];for(;G=r[J],qP(O,B,t[2*J],t[2*J+1],t[2*G],t[2*G+1])<0;)K=this._addTriangle(J,L,G,i[L],-1,i[J]),i[L]=this._legalize(K+2),r[J]=J,C--,J=G;if(H===q)for(;G=n[H],qP(O,B,t[2*G],t[2*G+1],t[2*H],t[2*H+1])<0;)K=this._addTriangle(G,L,H,-1,i[H],i[G]),this._legalize(K+2),i[G]=K,r[H]=H,C--,H=G;this._hullStart=n[L]=H,r[H]=n[J]=L,r[L]=J,s[this._hashKey(O,B)]=L,s[this._hashKey(t[2*H],t[2*H+1])]=H}this.hull=new Uint32Array(C);for(let $=0,k=this._hullStart;$<C;$++)this.hull[$]=k,k=r[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor($Nt(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let s=0,o=0;for(;;){const a=r[t],u=t-t%3;if(o=u+(t+2)%3,a===-1){if(s===0)break;t=WP[--s];continue}const l=a-a%3,c=u+(t+1)%3,f=l+(a+2)%3,d=n[o],h=n[t],p=n[c],m=n[f];if(NNt(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=d;const y=r[f];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(a,r[o]),this._link(o,f);const v=l+(a+1)%3;s<WP.length&&(WP[s++]=v)}else{if(s===0)break;t=WP[--s]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,s,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,s),this._link(a+2,o),this.trianglesLen+=3,a}}function $Nt(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function tW(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function NNt(e,t,n,r,i,s,o,a){const u=e-o,l=t-a,c=n-o,f=r-a,d=i-o,h=s-a,p=u*u+l*l,m=c*c+f*f,g=d*d+h*h;return u*(f*g-m*h)-l*(c*g-m*d)+p*(c*h-f*d)<0}function PNt(e,t,n,r,i,s){const o=n-e,a=r-t,u=i-e,l=s-t,c=o*o+a*a,f=u*u+l*l,d=.5/(o*l-a*u),h=(l*c-a*f)*d,p=(o*f-u*c)*d;return h*h+p*p}function ONt(e,t,n,r,i,s){const o=n-e,a=r-t,u=i-e,l=s-t,c=o*o+a*a,f=u*u+l*l,d=.5/(o*l-a*u),h=e+(l*c-a*f)*d,p=t+(o*f-u*c)*d;return{x:h,y:p}}function HT(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],o=t[s];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{const i=n+r>>1;let s=n+1,o=r;EI(e,i,s),t[e[n]]>t[e[r]]&&EI(e,n,r),t[e[s]]>t[e[r]]&&EI(e,s,r),t[e[n]]>t[e[s]]&&EI(e,n,s);const a=e[s],u=t[a];for(;;){do s++;while(t[e[s]]<u);do o--;while(t[e[o]]>u);if(o<s)break;EI(e,s,o)}e[n+1]=e[o],e[o]=a,r-s+1>=o-n?(HT(e,t,s,r),HT(e,t,n,o-1)):(HT(e,t,n,o-1),HT(e,t,s,r))}}function EI(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function DNt(e){return e[0]}function LNt(e){return e[1]}const $_e=1e-6;class Yw{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,s=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>$_e||Math.abs(this._y1-s)>$_e)&&(this._+="L"+i+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=s}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class $Q{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let MNt=class{constructor(t,[n,r,i,s]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let s,o;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,g=0,y=r.length,v,b;m<y;m+=3,g+=2){const w=r[m]*2,x=r[m+1]*2,S=r[m+2]*2,A=t[w],C=t[w+1],$=t[x],k=t[x+1],P=t[S],L=t[S+1],O=$-A,B=k-C,q=P-A,H=L-C,G=(O*H-B*q)*2;if(Math.abs(G)<1e-9){if(s===void 0){s=o=0;for(const J of n)s+=t[J*2],o+=t[J*2+1];s/=n.length,o/=n.length}const K=1e9*Math.sign((s-A)*H-(o-C)*q);v=(A+P)/2-K*H,b=(C+L)/2+K*q}else{const K=1/G,J=O*O+B*B,F=q*q+H*H;v=A+(H*J-B*F)*K,b=C+(O*F-q*J)*K}a[g]=v,a[g+1]=b}let u=n[n.length-1],l,c=u*4,f,d=t[2*u],h,p=t[2*u+1];i.fill(0);for(let m=0;m<n.length;++m)u=n[m],l=c,f=d,h=p,c=u*4,d=t[2*u],p=t[2*u+1],i[l+2]=i[c]=h-p,i[l+3]=i[c+1]=d-f}render(t){const n=t==null?t=new Yw:void 0,{delaunay:{halfedges:r,inedges:i,hull:s},circumcenters:o,vectors:a}=this;if(s.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(d/3)*2,m=o[h],g=o[h+1],y=o[p],v=o[p+1];this._renderSegment(m,g,y,v,t)}let u,l=s[s.length-1];for(let c=0;c<s.length;++c){u=l,l=s[c];const f=Math.floor(i[l]/3)*2,d=o[f],h=o[f+1],p=u*4,m=this._project(d,h,a[p+2],a[p+3]);m&&this._renderSegment(d,h,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Yw:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Yw:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new $Q;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,s){let o;const a=this._regioncode(t,n),u=this._regioncode(r,i);a===0&&u===0?(s.moveTo(t,n),s.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,a,u))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let s=0,o=n.length;s<o;s+=2)for(let a=0,u=i.length;a<u;a+=2)if(n[s]===i[a]&&n[s+1]===i[a+1]&&n[(s+2)%o]===i[(a+u-2)%u]&&n[(s+3)%o]===i[(a+u-1)%u]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:s}}=this,o=r[t];if(o===-1)return null;const a=[];let u=o;do{const l=Math.floor(u/3);if(a.push(n[l*2],n[l*2+1]),u=u%3===2?u-2:u+1,s[u]!==t)break;u=i[u]}while(u!==o&&u!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,s,o,a=n[r-2],u=n[r-1],l,c=this._regioncode(a,u),f,d=0;for(let h=0;h<r;h+=2)if(s=a,o=u,a=n[h],u=n[h+1],l=c,c=this._regioncode(a,u),l===0&&c===0)f=d,d=0,i?i.push(a,u):i=[a,u];else{let p,m,g,y,v;if(l===0){if((p=this._clipSegment(s,o,a,u,l,c))===null)continue;[m,g,y,v]=p}else{if((p=this._clipSegment(a,u,s,o,c,l))===null)continue;[y,v,m,g]=p,f=d,d=this._edgecode(m,g),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(m,g):i=[m,g]}f=d,d=this._edgecode(y,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,v):i=[y,v]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,s,o){const a=s<o;for(a&&([t,n,r,i,s,o]=[r,i,t,n,o,s]);;){if(s===0&&o===0)return a?[r,i,t,n]:[t,n,r,i];if(s&o)return null;let u,l,c=s||o;c&8?(u=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(u=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),u=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),u=this.xmin),s?(t=u,n=l,s=this._regioncode(t,n)):(r=u,i=l,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,s,o){let a=Array.from(n),u;if((u=this._project(a[0],a[1],r,i))&&a.unshift(u[0],u[1]),(u=this._project(a[a.length-2],a[a.length-1],s,o))&&a.push(u[0],u[1]),a=this._clipFinite(t,a))for(let l=0,c=a.length,f,d=this._edgecode(a[c-2],a[c-1]);l<c;l+=2)f=d,d=this._edgecode(a[l],a[l+1]),f&&d&&(l=this._edge(t,f,d,a,l),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,s){for(;n!==r;){let o,a;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,a=this.ymin;break}(i[s]!==o||i[s+1]!==a)&&this.contains(t,o,a)&&(i.splice(s,0,o,a),s+=2)}return s}_project(t,n,r,i){let s=1/0,o,a,u;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<s&&(u=this.ymin,a=t+(s=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<s&&(u=this.ymax,a=t+(s=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<s&&(a=this.xmax,u=n+(s=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<s&&(a=this.xmin,u=n+(s=o)*i)}return[a,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const FNt=2*Math.PI,qE=Math.pow;function BNt(e){return e[0]}function jNt(e){return e[1]}function UNt(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],s=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[s+1]-n[i+1])-(n[s]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function zNt(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Dse{static from(t,n=BNt,r=jNt,i){return new Dse("length"in t?VNt(t,n,r,i):Float64Array.from(HNt(t,n,r,i)))}constructor(t){this._delaunator=new vL(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&UNt(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const u=this.collinear[0],l=this.collinear[this.collinear.length-1],c=[n[2*u],n[2*u+1],n[2*l],n[2*l+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,h=n.length/2;d<h;++d){const p=zNt(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new vL(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let u=0,l=r.length;u<l;++u){const c=s[u%3===2?u-2:u+1];(r[u]===-1||o[c]===-1)&&(o[c]=u)}for(let u=0,l=i.length;u<l;++u)a[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new MNt(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:s,triangles:o,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const u=n[t];if(u===-1)return;let l=u,c=-1;do{if(yield c=o[l],l=l%3===2?l-2:l+1,o[l]!==t)return;if(l=s[l],l===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(l!==u)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let s;for(;(s=this._step(r,t,n))>=0&&s!==r&&s!==i;)r=s;return s}_step(t,n,r){const{inedges:i,hull:s,_hullIndex:o,halfedges:a,triangles:u,points:l}=this;if(i[t]===-1||!l.length)return(t+1)%(l.length>>1);let c=t,f=qE(n-l[t*2],2)+qE(r-l[t*2+1],2);const d=i[t];let h=d;do{let p=u[h];const m=qE(n-l[p*2],2)+qE(r-l[p*2+1],2);if(m<f&&(f=m,c=p),h=h%3===2?h-2:h+1,u[h]!==t)break;if(h=a[h],h===-1){if(h=s[(o[t]+1)%s.length],h!==p&&qE(n-l[h*2],2)+qE(r-l[h*2+1],2)<f)return h;break}}while(h!==d);return c}render(t){const n=t==null?t=new Yw:void 0,{points:r,halfedges:i,triangles:s}=this;for(let o=0,a=i.length;o<a;++o){const u=i[o];if(u<o)continue;const l=s[o]*2,c=s[u]*2;t.moveTo(r[l],r[l+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Yw:void 0,{points:i}=this;for(let s=0,o=i.length;s<o;s+=2){const a=i[s],u=i[s+1];t.moveTo(a+n,u),t.arc(a,u,n,0,FNt)}return r&&r.value()}renderHull(t){const n=t==null?t=new Yw:void 0,{hull:r,points:i}=this,s=r[0]*2,o=r.length;t.moveTo(i[s],i[s+1]);for(let a=1;a<o;++a){const u=2*r[a];t.lineTo(i[u],i[u+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new $Q;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Yw:void 0,{points:i,triangles:s}=this,o=s[t*=3]*2,a=s[t+1]*2,u=s[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[u],i[u+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new $Q;return this.renderTriangle(t,n),n.value()}}function VNt(e,t,n,r){const i=e.length,s=new Float64Array(i*2);for(let o=0;o<i;++o){const a=e[o];s[o*2]=t.call(r,a,o,e),s[o*2+1]=n.call(r,a,o,e)}return s}function*HNt(e,t,n,r){let i=0;for(const s of e)yield t.call(r,s,i,e),yield n.call(r,s,i,e),++i}var N_e={},nW={},rW=34,TI=10,iW=13;function C9e(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function qNt(e,t){var n=C9e(e);return function(r,i){return t(n(r),i,e)}}function P_e(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function cc(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function WNt(e){return e<0?"-"+cc(-e,6):e>9999?"+"+cc(e,6):cc(e,4)}function GNt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":WNt(e.getUTCFullYear())+"-"+cc(e.getUTCMonth()+1,2)+"-"+cc(e.getUTCDate(),2)+(i?"T"+cc(t,2)+":"+cc(n,2)+":"+cc(r,2)+"."+cc(i,3)+"Z":r?"T"+cc(t,2)+":"+cc(n,2)+":"+cc(r,2)+"Z":n||t?"T"+cc(t,2)+":"+cc(n,2)+"Z":"")}function I9e(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(g,y){if(h)return h(g,y-1);p=g,h=d?qNt(g,d):C9e(g)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,g=0,y,v=p<=0,b=!1;f.charCodeAt(p-1)===TI&&--p,f.charCodeAt(p-1)===iW&&--p;function w(){if(v)return nW;if(b)return b=!1,N_e;var S,A=m,C;if(f.charCodeAt(A)===rW){for(;m++<p&&f.charCodeAt(m)!==rW||f.charCodeAt(++m)===rW;);return(S=m)>=p?v=!0:(C=f.charCodeAt(m++))===TI?b=!0:C===iW&&(b=!0,f.charCodeAt(m)===TI&&++m),f.slice(A+1,S-1).replace(/""/g,'"')}for(;m<p;){if((C=f.charCodeAt(S=m++))===TI)b=!0;else if(C===iW)b=!0,f.charCodeAt(m)===TI&&++m;else if(C!==n)continue;return f.slice(A,S)}return v=!0,f.slice(A,p)}for(;(y=w())!==nW;){for(var x=[];y!==N_e&&y!==nW;)x.push(y),y=w();d&&(x=d(x,g++))==null||h.push(x)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=P_e(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=P_e(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?GNt(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var YNt=I9e(","),KNt=YNt.parse;function XNt(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function QNt(e,t){return fetch(e,t).then(XNt)}function JNt(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),QNt(t,n).then(function(i){return e(i,r)})}}var k9e=JNt(KNt);function ZNt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var s,o=n.length,a,u=0,l=0;for(s=0;s<o;++s)a=n[s],u+=a.x,l+=a.y;for(u=(u/o-e)*r,l=(l/o-t)*r,s=0;s<o;++s)a=n[s],a.x-=u,a.y-=l}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(e=+s,i):e},i.y=function(s){return arguments.length?(t=+s,i):t},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function e5t(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return R9e(this.cover(t,n),t,n,e)}function R9e(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s=e._root,o={data:r},a=e._x0,u=e._y0,l=e._x1,c=e._y1,f,d,h,p,m,g,y,v;if(!s)return e._root=o,e;for(;s.length;)if((m=t>=(f=(a+l)/2))?a=f:l=f,(g=n>=(d=(u+c)/2))?u=d:c=d,i=s,!(s=s[y=g<<1|m]))return i[y]=o,e;if(h=+e._x.call(null,s.data),p=+e._y.call(null,s.data),t===h&&n===p)return o.next=s,i?i[y]=o:e._root=o,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(m=t>=(f=(a+l)/2))?a=f:l=f,(g=n>=(d=(u+c)/2))?u=d:c=d;while((y=g<<1|m)===(v=(p>=d)<<1|h>=f));return i[v]=s,i[y]=o,e}function t5t(e){var t,n,r=e.length,i,s,o=new Array(r),a=new Array(r),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(o[n]=i,a[n]=s,i<u&&(u=i),i>c&&(c=i),s<l&&(l=s),s>f&&(f=s));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<r;++n)R9e(this,o[n],a[n],e[n]);return this}function n5t(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o=i-n||1,a=this._root,u,l;n>e||e>=i||r>t||t>=s;)switch(l=(t<r)<<1|e<n,u=new Array(4),u[l]=a,a=u,o*=2,l){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function r5t(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function i5t(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function xl(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function s5t(e,t,n){var r,i=this._x0,s=this._y0,o,a,u,l,c=this._x1,f=this._y1,d=[],h=this._root,p,m;for(h&&d.push(new xl(h,i,s,c,f)),n==null?n=1/0:(i=e-n,s=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(o=p.x0)>c||(a=p.y0)>f||(u=p.x1)<i||(l=p.y1)<s))if(h.length){var g=(o+u)/2,y=(a+l)/2;d.push(new xl(h[3],g,y,u,l),new xl(h[2],o,y,g,l),new xl(h[1],g,a,u,y),new xl(h[0],o,a,g,y)),(m=(t>=y)<<1|e>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=p)}else{var v=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),w=v*v+b*b;if(w<n){var x=Math.sqrt(n=w);i=e-x,s=t-x,c=e+x,f=t+x,r=h.data}}return r}function o5t(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,s,o=this._x0,a=this._y0,u=this._x1,l=this._y1,c,f,d,h,p,m,g,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(o+u)/2))?o=d:u=d,(m=f>=(h=(a+l)/2))?a=h:l=h,t=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,y=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):t?(s?t[g]=s:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=s,this)}function a5t(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function u5t(){return this._root}function l5t(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function c5t(e){var t=[],n,r=this._root,i,s,o,a,u;for(r&&t.push(new xl(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,o=n.y0,a=n.x1,u=n.y1)&&r.length){var l=(s+a)/2,c=(o+u)/2;(i=r[3])&&t.push(new xl(i,l,c,a,u)),(i=r[2])&&t.push(new xl(i,s,c,l,u)),(i=r[1])&&t.push(new xl(i,l,o,a,c)),(i=r[0])&&t.push(new xl(i,s,o,l,c))}return this}function f5t(e){var t=[],n=[],r;for(this._root&&t.push(new xl(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,u=r.x1,l=r.y1,c=(o+u)/2,f=(a+l)/2;(s=i[0])&&t.push(new xl(s,o,a,c,f)),(s=i[1])&&t.push(new xl(s,c,a,u,f)),(s=i[2])&&t.push(new xl(s,o,f,c,l)),(s=i[3])&&t.push(new xl(s,c,f,u,l))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function d5t(e){return e[0]}function h5t(e){return arguments.length?(this._x=e,this):this._x}function p5t(e){return e[1]}function m5t(e){return arguments.length?(this._y=e,this):this._y}function Lse(e,t,n){var r=new Mse(t??d5t,n??p5t,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Mse(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function O_e(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Hl=Lse.prototype=Mse.prototype;Hl.copy=function(){var e=new Mse(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=O_e(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=O_e(r));return e};Hl.add=e5t;Hl.addAll=t5t;Hl.cover=n5t;Hl.data=r5t;Hl.extent=i5t;Hl.find=s5t;Hl.remove=o5t;Hl.removeAll=a5t;Hl.root=u5t;Hl.size=l5t;Hl.visit=c5t;Hl.visitAfter=f5t;Hl.x=h5t;Hl.y=m5t;function Tl(e){return function(){return e}}function Sv(e){return(e()-.5)*1e-6}function g5t(e){return e.x+e.vx}function y5t(e){return e.y+e.vy}function v5t(e){var t,n,r,i=1,s=1;typeof e!="function"&&(e=Tl(e==null?1:+e));function o(){for(var l,c=t.length,f,d,h,p,m,g,y=0;y<s;++y)for(f=Lse(t,g5t,y5t).visitAfter(a),l=0;l<c;++l)d=t[l],m=n[d.index],g=m*m,h=d.x+d.vx,p=d.y+d.vy,f.visit(v);function v(b,w,x,S,A){var C=b.data,$=b.r,k=m+$;if(C){if(C.index>d.index){var P=h-C.x-C.vx,L=p-C.y-C.vy,O=P*P+L*L;O<k*k&&(P===0&&(P=Sv(r),O+=P*P),L===0&&(L=Sv(r),O+=L*L),O=(k-(O=Math.sqrt(O)))/O*i,d.vx+=(P*=O)*(k=($*=$)/(g+$)),d.vy+=(L*=O)*k,C.vx-=P*(k=1-k),C.vy-=L*k)}return}return w>h+k||S<h-k||x>p+k||A<p-k}}function a(l){if(l.data)return l.r=n[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function u(){if(t){var l,c=t.length,f;for(n=new Array(c),l=0;l<c;++l)f=t[l],n[f.index]=+e(f,l,t)}}return o.initialize=function(l,c){t=l,r=c,u()},o.iterations=function(l){return arguments.length?(s=+l,o):s},o.strength=function(l){return arguments.length?(i=+l,o):i},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Tl(+l),u(),o):e},o}function b5t(e){return e.index}function D_e(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function _5t(e){var t=b5t,n=f,r,i=Tl(30),s,o,a,u,l,c=1;e==null&&(e=[]);function f(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function d(g){for(var y=0,v=e.length;y<c;++y)for(var b=0,w,x,S,A,C,$,k;b<v;++b)w=e[b],x=w.source,S=w.target,A=S.x+S.vx-x.x-x.vx||Sv(l),C=S.y+S.vy-x.y-x.vy||Sv(l),$=Math.sqrt(A*A+C*C),$=($-s[b])/$*g*r[b],A*=$,C*=$,S.vx-=A*(k=u[b]),S.vy-=C*k,x.vx+=A*(k=1-k),x.vy+=C*k}function h(){if(o){var g,y=o.length,v=e.length,b=new Map(o.map((x,S)=>[t(x,S,o),x])),w;for(g=0,a=new Array(y);g<v;++g)w=e[g],w.index=g,typeof w.source!="object"&&(w.source=D_e(b,w.source)),typeof w.target!="object"&&(w.target=D_e(b,w.target)),a[w.source.index]=(a[w.source.index]||0)+1,a[w.target.index]=(a[w.target.index]||0)+1;for(g=0,u=new Array(v);g<v;++g)w=e[g],u[g]=a[w.source.index]/(a[w.source.index]+a[w.target.index]);r=new Array(v),p(),s=new Array(v),m()}}function p(){if(o)for(var g=0,y=e.length;g<y;++g)r[g]=+n(e[g],g,e)}function m(){if(o)for(var g=0,y=e.length;g<y;++g)s[g]=+i(e[g],g,e)}return d.initialize=function(g,y){o=g,l=y,h()},d.links=function(g){return arguments.length?(e=g,h(),d):e},d.id=function(g){return arguments.length?(t=g,d):t},d.iterations=function(g){return arguments.length?(c=+g,d):c},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Tl(+g),p(),d):n},d.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Tl(+g),m(),d):i},d}const w5t=1664525,x5t=1013904223,L_e=4294967296;function E5t(){let e=1;return()=>(e=(w5t*e+x5t)%L_e)/L_e}function T5t(e){return e.x}function S5t(e){return e.y}var A5t=10,C5t=Math.PI*(3-Math.sqrt(5));function I5t(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,u=Rse(f),l=mB("tick","end"),c=E5t();e==null&&(e=[]);function f(){d(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function d(m){var g,y=e.length,v;m===void 0&&(m=1);for(var b=0;b<m;++b)for(n+=(s-n)*i,a.forEach(function(w){w(n)}),g=0;g<y;++g)v=e[g],v.fx==null?v.x+=v.vx*=o:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=o:(v.y=v.fy,v.vy=0);return t}function h(){for(var m=0,g=e.length,y;m<g;++m){if(y=e[m],y.index=m,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=A5t*Math.sqrt(.5+m),b=m*C5t;y.x=v*Math.cos(b),y.y=v*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(s=+m,t):s},velocityDecay:function(m){return arguments.length?(o=1-m,t):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),t):a.get(m)},find:function(m,g,y){var v=0,b=e.length,w,x,S,A,C;for(y==null?y=1/0:y*=y,v=0;v<b;++v)A=e[v],w=m-A.x,x=g-A.y,S=w*w+x*x,S<y&&(C=A,y=S);return C},on:function(m,g){return arguments.length>1?(l.on(m,g),t):l.on(m)}}}function k5t(){var e,t,n,r,i=Tl(-30),s,o=1,a=1/0,u=.81;function l(h){var p,m=e.length,g=Lse(e,T5t,S5t).visitAfter(f);for(r=h,p=0;p<m;++p)t=e[p],g.visit(d)}function c(){if(e){var h,p=e.length,m;for(s=new Array(p),h=0;h<p;++h)m=e[h],s[m.index]=+i(m,h,e)}}function f(h){var p=0,m,g,y=0,v,b,w;if(h.length){for(v=b=w=0;w<4;++w)(m=h[w])&&(g=Math.abs(m.value))&&(p+=m.value,y+=g,v+=g*m.x,b+=g*m.y);h.x=v/y,h.y=b/y}else{m=h,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}h.value=p}function d(h,p,m,g){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,b=g-p,w=y*y+v*v;if(b*b/u<w)return w<a&&(y===0&&(y=Sv(n),w+=y*y),v===0&&(v=Sv(n),w+=v*v),w<o&&(w=Math.sqrt(o*w)),t.vx+=y*h.value*r/w,t.vy+=v*h.value*r/w),!0;if(h.length||w>=a)return;(h.data!==t||h.next)&&(y===0&&(y=Sv(n),w+=y*y),v===0&&(v=Sv(n),w+=v*v),w<o&&(w=Math.sqrt(o*w)));do h.data!==t&&(b=s[h.data.index]*r/w,t.vx+=y*b,t.vy+=v*b);while(h=h.next)}return l.initialize=function(h,p){e=h,n=p,c()},l.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Tl(+h),c(),l):i},l.distanceMin=function(h){return arguments.length?(o=h*h,l):Math.sqrt(o)},l.distanceMax=function(h){return arguments.length?(a=h*h,l):Math.sqrt(a)},l.theta=function(h){return arguments.length?(u=h*h,l):Math.sqrt(u)},l}function R5t(e){var t=Tl(.1),n,r,i;typeof e!="function"&&(e=Tl(e==null?0:+e));function s(a){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vx+=(i[u]-c.x)*r[u]*a}function o(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Tl(+a),o(),s):t},s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Tl(+a),o(),s):e},s}function $5t(e){var t=Tl(.1),n,r,i;typeof e!="function"&&(e=Tl(e==null?0:+e));function s(a){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vy+=(i[u]-c.y)*r[u]*a}function o(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Tl(+a),o(),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:Tl(+a),o(),s):e},s}function N5t(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bL(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fA(e){return e=bL(Math.abs(e)),e?e[1]:NaN}function P5t(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function O5t(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var D5t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Px(e){if(!(t=D5t.exec(e)))throw new Error("invalid format: "+e);var t;return new Fse({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Px.prototype=Fse.prototype;function Fse(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Fse.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function L5t(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var $9e;function M5t(e,t){var n=bL(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-($9e=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+bL(e,Math.max(0,t+s-1))[0]}function M_e(e,t){var n=bL(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const F_e={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:N5t,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>M_e(e*100,t),r:M_e,s:M5t,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function B_e(e){return e}var j_e=Array.prototype.map,U_e=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function N9e(e){var t=e.grouping===void 0||e.thousands===void 0?B_e:P5t(j_e.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?B_e:O5t(j_e.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Px(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,g=f.zero,y=f.width,v=f.comma,b=f.precision,w=f.trim,x=f.type;x==="n"?(v=!0,x="g"):F_e[x]||(b===void 0&&(b=12),w=!0,x="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",A=m==="$"?r:/[%p]/.test(x)?o:"",C=F_e[x],$=/[defgprs%]/.test(x);b=b===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(P){var L=S,O=A,B,q,H;if(x==="c")O=C(P)+O,P="";else{P=+P;var G=P<0||1/P<0;if(P=isNaN(P)?u:C(Math.abs(P),b),w&&(P=L5t(P)),G&&+P==0&&p!=="+"&&(G=!1),L=(G?p==="("?p:a:p==="-"||p==="("?"":p)+L,O=(x==="s"?U_e[8+$9e/3]:"")+O+(G&&p==="("?")":""),$){for(B=-1,q=P.length;++B<q;)if(H=P.charCodeAt(B),48>H||H>57){O=(H===46?i+P.slice(B+1):P.slice(B))+O,P=P.slice(0,B);break}}}v&&!g&&(P=t(P,1/0));var K=L.length+P.length+O.length,J=K<y?new Array(y-K+1).join(d):"";switch(v&&g&&(P=t(J+P,J.length?y-O.length:1/0),J=""),h){case"<":P=L+P+O+J;break;case"=":P=L+J+P+O;break;case"^":P=J.slice(0,K=J.length>>1)+L+P+O+J.slice(K);break;default:P=J+L+P+O;break}return s(P)}return k.toString=function(){return f+""},k}function c(f,d){var h=l((f=Px(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(fA(d)/3)))*3,m=Math.pow(10,-p),g=U_e[8+p/3];return function(y){return h(m*y)+g}}return{format:l,formatPrefix:c}}var GP,d_,Bse;F5t({thousands:",",grouping:[3],currency:["$",""]});function F5t(e){return GP=N9e(e),d_=GP.format,Bse=GP.formatPrefix,GP}function P9e(e){return Math.max(0,-fA(Math.abs(e)))}function O9e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fA(t)/3)))*3-fA(Math.abs(e)))}function D9e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fA(t)-fA(e))+1}var mn=1e-6,NQ=1e-12,mr=Math.PI,ro=mr/2,_L=mr/4,Dl=mr*2,mo=180/mr,fr=mr/180,zr=Math.abs,BC=Math.atan,Xd=Math.atan2,hn=Math.cos,YP=Math.ceil,L9e=Math.exp,PQ=Math.hypot,wL=Math.log,sW=Math.pow,rn=Math.sin,Fd=Math.sign||function(e){return e>0?1:e<0?-1:0},Ll=Math.sqrt,jse=Math.tan;function M9e(e){return e>1?0:e<-1?mr:Math.acos(e)}function qc(e){return e>1?ro:e<-1?-ro:Math.asin(e)}function Za(){}function xL(e,t){e&&V_e.hasOwnProperty(e.type)&&V_e[e.type](e,t)}var z_e={Feature:function(e,t){xL(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)xL(n[r].geometry,t)}},V_e={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){OQ(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)OQ(n[r],t,0)},Polygon:function(e,t){H_e(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)H_e(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)xL(n[r],t)}};function OQ(e,t,n){var r=-1,i=e.length-n,s;for(t.lineStart();++r<i;)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function H_e(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)OQ(e[n],t,1);t.polygonEnd()}function Ng(e,t){e&&z_e.hasOwnProperty(e.type)?z_e[e.type](e,t):xL(e,t)}var EL=new Il,TL=new Il,F9e,B9e,DQ,LQ,MQ,om={point:Za,lineStart:Za,lineEnd:Za,polygonStart:function(){EL=new Il,om.lineStart=B5t,om.lineEnd=j5t},polygonEnd:function(){var e=+EL;TL.add(e<0?Dl+e:e),this.lineStart=this.lineEnd=this.point=Za},sphere:function(){TL.add(Dl)}};function B5t(){om.point=U5t}function j5t(){j9e(F9e,B9e)}function U5t(e,t){om.point=j9e,F9e=e,B9e=t,e*=fr,t*=fr,DQ=e,LQ=hn(t=t/2+_L),MQ=rn(t)}function j9e(e,t){e*=fr,t*=fr,t=t/2+_L;var n=e-DQ,r=n>=0?1:-1,i=r*n,s=hn(t),o=rn(t),a=MQ*o,u=LQ*s+a*hn(i),l=a*r*rn(i);EL.add(Xd(l,u)),DQ=e,LQ=s,MQ=o}function z5t(e){return TL=new Il,Ng(e,om),TL*2}function SL(e){return[Xd(e[1],e[0]),qc(e[2])]}function Ox(e){var t=e[0],n=e[1],r=hn(n);return[r*hn(t),r*rn(t),rn(n)]}function KP(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function dA(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function oW(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function XP(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function AL(e){var t=Ll(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var js,bc,Ys,Tf,gw,U9e,z9e,yS,M6,nv,Sy,Cg={point:FQ,lineStart:q_e,lineEnd:W_e,polygonStart:function(){Cg.point=H9e,Cg.lineStart=V5t,Cg.lineEnd=H5t,M6=new Il,om.polygonStart()},polygonEnd:function(){om.polygonEnd(),Cg.point=FQ,Cg.lineStart=q_e,Cg.lineEnd=W_e,EL<0?(js=-(Ys=180),bc=-(Tf=90)):M6>mn?Tf=90:M6<-1e-6&&(bc=-90),Sy[0]=js,Sy[1]=Ys},sphere:function(){js=-(Ys=180),bc=-(Tf=90)}};function FQ(e,t){nv.push(Sy=[js=e,Ys=e]),t<bc&&(bc=t),t>Tf&&(Tf=t)}function V9e(e,t){var n=Ox([e*fr,t*fr]);if(yS){var r=dA(yS,n),i=[r[1],-r[0],0],s=dA(i,r);AL(s),s=SL(s);var o=e-gw,a=o>0?1:-1,u=s[0]*mo*a,l,c=zr(o)>180;c^(a*gw<u&&u<a*e)?(l=s[1]*mo,l>Tf&&(Tf=l)):(u=(u+360)%360-180,c^(a*gw<u&&u<a*e)?(l=-s[1]*mo,l<bc&&(bc=l)):(t<bc&&(bc=t),t>Tf&&(Tf=t))),c?e<gw?_f(js,e)>_f(js,Ys)&&(Ys=e):_f(e,Ys)>_f(js,Ys)&&(js=e):Ys>=js?(e<js&&(js=e),e>Ys&&(Ys=e)):e>gw?_f(js,e)>_f(js,Ys)&&(Ys=e):_f(e,Ys)>_f(js,Ys)&&(js=e)}else nv.push(Sy=[js=e,Ys=e]);t<bc&&(bc=t),t>Tf&&(Tf=t),yS=n,gw=e}function q_e(){Cg.point=V9e}function W_e(){Sy[0]=js,Sy[1]=Ys,Cg.point=FQ,yS=null}function H9e(e,t){if(yS){var n=e-gw;M6.add(zr(n)>180?n+(n>0?360:-360):n)}else U9e=e,z9e=t;om.point(e,t),V9e(e,t)}function V5t(){om.lineStart()}function H5t(){H9e(U9e,z9e),om.lineEnd(),zr(M6)>mn&&(js=-(Ys=180)),Sy[0]=js,Sy[1]=Ys,yS=null}function _f(e,t){return(t-=e)<0?t+360:t}function q5t(e,t){return e[0]-t[0]}function G_e(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function W5t(e){var t,n,r,i,s,o,a;if(Tf=Ys=-(js=bc=1/0),nv=[],Ng(e,Cg),n=nv.length){for(nv.sort(q5t),t=1,r=nv[0],s=[r];t<n;++t)i=nv[t],G_e(r,i[0])||G_e(r,i[1])?(_f(r[0],i[1])>_f(r[0],r[1])&&(r[1]=i[1]),_f(i[0],r[1])>_f(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,n=s.length-1,t=0,r=s[n];t<=n;r=i,++t)i=s[t],(a=_f(r[1],i[0]))>o&&(o=a,js=i[0],Ys=r[1])}return nv=Sy=null,js===1/0||bc===1/0?[[NaN,NaN],[NaN,NaN]]:[[js,bc],[Ys,Tf]]}var D4,CL,IL,kL,RL,$L,NL,PL,BQ,jQ,UQ,q9e,W9e,bl,_l,wl,op={sphere:Za,point:Use,lineStart:Y_e,lineEnd:K_e,polygonStart:function(){op.lineStart=K5t,op.lineEnd=X5t},polygonEnd:function(){op.lineStart=Y_e,op.lineEnd=K_e}};function Use(e,t){e*=fr,t*=fr;var n=hn(t);U$(n*hn(e),n*rn(e),rn(t))}function U$(e,t,n){++D4,IL+=(e-IL)/D4,kL+=(t-kL)/D4,RL+=(n-RL)/D4}function Y_e(){op.point=G5t}function G5t(e,t){e*=fr,t*=fr;var n=hn(t);bl=n*hn(e),_l=n*rn(e),wl=rn(t),op.point=Y5t,U$(bl,_l,wl)}function Y5t(e,t){e*=fr,t*=fr;var n=hn(t),r=n*hn(e),i=n*rn(e),s=rn(t),o=Xd(Ll((o=_l*s-wl*i)*o+(o=wl*r-bl*s)*o+(o=bl*i-_l*r)*o),bl*r+_l*i+wl*s);CL+=o,$L+=o*(bl+(bl=r)),NL+=o*(_l+(_l=i)),PL+=o*(wl+(wl=s)),U$(bl,_l,wl)}function K_e(){op.point=Use}function K5t(){op.point=Q5t}function X5t(){G9e(q9e,W9e),op.point=Use}function Q5t(e,t){q9e=e,W9e=t,e*=fr,t*=fr,op.point=G9e;var n=hn(t);bl=n*hn(e),_l=n*rn(e),wl=rn(t),U$(bl,_l,wl)}function G9e(e,t){e*=fr,t*=fr;var n=hn(t),r=n*hn(e),i=n*rn(e),s=rn(t),o=_l*s-wl*i,a=wl*r-bl*s,u=bl*i-_l*r,l=PQ(o,a,u),c=qc(l),f=l&&-c/l;BQ.add(f*o),jQ.add(f*a),UQ.add(f*u),CL+=c,$L+=c*(bl+(bl=r)),NL+=c*(_l+(_l=i)),PL+=c*(wl+(wl=s)),U$(bl,_l,wl)}function J5t(e){D4=CL=IL=kL=RL=$L=NL=PL=0,BQ=new Il,jQ=new Il,UQ=new Il,Ng(e,op);var t=+BQ,n=+jQ,r=+UQ,i=PQ(t,n,r);return i<NQ&&(t=$L,n=NL,r=PL,CL<mn&&(t=IL,n=kL,r=RL),i=PQ(t,n,r),i<NQ)?[NaN,NaN]:[Xd(n,t)*mo,qc(r/i)*mo]}function zQ(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function VQ(e,t){return zr(e)>mr&&(e-=Math.round(e/Dl)*Dl),[e,t]}VQ.invert=VQ;function Y9e(e,t,n){return(e%=Dl)?t||n?zQ(Q_e(e),J_e(t,n)):Q_e(e):t||n?J_e(t,n):VQ}function X_e(e){return function(t,n){return t+=e,zr(t)>mr&&(t-=Math.round(t/Dl)*Dl),[t,n]}}function Q_e(e){var t=X_e(e);return t.invert=X_e(-e),t}function J_e(e,t){var n=hn(e),r=rn(e),i=hn(t),s=rn(t);function o(a,u){var l=hn(u),c=hn(a)*l,f=rn(a)*l,d=rn(u),h=d*n+c*r;return[Xd(f*i-h*s,c*n-d*r),qc(h*i+f*s)]}return o.invert=function(a,u){var l=hn(u),c=hn(a)*l,f=rn(a)*l,d=rn(u),h=d*i-f*s;return[Xd(f*i+d*s,c*n+h*r),qc(h*n-c*r)]},o}function Z5t(e){e=Y9e(e[0]*fr,e[1]*fr,e.length>2?e[2]*fr:0);function t(n){return n=e(n[0]*fr,n[1]*fr),n[0]*=mo,n[1]*=mo,n}return t.invert=function(n){return n=e.invert(n[0]*fr,n[1]*fr),n[0]*=mo,n[1]*=mo,n},t}function ePt(e,t,n,r,i,s){if(n){var o=hn(t),a=rn(t),u=r*n;i==null?(i=t+r*Dl,s=t-u/2):(i=Z_e(o,i),s=Z_e(o,s),(r>0?i<s:i>s)&&(i+=r*Dl));for(var l,c=i;r>0?c>s:c<s;c-=u)l=SL([o,-a*hn(c),-a*rn(c)]),e.point(l[0],l[1])}}function Z_e(e,t){t=Ox(t),t[0]-=e,AL(t);var n=M9e(-t[1]);return((-t[2]<0?-n:n)+Dl-mn)%Dl}function K9e(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Za,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function gD(e,t){return zr(e[0]-t[0])<mn&&zr(e[1]-t[1])<mn}function QP(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function X9e(e,t,n,r,i){var s=[],o=[],a,u;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],v;if(gD(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=p[a])[0],g[1]);i.lineEnd();return}y[0]+=2*mn}s.push(v=new QP(g,p,null,!0)),o.push(v.o=new QP(g,null,v,!1)),s.push(v=new QP(y,p,null,!1)),o.push(v.o=new QP(y,null,v,!0))}}),!!s.length){for(o.sort(t),ewe(s),ewe(o),a=0,u=o.length;a<u;++a)o[a].e=n=!n;for(var l=s[0],c,f;;){for(var d=l,h=!0;d.v;)if((d=d.n)===l)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,u=c.length;a<u;++a)i.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function ewe(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function aW(e){return zr(e[0])<=mr?e[0]:Fd(e[0])*((zr(e[0])+mr)%Dl-mr)}function tPt(e,t){var n=aW(t),r=t[1],i=rn(r),s=[rn(n),-hn(n),0],o=0,a=0,u=new Il;i===1?r=ro+mn:i===-1&&(r=-ro-mn);for(var l=0,c=e.length;l<c;++l)if(d=(f=e[l]).length)for(var f,d,h=f[d-1],p=aW(h),m=h[1]/2+_L,g=rn(m),y=hn(m),v=0;v<d;++v,p=w,g=S,y=A,h=b){var b=f[v],w=aW(b),x=b[1]/2+_L,S=rn(x),A=hn(x),C=w-p,$=C>=0?1:-1,k=$*C,P=k>mr,L=g*S;if(u.add(Xd(L*$*rn(k),y*A+L*hn(k))),o+=P?C+$*Dl:C,P^p>=n^w>=n){var O=dA(Ox(h),Ox(b));AL(O);var B=dA(s,O);AL(B);var q=(P^C>=0?-1:1)*qc(B[2]);(r>q||r===q&&(O[0]||O[1]))&&(a+=P^C>=0?1:-1)}}return(o<-1e-6||o<mn&&u<-1e-12)^a&1}function Q9e(e,t,n,r){return function(i){var s=t(i),o=K9e(),a=t(o),u=!1,l,c,f,d={point:h,lineStart:m,lineEnd:g,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,c=[],l=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=g,c=IDe(c);var w=tPt(l,r);c.length?(u||(i.polygonStart(),u=!0),X9e(c,rPt,w,n,i)):w&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(w,x){e(w,x)&&i.point(w,x)}function p(w,x){s.point(w,x)}function m(){d.point=p,s.lineStart()}function g(){d.point=h,s.lineEnd()}function y(w,x){f.push([w,x]),a.point(w,x)}function v(){a.lineStart(),f=[]}function b(){y(f[0][0],f[0][1]),a.lineEnd();var w=a.clean(),x=o.result(),S,A=x.length,C,$,k;if(f.pop(),l.push(f),f=null,!!A){if(w&1){if($=x[0],(C=$.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),S=0;S<C;++S)i.point((k=$[S])[0],k[1]);i.lineEnd()}return}A>1&&w&2&&x.push(x.pop().concat(x.shift())),c.push(x.filter(nPt))}}return d}}function nPt(e){return e.length>1}function rPt(e,t){return((e=e.x)[0]<0?e[1]-ro-mn:ro-e[1])-((t=t.x)[0]<0?t[1]-ro-mn:ro-t[1])}const twe=Q9e(function(){return!0},iPt,oPt,[-mr,-ro]);function iPt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,o){var a=s>0?mr:-mr,u=zr(s-t);zr(u-mr)<mn?(e.point(t,n=(n+o)/2>0?ro:-ro),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(s,n),i=0):r!==a&&u>=mr&&(zr(t-r)<mn&&(t-=r*mn),zr(s-a)<mn&&(s-=a*mn),n=sPt(t,n,s,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=s,n=o),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function sPt(e,t,n,r){var i,s,o=rn(e-n);return zr(o)>mn?BC((rn(t)*(s=hn(r))*rn(n)-rn(r)*(i=hn(t))*rn(e))/(i*s*o)):(t+r)/2}function oPt(e,t,n,r){var i;if(e==null)i=n*ro,r.point(-mr,i),r.point(0,i),r.point(mr,i),r.point(mr,0),r.point(mr,-i),r.point(0,-i),r.point(-mr,-i),r.point(-mr,0),r.point(-mr,i);else if(zr(e[0]-t[0])>mn){var s=e[0]<t[0]?mr:-mr;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function aPt(e){var t=hn(e),n=2*fr,r=t>0,i=zr(t)>mn;function s(c,f,d,h){ePt(h,e,n,d,c,f)}function o(c,f){return hn(c)*hn(f)>t}function a(c){var f,d,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var v=[g,y],b,w=o(g,y),x=r?w?0:l(g,y):w?l(g+(g<0?mr:-mr),y):0;if(!f&&(p=h=w)&&c.lineStart(),w!==h&&(b=u(f,v),(!b||gD(f,b)||gD(v,b))&&(v[2]=1)),w!==h)m=0,w?(c.lineStart(),b=u(v,f),c.point(b[0],b[1])):(b=u(f,v),c.point(b[0],b[1],2),c.lineEnd()),f=b;else if(i&&f&&r^w){var S;!(x&d)&&(S=u(v,f,!0))&&(m=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}w&&(!f||!gD(f,v))&&c.point(v[0],v[1]),f=v,h=w,d=x},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return m|(p&&h)<<1}}}function u(c,f,d){var h=Ox(c),p=Ox(f),m=[1,0,0],g=dA(h,p),y=KP(g,g),v=g[0],b=y-v*v;if(!b)return!d&&c;var w=t*y/b,x=-t*v/b,S=dA(m,g),A=XP(m,w),C=XP(g,x);oW(A,C);var $=S,k=KP(A,$),P=KP($,$),L=k*k-P*(KP(A,A)-1);if(!(L<0)){var O=Ll(L),B=XP($,(-k-O)/P);if(oW(B,A),B=SL(B),!d)return B;var q=c[0],H=f[0],G=c[1],K=f[1],J;H<q&&(J=q,q=H,H=J);var F=H-q,j=zr(F-mr)<mn,W=j||F<mn;if(!j&&K<G&&(J=G,G=K,K=J),W?j?G+K>0^B[1]<(zr(B[0]-q)<mn?G:K):G<=B[1]&&B[1]<=K:F>mr^(q<=B[0]&&B[0]<=H)){var M=XP($,(-k+O)/P);return oW(M,A),[B,SL(M)]}}}function l(c,f){var d=r?e:mr-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return Q9e(o,a,s,r?[0,-e]:[-mr,e-mr])}function uPt(e,t,n,r,i,s){var o=e[0],a=e[1],u=t[0],l=t[1],c=0,f=1,d=u-o,h=l-a,p;if(p=n-o,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-o,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=s-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=o+c*d,e[1]=a+c*h),f<1&&(t[0]=o+f*d,t[1]=a+f*h),!0}}}}}var JP=1e9,ZP=-1e9;function J9e(e,t,n,r){function i(l,c){return e<=l&&l<=n&&t<=c&&c<=r}function s(l,c,f,d){var h=0,p=0;if(l==null||(h=o(l,f))!==(p=o(c,f))||u(l,c)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function o(l,c){return zr(l[0]-e)<mn?c>0?0:3:zr(l[0]-n)<mn?c>0?2:1:zr(l[1]-t)<mn?c>0?1:0:c>0?3:2}function a(l,c){return u(l.x,c.x)}function u(l,c){var f=o(l,1),d=o(c,1);return f!==d?f-d:f===0?c[1]-l[1]:f===1?l[0]-c[0]:f===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,f=K9e(),d,h,p,m,g,y,v,b,w,x,S,A={point:C,lineStart:L,lineEnd:O,polygonStart:k,polygonEnd:P};function C(q,H){i(q,H)&&c.point(q,H)}function $(){for(var q=0,H=0,G=h.length;H<G;++H)for(var K=h[H],J=1,F=K.length,j=K[0],W,M,V=j[0],Q=j[1];J<F;++J)W=V,M=Q,j=K[J],V=j[0],Q=j[1],M<=r?Q>r&&(V-W)*(r-M)>(Q-M)*(e-W)&&++q:Q<=r&&(V-W)*(r-M)<(Q-M)*(e-W)&&--q;return q}function k(){c=f,d=[],h=[],S=!0}function P(){var q=$(),H=S&&q,G=(d=IDe(d)).length;(H||G)&&(l.polygonStart(),H&&(l.lineStart(),s(null,null,1,l),l.lineEnd()),G&&X9e(d,a,q,s,l),l.polygonEnd()),c=l,d=h=p=null}function L(){A.point=B,h&&h.push(p=[]),x=!0,w=!1,v=b=NaN}function O(){d&&(B(m,g),y&&w&&f.rejoin(),d.push(f.result())),A.point=C,w&&c.lineEnd()}function B(q,H){var G=i(q,H);if(h&&p.push([q,H]),x)m=q,g=H,y=G,x=!1,G&&(c.lineStart(),c.point(q,H));else if(G&&w)c.point(q,H);else{var K=[v=Math.max(ZP,Math.min(JP,v)),b=Math.max(ZP,Math.min(JP,b))],J=[q=Math.max(ZP,Math.min(JP,q)),H=Math.max(ZP,Math.min(JP,H))];uPt(K,J,e,t,n,r)?(w||(c.lineStart(),c.point(K[0],K[1])),c.point(J[0],J[1]),G||c.lineEnd(),S=!1):G&&(c.lineStart(),c.point(q,H),S=!1)}v=q,b=H,w=G}return A}}function nwe(e,t,n){var r=Ic(e,t-mn,n).concat(t);return function(i){return r.map(function(s){return[i,s]})}}function rwe(e,t,n){var r=Ic(e,t-mn,n).concat(t);return function(i){return r.map(function(s){return[s,i]})}}function lPt(){var e,t,n,r,i,s,o,a,u=10,l=u,c=90,f=360,d,h,p,m,g=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Ic(YP(r/c)*c,n,c).map(p).concat(Ic(YP(a/f)*f,o,f).map(m)).concat(Ic(YP(t/u)*u,e,u).filter(function(b){return zr(b%c)>mn}).map(d)).concat(Ic(YP(s/l)*l,i,l).filter(function(b){return zr(b%f)>mn}).map(h))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(o).slice(1),p(n).reverse().slice(1),m(a).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],a=+b[0][1],o=+b[1][1],r>n&&(b=r,r=n,n=b),a>o&&(b=a,a=o,o=b),y.precision(g)):[[r,a],[n,o]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],s=+b[0][1],i=+b[1][1],t>e&&(b=t,t=e,e=b),s>i&&(b=s,s=i,i=b),y.precision(g)):[[t,s],[e,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(c=+b[0],f=+b[1],y):[c,f]},y.stepMinor=function(b){return arguments.length?(u=+b[0],l=+b[1],y):[u,l]},y.precision=function(b){return arguments.length?(g=+b,d=nwe(s,i,90),h=rwe(t,e,g),p=nwe(a,o,90),m=rwe(r,n,g),y):g},y.extentMajor([[-180,-90+mn],[180,90-mn]]).extentMinor([[-180,-80-mn],[180,80+mn]])}const sR=e=>e;var uW=new Il,HQ=new Il,Z9e,eLe,qQ,WQ,Pg={point:Za,lineStart:Za,lineEnd:Za,polygonStart:function(){Pg.lineStart=cPt,Pg.lineEnd=dPt},polygonEnd:function(){Pg.lineStart=Pg.lineEnd=Pg.point=Za,uW.add(zr(HQ)),HQ=new Il},result:function(){var e=uW/2;return uW=new Il,e}};function cPt(){Pg.point=fPt}function fPt(e,t){Pg.point=tLe,Z9e=qQ=e,eLe=WQ=t}function tLe(e,t){HQ.add(WQ*e-qQ*t),qQ=e,WQ=t}function dPt(){tLe(Z9e,eLe)}var hA=1/0,OL=hA,oR=-hA,DL=oR,LL={point:hPt,lineStart:Za,lineEnd:Za,polygonStart:Za,polygonEnd:Za,result:function(){var e=[[hA,OL],[oR,DL]];return oR=DL=-(OL=hA=1/0),e}};function hPt(e,t){e<hA&&(hA=e),e>oR&&(oR=e),t<OL&&(OL=t),t>DL&&(DL=t)}var GQ=0,YQ=0,L4=0,ML=0,FL=0,qT=0,KQ=0,XQ=0,M4=0,nLe,rLe,T0,S0,Dd={point:Dx,lineStart:iwe,lineEnd:swe,polygonStart:function(){Dd.lineStart=gPt,Dd.lineEnd=yPt},polygonEnd:function(){Dd.point=Dx,Dd.lineStart=iwe,Dd.lineEnd=swe},result:function(){var e=M4?[KQ/M4,XQ/M4]:qT?[ML/qT,FL/qT]:L4?[GQ/L4,YQ/L4]:[NaN,NaN];return GQ=YQ=L4=ML=FL=qT=KQ=XQ=M4=0,e}};function Dx(e,t){GQ+=e,YQ+=t,++L4}function iwe(){Dd.point=pPt}function pPt(e,t){Dd.point=mPt,Dx(T0=e,S0=t)}function mPt(e,t){var n=e-T0,r=t-S0,i=Ll(n*n+r*r);ML+=i*(T0+e)/2,FL+=i*(S0+t)/2,qT+=i,Dx(T0=e,S0=t)}function swe(){Dd.point=Dx}function gPt(){Dd.point=vPt}function yPt(){iLe(nLe,rLe)}function vPt(e,t){Dd.point=iLe,Dx(nLe=T0=e,rLe=S0=t)}function iLe(e,t){var n=e-T0,r=t-S0,i=Ll(n*n+r*r);ML+=i*(T0+e)/2,FL+=i*(S0+t)/2,qT+=i,i=S0*e-T0*t,KQ+=i*(T0+e),XQ+=i*(S0+t),M4+=i*3,Dx(T0=e,S0=t)}function sLe(e){this._context=e}sLe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Dl);break}}},result:Za};var QQ=new Il,lW,oLe,aLe,F4,B4,aR={point:Za,lineStart:function(){aR.point=bPt},lineEnd:function(){lW&&uLe(oLe,aLe),aR.point=Za},polygonStart:function(){lW=!0},polygonEnd:function(){lW=null},result:function(){var e=+QQ;return QQ=new Il,e}};function bPt(e,t){aR.point=uLe,oLe=F4=e,aLe=B4=t}function uLe(e,t){F4-=e,B4-=t,QQ.add(Ll(F4*F4+B4*B4)),F4=e,B4=t}let owe,BL,awe,uwe;class lwe{constructor(t){this._append=t==null?lLe:_Pt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==awe||this._append!==BL){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,awe=r,BL=this._append,uwe=this._,this._=i}this._+=uwe;break}}}result(){const t=this._;return this._="",t.length?t:null}}function lLe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function _Pt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return lLe;if(t!==owe){const n=10**t;owe=t,BL=function(i){let s=1;this._+=i[0];for(const o=i.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return BL}function cLe(e,t){let n=3,r=4.5,i,s;function o(a){return a&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),Ng(a,i(s))),s.result()}return o.area=function(a){return Ng(a,i(Pg)),Pg.result()},o.measure=function(a){return Ng(a,i(aR)),aR.result()},o.bounds=function(a){return Ng(a,i(LL)),LL.result()},o.centroid=function(a){return Ng(a,i(Dd)),Dd.result()},o.projection=function(a){return arguments.length?(i=a==null?(e=null,sR):(e=a).stream,o):e},o.context=function(a){return arguments.length?(s=a==null?(t=null,new lwe(n)):new sLe(t=a),typeof r!="function"&&s.pointRadius(r),o):t},o.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(s.pointRadius(+a),+a),o):r},o.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const u=Math.floor(a);if(!(u>=0))throw new RangeError(`invalid digits: ${a}`);n=u}return t===null&&(s=new lwe(n)),o},o.projection(e).digits(n).context(t)}function TB(e){return function(t){var n=new JQ;for(var r in e)n[r]=e[r];return n.stream=t,n}}function JQ(){}JQ.prototype={constructor:JQ,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function zse(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Ng(n,e.stream(LL)),t(LL.result()),r!=null&&e.clipExtent(r),e}function SB(e,t,n){return zse(e,function(r){var i=t[1][0]-t[0][0],s=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),a=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(s-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,u])},n)}function Vse(e,t,n){return SB(e,[[0,0],t],n)}function Hse(e,t,n){return zse(e,function(r){var i=+t,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,a=-s*r[0][1];e.scale(150*s).translate([o,a])},n)}function qse(e,t,n){return zse(e,function(r){var i=+t,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],a=(i-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,a])},n)}var cwe=16,wPt=hn(30*fr);function fwe(e,t){return+t?EPt(e,t):xPt(e)}function xPt(e){return TB({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function EPt(e,t){function n(r,i,s,o,a,u,l,c,f,d,h,p,m,g){var y=l-r,v=c-i,b=y*y+v*v;if(b>4*t&&m--){var w=o+d,x=a+h,S=u+p,A=Ll(w*w+x*x+S*S),C=qc(S/=A),$=zr(zr(S)-1)<mn||zr(s-f)<mn?(s+f)/2:Xd(x,w),k=e($,C),P=k[0],L=k[1],O=P-r,B=L-i,q=v*O-y*B;(q*q/b>t||zr((y*O+v*B)/b-.5)>.3||o*d+a*h+u*p<wPt)&&(n(r,i,s,o,a,u,P,L,$,w/=A,x/=A,S,m,g),g.point(P,L),n(P,L,$,w,x,S,l,c,f,d,h,p,m,g))}}return function(r){var i,s,o,a,u,l,c,f,d,h,p,m,g={point:y,lineStart:v,lineEnd:w,polygonStart:function(){r.polygonStart(),g.lineStart=x},polygonEnd:function(){r.polygonEnd(),g.lineStart=v}};function y(C,$){C=e(C,$),r.point(C[0],C[1])}function v(){f=NaN,g.point=b,r.lineStart()}function b(C,$){var k=Ox([C,$]),P=e(C,$);n(f,d,c,h,p,m,f=P[0],d=P[1],c=C,h=k[0],p=k[1],m=k[2],cwe,r),r.point(f,d)}function w(){g.point=y,r.lineEnd()}function x(){v(),g.point=S,g.lineEnd=A}function S(C,$){b(i=C,$),s=f,o=d,a=h,u=p,l=m,g.point=b}function A(){n(f,d,c,h,p,m,s,o,i,a,u,l,cwe,r),g.lineEnd=w,w()}return g}}var TPt=TB({point:function(e,t){this.stream.point(e*fr,t*fr)}});function SPt(e){return TB({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function APt(e,t,n,r,i){function s(o,a){return o*=r,a*=i,[t+e*o,n-e*a]}return s.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},s}function dwe(e,t,n,r,i,s){if(!s)return APt(e,t,n,r,i);var o=hn(s),a=rn(s),u=o*e,l=a*e,c=o/e,f=a/e,d=(a*n-o*t)/e,h=(a*t+o*n)/e;function p(m,g){return m*=r,g*=i,[u*m-l*g+t,n-l*m-u*g]}return p.invert=function(m,g){return[r*(c*m-f*g+d),i*(h-f*m-c*g)]},p}function Pm(e){return fLe(function(){return e})()}function fLe(e){var t,n=150,r=480,i=250,s=0,o=0,a=0,u=0,l=0,c,f=0,d=1,h=1,p=null,m=twe,g=null,y,v,b,w=sR,x=.5,S,A,C,$,k;function P(q){return C(q[0]*fr,q[1]*fr)}function L(q){return q=C.invert(q[0],q[1]),q&&[q[0]*mo,q[1]*mo]}P.stream=function(q){return $&&k===q?$:$=TPt(SPt(c)(m(S(w(k=q)))))},P.preclip=function(q){return arguments.length?(m=q,p=void 0,B()):m},P.postclip=function(q){return arguments.length?(w=q,g=y=v=b=null,B()):w},P.clipAngle=function(q){return arguments.length?(m=+q?aPt(p=q*fr):(p=null,twe),B()):p*mo},P.clipExtent=function(q){return arguments.length?(w=q==null?(g=y=v=b=null,sR):J9e(g=+q[0][0],y=+q[0][1],v=+q[1][0],b=+q[1][1]),B()):g==null?null:[[g,y],[v,b]]},P.scale=function(q){return arguments.length?(n=+q,O()):n},P.translate=function(q){return arguments.length?(r=+q[0],i=+q[1],O()):[r,i]},P.center=function(q){return arguments.length?(s=q[0]%360*fr,o=q[1]%360*fr,O()):[s*mo,o*mo]},P.rotate=function(q){return arguments.length?(a=q[0]%360*fr,u=q[1]%360*fr,l=q.length>2?q[2]%360*fr:0,O()):[a*mo,u*mo,l*mo]},P.angle=function(q){return arguments.length?(f=q%360*fr,O()):f*mo},P.reflectX=function(q){return arguments.length?(d=q?-1:1,O()):d<0},P.reflectY=function(q){return arguments.length?(h=q?-1:1,O()):h<0},P.precision=function(q){return arguments.length?(S=fwe(A,x=q*q),B()):Ll(x)},P.fitExtent=function(q,H){return SB(P,q,H)},P.fitSize=function(q,H){return Vse(P,q,H)},P.fitWidth=function(q,H){return Hse(P,q,H)},P.fitHeight=function(q,H){return qse(P,q,H)};function O(){var q=dwe(n,0,0,d,h,f).apply(null,t(s,o)),H=dwe(n,r-q[0],i-q[1],d,h,f);return c=Y9e(a,u,l),A=zQ(t,H),C=zQ(c,A),S=fwe(A,x),B()}function B(){return $=k=null,P}return function(){return t=e.apply(this,arguments),P.invert=t.invert&&L,O()}}function Wse(e){var t=0,n=mr/3,r=fLe(e),i=r(t,n);return i.parallels=function(s){return arguments.length?r(t=s[0]*fr,n=s[1]*fr):[t*mo,n*mo]},i}function CPt(e){var t=hn(e);function n(r,i){return[r*t,rn(i)/t]}return n.invert=function(r,i){return[r/t,qc(i*t)]},n}function IPt(e,t){var n=rn(e),r=(n+rn(t))/2;if(zr(r)<mn)return CPt(e);var i=1+n*(2*r-n),s=Ll(i)/r;function o(a,u){var l=Ll(i-2*r*rn(u))/r;return[l*rn(a*=r),s-l*hn(a)]}return o.invert=function(a,u){var l=s-u,c=Xd(a,zr(l))*Fd(l);return l*r<0&&(c-=mr*Fd(a)*Fd(l)),[c/r,qc((i-(a*a+l*l)*r*r)/(2*r))]},o}function jL(){return Wse(IPt).scale(155.424).center([0,33.6442])}function dLe(){return jL().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function kPt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function RPt(){var e,t,n=dLe(),r,i=jL().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=jL().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,u,l={point:function(d,h){u=[d,h]}};function c(d){var h=d[0],p=d[1];return u=null,r.point(h,p),u||(s.point(h,p),u)||(a.point(h,p),u)}c.invert=function(d){var h=n.scale(),p=n.translate(),m=(d[0]-p[0])/h,g=(d[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?o:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=kPt([n.stream(t=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],m=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(l),s=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+mn,m+.12*h+mn],[p-.214*h-mn,m+.234*h-mn]]).stream(l),a=o.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+mn,m+.166*h+mn],[p-.115*h-mn,m+.234*h-mn]]).stream(l),f()},c.fitExtent=function(d,h){return SB(c,d,h)},c.fitSize=function(d,h){return Vse(c,d,h)},c.fitWidth=function(d,h){return Hse(c,d,h)},c.fitHeight=function(d,h){return qse(c,d,h)};function f(){return e=t=null,c}return c.scale(1070)}function hLe(e){return function(t,n){var r=hn(t),i=hn(n),s=e(r*i);return s===1/0?[2,0]:[s*i*rn(t),s*rn(n)]}}function z$(e){return function(t,n){var r=Ll(t*t+n*n),i=e(r),s=rn(i),o=hn(i);return[Xd(t*s,r*o),qc(r&&n*s/r)]}}var pLe=hLe(function(e){return Ll(2/(1+e))});pLe.invert=z$(function(e){return 2*qc(e/2)});function $Pt(){return Pm(pLe).scale(124.75).clipAngle(180-.001)}var mLe=hLe(function(e){return(e=M9e(e))&&e/rn(e)});mLe.invert=z$(function(e){return e});function NPt(){return Pm(mLe).scale(79.4188).clipAngle(180-.001)}function AB(e,t){return[e,wL(jse((ro+t)/2))]}AB.invert=function(e,t){return[e,2*BC(L9e(t))-ro]};function PPt(){return gLe(AB).scale(961/Dl)}function gLe(e){var t=Pm(e),n=t.center,r=t.scale,i=t.translate,s=t.clipExtent,o=null,a,u,l;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?o=a=u=l=null:(o=+f[0][0],a=+f[0][1],u=+f[1][0],l=+f[1][1]),c()):o==null?null:[[o,a],[u,l]]};function c(){var f=mr*r(),d=t(Z5t(t.rotate()).invert([0,0]));return s(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===AB?[[Math.max(d[0]-f,o),a],[Math.min(d[0]+f,u),l]]:[[o,Math.max(d[1]-f,a)],[u,Math.min(d[1]+f,l)]])}return c()}function e8(e){return jse((ro+e)/2)}function OPt(e,t){var n=hn(e),r=e===t?rn(e):wL(n/hn(t))/wL(e8(t)/e8(e)),i=n*sW(e8(e),r)/r;if(!r)return AB;function s(o,a){i>0?a<-ro+mn&&(a=-ro+mn):a>ro-mn&&(a=ro-mn);var u=i/sW(e8(a),r);return[u*rn(r*o),i-u*hn(r*o)]}return s.invert=function(o,a){var u=i-a,l=Fd(r)*Ll(o*o+u*u),c=Xd(o,zr(u))*Fd(u);return u*r<0&&(c-=mr*Fd(o)*Fd(u)),[c/r,2*BC(sW(i/l,1/r))-ro]},s}function DPt(){return Wse(OPt).scale(109.5).parallels([30,30])}function UL(e,t){return[e,t]}UL.invert=UL;function LPt(){return Pm(UL).scale(152.63)}function MPt(e,t){var n=hn(e),r=e===t?rn(e):(n-hn(t))/(t-e),i=n/r+e;if(zr(r)<mn)return UL;function s(o,a){var u=i-a,l=r*o;return[u*rn(l),i-u*hn(l)]}return s.invert=function(o,a){var u=i-a,l=Xd(o,zr(u))*Fd(u);return u*r<0&&(l-=mr*Fd(o)*Fd(u)),[l/r,i-Fd(r)*Ll(o*o+u*u)]},s}function FPt(){return Wse(MPt).scale(131.154).center([0,13.9389])}var F6=1.340264,B6=-.081106,j6=893e-6,U6=.003796,zL=Ll(3)/2,BPt=12;function yLe(e,t){var n=qc(zL*rn(t)),r=n*n,i=r*r*r;return[e*hn(n)/(zL*(F6+3*B6*r+i*(7*j6+9*U6*r))),n*(F6+B6*r+i*(j6+U6*r))]}yLe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,s=0,o,a,u;s<BPt&&(a=n*(F6+B6*r+i*(j6+U6*r))-t,u=F6+3*B6*r+i*(7*j6+9*U6*r),n-=o=a/u,r=n*n,i=r*r*r,!(zr(o)<NQ));++s);return[zL*e*(F6+3*B6*r+i*(7*j6+9*U6*r))/hn(n),qc(rn(n)/zL)]};function jPt(){return Pm(yLe).scale(177.158)}function vLe(e,t){var n=hn(t),r=hn(e)*n;return[n*rn(e)/r,rn(t)/r]}vLe.invert=z$(BC);function UPt(){return Pm(vLe).scale(144.049).clipAngle(60)}function zPt(){var e=1,t=0,n=0,r=1,i=1,s=0,o,a,u=null,l,c,f,d=1,h=1,p=TB({point:function(w,x){var S=b([w,x]);this.stream.point(S[0],S[1])}}),m=sR,g,y;function v(){return d=e*r,h=e*i,g=y=null,b}function b(w){var x=w[0]*d,S=w[1]*h;if(s){var A=S*o-x*a;x=x*o+S*a,S=A}return[x+t,S+n]}return b.invert=function(w){var x=w[0]-t,S=w[1]-n;if(s){var A=S*o+x*a;x=x*o-S*a,S=A}return[x/d,S/h]},b.stream=function(w){return g&&y===w?g:g=p(m(y=w))},b.postclip=function(w){return arguments.length?(m=w,u=l=c=f=null,v()):m},b.clipExtent=function(w){return arguments.length?(m=w==null?(u=l=c=f=null,sR):J9e(u=+w[0][0],l=+w[0][1],c=+w[1][0],f=+w[1][1]),v()):u==null?null:[[u,l],[c,f]]},b.scale=function(w){return arguments.length?(e=+w,v()):e},b.translate=function(w){return arguments.length?(t=+w[0],n=+w[1],v()):[t,n]},b.angle=function(w){return arguments.length?(s=w%360*fr,a=rn(s),o=hn(s),v()):s*mo},b.reflectX=function(w){return arguments.length?(r=w?-1:1,v()):r<0},b.reflectY=function(w){return arguments.length?(i=w?-1:1,v()):i<0},b.fitExtent=function(w,x){return SB(b,w,x)},b.fitSize=function(w,x){return Vse(b,w,x)},b.fitWidth=function(w,x){return Hse(b,w,x)},b.fitHeight=function(w,x){return qse(b,w,x)},b}function bLe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}bLe.invert=function(e,t){var n=t,r=25,i;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-t)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(zr(i)>mn&&--r>0);return[e/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function VPt(){return Pm(bLe).scale(175.295)}function _Le(e,t){return[hn(t)*rn(e),rn(t)]}_Le.invert=z$(qc);function HPt(){return Pm(_Le).scale(249.5).clipAngle(90+mn)}function wLe(e,t){var n=hn(t),r=1+hn(e)*n;return[n*rn(e)/r,rn(t)/r]}wLe.invert=z$(function(e){return 2*BC(e)});function qPt(){return Pm(wLe).scale(250).clipAngle(142)}function xLe(e,t){return[wL(jse((ro+t)/2)),-e]}xLe.invert=function(e,t){return[-t,2*BC(L9e(e))-ro]};function WPt(){var e=gLe(xLe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function GPt(e,t){return e.parent===t.parent?1:2}function YPt(e){return e.reduce(KPt,0)/e.length}function KPt(e,t){return e+t.x}function XPt(e){return 1+e.reduce(QPt,0)}function QPt(e,t){return Math.max(e,t.y)}function JPt(e){for(var t;t=e.children;)e=t[0];return e}function ZPt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function e8t(){var e=GPt,t=1,n=1,r=!1;function i(s){var o,a=0;s.eachAfter(function(d){var h=d.children;h?(d.x=YPt(h),d.y=XPt(h)):(d.x=o?a+=e(d,o):0,d.y=0,o=d)});var u=JPt(s),l=ZPt(s),c=u.x-e(u,l)/2,f=l.x+e(l,u)/2;return s.eachAfter(r?function(d){d.x=(d.x-s.x)*t,d.y=(s.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(s.y?d.y/s.y:1))*n})}return i.separation=function(s){return arguments.length?(e=s,i):e},i.size=function(s){return arguments.length?(r=!1,t=+s[0],n=+s[1],i):r?null:[t,n]},i.nodeSize=function(s){return arguments.length?(r=!0,t=+s[0],n=+s[1],i):r?[t,n]:null},i}function t8t(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function n8t(){return this.eachAfter(t8t)}function r8t(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function i8t(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function s8t(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function o8t(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function a8t(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function u8t(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function l8t(e){for(var t=this,n=c8t(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function c8t(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function f8t(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function d8t(){return Array.from(this)}function h8t(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function p8t(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*m8t(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function CB(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=v8t)):t===void 0&&(t=y8t);for(var n=new pA(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new pA(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(ELe)}function g8t(){return CB(this).eachBefore(b8t)}function y8t(e){return e.children}function v8t(e){return Array.isArray(e)?e[1]:null}function b8t(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function ELe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function pA(e){this.data=e,this.depth=this.height=0,this.parent=null}pA.prototype=CB.prototype={constructor:pA,count:n8t,each:r8t,eachAfter:s8t,eachBefore:i8t,find:o8t,sum:a8t,sort:u8t,path:l8t,ancestors:f8t,descendants:d8t,leaves:h8t,links:p8t,copy:g8t,[Symbol.iterator]:m8t};function yD(e){return e==null?null:TLe(e)}function TLe(e){if(typeof e!="function")throw new Error;return e}function Rw(){return 0}function bT(e){return function(){return e}}const _8t=1664525,w8t=1013904223,hwe=4294967296;function x8t(){let e=1;return()=>(e=(_8t*e+w8t)%hwe)/hwe}function E8t(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function T8t(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function S8t(e,t){for(var n=0,r=(e=T8t(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&SLe(o,s)?++n:(o=C8t(i=A8t(i,s)),n=0);return o}function A8t(e,t){var n,r;if(cW(t,e))return[t];for(n=0;n<e.length;++n)if(t8(t,e[n])&&cW(j4(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(t8(j4(e[n],e[r]),t)&&t8(j4(e[n],t),e[r])&&t8(j4(e[r],t),e[n])&&cW(ALe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function t8(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function SLe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function cW(e,t){for(var n=0;n<t.length;++n)if(!SLe(e,t[n]))return!1;return!0}function C8t(e){switch(e.length){case 1:return I8t(e[0]);case 2:return j4(e[0],e[1]);case 3:return ALe(e[0],e[1],e[2])}}function I8t(e){return{x:e.x,y:e.y,r:e.r}}function j4(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function ALe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,m=i-c,g=u-s,y=f-s,v=r*r+i*i-s*s,b=v-o*o-a*a+u*u,w=v-l*l-c*c+f*f,x=h*p-d*m,S=(p*w-m*b)/(x*2)-r,A=(m*g-p*y)/x,C=(h*b-d*w)/(x*2)-i,$=(d*y-h*g)/x,k=A*A+$*$-1,P=2*(s+S*A+C*$),L=S*S+C*C-s*s,O=-(Math.abs(k)>1e-6?(P+Math.sqrt(P*P-4*k*L))/(2*k):L/P);return{x:r+S+A*O,y:i+C+$*O,r:O}}function pwe(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function mwe(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function gwe(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function n8(e){this._=e,this.next=null,this.previous=null}function k8t(e,t){if(!(s=(e=E8t(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;pwe(r,n,i=e[2]),n=new n8(n),r=new n8(r),i=new n8(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){pwe(n._,r._,i=e[u]),i=new n8(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(mwe(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(mwe(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=gwe(n);(i=i.next)!==r;)(a=gwe(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=S8t(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function R8t(e){return Math.sqrt(e.value)}function CLe(){var e=null,t=1,n=1,r=Rw;function i(s){const o=x8t();return s.x=t/2,s.y=n/2,e?s.eachBefore(ywe(e)).eachAfter(fW(r,.5,o)).eachBefore(vwe(1)):s.eachBefore(ywe(R8t)).eachAfter(fW(Rw,1,o)).eachAfter(fW(r,s.r/Math.min(t,n),o)).eachBefore(vwe(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=yD(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:bT(+s),i):r},i}function ywe(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function fW(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=k8t(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function vwe(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function ILe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function V$(e,t,n,r,i){for(var s=e.children,o,a=-1,u=s.length,l=e.value&&(r-t)/e.value;++a<u;)o=s[a],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l}function $8t(){var e=1,t=1,n=0,r=!1;function i(o){var a=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/a,o.eachBefore(s(t,a)),r&&o.eachBefore(ILe),o}function s(o,a){return function(u){u.children&&V$(u,u.x0,o*(u.depth+1)/a,u.x1,o*(u.depth+2)/a);var l=u.x0,c=u.y0,f=u.x1-n,d=u.y1-n;f<l&&(l=f=(l+f)/2),d<c&&(c=d=(c+d)/2),u.x0=l,u.y0=c,u.x1=f,u.y1=d}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var N8t={depth:-1},bwe={},dW={};function P8t(e){return e.id}function O8t(e){return e.parentId}function _we(){var e=P8t,t=O8t,n;function r(i){var s=Array.from(i),o=e,a=t,u,l,c,f,d,h,p,m,g=new Map;if(n!=null){const y=s.map((w,x)=>D8t(n(w,x,i))),v=y.map(wwe),b=new Set(y).add("");for(const w of v)b.has(w)||(b.add(w),y.push(w),v.push(wwe(w)),s.push(dW));o=(w,x)=>y[x],a=(w,x)=>v[x]}for(c=0,u=s.length;c<u;++c)l=s[c],h=s[c]=new pA(l),(p=o(l,c,i))!=null&&(p+="")&&(m=h.id=p,g.set(m,g.has(m)?bwe:h)),(p=a(l,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<u;++c)if(h=s[c],p=h.parent){if(d=g.get(p),!d)throw new Error("missing: "+p);if(d===bwe)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===dW&&f.children.length===1;)f=f.children[0],--u;for(let y=s.length-1;y>=0&&(h=s[y],h.data===dW);--y)h.data=null}if(f.parent=N8t,f.eachBefore(function(y){y.depth=y.parent.depth+1,--u}).eachBefore(ELe),f.parent=null,u>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=yD(i),r):e},r.parentId=function(i){return arguments.length?(t=yD(i),r):t},r.path=function(i){return arguments.length?(n=yD(i),r):n},r}function D8t(e){e=`${e}`;let t=e.length;return ZQ(e,t-1)&&!ZQ(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function wwe(e){let t=e.length;if(t<2)return"";for(;--t>1&&!ZQ(e,t););return e.slice(0,t)}function ZQ(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function L8t(e,t){return e.parent===t.parent?1:2}function hW(e){var t=e.children;return t?t[0]:e.t}function pW(e){var t=e.children;return t?t[t.length-1]:e.t}function M8t(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function F8t(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function B8t(e,t,n){return e.a.parent===t.parent?e.a:n}function vD(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}vD.prototype=Object.create(pA.prototype);function j8t(e){for(var t=new vD(e,0),n,r=[t],i,s,o,a;n=r.pop();)if(s=n._.children)for(n.children=new Array(a=s.length),o=a-1;o>=0;--o)r.push(i=n.children[o]=new vD(s[o],o)),i.parent=n;return(t.parent=new vD(null,0)).children=[t],t}function U8t(){var e=L8t,t=1,n=1,r=null;function i(l){var c=j8t(l);if(c.eachAfter(s),c.parent.m=-c.z,c.eachBefore(o),r)l.eachBefore(u);else{var f=l,d=l,h=l;l.eachBefore(function(v){v.x<f.x&&(f=v),v.x>d.x&&(d=v),v.depth>h.depth&&(h=v)});var p=f===d?1:e(f,d)/2,m=p-f.x,g=t/(d.x+p+m),y=n/(h.depth||1);l.eachBefore(function(v){v.x=(v.x+m)*g,v.y=v.depth*y})}return l}function s(l){var c=l.children,f=l.parent.children,d=l.i?f[l.i-1]:null;if(c){F8t(l);var h=(c[0].z+c[c.length-1].z)/2;d?(l.z=d.z+e(l._,d._),l.m=l.z-h):l.z=h}else d&&(l.z=d.z+e(l._,d._));l.parent.A=a(l,d,l.parent.A||f[0])}function o(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function a(l,c,f){if(c){for(var d=l,h=l,p=c,m=d.parent.children[0],g=d.m,y=h.m,v=p.m,b=m.m,w;p=pW(p),d=hW(d),p&&d;)m=hW(m),h=pW(h),h.a=l,w=p.z+v-d.z-g+e(p._,d._),w>0&&(M8t(B8t(p,l,f),l,w),g+=w,y+=w),v+=p.m,g+=d.m,b+=m.m,y+=h.m;p&&!pW(h)&&(h.t=p,h.m+=v-y),d&&!hW(m)&&(m.t=d,m.m+=g-b,f=l)}return f}function u(l){l.x*=t,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(r=!1,t=+l[0],n=+l[1],i):r?null:[t,n]},i.nodeSize=function(l){return arguments.length?(r=!0,t=+l[0],n=+l[1],i):r?[t,n]:null},i}function IB(e,t,n,r,i){for(var s=e.children,o,a=-1,u=s.length,l=e.value&&(i-n)/e.value;++a<u;)o=s[a],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l}var kLe=(1+Math.sqrt(5))/2;function RLe(e,t,n,r,i,s){for(var o=[],a=t.children,u,l,c=0,f=0,d=a.length,h,p,m=t.value,g,y,v,b,w,x,S;c<d;){h=i-n,p=s-r;do g=a[f++].value;while(!g&&f<d);for(y=v=g,x=Math.max(p/h,h/p)/(m*e),S=g*g*x,w=Math.max(v/S,S/y);f<d;++f){if(g+=l=a[f].value,l<y&&(y=l),l>v&&(v=l),S=g*g*x,b=Math.max(v/S,S/y),b>w){g-=l;break}w=b}o.push(u={value:g,dice:h<p,children:a.slice(c,f)}),u.dice?V$(u,n,r,i,m?r+=p*g/m:s):IB(u,n,r,m?n+=h*g/m:i,s),m-=g,c=f}return o}const $Le=function e(t){function n(r,i,s,o,a){RLe(t,r,i,s,o,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(kLe);function z8t(){var e=$Le,t=!1,n=1,r=1,i=[0],s=Rw,o=Rw,a=Rw,u=Rw,l=Rw;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(ILe),d}function f(d){var h=i[d.depth],p=d.x0+h,m=d.y0+h,g=d.x1-h,y=d.y1-h;g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),d.x0=p,d.y0=m,d.x1=g,d.y1=y,d.children&&(h=i[d.depth+1]=s(d)/2,p+=l(d)-h,m+=o(d)-h,g-=a(d)-h,y-=u(d)-h,g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),e(d,p,m,g,y))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=TLe(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(s=typeof d=="function"?d:bT(+d),c):s},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:bT(+d),c):o},c.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:bT(+d),c):a},c.paddingBottom=function(d){return arguments.length?(u=typeof d=="function"?d:bT(+d),c):u},c.paddingLeft=function(d){return arguments.length?(l=typeof d=="function"?d:bT(+d),c):l},c}function V8t(e,t,n,r,i){var s=e.children,o,a=s.length,u,l=new Array(a+1);for(l[0]=u=o=0;o<a;++o)l[o+1]=u+=s[o].value;c(0,a,e.value,t,n,r,i);function c(f,d,h,p,m,g,y){if(f>=d-1){var v=s[f];v.x0=p,v.y0=m,v.x1=g,v.y1=y;return}for(var b=l[f],w=h/2+b,x=f+1,S=d-1;x<S;){var A=x+S>>>1;l[A]<w?x=A+1:S=A}w-l[x-1]<l[x]-w&&f+1<x&&--x;var C=l[x]-b,$=h-C;if(g-p>y-m){var k=h?(p*$+g*C)/h:g;c(f,x,C,p,m,k,y),c(x,d,$,k,m,g,y)}else{var P=h?(m*$+y*C)/h:y;c(f,x,C,p,m,g,P),c(x,d,$,p,P,g,y)}}}function H8t(e,t,n,r,i){(e.depth&1?IB:V$)(e,t,n,r,i)}const q8t=function e(t){function n(r,i,s,o,a){if((u=r._squarify)&&u.ratio===t)for(var u,l,c,f,d=-1,h,p=u.length,m=r.value;++d<p;){for(l=u[d],c=l.children,f=l.value=0,h=c.length;f<h;++f)l.value+=c[f].value;l.dice?V$(l,i,s,o,m?s+=(a-s)*l.value/m:a):IB(l,i,s,m?i+=(o-i)*l.value/m:o,a),m-=l.value}else r._squarify=u=RLe(t,r,i,s,o,a),u.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(kLe);function Fp(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function h_(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const eJ=Symbol("implicit");function p_(){var e=new t_e,t=[],n=[],r=eJ;function i(s){let o=e.get(s);if(o===void 0){if(r!==eJ)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new t_e;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return p_(t,n).unknown(r)},Fp.apply(i,arguments),i}function jC(){var e=p_().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,m=h?r:i;s=(m-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(m-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var g=Ic(d).map(function(y){return p+s*y});return n(h?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return jC(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},Fp.apply(f(),arguments)}function W8t(e){return function(){return e}}function tJ(e){return+e}var xwe=[0,1];function kc(e){return e}function nJ(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:W8t(isNaN(t)?NaN:.5)}function G8t(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Y8t(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=nJ(i,r),s=n(o,s)):(r=nJ(r,i),s=n(s,o)),function(a){return s(r(a))}}function K8t(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=nJ(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=pb(e,a,1,r)-1;return s[u](i[u](a))}}function H$(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kB(){var e=xwe,t=xwe,n=Ky,r,i,s,o=kc,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==kc&&(o=G8t(e[0],e[d-1])),a=d>2?K8t:Y8t,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),Nd)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,tJ),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=B$,c()},f.clamp=function(d){return arguments.length?(o=d?!0:kc,c()):o!==kc},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function NLe(){return kB()(kc,kc)}function PLe(e,t,n,r){var i=mb(e,t,n),s;switch(r=Px(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=O9e(i,o))&&(r.precision=s),Bse(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=D9e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=P9e(i))&&(r.precision=s-(r.type==="%")*2);break}}return d_(r)}function R2(e){var t=e.domain;return e.ticks=function(n){var r=t();return hQ(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return PLe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=pQ(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function Pa(){var e=NLe();return e.copy=function(){return H$(e,Pa())},Fp.apply(e,arguments),R2(e)}function OLe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,tJ),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return OLe(e).unknown(t)},e=arguments.length?Array.from(e,tJ):[0,1],R2(n)}function DLe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function Ewe(e){return Math.log(e)}function Twe(e){return Math.exp(e)}function X8t(e){return-Math.log(-e)}function Q8t(e){return-Math.exp(-e)}function J8t(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Z8t(e){return e===10?J8t:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eOt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Swe(e){return(t,n)=>-e(-t,n)}function Gse(e){const t=e(Ewe,Twe),n=t.domain;let r=10,i,s;function o(){return i=eOt(r),s=Z8t(r),n()[0]<0?(i=Swe(i),s=Swe(s),e(X8t,Q8t)):e(Ewe,Twe),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const u=n();let l=u[0],c=u[u.length-1];const f=c<l;f&&([l,c]=[c,l]);let d=i(l),h=i(c),p,m;const g=a==null?10:+a;let y=[];if(!(r%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),l>0){for(;d<=h;++d)for(p=1;p<r;++p)if(m=d<0?p/s(-d):p*s(d),!(m<l)){if(m>c)break;y.push(m)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(m=d>0?p/s(-d):p*s(d),!(m<l)){if(m>c)break;y.push(m)}y.length*2<g&&(y=hQ(l,c,g))}else y=hQ(d,h,Math.min(h-d,g)).map(s);return f?y.reverse():y},t.tickFormat=(a,u)=>{if(a==null&&(a=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Px(u)).precision==null&&(u.trim=!0),u=d_(u)),a===1/0)return u;const l=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/s(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=l?u(c):""}},t.nice=()=>n(DLe(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function LLe(){const e=Gse(kB()).domain([1,10]);return e.copy=()=>H$(e,LLe()).base(e.base()),Fp.apply(e,arguments),e}function Awe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Cwe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yse(e){var t=1,n=e(Awe(t),Cwe(t));return n.constant=function(r){return arguments.length?e(Awe(t=+r),Cwe(t)):t},R2(n)}function MLe(){var e=Yse(kB());return e.copy=function(){return H$(e,MLe()).constant(e.constant())},Fp.apply(e,arguments)}function Iwe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tOt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nOt(e){return e<0?-e*e:e*e}function Kse(e){var t=e(kc,kc),n=1;function r(){return n===1?e(kc,kc):n===.5?e(tOt,nOt):e(Iwe(n),Iwe(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},R2(t)}function Xse(){var e=Kse(kB());return e.copy=function(){return H$(e,Xse()).exponent(e.exponent())},Fp.apply(e,arguments),e}function rOt(){return Xse.apply(null,arguments).exponent(.5)}function FLe(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=ADe(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[pb(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ny),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return FLe().domain(e).range(t).unknown(r)},Fp.apply(s,arguments)}function BLe(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(u){return u!=null&&u<=u?i[pb(r,u,0,n)]:s}function a(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,a()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,a()):i.slice()},o.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return BLe().domain([e,t]).range(i).unknown(s)},Fp.apply(R2(o),arguments)}function jLe(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[pb(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return jLe().domain(e).range(t).unknown(n)},Fp.apply(i,arguments)}const mW=new Date,gW=new Date;function la(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>la(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(mW.setTime(+s),gW.setTime(+o),e(mW),e(gW),Math.floor(n(mW,gW))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const mA=la(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mA.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?la(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):mA);mA.range;const Hg=1e3,Bd=Hg*60,qg=Bd*60,Ay=qg*24,Qse=Ay*7,kwe=Ay*30,yW=Ay*365,Wg=la(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hg)},(e,t)=>(t-e)/Hg,e=>e.getUTCSeconds());Wg.range;const RB=la(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hg)},(e,t)=>{e.setTime(+e+t*Bd)},(e,t)=>(t-e)/Bd,e=>e.getMinutes());RB.range;const $B=la(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bd)},(e,t)=>(t-e)/Bd,e=>e.getUTCMinutes());$B.range;const NB=la(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hg-e.getMinutes()*Bd)},(e,t)=>{e.setTime(+e+t*qg)},(e,t)=>(t-e)/qg,e=>e.getHours());NB.range;const PB=la(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qg)},(e,t)=>(t-e)/qg,e=>e.getUTCHours());PB.range;const sy=la(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bd)/Ay,e=>e.getDate()-1);sy.range;const Yv=la(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ay,e=>e.getUTCDate()-1);Yv.range;const ULe=la(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ay,e=>Math.floor(e/Ay));ULe.range;function $2(e){return la(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Bd)/Qse)}const UC=$2(0),VL=$2(1),iOt=$2(2),sOt=$2(3),gA=$2(4),oOt=$2(5),aOt=$2(6);UC.range;VL.range;iOt.range;sOt.range;gA.range;oOt.range;aOt.range;function N2(e){return la(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Qse)}const zC=N2(0),HL=N2(1),uOt=N2(2),lOt=N2(3),yA=N2(4),cOt=N2(5),fOt=N2(6);zC.range;HL.range;uOt.range;lOt.range;yA.range;cOt.range;fOt.range;const uR=la(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());uR.range;const lR=la(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lR.range;const am=la(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());am.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:la(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});am.range;const um=la(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());um.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:la(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});um.range;function zLe(e,t,n,r,i,s){const o=[[Wg,1,Hg],[Wg,5,5*Hg],[Wg,15,15*Hg],[Wg,30,30*Hg],[s,1,Bd],[s,5,5*Bd],[s,15,15*Bd],[s,30,30*Bd],[i,1,qg],[i,3,3*qg],[i,6,6*qg],[i,12,12*qg],[r,1,Ay],[r,2,2*Ay],[n,1,Qse],[t,1,kwe],[t,3,3*kwe],[e,1,yW]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=pp(([,,g])=>g).right(o,d);if(h===o.length)return e.every(mb(l/yW,c/yW,f));if(h===0)return mA.every(Math.max(mb(l,c,f),1));const[p,m]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(m)}return[a,u]}const[dOt,hOt]=zLe(um,lR,zC,ULe,PB,$B),[pOt,mOt]=zLe(am,uR,UC,sy,NB,RB);function vW(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bW(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function SI(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function VLe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=AI(i),c=CI(i),f=AI(s),d=CI(s),h=AI(o),p=CI(o),m=AI(a),g=CI(a),y=AI(u),v=CI(u),b={a:G,A:K,b:J,B:F,c:null,d:Dwe,e:Dwe,f:FOt,g:YOt,G:XOt,H:DOt,I:LOt,j:MOt,L:HLe,m:BOt,M:jOt,p:j,q:W,Q:Fwe,s:Bwe,S:UOt,u:zOt,U:VOt,V:HOt,w:qOt,W:WOt,x:null,X:null,y:GOt,Y:KOt,Z:QOt,"%":Mwe},w={a:M,A:V,b:Q,B:se,c:null,d:Lwe,e:Lwe,f:tDt,g:fDt,G:hDt,H:JOt,I:ZOt,j:eDt,L:WLe,m:nDt,M:rDt,p:be,q:he,Q:Fwe,s:Bwe,S:iDt,u:sDt,U:oDt,V:aDt,w:uDt,W:lDt,x:null,X:null,y:cDt,Y:dDt,Z:pDt,"%":Mwe},x={a:k,A:P,b:L,B:O,c:B,d:Pwe,e:Pwe,f:$Ot,g:Nwe,G:$we,H:Owe,I:Owe,j:COt,L:ROt,m:AOt,M:IOt,p:$,q:SOt,Q:POt,s:OOt,S:kOt,u:_Ot,U:wOt,V:xOt,w:bOt,W:EOt,x:q,X:H,y:Nwe,Y:$we,Z:TOt,"%":NOt};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w);function S(Ce,Pe){return function(rt){var Re=[],Tt=-1,Ze=0,It=Ce.length,mt,Se,Fe;for(rt instanceof Date||(rt=new Date(+rt));++Tt<It;)Ce.charCodeAt(Tt)===37&&(Re.push(Ce.slice(Ze,Tt)),(Se=Rwe[mt=Ce.charAt(++Tt)])!=null?mt=Ce.charAt(++Tt):Se=mt==="e"?" ":"0",(Fe=Pe[mt])&&(mt=Fe(rt,Se)),Re.push(mt),Ze=Tt+1);return Re.push(Ce.slice(Ze,Tt)),Re.join("")}}function A(Ce,Pe){return function(rt){var Re=SI(1900,void 0,1),Tt=C(Re,Ce,rt+="",0),Ze,It;if(Tt!=rt.length)return null;if("Q"in Re)return new Date(Re.Q);if("s"in Re)return new Date(Re.s*1e3+("L"in Re?Re.L:0));if(Pe&&!("Z"in Re)&&(Re.Z=0),"p"in Re&&(Re.H=Re.H%12+Re.p*12),Re.m===void 0&&(Re.m="q"in Re?Re.q:0),"V"in Re){if(Re.V<1||Re.V>53)return null;"w"in Re||(Re.w=1),"Z"in Re?(Ze=bW(SI(Re.y,0,1)),It=Ze.getUTCDay(),Ze=It>4||It===0?HL.ceil(Ze):HL(Ze),Ze=Yv.offset(Ze,(Re.V-1)*7),Re.y=Ze.getUTCFullYear(),Re.m=Ze.getUTCMonth(),Re.d=Ze.getUTCDate()+(Re.w+6)%7):(Ze=vW(SI(Re.y,0,1)),It=Ze.getDay(),Ze=It>4||It===0?VL.ceil(Ze):VL(Ze),Ze=sy.offset(Ze,(Re.V-1)*7),Re.y=Ze.getFullYear(),Re.m=Ze.getMonth(),Re.d=Ze.getDate()+(Re.w+6)%7)}else("W"in Re||"U"in Re)&&("w"in Re||(Re.w="u"in Re?Re.u%7:"W"in Re?1:0),It="Z"in Re?bW(SI(Re.y,0,1)).getUTCDay():vW(SI(Re.y,0,1)).getDay(),Re.m=0,Re.d="W"in Re?(Re.w+6)%7+Re.W*7-(It+5)%7:Re.w+Re.U*7-(It+6)%7);return"Z"in Re?(Re.H+=Re.Z/100|0,Re.M+=Re.Z%100,bW(Re)):vW(Re)}}function C(Ce,Pe,rt,Re){for(var Tt=0,Ze=Pe.length,It=rt.length,mt,Se;Tt<Ze;){if(Re>=It)return-1;if(mt=Pe.charCodeAt(Tt++),mt===37){if(mt=Pe.charAt(Tt++),Se=x[mt in Rwe?Pe.charAt(Tt++):mt],!Se||(Re=Se(Ce,rt,Re))<0)return-1}else if(mt!=rt.charCodeAt(Re++))return-1}return Re}function $(Ce,Pe,rt){var Re=l.exec(Pe.slice(rt));return Re?(Ce.p=c.get(Re[0].toLowerCase()),rt+Re[0].length):-1}function k(Ce,Pe,rt){var Re=h.exec(Pe.slice(rt));return Re?(Ce.w=p.get(Re[0].toLowerCase()),rt+Re[0].length):-1}function P(Ce,Pe,rt){var Re=f.exec(Pe.slice(rt));return Re?(Ce.w=d.get(Re[0].toLowerCase()),rt+Re[0].length):-1}function L(Ce,Pe,rt){var Re=y.exec(Pe.slice(rt));return Re?(Ce.m=v.get(Re[0].toLowerCase()),rt+Re[0].length):-1}function O(Ce,Pe,rt){var Re=m.exec(Pe.slice(rt));return Re?(Ce.m=g.get(Re[0].toLowerCase()),rt+Re[0].length):-1}function B(Ce,Pe,rt){return C(Ce,t,Pe,rt)}function q(Ce,Pe,rt){return C(Ce,n,Pe,rt)}function H(Ce,Pe,rt){return C(Ce,r,Pe,rt)}function G(Ce){return o[Ce.getDay()]}function K(Ce){return s[Ce.getDay()]}function J(Ce){return u[Ce.getMonth()]}function F(Ce){return a[Ce.getMonth()]}function j(Ce){return i[+(Ce.getHours()>=12)]}function W(Ce){return 1+~~(Ce.getMonth()/3)}function M(Ce){return o[Ce.getUTCDay()]}function V(Ce){return s[Ce.getUTCDay()]}function Q(Ce){return u[Ce.getUTCMonth()]}function se(Ce){return a[Ce.getUTCMonth()]}function be(Ce){return i[+(Ce.getUTCHours()>=12)]}function he(Ce){return 1+~~(Ce.getUTCMonth()/3)}return{format:function(Ce){var Pe=S(Ce+="",b);return Pe.toString=function(){return Ce},Pe},parse:function(Ce){var Pe=A(Ce+="",!1);return Pe.toString=function(){return Ce},Pe},utcFormat:function(Ce){var Pe=S(Ce+="",w);return Pe.toString=function(){return Ce},Pe},utcParse:function(Ce){var Pe=A(Ce+="",!0);return Pe.toString=function(){return Ce},Pe}}}var Rwe={"-":"",_:" ",0:"0"},La=/^\s*\d+/,gOt=/^%/,yOt=/[\\^$*+?|[\]().{}]/g;function li(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function vOt(e){return e.replace(yOt,"\\$&")}function AI(e){return new RegExp("^(?:"+e.map(vOt).join("|")+")","i")}function CI(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function bOt(e,t,n){var r=La.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _Ot(e,t,n){var r=La.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wOt(e,t,n){var r=La.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xOt(e,t,n){var r=La.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function EOt(e,t,n){var r=La.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function $we(e,t,n){var r=La.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Nwe(e,t,n){var r=La.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function TOt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function SOt(e,t,n){var r=La.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function AOt(e,t,n){var r=La.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Pwe(e,t,n){var r=La.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function COt(e,t,n){var r=La.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Owe(e,t,n){var r=La.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function IOt(e,t,n){var r=La.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kOt(e,t,n){var r=La.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ROt(e,t,n){var r=La.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $Ot(e,t,n){var r=La.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NOt(e,t,n){var r=gOt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function POt(e,t,n){var r=La.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function OOt(e,t,n){var r=La.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Dwe(e,t){return li(e.getDate(),t,2)}function DOt(e,t){return li(e.getHours(),t,2)}function LOt(e,t){return li(e.getHours()%12||12,t,2)}function MOt(e,t){return li(1+sy.count(am(e),e),t,3)}function HLe(e,t){return li(e.getMilliseconds(),t,3)}function FOt(e,t){return HLe(e,t)+"000"}function BOt(e,t){return li(e.getMonth()+1,t,2)}function jOt(e,t){return li(e.getMinutes(),t,2)}function UOt(e,t){return li(e.getSeconds(),t,2)}function zOt(e){var t=e.getDay();return t===0?7:t}function VOt(e,t){return li(UC.count(am(e)-1,e),t,2)}function qLe(e){var t=e.getDay();return t>=4||t===0?gA(e):gA.ceil(e)}function HOt(e,t){return e=qLe(e),li(gA.count(am(e),e)+(am(e).getDay()===4),t,2)}function qOt(e){return e.getDay()}function WOt(e,t){return li(VL.count(am(e)-1,e),t,2)}function GOt(e,t){return li(e.getFullYear()%100,t,2)}function YOt(e,t){return e=qLe(e),li(e.getFullYear()%100,t,2)}function KOt(e,t){return li(e.getFullYear()%1e4,t,4)}function XOt(e,t){var n=e.getDay();return e=n>=4||n===0?gA(e):gA.ceil(e),li(e.getFullYear()%1e4,t,4)}function QOt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+li(t/60|0,"0",2)+li(t%60,"0",2)}function Lwe(e,t){return li(e.getUTCDate(),t,2)}function JOt(e,t){return li(e.getUTCHours(),t,2)}function ZOt(e,t){return li(e.getUTCHours()%12||12,t,2)}function eDt(e,t){return li(1+Yv.count(um(e),e),t,3)}function WLe(e,t){return li(e.getUTCMilliseconds(),t,3)}function tDt(e,t){return WLe(e,t)+"000"}function nDt(e,t){return li(e.getUTCMonth()+1,t,2)}function rDt(e,t){return li(e.getUTCMinutes(),t,2)}function iDt(e,t){return li(e.getUTCSeconds(),t,2)}function sDt(e){var t=e.getUTCDay();return t===0?7:t}function oDt(e,t){return li(zC.count(um(e)-1,e),t,2)}function GLe(e){var t=e.getUTCDay();return t>=4||t===0?yA(e):yA.ceil(e)}function aDt(e,t){return e=GLe(e),li(yA.count(um(e),e)+(um(e).getUTCDay()===4),t,2)}function uDt(e){return e.getUTCDay()}function lDt(e,t){return li(HL.count(um(e)-1,e),t,2)}function cDt(e,t){return li(e.getUTCFullYear()%100,t,2)}function fDt(e,t){return e=GLe(e),li(e.getUTCFullYear()%100,t,2)}function dDt(e,t){return li(e.getUTCFullYear()%1e4,t,4)}function hDt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?yA(e):yA.ceil(e),li(e.getUTCFullYear()%1e4,t,4)}function pDt(){return"+0000"}function Mwe(){return"%"}function Fwe(e){return+e}function Bwe(e){return Math.floor(+e/1e3)}var WE,Jse,YLe,q$,KLe;mDt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mDt(e){return WE=VLe(e),Jse=WE.format,YLe=WE.parse,q$=WE.utcFormat,KLe=WE.utcParse,WE}function gDt(e){return new Date(e)}function yDt(e){return e instanceof Date?+e:+new Date(+e)}function Zse(e,t,n,r,i,s,o,a,u,l){var c=NLe(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),g=l("%I %p"),y=l("%a %d"),v=l("%b %d"),b=l("%B"),w=l("%Y");function x(S){return(u(S)<S?h:a(S)<S?p:o(S)<S?m:s(S)<S?g:r(S)<S?i(S)<S?y:v:n(S)<S?b:w)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?d(Array.from(S,yDt)):d().map(gDt)},c.ticks=function(S){var A=d();return e(A[0],A[A.length-1],S??10)},c.tickFormat=function(S,A){return A==null?x:l(A)},c.nice=function(S){var A=d();return(!S||typeof S.range!="function")&&(S=t(A[0],A[A.length-1],S??10)),S?d(DLe(A,S)):c},c.copy=function(){return H$(c,Zse(e,t,n,r,i,s,o,a,u,l))},c}function eoe(){return Fp.apply(Zse(pOt,mOt,am,uR,UC,sy,NB,RB,Wg,Jse).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vDt(){return Fp.apply(Zse(dOt,hOt,um,lR,zC,Yv,PB,$B,Wg,q$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function OB(){var e=0,t=1,n,r,i,s,o=kc,a=!1,u;function l(f){return f==null||isNaN(f=+f)?u:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(f){return arguments.length?(a=!!f,l):a},l.interpolator=function(f){return arguments.length?(o=f,l):o};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,o=f(h,p),l):[o(0),o(1)]}}return l.range=c(Ky),l.rangeRound=c(B$),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),l}}function m_(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function toe(){var e=R2(OB()(kc));return e.copy=function(){return m_(e,toe())},h_.apply(e,arguments)}function XLe(){var e=Gse(OB()).domain([1,10]);return e.copy=function(){return m_(e,XLe()).base(e.base())},h_.apply(e,arguments)}function QLe(){var e=Yse(OB());return e.copy=function(){return m_(e,QLe()).constant(e.constant())},h_.apply(e,arguments)}function noe(){var e=Kse(OB());return e.copy=function(){return m_(e,noe()).exponent(e.exponent())},h_.apply(e,arguments)}function bDt(){return noe.apply(null,arguments).exponent(.5)}function DB(){var e=0,t=.5,n=1,r=1,i,s,o,a,u,l=kc,c,f=!1,d;function h(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-s)*(r*m<r*s?a:u),l(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),s=c(t=+t),o=c(n=+n),a=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(g){var y,v,b;return arguments.length?([y,v,b]=g,l=kse(m,[y,v,b]),h):[l(0),l(.5),l(1)]}}return h.range=p(Ky),h.rangeRound=p(B$),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return c=m,i=m(e),s=m(t),o=m(n),a=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,h}}function JLe(){var e=R2(DB()(kc));return e.copy=function(){return m_(e,JLe())},h_.apply(e,arguments)}function ZLe(){var e=Gse(DB()).domain([.1,1,10]);return e.copy=function(){return m_(e,ZLe()).base(e.base())},h_.apply(e,arguments)}function eMe(){var e=Yse(DB());return e.copy=function(){return m_(e,eMe()).constant(e.constant())},h_.apply(e,arguments)}function roe(){var e=Kse(DB());return e.copy=function(){return m_(e,roe()).exponent(e.exponent())},h_.apply(e,arguments)}function _Dt(){return roe.apply(null,arguments).exponent(.5)}function Bp(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const wDt=Bp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),xDt=Bp("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),EDt=Bp("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),TDt=Bp("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),SDt=Bp("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ADt=Bp("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),CDt=Bp("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),IDt=Bp("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),kDt=Bp("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),RDt=Bp("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),LB=Bp("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function tr(e){return function(){return e}}const jwe=Math.abs,Au=Math.atan2,K_=Math.cos,$Dt=Math.max,_W=Math.min,t0=Math.sin,Kw=Math.sqrt,Ru=1e-12,vA=Math.PI,qL=vA/2,z6=2*vA;function NDt(e){return e>1?0:e<-1?vA:Math.acos(e)}function Uwe(e){return e>=1?qL:e<=-1?-qL:Math.asin(e)}function MB(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Ose(t)}function PDt(e){return e.innerRadius}function ODt(e){return e.outerRadius}function DDt(e){return e.startAngle}function LDt(e){return e.endAngle}function MDt(e){return e&&e.padAngle}function FDt(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<Ru))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function r8(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/Kw(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,m=r+f,g=(d+p)/2,y=(h+m)/2,v=p-d,b=m-h,w=v*v+b*b,x=i-s,S=d*m-p*h,A=(b<0?-1:1)*Kw($Dt(0,x*x*w-S*S)),C=(S*b-v*A)/w,$=(-S*v-b*A)/w,k=(S*b+v*A)/w,P=(-S*v+b*A)/w,L=C-g,O=$-y,B=k-g,q=P-y;return L*L+O*O>B*B+q*q&&(C=k,$=P),{cx:C,cy:$,x01:-c,y01:-f,x11:C*(i/x-1),y11:$*(i/x-1)}}function rJ(){var e=PDt,t=ODt,n=tr(0),r=null,i=DDt,s=LDt,o=MDt,a=null,u=MB(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-qL,m=s.apply(this,arguments)-qL,g=jwe(m-p),y=m>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>Ru))a.moveTo(0,0);else if(g>z6-Ru)a.moveTo(h*K_(p),h*t0(p)),a.arc(0,0,h,p,m,!y),d>Ru&&(a.moveTo(d*K_(m),d*t0(m)),a.arc(0,0,d,m,p,y));else{var v=p,b=m,w=p,x=m,S=g,A=g,C=o.apply(this,arguments)/2,$=C>Ru&&(r?+r.apply(this,arguments):Kw(d*d+h*h)),k=_W(jwe(h-d)/2,+n.apply(this,arguments)),P=k,L=k,O,B;if($>Ru){var q=Uwe($/d*t0(C)),H=Uwe($/h*t0(C));(S-=q*2)>Ru?(q*=y?1:-1,w+=q,x-=q):(S=0,w=x=(p+m)/2),(A-=H*2)>Ru?(H*=y?1:-1,v+=H,b-=H):(A=0,v=b=(p+m)/2)}var G=h*K_(v),K=h*t0(v),J=d*K_(x),F=d*t0(x);if(k>Ru){var j=h*K_(b),W=h*t0(b),M=d*K_(w),V=d*t0(w),Q;if(g<vA)if(Q=FDt(G,K,M,V,j,W,J,F)){var se=G-Q[0],be=K-Q[1],he=j-Q[0],Ce=W-Q[1],Pe=1/t0(NDt((se*he+be*Ce)/(Kw(se*se+be*be)*Kw(he*he+Ce*Ce)))/2),rt=Kw(Q[0]*Q[0]+Q[1]*Q[1]);P=_W(k,(d-rt)/(Pe-1)),L=_W(k,(h-rt)/(Pe+1))}else P=L=0}A>Ru?L>Ru?(O=r8(M,V,G,K,h,L,y),B=r8(j,W,J,F,h,L,y),a.moveTo(O.cx+O.x01,O.cy+O.y01),L<k?a.arc(O.cx,O.cy,L,Au(O.y01,O.x01),Au(B.y01,B.x01),!y):(a.arc(O.cx,O.cy,L,Au(O.y01,O.x01),Au(O.y11,O.x11),!y),a.arc(0,0,h,Au(O.cy+O.y11,O.cx+O.x11),Au(B.cy+B.y11,B.cx+B.x11),!y),a.arc(B.cx,B.cy,L,Au(B.y11,B.x11),Au(B.y01,B.x01),!y))):(a.moveTo(G,K),a.arc(0,0,h,v,b,!y)):a.moveTo(G,K),!(d>Ru)||!(S>Ru)?a.lineTo(J,F):P>Ru?(O=r8(J,F,j,W,d,-P,y),B=r8(G,K,M,V,d,-P,y),a.lineTo(O.cx+O.x01,O.cy+O.y01),P<k?a.arc(O.cx,O.cy,P,Au(O.y01,O.x01),Au(B.y01,B.x01),!y):(a.arc(O.cx,O.cy,P,Au(O.y01,O.x01),Au(O.y11,O.x11),!y),a.arc(0,0,d,Au(O.cy+O.y11,O.cx+O.x11),Au(B.cy+B.y11,B.cx+B.x11),y),a.arc(B.cx,B.cy,P,Au(B.y11,B.x11),Au(B.y01,B.x01),!y))):a.arc(0,0,d,x,w,y)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-vA/2;return[K_(f)*c,t0(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:tr(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:tr(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:tr(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:tr(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:tr(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:tr(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:tr(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function FB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tMe(e){this._context=e}tMe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ioe(e){return new tMe(e)}function nMe(e){return e[0]}function rMe(e){return e[1]}function BB(e,t){var n=tr(!0),r=null,i=ioe,s=null,o=MB(a);e=typeof e=="function"?e:e===void 0?nMe:tr(e),t=typeof t=="function"?t:t===void 0?rMe:tr(t);function a(u){var l,c=(u=FB(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:tr(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:tr(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:tr(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function iMe(e,t,n){var r=null,i=tr(!0),s=null,o=ioe,a=null,u=MB(l);e=typeof e=="function"?e:e===void 0?nMe:tr(+e),t=typeof t=="function"?t:tr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?rMe:tr(+n);function l(f){var d,h,p,m=(f=FB(f)).length,g,y=!1,v,b=new Array(m),w=new Array(m);for(s==null&&(a=o(v=u())),d=0;d<=m;++d){if(!(d<m&&i(g=f[d],d,f))===y)if(y=!y)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],w[p]);a.lineEnd(),a.areaEnd()}y&&(b[d]=+e(g,d,f),w[d]=+t(g,d,f),a.point(r?+r(g,d,f):b[d],n?+n(g,d,f):w[d]))}if(v)return a=null,v+""||null}function c(){return BB().defined(i).curve(o).context(s)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:tr(+f),r=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:tr(+f),l):e},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:tr(+f),l):r},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:tr(+f),n=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:tr(+f),l):t},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:tr(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:tr(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),l):o},l.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),l):s},l}function BDt(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function jDt(e){return e}function UDt(){var e=jDt,t=BDt,n=null,r=tr(0),i=tr(z6),s=tr(0);function o(a){var u,l=(a=FB(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),m=+r.apply(this,arguments),g=Math.min(z6,Math.max(-z6,i.apply(this,arguments)-m)),y,v=Math.min(Math.abs(g)/l,s.apply(this,arguments)),b=v*(g<0?-1:1),w;for(u=0;u<l;++u)(w=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=w);for(t!=null?h.sort(function(x,S){return t(p[x],p[S])}):n!=null&&h.sort(function(x,S){return n(a[x],a[S])}),u=0,f=d?(g-l*b)/d:0;u<l;++u,m=y)c=h[u],w=p[c],y=m+(w>0?w*f:0)+b,p[c]={data:a[c],index:u,value:w,startAngle:m,endAngle:y,padAngle:v};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:tr(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:tr(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:tr(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:tr(+a),o):s},o}const zDt={draw(e,t){const n=Kw(t/vA);e.moveTo(n,0),e.arc(0,0,n,0,z6)}};function VDt(e,t){let n=null,r=MB(i);e=typeof e=="function"?e:tr(e||zDt),t=typeof t=="function"?t:tr(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:tr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:tr(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function yb(){}function WL(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function jB(e){this._context=e}jB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:WL(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:WL(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HDt(e){return new jB(e)}function sMe(e){this._context=e}sMe.prototype={areaStart:yb,areaEnd:yb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:WL(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qDt(e){return new sMe(e)}function oMe(e){this._context=e}oMe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:WL(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WDt(e){return new oMe(e)}function aMe(e,t){this._basis=new jB(e),this._beta=t}aMe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],s=e[n]-r,o=t[n]-i,a=-1,u;++a<=n;)u=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+u*s),this._beta*t[a]+(1-this._beta)*(i+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const GDt=function e(t){function n(r){return t===1?new jB(r):new aMe(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function GL(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function soe(e,t){this._context=e,this._k=(1-t)/6}soe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:GL(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:GL(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const YDt=function e(t){function n(r){return new soe(r,t)}return n.tension=function(r){return e(+r)},n}(0);function ooe(e,t){this._context=e,this._k=(1-t)/6}ooe.prototype={areaStart:yb,areaEnd:yb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:GL(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const KDt=function e(t){function n(r){return new ooe(r,t)}return n.tension=function(r){return e(+r)},n}(0);function aoe(e,t){this._context=e,this._k=(1-t)/6}aoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:GL(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const XDt=function e(t){function n(r){return new aoe(r,t)}return n.tension=function(r){return e(+r)},n}(0);function uoe(e,t,n){var r=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>Ru){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Ru){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*l+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,s,o,e._x2,e._y2)}function uMe(e,t){this._context=e,this._alpha=t}uMe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:uoe(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const QDt=function e(t){function n(r){return t?new uMe(r,t):new soe(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function lMe(e,t){this._context=e,this._alpha=t}lMe.prototype={areaStart:yb,areaEnd:yb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:uoe(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const JDt=function e(t){function n(r){return t?new lMe(r,t):new ooe(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function cMe(e,t){this._context=e,this._alpha=t}cMe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:uoe(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ZDt=function e(t){function n(r){return t?new cMe(r,t):new aoe(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function fMe(e){this._context=e}fMe.prototype={areaStart:yb,areaEnd:yb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function e9t(e){return new fMe(e)}function zwe(e){return e<0?-1:1}function Vwe(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(zwe(s)+zwe(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function Hwe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function wW(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function YL(e){this._context=e}YL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wW(this,this._t0,Hwe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wW(this,Hwe(this,n=Vwe(this,e,t)),n);break;default:wW(this,this._t0,n=Vwe(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function dMe(e){this._context=new hMe(e)}(dMe.prototype=Object.create(YL.prototype)).point=function(e,t){YL.prototype.point.call(this,t,e)};function hMe(e){this._context=e}hMe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function t9t(e){return new YL(e)}function n9t(e){return new dMe(e)}function pMe(e){this._context=e}pMe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=qwe(e),i=qwe(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qwe(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function r9t(e){return new pMe(e)}function UB(e,t){this._context=e,this._t=t}UB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function i9t(e){return new UB(e,.5)}function s9t(e){return new UB(e,0)}function o9t(e){return new UB(e,1)}function Wwe(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Gwe(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function a9t(e,t){return e[t]}function u9t(e){const t=[];return t.key=e,t}function l9t(){var e=tr([]),t=Gwe,n=Wwe,r=a9t;function i(s){var o=Array.from(e.apply(this,arguments),u9t),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=FB(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:tr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:tr(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?Gwe:typeof s=="function"?s:tr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Wwe,i):n},i}function U4(e,t,n){this.k=e,this.x=t,this.y=n}U4.prototype={constructor:U4,scale:function(e){return e===1?this:new U4(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new U4(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};U4.prototype;function ep(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function vb(e){return!!e&&!!e[Ns]}function Cy(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===v9t}(e)||Array.isArray(e)||!!e[exe]||!!(!((t=e.constructor)===null||t===void 0)&&t[exe])||loe(e)||coe(e))}function Lx(e,t,n){n===void 0&&(n=!1),VC(e)===0?(n?Object.keys:bS)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function VC(e){var t=e[Ns];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:loe(e)?2:coe(e)?3:0}function vS(e,t){return VC(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c9t(e,t){return VC(e)===2?e.get(t):e[t]}function mMe(e,t,n){var r=VC(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function gMe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function loe(e){return g9t&&e instanceof Map}function coe(e){return y9t&&e instanceof Set}function yw(e){return e.o||e.t}function foe(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=vMe(e);delete t[Ns];for(var n=bS(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function doe(e,t){return t===void 0&&(t=!1),hoe(e)||vb(e)||!Cy(e)||(VC(e)>1&&(e.set=e.add=e.clear=e.delete=f9t),Object.freeze(e),t&&Lx(e,function(n,r){return doe(r,!0)},!0)),e}function f9t(){ep(2)}function hoe(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function G0(e){var t=aJ[e];return t||ep(18,e),t}function d9t(e,t){aJ[e]||(aJ[e]=t)}function iJ(){return cR}function xW(e,t){t&&(G0("Patches"),e.u=[],e.s=[],e.v=t)}function KL(e){sJ(e),e.p.forEach(h9t),e.p=null}function sJ(e){e===cR&&(cR=e.l)}function Ywe(e){return cR={p:[],l:cR,h:e,m:!0,_:0}}function h9t(e){var t=e[Ns];t.i===0||t.i===1?t.j():t.g=!0}function EW(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||G0("ES5").S(t,e,r),r?(n[Ns].P&&(KL(t),ep(4)),Cy(e)&&(e=XL(t,e),t.l||QL(t,e)),t.u&&G0("Patches").M(n[Ns].t,e,t.u,t.s)):e=XL(t,n,[]),KL(t),t.u&&t.v(t.u,t.s),e!==yMe?e:void 0}function XL(e,t,n){if(hoe(t))return t;var r=t[Ns];if(!r)return Lx(t,function(a,u){return Kwe(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return QL(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=foe(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Lx(s,function(a,u){return Kwe(e,r,i,a,u,n,o)}),QL(e,i,!1),n&&e.u&&G0("Patches").N(r,n,e.u,e.s)}return r.o}function Kwe(e,t,n,r,i,s,o){if(vb(i)){var a=XL(e,i,s&&t&&t.i!==3&&!vS(t.R,r)?s.concat(r):void 0);if(mMe(n,r,a),!vb(a))return;e.m=!1}else o&&n.add(i);if(Cy(i)&&!hoe(i)){if(!e.h.D&&e._<1)return;XL(e,i),t&&t.A.l||QL(e,i)}}function QL(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&doe(t,n)}function TW(e,t){var n=e[Ns];return(n?yw(n):e)[t]}function Xwe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function gv(e){e.P||(e.P=!0,e.l&&gv(e.l))}function SW(e){e.o||(e.o=foe(e.t))}function oJ(e,t,n){var r=loe(t)?G0("MapSet").F(t,n):coe(t)?G0("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:iJ(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=fR;o&&(u=[a],l=z4);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):G0("ES5").J(t,n);return(n?n.A:iJ()).p.push(r),r}function p9t(e){return vb(e)||ep(22,e),function t(n){if(!Cy(n))return n;var r,i=n[Ns],s=VC(n);if(i){if(!i.P&&(i.i<4||!G0("ES5").K(i)))return i.t;i.I=!0,r=Qwe(n,s),i.I=!1}else r=Qwe(n,s);return Lx(r,function(o,a){i&&c9t(i.t,o)===a||mMe(r,o,t(a))}),s===3?new Set(r):r}(e)}function Qwe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return foe(e)}function m9t(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[Ns];return fR.get(u,s)},set:function(u){var l=this[Ns];fR.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Ns];if(!a.P)switch(a.i){case 5:r(a)&&gv(a);break;case 4:n(a)&&gv(a)}}}function n(s){for(var o=s.t,a=s.k,u=bS(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==Ns){var f=o[c];if(f===void 0&&!vS(o,c))return!0;var d=a[c],h=d&&d[Ns];if(h?h.t!==f:!gMe(d,f))return!0}}var p=!!o[Ns];return u.length!==bS(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};d9t("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=vMe(f);delete p[Ns];for(var m=bS(p),g=0;g<m.length;g++){var y=m[g];p[y]=e(y,c||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:iJ(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,Ns,{value:l,writable:!0}),u},S:function(s,o,a){a?vb(o)&&o[Ns].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[Ns];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Lx(d,function(b){b!==Ns&&(f[b]!==void 0||vS(f,b)?h[b]||u(d[b]):(h[b]=!0,gv(c)))}),Lx(f,function(b){d[b]!==void 0||vS(d,b)||(h[b]=!1,gv(c))});else if(p===5){if(r(c)&&(gv(c),h.length=!0),d.length<f.length)for(var m=d.length;m<f.length;m++)h[m]=!1;else for(var g=f.length;g<d.length;g++)h[g]=!0;for(var y=Math.min(d.length,f.length),v=0;v<y;v++)d.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&u(d[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var Jwe,cR,poe=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",g9t=typeof Map<"u",y9t=typeof Set<"u",Zwe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",yMe=poe?Symbol.for("immer-nothing"):((Jwe={})["immer-nothing"]=!0,Jwe),exe=poe?Symbol.for("immer-draftable"):"__$immer_draftable",Ns=poe?Symbol.for("immer-state"):"__$immer_state",v9t=""+Object.prototype.constructor,bS=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,vMe=Object.getOwnPropertyDescriptors||function(e){var t={};return bS(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},aJ={},fR={get:function(e,t){if(t===Ns)return e;var n=yw(e);if(!vS(n,t))return function(i,s,o){var a,u=Xwe(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Cy(r)?r:r===TW(e.t,t)?(SW(e),e.o[t]=oJ(e.A.h,r,e)):r},has:function(e,t){return t in yw(e)},ownKeys:function(e){return Reflect.ownKeys(yw(e))},set:function(e,t,n){var r=Xwe(yw(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=TW(yw(e),t),s=i==null?void 0:i[Ns];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(gMe(n,i)&&(n!==void 0||vS(e.t,t)))return!0;SW(e),gv(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return TW(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,SW(e),gv(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=yw(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ep(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ep(12)}},z4={};Lx(fR,function(e,t){z4[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),z4.deleteProperty=function(e,t){return z4.set.call(this,e,t,void 0)},z4.set=function(e,t,n){return fR.set.call(this,e[0],t,n,e[0])};var b9t=function(){function e(n){var r=this;this.O=Zwe,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),b=1;b<y;b++)v[b-1]=arguments[b];return u.produce(m,function(w){var x;return(x=s).call.apply(x,[g,w].concat(v))})}}var l;if(typeof s!="function"&&ep(6),o!==void 0&&typeof o!="function"&&ep(7),Cy(i)){var c=Ywe(r),f=oJ(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?KL(c):sJ(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return xW(c,o),EW(m,c)},function(m){throw KL(c),m}):(xW(c,o),EW(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===yMe&&(l=void 0),r.D&&doe(l,!0),o){var h=[],p=[];G0("Patches").M(i,l,h,p),o(h,p)}return l}ep(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Cy(n)||ep(8),vb(n)&&(n=p9t(n));var r=Ywe(this),i=oJ(this,n,void 0);return i[Ns].C=!0,sJ(r),i},t.finishDraft=function(n,r){var i=n&&n[Ns],s=i.A;return xW(s,r),EW(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Zwe&&ep(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=G0("Patches").$;return vb(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Yf=new b9t,bMe=Yf.produce;Yf.produceWithPatches.bind(Yf);Yf.setAutoFreeze.bind(Yf);Yf.setUseProxies.bind(Yf);Yf.applyPatches.bind(Yf);Yf.createDraft.bind(Yf);Yf.finishDraft.bind(Yf);function dR(e){"@babel/helpers - typeof";return dR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dR(e)}function _9t(e,t){if(dR(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dR(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w9t(e){var t=_9t(e,"string");return dR(t)=="symbol"?t:t+""}function x9t(e,t,n){return(t=w9t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function txe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nxe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?txe(Object(n),!0).forEach(function(r){x9t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):txe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nu(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var rxe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),AW=function(){return Math.random().toString(36).substring(7).split("").join(".")},JL={INIT:"@@redux/INIT"+AW(),REPLACE:"@@redux/REPLACE"+AW(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+AW()}};function E9t(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function _Me(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Nu(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Nu(1));return n(_Me)(e,t)}if(typeof e!="function")throw new Error(Nu(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Nu(3));return s}function f(m){if(typeof m!="function")throw new Error(Nu(4));if(u)throw new Error(Nu(5));var g=!0;return l(),a.push(m),function(){if(g){if(u)throw new Error(Nu(6));g=!1,l();var v=a.indexOf(m);a.splice(v,1),o=null}}}function d(m){if(!E9t(m))throw new Error(Nu(7));if(typeof m.type>"u")throw new Error(Nu(8));if(u)throw new Error(Nu(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var g=o=a,y=0;y<g.length;y++){var v=g[y];v()}return m}function h(m){if(typeof m!="function")throw new Error(Nu(10));i=m,d({type:JL.REPLACE})}function p(){var m,g=f;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Nu(11));function b(){v.next&&v.next(c())}b();var w=g(b);return{unsubscribe:w}}},m[rxe]=function(){return this},m}return d({type:JL.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[rxe]=p,r}function T9t(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:JL.INIT});if(typeof r>"u")throw new Error(Nu(12));if(typeof n(void 0,{type:JL.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nu(13))})}function S9t(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{T9t(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],m=u[h],g=p(m,l);if(typeof g>"u")throw l&&l.type,new Error(Nu(14));f[h]=g,c=c||g!==m}return c=c||s.length!==Object.keys(u).length,c?f:u}}function ZL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function A9t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Nu(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=ZL.apply(void 0,a)(i.dispatch),nxe(nxe({},i),{},{dispatch:s})}}}function wMe(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var uJ=wMe();uJ.withExtraArgument=wMe;var xMe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),W$=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Mx=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},C9t=Object.defineProperty,I9t=Object.defineProperties,k9t=Object.getOwnPropertyDescriptors,ixe=Object.getOwnPropertySymbols,R9t=Object.prototype.hasOwnProperty,$9t=Object.prototype.propertyIsEnumerable,sxe=function(e,t,n){return t in e?C9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Kv=function(e,t){for(var n in t||(t={}))R9t.call(t,n)&&sxe(e,n,t[n]);if(ixe)for(var r=0,i=ixe(t);r<i.length;r++){var n=i[r];$9t.call(t,n)&&sxe(e,n,t[n])}return e},CW=function(e,t){return I9t(e,k9t(t))},G$=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},N9t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ZL:ZL.apply(null,arguments)};function EMe(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var P9t=function(e){return e&&typeof e.match=="function"};function Y0(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Kv(Kv({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function O9t(e){return EMe(e)&&"type"in e}var D9t=function(e){xMe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Mx([void 0],n[0].concat(this)))):new(t.bind.apply(t,Mx([void 0],n.concat(this))))},t}(Array),L9t=function(e){xMe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Mx([void 0],n[0].concat(this)))):new(t.bind.apply(t,Mx([void 0],n.concat(this))))},t}(Array);function lJ(e){return Cy(e)?bMe(e,function(){}):e}function M9t(e){return typeof e=="boolean"}function F9t(){return function(t){return B9t(t)}}function B9t(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new D9t;return n&&(M9t(n)?r.push(uJ):r.push(uJ.withExtraArgument(n.extraArgument))),r}function j9t(e){var t=F9t(),n=e,r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(EMe(i))h=S9t(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=A9t.apply(void 0,p),g=ZL;u&&(g=N9t(Kv({trace:!1},typeof u=="object"&&u)));var y=new L9t(m),v=y;Array.isArray(d)?v=Mx([m],d):typeof d=="function"&&(v=d(y));var b=g.apply(void 0,v);return _Me(h,c,b)}function TMe(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function U9t(e){return typeof e=="function"}function z9t(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?TMe(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(U9t(e))u=function(){return lJ(e())};else{var l=lJ(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=Mx([s[d.type]],o.filter(function(p){var m=p.matcher;return m(d)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(vb(p)){var g=p,y=m(g,d);return y===void 0?p:y}else{if(Cy(p))return bMe(p,function(v){return m(v,d)});var y=m(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},f)}return c.getInitialState=u,c}function V9t(e,t){return e+"/"+t}function H9t(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n=typeof e.initialState=="function"?e.initialState:lJ(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=V9t(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?Y0(d,p):Y0(d)});function u(){var c=typeof e.extraReducers=="function"?TMe(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,m=c[2],g=m===void 0?void 0:m,y=Kv(Kv({},d),o);return z9t(n,function(v){for(var b in y)v.addCase(b,y[b]);for(var w=0,x=p;w<x.length;w++){var S=x[w];v.addMatcher(S.matcher,S.reducer)}g&&v.addDefaultCase(g)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var q9t="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",SMe=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=q9t[Math.random()*64|0];return t},W9t=["name","message","stack","code"],IW=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),oxe=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),G9t=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=W9t;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Y0(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:CW(Kv({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Y0(t+"/pending",function(l,c,f){return{payload:void 0,meta:CW(Kv({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Y0(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||G9t)(l||"Rejected"),meta:CW(Kv({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):SMe(),p=new a,m;function g(v){m=v,p.abort()}var y=function(){return G$(this,null,function(){var v,b,w,x,S,A,C;return W$(this,function($){switch($.label){case 0:return $.trys.push([0,4,,5]),x=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:f,extra:d}),K9t(x)?[4,x]:[3,2];case 1:x=$.sent(),$.label=2;case 2:if(x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(k,P){return p.signal.addEventListener("abort",function(){return P({name:"AbortError",message:m||"Aborted"})})}),c(s(h,l,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([S,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:g,rejectWithValue:function(k,P){return new IW(k,P)},fulfillWithValue:function(k,P){return new oxe(k,P)}})).then(function(k){if(k instanceof IW)throw k;return k instanceof oxe?i(k.payload,h,l,k.meta):i(k,h,l)})])];case 3:return w=$.sent(),[3,5];case 4:return A=$.sent(),w=A instanceof IW?o(null,h,l,A.payload,A.meta):o(A,h,l),[3,5];case 5:return C=r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition,C||c(w),[2,w]}})})}();return Object.assign(y,{abort:g,requestId:h,arg:l,unwrap:function(){return y.then(Y9t)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function Y9t(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function K9t(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var X9t=function(e,t){return P9t(e)?e.match(t):e(t)};function axe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return X9t(r,n)})}}var moe=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},cJ=function(){},AMe=function(e,t){return t===void 0&&(t=cJ),e.catch(t),e},CMe=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},_S=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Q9t="task",IMe="listener",kMe="completed",goe="cancelled",J9t="task-"+goe,Z9t="task-"+kMe,RMe=IMe+"-"+goe,eLt=IMe+"-"+kMe,zB=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=Q9t+" "+goe+" (reason: "+t+")"}return e}(),wS=function(e){if(e.aborted)throw new zB(e.reason)};function $Me(e,t){var n=cJ;return new Promise(function(r,i){var s=function(){return i(new zB(e.reason))};if(e.aborted){s();return}n=CMe(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=cJ})}var tLt=function(e,t){return G$(void 0,null,function(){var n,r;return W$(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof zB?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},eM=function(e){return function(t){return AMe($Me(e,t).then(function(n){return wS(e),n}))}},NMe=function(e){var t=eM(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},nLt=Object.assign,uxe={},Y$="listenerMiddleware",rLt=function(e,t){var n=function(r){return CMe(e,function(){return _S(r,e.reason)})};return function(r,i){moe(r,"taskExecutor");var s=new AbortController;n(s);var o=tLt(function(){return G$(void 0,null,function(){var a;return W$(this,function(u){switch(u.label){case 0:return wS(e),wS(s.signal),[4,r({pause:eM(s.signal),delay:NMe(s.signal),signal:s.signal})];case 1:return a=u.sent(),wS(s.signal),[2,a]}})})},function(){return _S(s,Z9t)});return i!=null&&i.autoJoin&&t.push(o),{result:eM(e)(o),cancel:function(){_S(s,J9t)}}}},iLt=function(e,t){var n=function(r,i){return G$(void 0,null,function(){var s,o,a,u;return W$(this,function(l){switch(l.label){case 0:wS(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,$Me(t,Promise.race(a))];case 2:return u=l.sent(),wS(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return AMe(n(r,i))}},PMe=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Y0(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return moe(s,"options.listener"),{predicate:i,type:t,effect:s}},sLt=function(e){var t=PMe(e),n=t.type,r=t.predicate,i=t.effect,s=SMe(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},fJ=function(e){e.pending.forEach(function(t){_S(t,RMe)})},oLt=function(e){return function(){e.forEach(fJ),e.clear()}},lxe=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},aLt=Y0(Y$+"/add"),uLt=Y0(Y$+"/removeAll"),lLt=Y0(Y$+"/remove"),cLt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Mx([Y$+"/error"],e))};function fLt(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?cLt:i;moe(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&fJ(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var g=m[p];if(h(g))return g}},u=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=sLt(h)),o(p)},l=function(h){var p=PMe(h),m=p.type,g=p.effect,y=p.predicate,v=a(function(b){var w=typeof m=="string"?b.type===m:b.predicate===y;return w&&b.effect===g});return v&&(v.unsubscribe(),h.cancelActive&&fJ(v)),!!v},c=function(h,p,m,g){return G$(t,null,function(){var y,v,b,w;return W$(this,function(x){switch(x.label){case 0:y=new AbortController,v=iLt(u,y.signal),b=[],x.label=1;case 1:return x.trys.push([1,3,4,6]),h.pending.add(y),[4,Promise.resolve(h.effect(p,nLt({},m,{getOriginalState:g,condition:function(S,A){return v(S,A).then(Boolean)},take:v,delay:NMe(y.signal),pause:eM(y.signal),extra:r,signal:y.signal,fork:rLt(y.signal,b),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,A,C){S!==y&&(_S(S,RMe),C.delete(S))})}})))];case 2:return x.sent(),[3,6];case 3:return w=x.sent(),w instanceof zB||lxe(s,w,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(b)];case 5:return x.sent(),_S(y,eLt),h.pending.delete(y),[7];case 6:return[2]}})})},f=oLt(n),d=function(h){return function(p){return function(m){if(!O9t(m))return p(m);if(aLt.match(m))return u(m.payload);if(uLt.match(m)){f();return}if(lLt.match(m))return l(m.payload);var g=h.getState(),y=function(){if(g===uxe)throw new Error(Y$+": getOriginalState can only be called synchronously");return g},v;try{if(v=p(m),n.size>0)for(var b=h.getState(),w=Array.from(n.values()),x=0,S=w;x<S.length;x++){var A=S[x],C=!1;try{C=A.predicate(m,b,g)}catch($){C=!1,lxe(s,$,{raisedBy:"predicate"})}C&&c(A,m,h,y)}}finally{g=uxe}return v}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var cxe;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);m9t();function dLt(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let i8;const hLt=new Uint8Array(16);function pLt(){if(!i8&&(i8=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i8))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i8(hLt)}const Va=[];for(let e=0;e<256;++e)Va.push((e+256).toString(16).slice(1));function mLt(e,t=0){return(Va[e[t+0]]+Va[e[t+1]]+Va[e[t+2]]+Va[e[t+3]]+"-"+Va[e[t+4]]+Va[e[t+5]]+"-"+Va[e[t+6]]+Va[e[t+7]]+"-"+Va[e[t+8]]+Va[e[t+9]]+"-"+Va[e[t+10]]+Va[e[t+11]]+Va[e[t+12]]+Va[e[t+13]]+Va[e[t+14]]+Va[e[t+15]]).toLowerCase()}const gLt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fxe={randomUUID:gLt};function dxe(e,t,n){if(fxe.randomUUID&&!e)return fxe.randomUUID();e=e||{};const r=e.random||(e.rng||pLt)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,mLt(r)}let K0=class{static get(){let t=dxe();for(;this.ids.has(t);)t=dxe();return this.ids.set(t,!0),t}};K0.ids=new Map;function mp(e){return"parent"in e}function yLt(e){return!mp(e)}function vLt(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:K0.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:K0.get(),createdOn:Date.now(),val:r}]:[];return{id:K0.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function bLt({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:K0.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:K0.get(),createdOn:Date.now(),val:s}]:[];return{id:K0.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Zs(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=ILt[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Fx(e){return!!e&&!!e[Kf]}function bb(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===kLt}(e)||Array.isArray(e)||!!e[V6]||!!(!((t=e.constructor)===null||t===void 0)&&t[V6])||VB(e)||HB(e))}function bA(e,t,n){n===void 0&&(n=!1),_b(e)===0?(n?Object.keys:xoe)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function _b(e){var t=e[Kf];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:VB(e)?2:HB(e)?3:0}function hR(e,t){return _b(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bD(e,t){return _b(e)===2?e.get(t):e[t]}function OMe(e,t,n){var r=_b(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function _Lt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function VB(e){return ALt&&e instanceof Map}function HB(e){return CLt&&e instanceof Set}function vw(e){return e.o||e.t}function yoe(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=RLt(e);delete t[Kf];for(var n=xoe(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function voe(e,t){return t===void 0&&(t=!1),boe(e)||Fx(e)||!bb(e)||(_b(e)>1&&(e.set=e.add=e.clear=e.delete=wLt),Object.freeze(e),t&&bA(e,function(n,r){return voe(r,!0)},!0)),e}function wLt(){Zs(2)}function boe(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function X0(e){var t=mJ[e];return t||Zs(18,e),t}function xLt(e,t){mJ[e]||(mJ[e]=t)}function hxe(){return{}.NODE_ENV==="production"||_A||Zs(0),_A}function kW(e,t){t&&(X0("Patches"),e.u=[],e.s=[],e.v=t)}function tM(e){dJ(e),e.p.forEach(ELt),e.p=null}function dJ(e){e===_A&&(_A=e.l)}function pxe(e){return _A={p:[],l:_A,h:e,m:!0,_:0}}function ELt(e){var t=e[Kf];t.i===0||t.i===1?t.j():t.O=!0}function RW(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||X0("ES5").S(t,e,r),r?(n[Kf].P&&(tM(t),Zs(4)),bb(e)&&(e=nM(t,e),t.l||rM(t,e)),t.u&&X0("Patches").M(n[Kf].t,e,t.u,t.s)):e=nM(t,n,[]),tM(t),t.u&&t.v(t.u,t.s),e!==woe?e:void 0}function nM(e,t,n){if(boe(t))return t;var r=t[Kf];if(!r)return bA(t,function(s,o){return mxe(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return rM(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=yoe(r.k):r.o;bA(r.i===3?new Set(i):i,function(s,o){return mxe(e,r,i,s,o,n)}),rM(e,i,!1),n&&e.u&&X0("Patches").R(r,n,e.u,e.s)}return r.o}function mxe(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Zs(5),Fx(i)){var o=nM(e,i,s&&t&&t.i!==3&&!hR(t.D,r)?s.concat(r):void 0);if(OMe(n,r,o),!Fx(o))return;e.m=!1}if(bb(i)&&!boe(i)){if(!e.h.F&&e._<1)return;nM(e,i),t&&t.A.l||rM(e,i)}}function rM(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&voe(t,n)}function $W(e,t){var n=e[Kf];return(n?vw(n):e)[t]}function gxe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function hJ(e){e.P||(e.P=!0,e.l&&hJ(e.l))}function NW(e){e.o||(e.o=yoe(e.t))}function pJ(e,t,n){var r=VB(t)?X0("MapSet").N(t,n):HB(t)?X0("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:hxe(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=gJ;o&&(u=[a],l=V4);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):X0("ES5").J(t,n);return(n?n.A:hxe()).p.push(r),r}function TLt(e){return Fx(e)||Zs(22,e),function t(n){if(!bb(n))return n;var r,i=n[Kf],s=_b(n);if(i){if(!i.P&&(i.i<4||!X0("ES5").K(i)))return i.t;i.I=!0,r=yxe(n,s),i.I=!1}else r=yxe(n,s);return bA(r,function(o,a){i&&bD(i.t,o)===a||OMe(r,o,t(a))}),s===3?new Set(r):r}(e)}function yxe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return yoe(e)}function SLt(){function e(r){if(!bb(r))return r;if(Array.isArray(r))return r.map(e);if(VB(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(HB(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return hR(r,V6)&&(i[V6]=r[V6]),i}function t(r){return Fx(r)?e(r):r}var n="add";xLt("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=_b(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Zs(24),typeof u=="function"&&f==="prototype"&&Zs(24),typeof(u=bD(u,f))!="object"&&Zs(15,o.join("/"))}var d=_b(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Zs(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Zs(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;bA(a.D,function(h,p){var m=bD(f,h),g=bD(d,h),y=p?hR(f,h)?"replace":n:"remove";if(m!==g||y!=="replace"){var v=u.concat(h);l.push(y==="remove"?{op:y,path:v}:{op:y,path:v,value:g}),c.push(y===n?{op:"remove",path:v}:y==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var m=[c,l];l=m[0],c=m[1]}for(var g=0;g<f.length;g++)if(d[g]&&h[g]!==f[g]){var y=u.concat([g]);l.push({op:"replace",path:y,value:t(h[g])}),c.push({op:"replace",path:y,value:t(f[g])})}for(var v=f.length;v<h.length;v++){var b=u.concat([v]);l.push({op:n,path:b,value:t(h[v])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var m=u.concat([h]);l.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var m=u.concat([h]);l.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===woe?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var vxe,_A,_oe=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ALt=typeof Map<"u",CLt=typeof Set<"u",bxe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",woe=_oe?Symbol.for("immer-nothing"):((vxe={})["immer-nothing"]=!0,vxe),V6=_oe?Symbol.for("immer-draftable"):"__$immer_draftable",Kf=_oe?Symbol.for("immer-state"):"__$immer_state",ILt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},kLt=""+Object.prototype.constructor,xoe=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,RLt=Object.getOwnPropertyDescriptors||function(e){var t={};return xoe(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},mJ={},gJ={get:function(e,t){if(t===Kf)return e;var n=vw(e);if(!hR(n,t))return function(i,s,o){var a,u=gxe(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!bb(r)?r:r===$W(e.t,t)?(NW(e),e.o[t]=pJ(e.A.h,r,e)):r},has:function(e,t){return t in vw(e)},ownKeys:function(e){return Reflect.ownKeys(vw(e))},set:function(e,t,n){var r=gxe(vw(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=$W(vw(e),t),s=i==null?void 0:i[Kf];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(_Lt(n,i)&&(n!==void 0||hR(e.t,t)))return!0;NW(e),hJ(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return $W(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,NW(e),hJ(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=vw(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Zs(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Zs(12)}},V4={};bA(gJ,function(e,t){V4[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),V4.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Zs(13),V4.set.call(this,e,t,void 0)},V4.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Zs(14),gJ.set.call(this,e[0],t,n,e[0])};var $Lt=function(){function e(n){var r=this;this.g=bxe,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),b=1;b<y;b++)v[b-1]=arguments[b];return u.produce(m,function(w){var x;return(x=s).call.apply(x,[g,w].concat(v))})}}var l;if(typeof s!="function"&&Zs(6),o!==void 0&&typeof o!="function"&&Zs(7),bb(i)){var c=pxe(r),f=pJ(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?tM(c):dJ(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return kW(c,o),RW(m,c)},function(m){throw tM(c),m}):(kW(c,o),RW(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===woe&&(l=void 0),r.F&&voe(l,!0),o){var h=[],p=[];X0("Patches").M(i,l,h,p),o(h,p)}return l}Zs(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){bb(n)||Zs(8),Fx(n)&&(n=TLt(n));var r=pxe(this),i=pJ(this,n,void 0);return i[Kf].C=!0,dJ(r),i},t.finishDraft=function(n,r){var i=n&&n[Kf];({}).NODE_ENV!=="production"&&(i&&i.C||Zs(9),i.I&&Zs(10));var s=i.A;return kW(s,r),RW(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!bxe&&Zs(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=X0("Patches").$;return Fx(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Xf=new $Lt,NLt=Xf.produce;Xf.produceWithPatches.bind(Xf);Xf.setAutoFreeze.bind(Xf);Xf.setUseProxies.bind(Xf);Xf.applyPatches.bind(Xf);Xf.createDraft.bind(Xf);Xf.finishDraft.bind(Xf);function PLt(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=vLt({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return H9t({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:K0.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:K0.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function OLt(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=PLt(e),s=fLt();s.startListening({matcher:axe(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=axe(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=j9t({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:K0.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var DLt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),LLt=Object.prototype.hasOwnProperty;function yJ(e,t){return LLt.call(e,t)}function vJ(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)yJ(e,i)&&r.push(i);return r}function Rc(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function bJ(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function bw(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function DMe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function _J(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(_J(e[t]))return!0}else if(typeof e=="object"){for(var r=vJ(e),i=r.length,s=0;s<i;s++)if(_J(e[r[s]]))return!0}}return!1}function _xe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var LMe=function(e){DLt(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,_xe(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=_xe(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),Ks=LMe,MLt=Rc,WT={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=iM(n,this.path);r&&(r=Rc(r));var i=hx(n,{op:"remove",path:this.from}).removed;return hx(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=iM(n,this.from);return hx(n,{op:"add",path:this.path,value:Rc(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:pR(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},FLt={add:function(e,t,n){return bJ(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:WT.move,copy:WT.copy,test:WT.test,_get:WT._get};function iM(e,t){if(t=="")return e;var n={op:"_get",path:t};return hx(e,n),n.value}function hx(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):sM(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=iM(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=pR(e,t.value),o.test===!1)throw new Ks("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Ks("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Rc(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=sM;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=DMe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!bJ(h))throw new Ks("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);bJ(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new Ks("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=FLt[t.op].call(t,l,h,e);if(o.test===!1)throw new Ks("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=WT[t.op].call(t,l,h,e);if(o.test===!1)throw new Ks("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new Ks("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function qB(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Ks("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Rc(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=hx(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function BLt(e,t,n){var r=hx(e,t);if(r.test===!1)throw new Ks("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function sM(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Ks("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(WT[e.op]){if(typeof e.path!="string")throw new Ks("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Ks('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Ks("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Ks("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&_J(e.value))throw new Ks("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Ks("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Ks("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=MMe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ks("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Ks("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function MMe(e,t,n){try{if(!Array.isArray(e))throw new Ks("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)qB(Rc(t),Rc(e),n||!0);else{n=n||sM;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Ks)return i;throw i}}function pR(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!pR(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!pR(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const jLt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Ks,_areEquals:pR,applyOperation:hx,applyPatch:qB,applyReducer:BLt,deepClone:MLt,getValueByPointer:iM,validate:MMe,validator:sM},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Eoe=new WeakMap,ULt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),zLt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function VLt(e){return Eoe.get(e)}function HLt(e,t){return e.observers.get(t)}function qLt(e,t){e.observers.delete(t.callback)}function WLt(e,t){t.unobserve()}function GLt(e,t){var n=[],r,i=VLt(e);if(!i)i=new ULt(e),Eoe.set(e,i);else{var s=HLt(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Rc(e),t){r.callback=t,r.next=null;var o=function(){wJ(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){wJ(r),clearTimeout(r.next),qLt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new zLt(t,r)),r}function wJ(e,t){t===void 0&&(t=!1);var n=Eoe.get(e.object);Toe(n.value,e.object,e.patches,"",t),e.patches.length&&qB(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Toe(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=vJ(t),o=vJ(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(yJ(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?Toe(c,f,n,r+"/"+bw(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+bw(l),value:Rc(c)}),n.push({op:"replace",path:r+"/"+bw(l),value:Rc(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+bw(l),value:Rc(c)}),n.push({op:"remove",path:r+"/"+bw(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!yJ(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+bw(l),value:Rc(t[l])})}}}function FMe(e,t,n){n===void 0&&(n=!1);var r=[];return Toe(e,t,r,"",n),r}const YLt=Object.freeze(Object.defineProperty({__proto__:null,compare:FMe,generate:wJ,observe:GLt,unobserve:WLt},Symbol.toStringTag,{value:"Module"}));Object.assign({},jLt,YLt,{JsonPatchError:LMe,deepClone:Rc,escapePathComponent:bw,unescapePathComponent:DMe});var H4=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(H4||{});function _D(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=BMe(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=_D(i,t);return qB(a,Rc(o),!0,!1).newDocument}function KLt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function K$({registry:e,initialState:t}){let n=!1;const r=dLt(),i=OLt(t);function s(c){return i.backend.nodes[c]}r.listen(H4.TRAVERSAL_START,()=>{n=!0}),r.listen(H4.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const m=f[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return _D(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let m=null,g=null;const y=_D(this.current,this.graph.backend.nodes);if(p)g={type:"checkpoint",val:f};else{const v=FMe(y,f);if(KLt(f,v)==="checkpoint")g={type:"checkpoint",val:f};else{const b=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:v,checkpointRef:b}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=bLt({label:c,state:g,parent:this.current,sideEffects:d,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,f){const d=e.get(f.type),h=_D(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:m}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(H4.TRAVERSAL_START);const f=BMe(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),m=s(f[h+1]);QLt(p,m)?mp(p)&&d.push(...p.sideEffects.undo):mp(m)&&d.push(...m.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(H4.TRAVERSAL_END)},undo(){const{current:c}=i;return mp(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return jMe(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function XLt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;mp(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)mp(r)&&(r=n[r.parent]),mp(i)&&(i=n[i.parent]);return r.id}function BMe(e,t,n){const r=XLt(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),mp(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),mp(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function QLt(e,t){if(mp(e)&&e.parent===t.id)return!0;if(mp(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function jMe(e,t){return{...e,children:e.children.map(n=>jMe(t[n],t)),name:`${e.label}`}}SLt();function JLt(e){return e.length===2?NLt(e):e}class P2{static create(){return new P2}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:JLt(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Y0(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}const wxe=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},HC=e=>{const t=R.useRef(null),n=wxe(e),[r,i]=R.useState(0),[s,o]=R.useState(0);R.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}return()=>null},[s,r]);const a=wxe({...n,width:n.width||r,height:n.height||s});return[t,a]},ZLt=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:HC},Symbol.toStringTag,{value:"Module"})),eMt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850};function tMt({parameters:e,setAnswer:t}){const[n,r]=HC(eMt),[i,s]=R.useState(100),[o,a]=R.useState(100),[u,l]=R.useState(e.speed),{taskid:c}=e,{actions:f,trrack:d}=R.useMemo(()=>{const p=P2.create(),m=p.register("click",(y,v)=>(y.clickX=v.clickX,y.clickY=v.clickY,y.distance=v.distance,y)),g=K$({registry:p,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{clickAction:m},trrack:g}},[]),h=R.useCallback(p=>{const m=pr("#movingCircle"),g=pr("#clickAccuracySvg"),y=cL(p,g.node()),v=[+m.attr("cx"),+m.attr("cy")],b=`${Math.round(Math.sqrt((y[0]-v[0])**2+(y[1]-v[1])**2))}px`;d.apply("Clicked",f.clickAction({distance:+b,clickX:y[0],clickY:y[1]})),t({status:!0,provenanceGraph:d.graph.backend,answers:{[c]:b}})},[f,t,c,d]);return R.useEffect(()=>{const p=Math.random()*800,m=Math.random()*600,y=Math.sqrt((p-i)**2+(m-o)**2)/u*1e3;pr(n.current).select("circle").transition().duration(y).ease(lNt).attr("cx",p).attr("cy",m).on("end",()=>{s(p),a(m)})},[n,u,i,o]),E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"Chart__wrapper",ref:n,onClick:h,style:{height:"650px"},children:E.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:E.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[E.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),E.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),E.jsxs(ke,{children:["Adjust speed (px/s):",E.jsx(s_,{w:800,min:10,max:1e3,value:u,onChange:l})]})]})}const nMt=Object.freeze(Object.defineProperty({__proto__:null,default:tMt},Symbol.toStringTag,{value:"Module"}));function Soe({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1}){const u=R.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),l=R.useCallback(c=>(s?q$("%B"):d_(".2s"))(c),[s]);return E.jsxs(E.Fragment,{children:[E.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:E.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:20,children:E.jsx(oa,{children:E.jsx(Si,{gap:3,children:E.jsx(Ue,{size:a?"10px":"14px",style:{color:"#878E95"},children:r})})})})}),E.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?E.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:c,offset:f})=>E.jsxs("g",{transform:`translate(${f}, ${n})`,children:[E.jsx("line",{y2:"6",stroke:"currentColor"}),o?E.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,E.jsx("foreignObject",{x:0-u/2,y:10,width:u,height:20,children:E.jsx(oa,{children:E.jsx(vs,{withinPortal:!0,label:c,children:E.jsx(Ue,{px:2,size:"10px",style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+c==0?0:l(s?new Date(c):c)})})})})]},c))]})}const rMt=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:Soe},Symbol.toStringTag,{value:"Module"}));function UMe({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=R.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>10?60:u*6},[i]);return E.jsxs(E.Fragment,{children:[E.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:E.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:E.jsx(oa,{children:E.jsx(Si,{gap:3,children:E.jsx(Ue,{size:o?"10px":"14px",style:{color:"#878E95"},children:r})})})})}),E.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?E.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>E.jsxs("g",{transform:`translate(${n}, ${l})`,children:[E.jsx("line",{x2:"-6",stroke:"currentColor"}),s?E.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,E.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:E.jsx("foreignObject",{width:a,height:20,children:E.jsx(Si,{style:{width:"100%",height:"100%"},justify:"right",children:E.jsx(Ue,{style:{textOverflow:"ellipsis",overflow:"hidden"},size:"10px",children:u})})})},u)]},u))]})}const iMt=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:UMe},Symbol.toStringTag,{value:"Module"})),md={top:15,left:100,right:50,bottom:50};function xJ({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:s}]=Mf(),o=R.useMemo(()=>s-md.left-md.right,[s]),a=R.useMemo(()=>i-md.top-md.bottom,[i]),u=R.useMemo(()=>{const d=Array.from(new Set(n.map(h=>h[t.category])));return p_(LB).domain(d)},[n,t.category]),l=R.useMemo(()=>e?Pa([md.left,o+md.left]).domain([0,ry(e.objects().map(d=>d.count))]).nice():null,[e,o]),c=R.useMemo(()=>e?jC([md.top,a+md.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),f=R.useMemo(()=>!l||!c||!u||!e?null:e.objects().map((d,h)=>d[t.category]===null||d.count===null?null:E.jsxs("g",{children:[E.jsx("rect",{x:md.left,y:c(d[t.category]),fill:u(d[t.category]),height:c.bandwidth(),width:l(d.count)-md.left},h),E.jsx("text",{x:l(d.count)+5,y:c(d[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:d.count})]},h)),[e,u,t.category,l,c]);return c&&l?E.jsxs("svg",{ref:r,style:{height:"200px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[E.jsx(Soe,{xScale:l,yRange:c.range(),vertPosition:a+md.top,showLines:!1,label:"Count",ticks:l.ticks(5).map(d=>({value:d.toString(),offset:l(d)}))}),c?E.jsx(UMe,{yScale:c,horizontalPosition:md.left,xRange:l.range(),label:t.category,ticks:u.domain().map(d=>({value:d,offset:c(d)+c.bandwidth()/2}))}):null,f]}):E.jsx(nf,{})}const sMt=Object.freeze(Object.defineProperty({__proto__:null,Bar:xJ,default:xJ},Symbol.toStringTag,{value:"Module"})),si=Array.isArray;function Wc(e){return e!=null?si(e)?e:[e]:[]}function oMt(e=0,t=1/0){return`${xxe(e)} < row_number() && row_number() <= ${xxe(t)}`}function xxe(e){return e<0?`count() + ${e}`:e}class zMe{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(oMt(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,Wc(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function nr(e){throw Error(e)}function Ml(e){return typeof e=="number"}function Ts(e){return typeof e=="function"}function WB(e,t){const n=Array(e);if(Ts(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let aMt=class extends zMe{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){nr("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){nr("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){nr("Not implemented")}getter(t){nr("Not implemented")}objects(t){nr("Not implemented")}object(t){nr("Not implemented")}[Symbol.iterator](){nr("Not implemented")}print(t={}){Ml(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=WB(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},uMt=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},lMt=function(e){return e&&Ts(e.get)?e:new uMt(e)};function Iy(e){return e instanceof Date}function Xu(e){return e===Object(e)}function oM(e){return e instanceof RegExp}function hu(e){return typeof e=="string"}function cMt(e,t){const n=r=>nr(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?Exe(e.entries(),t):Iy(e)?n("Date"):oM(e)?n("RegExp"):hu(e)?n():si(e)?fMt(e,t):Ts(e[Symbol.iterator])?dMt(e,t):Xu(e)?Exe(Object.entries(e),t):n()}function Exe(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function fMt(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function dMt(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:hMt}=Object.prototype;function Sp(e,t){return hMt.call(e,t)}function sd(e){return e?new Txe({...e.data()},e.columnNames()):new Txe}class Txe{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Sp(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const ti=void 0,pMt=Object.getPrototypeOf(Int8Array);function X$(e){return e instanceof pMt}function Xw(e){return si(e)||X$(e)}function ap(e){return e!=null&&e===e}const II=e=>Xw(e)||hu(e),mMt={compact:e=>Xw(e)?e.filter(t=>ap(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>II(e)?e.includes(t,n):!1,indexof:(e,t)=>II(e)?e.indexOf(t):-1,join:(e,t)=>Xw(e)?e.join(t):ti,lastindexof:(e,t)=>II(e)?e.lastIndexOf(t):-1,length:e=>II(e)?e.length:0,pluck:(e,t)=>Xw(e)?e.map(n=>ap(n)?n[t]:ti):ti,reverse:e=>Xw(e)?e.slice().reverse():hu(e)?e.split("").reverse().join(""):ti,slice:(e,t,n)=>II(e)?e.slice(t,n):ti};function gMt(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function wD(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const n0=e=>(e<10?"0":"")+e,yMt=e=>e<0?"-"+wD(-e,6):e>9999?"+"+wD(e,6):wD(e,4);function VMe(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return yMt(e)+"-"+n0(t+1)+"-"+n0(n)+(!u||o?"T"+n0(r)+":"+n0(i)+":"+n0(s)+"."+wD(o,3)+l:s?"T"+n0(r)+":"+n0(i)+":"+n0(s)+l:i||r||!a?"T"+n0(r)+":"+n0(i)+l:"")}function HMe(e,t){return isNaN(e)?"Invalid Date":VMe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function GB(e,t){return isNaN(e)?"Invalid Date":VMe(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const vMt=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function bMt(e){return e.match(vMt)&&!isNaN(Date.parse(e))}function _Mt(e,t=Date.parse){return bMt(e)?t(e):e}const qMe=6e4,WMe=864e5,GMe=6048e5,Js=new Date,eo=new Date,ho=e=>(Js.setTime(typeof e=="string"?_Mt(e):e),Js);function wMt(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function xMt(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function EMt(e){eo.setTime(+e),eo.setHours(0,0,0,0),Js.setTime(+eo),Js.setMonth(0),Js.setDate(1);const t=(eo.getTimezoneOffset()-Js.getTimezoneOffset())*qMe;return Math.floor(1+(eo-Js-t)/WMe)}function TMt(e){eo.setTime(+e),eo.setUTCHours(0,0,0,0);const t=Date.UTC(eo.getUTCFullYear(),0,1);return Math.floor(1+(eo-t)/WMe)}function SMt(e,t){const n=t||0;eo.setTime(+e),eo.setDate(eo.getDate()-(eo.getDay()+7-n)%7),eo.setHours(0,0,0,0),Js.setTime(+e),Js.setMonth(0),Js.setDate(1),Js.setDate(1-(Js.getDay()+7-n)%7),Js.setHours(0,0,0,0);const r=(eo.getTimezoneOffset()-Js.getTimezoneOffset())*qMe;return Math.floor((1+(eo-Js)-r)/GMe)}function AMt(e,t){const n=t||0;return eo.setTime(+e),eo.setUTCDate(eo.getUTCDate()-(eo.getUTCDay()+7-n)%7),eo.setUTCHours(0,0,0,0),Js.setTime(+e),Js.setUTCMonth(0),Js.setUTCDate(1),Js.setUTCDate(1-(Js.getUTCDay()+7-n)%7),Js.setUTCHours(0,0,0,0),Math.floor((1+(eo-Js))/GMe)}const CMt={format_date:(e,t)=>HMe(ho(e),!t),format_utcdate:(e,t)=>GB(ho(e),!t),timestamp:e=>+ho(e),year:e=>ho(e).getFullYear(),quarter:e=>Math.floor(ho(e).getMonth()/3),month:e=>ho(e).getMonth(),date:e=>ho(e).getDate(),dayofweek:e=>ho(e).getDay(),hours:e=>ho(e).getHours(),minutes:e=>ho(e).getMinutes(),seconds:e=>ho(e).getSeconds(),milliseconds:e=>ho(e).getMilliseconds(),utcyear:e=>ho(e).getUTCFullYear(),utcquarter:e=>Math.floor(ho(e).getUTCMonth()/3),utcmonth:e=>ho(e).getUTCMonth(),utcdate:e=>ho(e).getUTCDate(),utcdayofweek:e=>ho(e).getUTCDay(),utchours:e=>ho(e).getUTCHours(),utcminutes:e=>ho(e).getUTCMinutes(),utcseconds:e=>ho(e).getUTCSeconds(),utcmilliseconds:e=>ho(e).getUTCMilliseconds(),datetime:wMt,dayofyear:EMt,week:SMt,utcdatetime:xMt,utcdayofyear:TMt,utcweek:AMt,now:Date.now};function Aoe(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:Iy(e)||Iy(t)?+e==+t:oM(e)&&oM(t)?e+""==t+"":Xu(e)&&Xu(t)?IMt(e,t):!1}function IMt(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return Sxe(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!Sxe(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!Aoe(e[o],t[o]))return!1}return!0}function Sxe(e,t,n=Aoe){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const kMt={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let RMt=Math.random;function qC(){return RMt()}const $Mt={random:qC,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function Coe(e){return e instanceof Map}function NMt(e){return e instanceof Set}function xD(e){return Coe(e)||NMt(e)}function PW(e){return Array.from(e)}const PMt={has:(e,t)=>xD(e)?e.has(t):e!=null?Sp(e,t):!1,keys:e=>Coe(e)?PW(e.keys()):e!=null?Object.keys(e):[],values:e=>xD(e)?PW(e.values()):e!=null?Object.values(e):[],entries:e=>xD(e)?PW(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):ti};function OMt(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Sp(t,e))return t[e];return n!==void 0?n:e}function DMt(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const LMt={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},GT={bin:gMt,equal:Aoe,recode:OMt,sequence:DMt,...mMt,...CMt,...kMt,...$Mt,...PMt,...LMt};function mR(e){return typeof e=="bigint"}function lm(e){return e===void 0?e+"":mR(e)?e+"n":JSON.stringify(e)}function Kn(e,t=[],n=[]){return new MMt(e,Wc(t),Wc(n))}let MMt=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${lm(n)}]`),...this.params.map(lm)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const YMe=e=>Kn("any",e),KMe=()=>Kn("count"),XMe=e=>Kn("array_agg",e),QMe=e=>Kn("array_agg_distinct",e),JMe=(e,t)=>Kn("map_agg",[e,t]),ZMe=(e,t)=>Kn("object_agg",[e,t]),eFe=(e,t)=>Kn("entries_agg",[e,t]);({...GT});function FMt(e,t){e=xD(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function BMt(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function jMt(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function UMt(e,t,n,r){const i=r==="map"||r===!0?JMe:r==="entries"?eFe:r==="object"?ZMe:nr('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=FMt(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:XMe(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const zMt="ArrayPattern",VMt="ArrowFunctionExpression",HMt="FunctionExpression",Xv="Identifier",WC="Literal",tFe="MemberExpression",qMt="ObjectExpression",nFe="ObjectPattern",rFe="Property",Q$="Column",WMt="Constant",GMt="Dictionary",YMt="Function",KMt="Parameter",iFe="Op",os=(e,t)=>{const n=XMt[e.type];return n?n(e,t):nr(`Unsupported expression construct: ${e.type}`)},OW=(e,t)=>"("+os(e.left,t)+" "+e.operator+" "+os(e.right,t)+")",DW=(e,t)=>"("+p0(e.params,t)+")=>"+os(e.body,t),Axe=(e,t)=>os(e.callee,t)+"("+p0(e.arguments,t)+")",p0=(e,t,n=",")=>e.map(r=>os(r,t)).join(n),sFe=e=>e.computed?`[${lm(e.name)}]`:`.${e.name}`,Cxe=(e,t,n)=>{const r=e.table||"";return`data${r}${sFe(e)}.${n}(${t.index}${r})`},XMt={Constant:e=>e.raw,Column:(e,t)=>Cxe(e,t,"get"),Dictionary:(e,t)=>Cxe(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${sFe(e)}`,Op:(e,t)=>`op(${lm(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+os(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=os(e.object,t),i=os(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:Axe,NewExpression:(e,t)=>"new "+Axe(e,t),ArrayExpression:(e,t)=>"["+p0(e.elements,t)+"]",AssignmentExpression:OW,BinaryExpression:OW,LogicalExpression:OW,UnaryExpression:(e,t)=>"("+e.operator+os(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+os(e.test,t)+"?"+os(e.consequent,t)+":"+os(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+p0(e.properties,t)+"})",Property:(e,t)=>{const n=os(e.key,t);return(e.computed?`[${n}]`:n)+":"+os(e.value,t)},ArrowFunctionExpression:DW,FunctionExpression:DW,FunctionDeclaration:DW,ArrayPattern:(e,t)=>"["+p0(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+p0(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+p0(e.declarations,t,","),VariableDeclarator:(e,t)=>os(e.id,t)+"="+os(e.init,t),SpreadElement:(e,t)=>"..."+os(e.argument,t),BlockStatement:(e,t)=>"{"+p0(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>os(e.expression,t),IfStatement:(e,t)=>"if ("+os(e.test,t)+")"+os(e.consequent,t)+(e.alternate?" else "+os(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+os(e.discriminant,t)+") {"+p0(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+os(e.test,t):"default")+": "+p0(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+os(e.argument,t),Program:(e,t)=>os(e.body[0],t)};function aM(e,t={index:"row"}){return os(e,t)}function QMt(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function wA(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:Iy(e)?+e:si(e)||X$(e)?`[${e.map(wA)}]`:oM(e)?e+"":JMt(e)}function JMt(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${wA(e[r])}`;return t+="}",t}function uM(e,t){const n=e.length;return n===1?(r,i)=>wA(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=wA(a)}return s}}function ZMt(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=wA(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=wA(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function Ig(){}function eFt(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function Wo(e){return e.init=e.init||Ig,e.add=e.add||Ig,e.rem=e.rem||Ig,e}function Ixe(e,t){return e.product_v=!1,e.product=t}const oFe={count:{create:()=>Wo({value:e=>e.count}),param:[]},array_agg:{create:()=>Wo({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>Wo({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>Wo({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>Wo({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>Wo({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:ti}),param:[1]},valid:{create:()=>Wo({value:e=>e.valid}),param:[1]},invalid:{create:()=>Wo({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=ZMt(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>Wo({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Wo({value:e=>{let t=ti,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:ti,add:(e,t)=>mR(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>Ixe(e,1),value:e=>e.valid?e.product_v?Ixe(e,eFt(e.list.values())):e.product:void 0,add:(e,t)=>mR(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:ti,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>Wo({value:e=>e.valid?e.mean:ti}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):ti,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Wo({value:e=>e.valid>1?e.dev/e.valid:ti}),param:[1],req:["variance"]},stdev:{create:()=>Wo({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):ti}),param:[1],req:["variance"]},stdevp:{create:()=>Wo({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):ti}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=ti,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===ti)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=ti,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===ti)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>Wo({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>Wo({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):ti,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>Wo({value:e=>e.valid>1?e.cov/e.valid:ti}),param:[2],req:["covariance"]},corr:{create:()=>Wo({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):ti}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>Wo({value:i=>QMt(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},kxe={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},Rxe={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},aFe={row_number:{create(){return{init:Ig,value:e=>e.index+1}},param:[]},rank:kxe,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=kxe.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:Rxe,ntile:{create(e){e=+e,e>0||nr("ntile num must be greater than zero.");const{init:t,value:n}=Rxe.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=ti){return e=+e||1,{init:Ig,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=ti){return e=+e||1,{init:Ig,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:Ig,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:Ig,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||nr("nth_value nth must be greater than zero."),{init:Ig,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):ti}}},param:[1,1]},fill_down:{create(e=ti){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return ap(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=ti){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=tFt(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function tFt(e,t,n){for(const r=e.size;n<r;++n)if(ap(e.value(n,t)))return n;return-1}function Ioe(e){return Sp(oFe,e)}function koe(e){return Sp(aFe,e)}function uFe(e){return Sp(GT,e)||e==="row_object"}function lFe(e){return Ioe(e)&&oFe[e]}function cFe(e){return koe(e)&&aFe[e]}function kI(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const Roe={escape:(e,t,n)=>kI(e,t,n),expr:(e,t)=>kI(`(row,data,op)=>${e}`,GT,t),expr2:(e,t)=>kI(`(row0,data0,row,data)=>${e}`,GT,t),join:(e,t)=>kI(`(row1,data1,row2,data2)=>${e}`,GT,t),param:(e,t)=>kI(e,GT,t)},nFt={"==":1,"!=":1,"===":1,"!==":1};function fFe(e,t,n=0,r,i){if(e.type=Q$,e.name=t,e.table=n,i&&r&&Ts(r.keyFor)){const s=nFt[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===WC&&rFt(i,e,s,r.keyFor(s.value))}return e}function rFt(e,t,n,r){return r<0?(e.type=WC,e.value=!1,e.raw="false"):(t.type=GMt,n.value=r,n.raw=r+""),!0}function YB(e){return si(e)?e:Coe(e)?e.entries():e?Object.entries(e):[]}const dFe="row_object";function hFe(e,t){e.type=qMt;const n=e.properties=[];for(const r of YB(t)){const[i,s]=si(r)?r:[r,r];n.push({type:rFe,key:{type:WC,raw:lm(s)},value:fFe({computed:!0},i)})}return e}function pFe(e){return aM(hFe({},e))}function mFe(e){return Roe.expr(pFe(e))}const iFt=new TextDecoder("utf-8"),EJ=e=>iFt.decode(e),sFt=new TextEncoder,$oe=e=>sFt.encode(e),oFt=e=>typeof e=="boolean",mc=e=>typeof e=="function",g_=e=>e!=null&&Object(e)===e,KB=e=>g_(e)&&mc(e.then),Noe=e=>g_(e)&&mc(e[Symbol.iterator]),XB=e=>g_(e)&&mc(e[Symbol.asyncIterator]),aFt=e=>g_(e)&&"done"in e&&"value"in e,gFe=e=>"_getDOMStream"in e&&"_getNodeStream"in e,uFt=e=>g_(e)&&mc(e.abort)&&mc(e.getWriter)&&!gFe(e),lFt=e=>g_(e)&&mc(e.end)&&mc(e.write)&&oFt(e.writable)&&!gFe(e),cFt=e=>g_(e)&&mc(e.clear)&&mc(e.bytes)&&mc(e.position)&&mc(e.setPosition)&&mc(e.capacity)&&mc(e.getBufferIdentifier)&&mc(e.createLong),Poe=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function fFt(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function lM(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function cm(e,t){const n=fFt(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?lM(o,s,a):o=s;break}lM(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function va(e,t){let n=aFt(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=$oe(n)),n instanceof ArrayBuffer?new e(n):n instanceof Poe?new e(n):cFt(n)?va(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const RI=e=>va(Int32Array,e),Ni=e=>va(Uint8Array,e),TJ=e=>(e.next(),e);function*dFt(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Poe?n(t):Noe(t)?t:n(t);return yield*TJ(function*(i){let s=null;do s=i.next(yield va(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const hFt=e=>dFt(Uint8Array,e);function yFe(e,t){return Vw(this,arguments,function*(){if(KB(t))return yield jr(yield jr(yield*wH(A6(yFe(e,yield jr(t))))));const r=function(o){return Vw(this,arguments,function*(){yield yield jr(yield jr(o))})},i=function(o){return Vw(this,arguments,function*(){yield jr(yield*wH(A6(TJ(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Poe?r(t):Noe(t)?i(t):XB(t)?t:r(t);return yield jr(yield*wH(A6(TJ(function(o){return Vw(this,arguments,function*(){let a=null;do a=yield jr(o.next(yield yield jr(va(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield jr(new e)})}const pFt=e=>yFe(Uint8Array,e);function vFe(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function mFt(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const $xe={fromIterable(e){return s8(gFt(e))},fromAsyncIterable(e){return s8(yFt(e))},fromDOMStream(e){return s8(vFt(e))},fromNodeStream(e){return s8(_Ft(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},s8=e=>(e.next(),e);function*gFt(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?cm(r,o)[0]:([i,r,a]=cm(r,o),i)}({cmd:s,size:o}=yield null);const l=hFt(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function yFt(e){return Vw(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?cm(i,a)[0]:([s,i,u]=cm(i,a),s)}({cmd:o,size:a}=yield yield jr(null));const c=pFt(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield jr(c.next()):yield jr(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield jr(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield jr(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield jr(c.return(new Uint8Array(0))))}return yield jr(null)})}function vFt(e){return Vw(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?cm(i,a)[0]:([s,i,u]=cm(i,a),s)}({cmd:o,size:a}=yield yield jr(null));const c=new bFt(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield jr(c.read()):yield jr(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Ni(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield jr(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield jr(c.cancel(f)))}finally{r===!1?yield jr(c.cancel()):e.locked&&c.releaseLock()}return yield jr(null)})}class bFt{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return $g(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return $g(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Ni(n)),n})}}const LW=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function _Ft(e){return Vw(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?cm(l,a)[0]:([c,l,u]=cm(l,a),c)}if({cmd:o,size:a}=yield yield jr(null),e.isTTY)return yield yield jr(new Uint8Array(0)),yield jr(null);try{n[0]=LW(e,"end"),n[1]=LW(e,"error");do{if(n[2]=LW(e,"readable"),[r,s]=yield jr(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Ni(e.read(a-u)),c.byteLength<a-u&&(c=Ni(e.read()))):c=Ni(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield jr(f()));while(a<u)}while(!i)}finally{yield jr(d(n,r==="error"?s:null))}return yield jr(null);function d(h,p){return c=l=null,new Promise((m,g)=>{for(const[y,v]of h)e.off(y,v);try{const y=e.destroy;y&&y.call(e,p),p=void 0}catch(y){p=y||p}finally{p!=null?g(p):m()}})}})}var El;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(El||(El={}));var Gc;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Gc||(Gc={}));var su;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(su||(su={}));var fm;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(fm||(fm={}));var bn;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(bn||(bn={}));var dm;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(dm||(dm={}));var wa;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(wa||(wa={}));var fe;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(fe||(fe={}));var xg;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(xg||(xg={}));const wFt=void 0;function Bx(e){if(e===null)return"null";if(e===wFt)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>Bx(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const xFt=Symbol.for("isArrowBigNum");function jp(e,...t){return t.length===0?Object.setPrototypeOf(va(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}jp.prototype[xFt]=!0;jp.prototype.toJSON=function(){return`"${yR(this)}"`};jp.prototype.valueOf=function(){return bFe(this)};jp.prototype.toString=function(){return yR(this)};jp.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return bFe(this);case"string":return yR(this);case"default":return EFt(this)}return yR(this)};function xS(...e){return jp.apply(this,e)}function ES(...e){return jp.apply(this,e)}function gR(...e){return jp.apply(this,e)}Object.setPrototypeOf(xS.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(ES.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(gR.prototype,Object.create(Uint32Array.prototype));Object.assign(xS.prototype,jp.prototype,{constructor:xS,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(ES.prototype,jp.prototype,{constructor:ES,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(gR.prototype,jp.prototype,{constructor:gR,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function bFe(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new BigUint64Array(t,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}const yR=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return MW(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return MW(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${MW(t)}`},EFt=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:yR(e);function MW(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class Ooe{static new(t,n){switch(n){case!0:return new xS(t);case!1:return new ES(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new xS(t)}return t.byteLength===16?new gR(t):new ES(t)}static signed(t){return new xS(t)}static unsigned(t){return new ES(t)}static decimal(t){return new gR(t)}constructor(t,n){return Ooe.new(t,n)}}function Ap(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var _Fe,wFe,xFe,EFe,TFe,SFe,AFe,CFe,IFe,kFe,RFe,$Fe,NFe,PFe,OFe,DFe,LFe,MFe,FFe,BFe;let or=class SJ{static isNull(t){return(t==null?void 0:t.typeId)===fe.Null}static isInt(t){return(t==null?void 0:t.typeId)===fe.Int}static isFloat(t){return(t==null?void 0:t.typeId)===fe.Float}static isBinary(t){return(t==null?void 0:t.typeId)===fe.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===fe.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===fe.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===fe.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===fe.Date}static isTime(t){return(t==null?void 0:t.typeId)===fe.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===fe.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===fe.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===fe.Duration}static isList(t){return(t==null?void 0:t.typeId)===fe.List}static isStruct(t){return(t==null?void 0:t.typeId)===fe.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===fe.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===fe.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===fe.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===fe.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===fe.Dictionary}static isDenseUnion(t){return SJ.isUnion(t)&&t.mode===Gc.Dense}static isSparseUnion(t){return SJ.isUnion(t)&&t.mode===Gc.Sparse}get typeId(){return fe.NONE}};_Fe=Symbol.toStringTag;or[_Fe]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(or.prototype);let ky=class extends or{toString(){return"Null"}get typeId(){return fe.Null}};wFe=Symbol.toStringTag;ky[wFe]=(e=>e[Symbol.toStringTag]="Null")(ky.prototype);class Fl extends or{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return fe.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}xFe=Symbol.toStringTag;Fl[xFe]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Fl.prototype);class Doe extends Fl{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class Loe extends Fl{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class wb extends Fl{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class Moe extends Fl{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class Foe extends Fl{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class Boe extends Fl{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class joe extends Fl{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class Uoe extends Fl{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(Doe.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(Loe.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(wb.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Moe.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(Foe.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Boe.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(joe.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(Uoe.prototype,"ArrayType",{value:BigUint64Array});class xb extends or{constructor(t){super(),this.precision=t}get typeId(){return fe.Float}get ArrayType(){switch(this.precision){case su.HALF:return Uint16Array;case su.SINGLE:return Float32Array;case su.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}EFe=Symbol.toStringTag;xb[EFe]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(xb.prototype);class jFe extends xb{constructor(){super(su.HALF)}}class zoe extends xb{constructor(){super(su.SINGLE)}}class Voe extends xb{constructor(){super(su.DOUBLE)}}Object.defineProperty(jFe.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(zoe.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(Voe.prototype,"ArrayType",{value:Float64Array});let vR=class extends or{constructor(){super()}get typeId(){return fe.Binary}toString(){return"Binary"}};TFe=Symbol.toStringTag;vR[TFe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(vR.prototype);let xA=class extends or{constructor(){super()}get typeId(){return fe.Utf8}toString(){return"Utf8"}};SFe=Symbol.toStringTag;xA[SFe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(xA.prototype);let bR=class extends or{constructor(){super()}get typeId(){return fe.Bool}toString(){return"Bool"}};AFe=Symbol.toStringTag;bR[AFe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(bR.prototype);let cM=class extends or{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return fe.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};CFe=Symbol.toStringTag;cM[CFe]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(cM.prototype);class EA extends or{constructor(t){super(),this.unit=t}get typeId(){return fe.Date}toString(){return`Date${(this.unit+1)*32}<${fm[this.unit]}>`}}IFe=Symbol.toStringTag;EA[IFe]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(EA.prototype);class TFt extends EA{constructor(){super(fm.DAY)}}class SFt extends EA{constructor(){super(fm.MILLISECOND)}}class Ry extends or{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return fe.Time}toString(){return`Time${this.bitWidth}<${bn[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}kFe=Symbol.toStringTag;Ry[kFe]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Ry.prototype);class AFt extends Ry{constructor(){super(bn.SECOND,32)}}class CFt extends Ry{constructor(){super(bn.MILLISECOND,32)}}class IFt extends Ry{constructor(){super(bn.MICROSECOND,64)}}class kFt extends Ry{constructor(){super(bn.NANOSECOND,64)}}class fM extends or{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return fe.Timestamp}toString(){return`Timestamp<${bn[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}RFe=Symbol.toStringTag;fM[RFe]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(fM.prototype);class TA extends or{constructor(t){super(),this.unit=t}get typeId(){return fe.Interval}toString(){return`Interval<${dm[this.unit]}>`}}$Fe=Symbol.toStringTag;TA[$Fe]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(TA.prototype);class RFt extends TA{constructor(){super(dm.DAY_TIME)}}class $Ft extends TA{constructor(){super(dm.YEAR_MONTH)}}let dM=class extends or{constructor(t){super(),this.unit=t}get typeId(){return fe.Duration}toString(){return`Duration<${bn[this.unit]}>`}};NFe=Symbol.toStringTag;dM[NFe]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(dM.prototype);let SA=class extends or{constructor(t){super(),this.children=[t]}get typeId(){return fe.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};PFe=Symbol.toStringTag;SA[PFe]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(SA.prototype);class Fu extends or{constructor(t){super(),this.children=t}get typeId(){return fe.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}OFe=Symbol.toStringTag;Fu[OFe]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Fu.prototype);class _R extends or{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return fe.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}DFe=Symbol.toStringTag;_R[DFe]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(_R.prototype);let hM=class extends or{constructor(t){super(),this.byteWidth=t}get typeId(){return fe.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};LFe=Symbol.toStringTag;hM[LFe]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(hM.prototype);let AA=class extends or{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return fe.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};MFe=Symbol.toStringTag;AA[MFe]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(AA.prototype);class wR extends or{constructor(t,n=!1){var r,i,s;if(super(),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get typeId(){return fe.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}FFe=Symbol.toStringTag;wR[FFe]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(wR.prototype);const NFt=(e=>()=>++e)(-1);class Eb extends or{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?NFt():Ap(r)}get typeId(){return fe.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}BFe=Symbol.toStringTag;Eb[BFe]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Eb.prototype);function y0(e){const t=e;switch(e.typeId){case fe.Decimal:return e.bitWidth/32;case fe.Timestamp:return 2;case fe.Date:return 1+t.unit;case fe.Interval:return 1+t.unit;case fe.FixedSizeList:return t.listSize;case fe.FixedSizeBinary:return t.byteWidth;default:return 1}}class ar{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return PFt(this,t,n)}getVisitFnByTypeId(t,n=!0){return _T(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function PFt(e,t,n=!0){return typeof t=="number"?_T(e,t,n):typeof t=="string"&&t in fe?_T(e,fe[t],n):t&&t instanceof or?_T(e,Nxe(t),n):t!=null&&t.type&&t.type instanceof or?_T(e,Nxe(t.type),n):_T(e,fe.NONE,n)}function _T(e,t,n=!0){let r=null;switch(t){case fe.Null:r=e.visitNull;break;case fe.Bool:r=e.visitBool;break;case fe.Int:r=e.visitInt;break;case fe.Int8:r=e.visitInt8||e.visitInt;break;case fe.Int16:r=e.visitInt16||e.visitInt;break;case fe.Int32:r=e.visitInt32||e.visitInt;break;case fe.Int64:r=e.visitInt64||e.visitInt;break;case fe.Uint8:r=e.visitUint8||e.visitInt;break;case fe.Uint16:r=e.visitUint16||e.visitInt;break;case fe.Uint32:r=e.visitUint32||e.visitInt;break;case fe.Uint64:r=e.visitUint64||e.visitInt;break;case fe.Float:r=e.visitFloat;break;case fe.Float16:r=e.visitFloat16||e.visitFloat;break;case fe.Float32:r=e.visitFloat32||e.visitFloat;break;case fe.Float64:r=e.visitFloat64||e.visitFloat;break;case fe.Utf8:r=e.visitUtf8;break;case fe.Binary:r=e.visitBinary;break;case fe.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case fe.Date:r=e.visitDate;break;case fe.DateDay:r=e.visitDateDay||e.visitDate;break;case fe.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case fe.Timestamp:r=e.visitTimestamp;break;case fe.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case fe.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case fe.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case fe.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case fe.Time:r=e.visitTime;break;case fe.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case fe.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case fe.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case fe.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case fe.Decimal:r=e.visitDecimal;break;case fe.List:r=e.visitList;break;case fe.Struct:r=e.visitStruct;break;case fe.Union:r=e.visitUnion;break;case fe.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case fe.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case fe.Dictionary:r=e.visitDictionary;break;case fe.Interval:r=e.visitInterval;break;case fe.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case fe.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case fe.Duration:r=e.visitDuration;break;case fe.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case fe.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case fe.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case fe.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case fe.FixedSizeList:r=e.visitFixedSizeList;break;case fe.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${fe[t]}'`)}function Nxe(e){switch(e.typeId){case fe.Null:return fe.Null;case fe.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?fe.Int8:fe.Uint8;case 16:return n?fe.Int16:fe.Uint16;case 32:return n?fe.Int32:fe.Uint32;case 64:return n?fe.Int64:fe.Uint64}return fe.Int}case fe.Float:switch(e.precision){case su.HALF:return fe.Float16;case su.SINGLE:return fe.Float32;case su.DOUBLE:return fe.Float64}return fe.Float;case fe.Binary:return fe.Binary;case fe.Utf8:return fe.Utf8;case fe.Bool:return fe.Bool;case fe.Decimal:return fe.Decimal;case fe.Time:switch(e.unit){case bn.SECOND:return fe.TimeSecond;case bn.MILLISECOND:return fe.TimeMillisecond;case bn.MICROSECOND:return fe.TimeMicrosecond;case bn.NANOSECOND:return fe.TimeNanosecond}return fe.Time;case fe.Timestamp:switch(e.unit){case bn.SECOND:return fe.TimestampSecond;case bn.MILLISECOND:return fe.TimestampMillisecond;case bn.MICROSECOND:return fe.TimestampMicrosecond;case bn.NANOSECOND:return fe.TimestampNanosecond}return fe.Timestamp;case fe.Date:switch(e.unit){case fm.DAY:return fe.DateDay;case fm.MILLISECOND:return fe.DateMillisecond}return fe.Date;case fe.Interval:switch(e.unit){case dm.DAY_TIME:return fe.IntervalDayTime;case dm.YEAR_MONTH:return fe.IntervalYearMonth}return fe.Interval;case fe.Duration:switch(e.unit){case bn.SECOND:return fe.DurationSecond;case bn.MILLISECOND:return fe.DurationMillisecond;case bn.MICROSECOND:return fe.DurationMicrosecond;case bn.NANOSECOND:return fe.DurationNanosecond}return fe.Duration;case fe.Map:return fe.Map;case fe.List:return fe.List;case fe.Struct:return fe.Struct;case fe.Union:switch(e.mode){case Gc.Dense:return fe.DenseUnion;case Gc.Sparse:return fe.SparseUnion}return fe.Union;case fe.FixedSizeBinary:return fe.FixedSizeBinary;case fe.FixedSizeList:return fe.FixedSizeList;case fe.Dictionary:return fe.Dictionary}throw new Error(`Unrecognized type '${fe[e.typeId]}'`)}ar.prototype.visitInt8=null;ar.prototype.visitInt16=null;ar.prototype.visitInt32=null;ar.prototype.visitInt64=null;ar.prototype.visitUint8=null;ar.prototype.visitUint16=null;ar.prototype.visitUint32=null;ar.prototype.visitUint64=null;ar.prototype.visitFloat16=null;ar.prototype.visitFloat32=null;ar.prototype.visitFloat64=null;ar.prototype.visitDateDay=null;ar.prototype.visitDateMillisecond=null;ar.prototype.visitTimestampSecond=null;ar.prototype.visitTimestampMillisecond=null;ar.prototype.visitTimestampMicrosecond=null;ar.prototype.visitTimestampNanosecond=null;ar.prototype.visitTimeSecond=null;ar.prototype.visitTimeMillisecond=null;ar.prototype.visitTimeMicrosecond=null;ar.prototype.visitTimeNanosecond=null;ar.prototype.visitDenseUnion=null;ar.prototype.visitSparseUnion=null;ar.prototype.visitIntervalDayTime=null;ar.prototype.visitIntervalYearMonth=null;ar.prototype.visitDuration=null;ar.prototype.visitDurationSecond=null;ar.prototype.visitDurationMillisecond=null;ar.prototype.visitDurationMicrosecond=null;ar.prototype.visitDurationNanosecond=null;const UFe=new Float64Array(1),GE=new Uint32Array(UFe.buffer);function zFe(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function VFe(e){if(e!==e)return 32256;UFe[0]=e;const t=(GE[1]&2147483648)>>16&65535;let n=GE[1]&2146435072,r=0;return n>=1089470464?GE[0]>0?n=31744:(n=(n&2080374784)>>16,r=(GE[1]&1048575)>>10):n<=1056964608?(r=1048576+(GE[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(GE[1]&1048575)+512>>10),t|n|r&65535}class Tn extends ar{}function Rn(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const OFt=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},Hoe=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},DFt=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},LFt=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},HFe=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},MFt=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Xy=({values:e},t,n)=>{e[t]=n},qoe=({values:e},t,n)=>{e[t]=n},qFe=({values:e},t,n)=>{e[t]=VFe(n)},FFt=(e,t,n)=>{switch(e.type.precision){case su.HALF:return qFe(e,t,n);case su.SINGLE:case su.DOUBLE:return qoe(e,t,n)}},Woe=({values:e},t,n)=>{OFt(e,t,n.valueOf())},Goe=({values:e},t,n)=>{Hoe(e,t*2,n.valueOf())},WFe=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},BFt=({values:e,valueOffsets:t},n,r)=>HFe(e,t,n,r),jFt=({values:e,valueOffsets:t},n,r)=>{HFe(e,t,n,$oe(r))},GFe=(e,t,n)=>{e.type.unit===fm.DAY?Woe(e,t,n):Goe(e,t,n)},Yoe=({values:e},t,n)=>Hoe(e,t*2,n/1e3),Koe=({values:e},t,n)=>Hoe(e,t*2,n),Xoe=({values:e},t,n)=>DFt(e,t*2,n),Qoe=({values:e},t,n)=>LFt(e,t*2,n),YFe=(e,t,n)=>{switch(e.type.unit){case bn.SECOND:return Yoe(e,t,n);case bn.MILLISECOND:return Koe(e,t,n);case bn.MICROSECOND:return Xoe(e,t,n);case bn.NANOSECOND:return Qoe(e,t,n)}},Joe=({values:e},t,n)=>{e[t]=n},Zoe=({values:e},t,n)=>{e[t]=n},eae=({values:e},t,n)=>{e[t]=n},tae=({values:e},t,n)=>{e[t]=n},KFe=(e,t,n)=>{switch(e.type.unit){case bn.SECOND:return Joe(e,t,n);case bn.MILLISECOND:return Zoe(e,t,n);case bn.MICROSECOND:return eae(e,t,n);case bn.NANOSECOND:return tae(e,t,n)}},XFe=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},UFt=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=Qd.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},zFt=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=Qd.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},VFt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),HFt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),qFt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),WFt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),GFt=(e,t,n)=>{const r=e.type.children.map(s=>Qd.getVisitFn(s.type)),i=n instanceof Map?qFt(t,n):n instanceof oi?HFt(t,n):Array.isArray(n)?VFt(t,n):WFt(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},YFt=(e,t,n)=>{e.type.mode===Gc.Dense?QFe(e,t,n):JFe(e,t,n)},QFe=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Qd.visit(i,e.valueOffsets[t],n)},JFe=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Qd.visit(i,t,n)},KFt=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},ZFe=(e,t,n)=>{e.type.unit===dm.DAY_TIME?nae(e,t,n):rae(e,t,n)},nae=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},rae=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},iae=({values:e},t,n)=>{e[t]=n},sae=({values:e},t,n)=>{e[t]=n},oae=({values:e},t,n)=>{e[t]=n},aae=({values:e},t,n)=>{e[t]=n},e7e=(e,t,n)=>{switch(e.type.unit){case bn.SECOND:return iae(e,t,n);case bn.MILLISECOND:return sae(e,t,n);case bn.MICROSECOND:return oae(e,t,n);case bn.NANOSECOND:return aae(e,t,n)}},XFt=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=Qd.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};Tn.prototype.visitBool=Rn(MFt);Tn.prototype.visitInt=Rn(Xy);Tn.prototype.visitInt8=Rn(Xy);Tn.prototype.visitInt16=Rn(Xy);Tn.prototype.visitInt32=Rn(Xy);Tn.prototype.visitInt64=Rn(Xy);Tn.prototype.visitUint8=Rn(Xy);Tn.prototype.visitUint16=Rn(Xy);Tn.prototype.visitUint32=Rn(Xy);Tn.prototype.visitUint64=Rn(Xy);Tn.prototype.visitFloat=Rn(FFt);Tn.prototype.visitFloat16=Rn(qFe);Tn.prototype.visitFloat32=Rn(qoe);Tn.prototype.visitFloat64=Rn(qoe);Tn.prototype.visitUtf8=Rn(jFt);Tn.prototype.visitBinary=Rn(BFt);Tn.prototype.visitFixedSizeBinary=Rn(WFe);Tn.prototype.visitDate=Rn(GFe);Tn.prototype.visitDateDay=Rn(Woe);Tn.prototype.visitDateMillisecond=Rn(Goe);Tn.prototype.visitTimestamp=Rn(YFe);Tn.prototype.visitTimestampSecond=Rn(Yoe);Tn.prototype.visitTimestampMillisecond=Rn(Koe);Tn.prototype.visitTimestampMicrosecond=Rn(Xoe);Tn.prototype.visitTimestampNanosecond=Rn(Qoe);Tn.prototype.visitTime=Rn(KFe);Tn.prototype.visitTimeSecond=Rn(Joe);Tn.prototype.visitTimeMillisecond=Rn(Zoe);Tn.prototype.visitTimeMicrosecond=Rn(eae);Tn.prototype.visitTimeNanosecond=Rn(tae);Tn.prototype.visitDecimal=Rn(XFe);Tn.prototype.visitList=Rn(UFt);Tn.prototype.visitStruct=Rn(GFt);Tn.prototype.visitUnion=Rn(YFt);Tn.prototype.visitDenseUnion=Rn(QFe);Tn.prototype.visitSparseUnion=Rn(JFe);Tn.prototype.visitDictionary=Rn(KFt);Tn.prototype.visitInterval=Rn(ZFe);Tn.prototype.visitIntervalDayTime=Rn(nae);Tn.prototype.visitIntervalYearMonth=Rn(rae);Tn.prototype.visitDuration=Rn(e7e);Tn.prototype.visitDurationSecond=Rn(iae);Tn.prototype.visitDurationMillisecond=Rn(sae);Tn.prototype.visitDurationMicrosecond=Rn(oae);Tn.prototype.visitDurationNanosecond=Rn(aae);Tn.prototype.visitFixedSizeList=Rn(XFt);Tn.prototype.visitMap=Rn(zFt);const Qd=new Tn,Hh=Symbol.for("parent"),TS=Symbol.for("rowIndex");class uae{constructor(t,n){return this[Hh]=t,this[TS]=n,new Proxy(this,new JFt)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[TS],n=this[Hh],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Yc.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Bx(t)}: ${Bx(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new QFt(this[Hh],this[TS])}}class QFt{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Yc.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(uae.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Hh]:{writable:!0,enumerable:!1,configurable:!1,value:null},[TS]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class JFt{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Hh].type.children.map(n=>n.name)}has(t,n){return t[Hh].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[Hh].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Hh].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Yc.visit(t[Hh].children[r],t[TS]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Hh].type.children.findIndex(s=>s.name===n);return i!==-1?(Qd.visit(t[Hh].children[i],t[TS],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class _n extends ar{}function Sn(e){return(t,n)=>t.getValid(n)?e(t,n):null}const ZFt=(e,t)=>864e5*e[t],lae=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),e7t=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,t7t=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,t7e=e=>new Date(e),n7t=(e,t)=>t7e(ZFt(e,t)),r7t=(e,t)=>t7e(lae(e,t)),i7t=(e,t)=>null,n7e=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},s7t=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},r7e=({values:e},t)=>n7t(e,t),i7e=({values:e},t)=>r7t(e,t*2),y_=({stride:e,values:t},n)=>t[e*n],o7t=({stride:e,values:t},n)=>zFe(t[e*n]),s7e=({values:e},t)=>e[t],a7t=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),u7t=({values:e,valueOffsets:t},n)=>n7e(e,t,n),l7t=({values:e,valueOffsets:t},n)=>{const r=n7e(e,t,n);return r!==null?EJ(r):null},c7t=({values:e},t)=>e[t],f7t=({type:e,values:t},n)=>e.precision!==su.HALF?t[n]:zFe(t[n]),d7t=(e,t)=>e.type.unit===fm.DAY?r7e(e,t):i7e(e,t),o7e=({values:e},t)=>1e3*lae(e,t*2),a7e=({values:e},t)=>lae(e,t*2),u7e=({values:e},t)=>e7t(e,t*2),l7e=({values:e},t)=>t7t(e,t*2),h7t=(e,t)=>{switch(e.type.unit){case bn.SECOND:return o7e(e,t);case bn.MILLISECOND:return a7e(e,t);case bn.MICROSECOND:return u7e(e,t);case bn.NANOSECOND:return l7e(e,t)}},c7e=({values:e},t)=>e[t],f7e=({values:e},t)=>e[t],d7e=({values:e},t)=>e[t],h7e=({values:e},t)=>e[t],p7t=(e,t)=>{switch(e.type.unit){case bn.SECOND:return c7e(e,t);case bn.MILLISECOND:return f7e(e,t);case bn.MICROSECOND:return d7e(e,t);case bn.NANOSECOND:return h7e(e,t)}},m7t=({values:e,stride:t},n)=>Ooe.decimal(e.subarray(t*n,t*(n+1))),g7t=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new oi([u])},y7t=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new QB(o.slice(i,s-i))},v7t=(e,t)=>new uae(e,t),b7t=(e,t)=>e.type.mode===Gc.Dense?p7e(e,t):m7e(e,t),p7e=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Yc.visit(r,e.valueOffsets[t])},m7e=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Yc.visit(r,t)},_7t=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},w7t=(e,t)=>e.type.unit===dm.DAY_TIME?g7e(e,t):y7e(e,t),g7e=({values:e},t)=>e.subarray(2*t,2*(t+1)),y7e=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},v7e=({values:e},t)=>e[t],b7e=({values:e},t)=>e[t],_7e=({values:e},t)=>e[t],w7e=({values:e},t)=>e[t],x7t=(e,t)=>{switch(e.type.unit){case bn.SECOND:return v7e(e,t);case bn.MILLISECOND:return b7e(e,t);case bn.MICROSECOND:return _7e(e,t);case bn.NANOSECOND:return w7e(e,t)}},E7t=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new oi([s])};_n.prototype.visitNull=Sn(i7t);_n.prototype.visitBool=Sn(s7t);_n.prototype.visitInt=Sn(c7t);_n.prototype.visitInt8=Sn(y_);_n.prototype.visitInt16=Sn(y_);_n.prototype.visitInt32=Sn(y_);_n.prototype.visitInt64=Sn(s7e);_n.prototype.visitUint8=Sn(y_);_n.prototype.visitUint16=Sn(y_);_n.prototype.visitUint32=Sn(y_);_n.prototype.visitUint64=Sn(s7e);_n.prototype.visitFloat=Sn(f7t);_n.prototype.visitFloat16=Sn(o7t);_n.prototype.visitFloat32=Sn(y_);_n.prototype.visitFloat64=Sn(y_);_n.prototype.visitUtf8=Sn(l7t);_n.prototype.visitBinary=Sn(u7t);_n.prototype.visitFixedSizeBinary=Sn(a7t);_n.prototype.visitDate=Sn(d7t);_n.prototype.visitDateDay=Sn(r7e);_n.prototype.visitDateMillisecond=Sn(i7e);_n.prototype.visitTimestamp=Sn(h7t);_n.prototype.visitTimestampSecond=Sn(o7e);_n.prototype.visitTimestampMillisecond=Sn(a7e);_n.prototype.visitTimestampMicrosecond=Sn(u7e);_n.prototype.visitTimestampNanosecond=Sn(l7e);_n.prototype.visitTime=Sn(p7t);_n.prototype.visitTimeSecond=Sn(c7e);_n.prototype.visitTimeMillisecond=Sn(f7e);_n.prototype.visitTimeMicrosecond=Sn(d7e);_n.prototype.visitTimeNanosecond=Sn(h7e);_n.prototype.visitDecimal=Sn(m7t);_n.prototype.visitList=Sn(g7t);_n.prototype.visitStruct=Sn(v7t);_n.prototype.visitUnion=Sn(b7t);_n.prototype.visitDenseUnion=Sn(p7e);_n.prototype.visitSparseUnion=Sn(m7e);_n.prototype.visitDictionary=Sn(_7t);_n.prototype.visitInterval=Sn(w7t);_n.prototype.visitIntervalDayTime=Sn(g7e);_n.prototype.visitIntervalYearMonth=Sn(y7e);_n.prototype.visitDuration=Sn(x7t);_n.prototype.visitDurationSecond=Sn(v7e);_n.prototype.visitDurationMillisecond=Sn(b7e);_n.prototype.visitDurationMicrosecond=Sn(_7e);_n.prototype.visitDurationNanosecond=Sn(w7e);_n.prototype.visitFixedSizeList=Sn(E7t);_n.prototype.visitMap=Sn(y7t);const Yc=new _n,tp=Symbol.for("keys"),SS=Symbol.for("vals");class QB{constructor(t){return this[tp]=new oi([t.children[0]]).memoize(),this[SS]=t.children[1],new Proxy(this,new S7t)}[Symbol.iterator](){return new T7t(this[tp],this[SS])}get size(){return this[tp].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[tp],n=this[SS],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=Yc.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Bx(t)}: ${Bx(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class T7t{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Yc.visit(this.vals,t)]})}}class S7t{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[tp].toArray().map(String)}has(t,n){return t[tp].includes(n)}getOwnPropertyDescriptor(t,n){if(t[tp].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[tp].indexOf(n);if(r!==-1){const i=Yc.visit(Reflect.get(t,SS),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[tp].indexOf(n);return i!==-1?(Qd.visit(Reflect.get(t,SS),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(QB.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[tp]:{writable:!0,enumerable:!1,configurable:!1,value:null},[SS]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Pxe;function x7e(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Pxe=s,s=o,o=Pxe),o>i&&(o=i),r?r(e,s,o):[s,o]}const Oxe=e=>e!==e;function GC(e){if(typeof e!=="object"||e===null)return Oxe(e)?Oxe:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?mFt(e,n):!1:e instanceof Map?C7t(e):Array.isArray(e)?A7t(e):e instanceof oi?I7t(e):k7t(e,!0)}function A7t(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=GC(e[n]);return JB(t)}function C7t(e){let t=-1;const n=[];for(const r of e.values())n[++t]=GC(r);return JB(n)}function I7t(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=GC(e.get(n));return JB(t)}function k7t(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=GC(e[n[i]]);return JB(r,n)}function JB(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return R7t(e,n);case Map:return Dxe(e,n,n.keys());case QB:case uae:case Object:case void 0:return Dxe(e,n,t||Object.keys(n))}return n instanceof oi?$7t(e,n):!1}}function R7t(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function $7t(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function Dxe(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function E7e(e,t,n,r){return(n&1<<r)!==0}function N7t(e,t,n,r){return(n&1<<r)>>r}function pM(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):T7e(new cae(n,e,t,null,E7e)).subarray(0,r)),i}return n}function T7e(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class cae{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function AJ(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new cae(e,t,n-t,e,N7t))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return AJ(e,t,i)+AJ(e,r,n)+P7t(e,i>>3,r-i>>3)}function P7t(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=FW(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=FW(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=FW(s.getUint8(i)),i+=1;return r}function FW(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const O7t=-1;class $i{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return or.isSparseUnion(t)?this.children.some(n=>n.nullable):or.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(or.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=O7t&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-AJ(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof $i?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=y0(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}getValid(t){const{type:n}=this;if(or.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===Gc.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(or.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===Gc.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,u=o+t,l=1<<u%8,c=u>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&s.set(pM(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s,_nullCount:-1}));const f=s[c];r=(f&l)!==0,n?s[c]=f|l:s[c]=f&~l}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new $i(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===fe.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(pM(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[xg.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[xg.TYPE])&&(o[xg.TYPE]=s.subarray(t,t+n)),(s=o[xg.OFFSET])&&(o[xg.OFFSET]=s.subarray(t,t+n+1))||(s=o[xg.DATA])&&(o[xg.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}$i.prototype.children=Object.freeze([]);class H6 extends ar{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new $i(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.data),s=Ni(t.nullBitmap),o=RI(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new $i(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.data),s=Ni(t.nullBitmap),o=RI(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new $i(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.ArrayType,t.data),{["length"]:o=s.length/y0(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.ArrayType,t.data),{["length"]:o=s.length/y0(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.ArrayType,t.data),{["length"]:o=s.length/y0(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.ArrayType,t.data),{["length"]:o=s.length/y0(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.ArrayType,t.data),{["length"]:o=s.length/y0(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Ni(t.nullBitmap),o=RI(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new $i(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Ni(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=va(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(or.isSparseUnion(n))return new $i(n,r,o,a,[void 0,void 0,void 0,s],i);const u=RI(t.valueOffsets);return new $i(n,r,o,a,[u,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.indices.ArrayType,t.data),{["dictionary"]:o=new oi([new H6().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new $i(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.ArrayType,t.data),{["length"]:o=s.length/y0(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=Ni(t.nullBitmap),s=va(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new H6().visit({type:n.valueType})}=t,s=Ni(t.nullBitmap),{["length"]:o=i.length/y0(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $i(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new H6().visit({type:n.childType})}=t,s=Ni(t.nullBitmap),o=RI(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new $i(n,r,a,u,[o,void 0,s],[i])}}const D7t=new H6;function Ou(e){return D7t.visit(e)}class Lxe{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function S7e(e){return e.reduce((t,n)=>t+n.nullCount,0)}function A7e(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function C7e(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function fae(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function dae(e,t){return e.getValid(t)}function AS(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return fae(r,this._offsets,n,t)}}function I7e(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=fae(s,this._offsets,r,n);return t=void 0,o}}function k7e(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):fae(s,this._offsets,i,n);return t=void 0,o}}class wn extends ar{}function L7t(e,t){return t===null&&e.length>0?0:-1}function M7t(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new cae(n,e.offset+(t||0),e.length,n,E7e)){if(!i)return r;++r}return-1}function Bn(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case fe.Union:break;case fe.Dictionary:break;default:return M7t(e,n)}const r=Yc.getVisitFn(e),i=GC(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function R7e(e,t,n){const r=Yc.getVisitFn(e),i=GC(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}wn.prototype.visitNull=L7t;wn.prototype.visitBool=Bn;wn.prototype.visitInt=Bn;wn.prototype.visitInt8=Bn;wn.prototype.visitInt16=Bn;wn.prototype.visitInt32=Bn;wn.prototype.visitInt64=Bn;wn.prototype.visitUint8=Bn;wn.prototype.visitUint16=Bn;wn.prototype.visitUint32=Bn;wn.prototype.visitUint64=Bn;wn.prototype.visitFloat=Bn;wn.prototype.visitFloat16=Bn;wn.prototype.visitFloat32=Bn;wn.prototype.visitFloat64=Bn;wn.prototype.visitUtf8=Bn;wn.prototype.visitBinary=Bn;wn.prototype.visitFixedSizeBinary=Bn;wn.prototype.visitDate=Bn;wn.prototype.visitDateDay=Bn;wn.prototype.visitDateMillisecond=Bn;wn.prototype.visitTimestamp=Bn;wn.prototype.visitTimestampSecond=Bn;wn.prototype.visitTimestampMillisecond=Bn;wn.prototype.visitTimestampMicrosecond=Bn;wn.prototype.visitTimestampNanosecond=Bn;wn.prototype.visitTime=Bn;wn.prototype.visitTimeSecond=Bn;wn.prototype.visitTimeMillisecond=Bn;wn.prototype.visitTimeMicrosecond=Bn;wn.prototype.visitTimeNanosecond=Bn;wn.prototype.visitDecimal=Bn;wn.prototype.visitList=Bn;wn.prototype.visitStruct=Bn;wn.prototype.visitUnion=Bn;wn.prototype.visitDenseUnion=R7e;wn.prototype.visitSparseUnion=R7e;wn.prototype.visitDictionary=Bn;wn.prototype.visitInterval=Bn;wn.prototype.visitIntervalDayTime=Bn;wn.prototype.visitIntervalYearMonth=Bn;wn.prototype.visitDuration=Bn;wn.prototype.visitDurationSecond=Bn;wn.prototype.visitDurationMillisecond=Bn;wn.prototype.visitDurationMicrosecond=Bn;wn.prototype.visitDurationNanosecond=Bn;wn.prototype.visitFixedSizeList=Bn;wn.prototype.visitMap=Bn;const mM=new wn;class xn extends ar{}function An(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===fe.Timestamp||t instanceof Fl&&t.bitWidth!==64||t instanceof Ry&&t.bitWidth!==64||t instanceof xb&&t.precision!==su.HALF))return new Lxe(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new Lxe(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new F7t(o)})}class F7t{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}xn.prototype.visitNull=An;xn.prototype.visitBool=An;xn.prototype.visitInt=An;xn.prototype.visitInt8=An;xn.prototype.visitInt16=An;xn.prototype.visitInt32=An;xn.prototype.visitInt64=An;xn.prototype.visitUint8=An;xn.prototype.visitUint16=An;xn.prototype.visitUint32=An;xn.prototype.visitUint64=An;xn.prototype.visitFloat=An;xn.prototype.visitFloat16=An;xn.prototype.visitFloat32=An;xn.prototype.visitFloat64=An;xn.prototype.visitUtf8=An;xn.prototype.visitBinary=An;xn.prototype.visitFixedSizeBinary=An;xn.prototype.visitDate=An;xn.prototype.visitDateDay=An;xn.prototype.visitDateMillisecond=An;xn.prototype.visitTimestamp=An;xn.prototype.visitTimestampSecond=An;xn.prototype.visitTimestampMillisecond=An;xn.prototype.visitTimestampMicrosecond=An;xn.prototype.visitTimestampNanosecond=An;xn.prototype.visitTime=An;xn.prototype.visitTimeSecond=An;xn.prototype.visitTimeMillisecond=An;xn.prototype.visitTimeMicrosecond=An;xn.prototype.visitTimeNanosecond=An;xn.prototype.visitDecimal=An;xn.prototype.visitList=An;xn.prototype.visitStruct=An;xn.prototype.visitUnion=An;xn.prototype.visitDenseUnion=An;xn.prototype.visitSparseUnion=An;xn.prototype.visitDictionary=An;xn.prototype.visitInterval=An;xn.prototype.visitIntervalDayTime=An;xn.prototype.visitIntervalYearMonth=An;xn.prototype.visitDuration=An;xn.prototype.visitDurationSecond=An;xn.prototype.visitDurationMillisecond=An;xn.prototype.visitDurationMicrosecond=An;xn.prototype.visitDurationNanosecond=An;xn.prototype.visitFixedSizeList=An;xn.prototype.visitMap=An;const hae=new xn,B7t=(e,t)=>e+t;class v_ extends ar{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===bn.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitDuration(t,n){return 8}visitStruct(t,n){return t.children.reduce((r,i)=>r+hm.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+hm.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const j7t=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),U7t=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),z7t=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=hm.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},V7t=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=hm.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},H7t=(e,t)=>e.type.mode===Gc.Dense?$7e(e,t):N7e(e,t),$7e=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+hm.visit(t[s],r[i])},N7e=({children:e},t)=>4+hm.visitMany(e,e.map(()=>t)).reduce(B7t,0);v_.prototype.visitUtf8=j7t;v_.prototype.visitBinary=U7t;v_.prototype.visitList=z7t;v_.prototype.visitFixedSizeList=V7t;v_.prototype.visitUnion=H7t;v_.prototype.visitDenseUnion=$7e;v_.prototype.visitSparseUnion=N7e;const hm=new v_;var P7e;const O7e={},D7e={};class oi{constructor(t){var n,r,i;const s=t[0]instanceof oi?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof $i)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=O7e[o.typeId],f=s[0];this.isValid=d=>dae(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,D7e[o.typeId]),this._offsets=A7e(s);break}this.data=s,this.type=o,this.stride=y0(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullCount(){return S7e(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${fe[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}getByteLength(t){return 0}[Symbol.iterator](){return hae.visit(this)}concat(...t){return new oi(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new oi(x7e(this,t,n,({data:r,_offsets:i},s,o)=>C7e(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case fe.Int:case fe.Float:case fe.Decimal:case fe.Time:case fe.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new oi(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return or.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(or.isDictionary(this.type)){const t=new gM(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new oi(n)}return new gM(this)}unmemoize(){if(or.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new oi(n)}return this}}P7e=Symbol.toStringTag;oi[P7e]=(e=>{e.type=or.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(fe).map(n=>fe[n]).filter(n=>typeof n=="number"&&n!==fe.NONE);for(const n of t){const r=Yc.getVisitFnByTypeId(n),i=Qd.getVisitFnByTypeId(n),s=mM.getVisitFnByTypeId(n),o=hm.getVisitFnByTypeId(n);O7e[n]={get:r,set:i,indexOf:s,byteLength:o},D7e[n]=Object.create(e,{isValid:{value:AS(dae)},get:{value:AS(Yc.getVisitFnByTypeId(n))},set:{value:I7e(Qd.getVisitFnByTypeId(n))},indexOf:{value:k7e(mM.getVisitFnByTypeId(n))},getByteLength:{value:AS(hm.getVisitFnByTypeId(n))}})}return"Vector"})(oi.prototype);class gM extends oi{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new gM(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new oi(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function q7t(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${W7t(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function W7t(e){return typeof e!="bigint"?Bx(e):`${Bx(e)}n`}const BW=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,G7t=(e,t=0)=>e.length>=t?e.subarray(0,t):lM(new e.constructor(t),e,0);class ZB{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?BW(r*1,this.BYTES_PER_ELEMENT):BW(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=BW(t*this.stride,this.BYTES_PER_ELEMENT);const n=G7t(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=lM(new this.ArrayType(t),this.buffer)}}ZB.prototype.offset=0;class J$ extends ZB{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class L7e extends J${constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class M7e extends J${constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let sf=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=y0(t),this._nulls=new L7e,n&&n.length>0&&(this._isValid=q7t(n))}toVector(){return new oi([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),Ou({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};sf.prototype.length=1;sf.prototype.stride=1;sf.prototype.children=null;sf.prototype.finished=!1;sf.prototype.nullValues=null;sf.prototype._isValid=()=>!0;class Qy extends sf{constructor(t){super(t),this._values=new J$(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class ej extends sf{constructor(t){super(t),this._pendingLength=0,this._offsets=new M7e}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof QB?n[tp].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class CJ{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}const jW=2,A0=4,Og=4,Xi=4,rv=new Int32Array(2),Mxe=new Float32Array(rv.buffer),Fxe=new Float64Array(rv.buffer),o8=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var IJ;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(IJ||(IJ={}));let yM=class F7e{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new F7e(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return rv[0]=this.readInt32(t),Mxe[0]}readFloat64(t){return rv[o8?0:1]=this.readInt32(t),rv[o8?1:0]=this.readInt32(t+4),Fxe[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){Mxe[0]=n,this.writeInt32(t,rv[0])}writeFloat64(t,n){Fxe[0]=n,this.writeInt32(t,rv[o8?0:1]),this.writeInt32(t+4,rv[o8?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+A0+Og)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Og;n++)t+=String.fromCharCode(this.readInt8(this.position_+A0+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=A0;const i=this.bytes_.subarray(t,t+r);return n===IJ.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+A0}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Og)throw new Error("FlatBuffers: file identifier must be length "+Og);for(let n=0;n<Og;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+A0+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},B7e=class j7e{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=yM.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=j7e.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=yM.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(A0,0),this.writeInt32(this.offset()-t+A0)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*jW;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=jW;l<s;l+=jW)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Xi:0;if(n){const s=n;if(this.prep(this.minalign,A0+Og+i),s.length!=Og)throw new TypeError("FlatBuffers: file identifier must be length "+Og);for(let o=Og-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,A0+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(A0,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class Xo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Xo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Xi),(n||new Xo).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Xo.startKeyValue(t),Xo.addKey(t,n),Xo.addValue(t,r),Xo.endKeyValue(t)}}var CA;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(CA||(CA={}));var IA;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(IA||(IA={}));var vM;(function(e){e[e.DenseArray=0]="DenseArray"})(vM||(vM={}));class Sf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new Sf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Xi),(n||new Sf).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return Sf.startInt(t),Sf.addBitWidth(t,n),Sf.addIsSigned(t,r),Sf.endInt(t)}}class Dg{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Dg).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Xi),(n||new Dg).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Sf).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):vM.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,vM.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Qw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Qw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Xi),(n||new Qw).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Qw.startBinary(t),Qw.endBinary(t)}}let Bxe=class q4{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new q4).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Xi),(n||new q4).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return q4.startBool(t),q4.endBool(t)}};var bM;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(bM||(bM={}));let ED=class wT{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new wT).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Xi),(n||new wT).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):bM.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,bM.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return wT.startDate(t),wT.addUnit(t,n),wT.endDate(t)}};class gc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new gc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Xi),(n||new gc).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return gc.startDecimal(t),gc.addPrecision(t,n),gc.addScale(t,r),gc.addBitWidth(t,i),gc.endDecimal(t)}}var Tb;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Tb||(Tb={}));class C0{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new C0).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+Xi),(n||new C0).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Tb.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Tb.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return C0.startDuration(t),C0.addUnit(t,n),C0.endDuration(t)}}class I0{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new I0).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Xi),(n||new I0).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return I0.startFixedSizeBinary(t),I0.addByteWidth(t,n),I0.endFixedSizeBinary(t)}}class k0{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new k0).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Xi),(n||new k0).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return k0.startFixedSizeList(t),k0.addListSize(t,n),k0.endFixedSizeList(t)}}var _M;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(_M||(_M={}));class R0{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new R0).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Xi),(n||new R0).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_M.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,_M.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return R0.startFloatingPoint(t),R0.addPrecision(t,n),R0.endFloatingPoint(t)}}var wM;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(wM||(wM={}));class $0{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new $0).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Xi),(n||new $0).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wM.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,wM.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return $0.startInterval(t),$0.addUnit(t,n),$0.endInterval(t)}}class Jw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new Jw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Xi),(n||new Jw).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Jw.startList(t),Jw.endList(t)}}let TD=class xT{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new xT).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Xi),(n||new xT).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return xT.startMap(t),xT.addKeysSorted(t,n),xT.endMap(t)}};class Zw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Zw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Xi),(n||new Zw).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Zw.startNull(t),Zw.endNull(t)}}class ex{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new ex).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Xi),(n||new ex).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return ex.startStruct_(t),ex.endStruct_(t)}}let W4=class _w{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new _w).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Xi),(n||new _w).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Tb.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Tb.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return _w.startTime(t),_w.addUnit(t,n),_w.addBitWidth(t,r),_w.endTime(t)}},G4=class ww{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new ww).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Xi),(n||new ww).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Tb.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Tb.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return ww.startTimestamp(t),ww.addUnit(t,n),ww.addTimezone(t,r),ww.endTimestamp(t)}};var xM;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(xM||(xM={}));let xw=class Ew{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Ew).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Xi),(n||new Ew).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xM.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,xM.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Ew.startUnion(t),Ew.addMode(t,n),Ew.addTypeIds(t,r),Ew.endUnion(t)}};class tx{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new tx).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Xi),(n||new tx).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return tx.startUtf8(t),tx.endUtf8(t)}}var Rs;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(Rs||(Rs={}));let Ed=class SD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new SD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Xi),(n||new SD).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Rs.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Dg).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new SD).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Xo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,Rs.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},m0=class _g{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new _g).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Xi),(n||new _g).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):IA.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Ed).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Xo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,IA.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return _g.startSchema(t),_g.addEndianness(t,n),_g.addFields(t,r),_g.addCustomMetadata(t,i),_g.addFeatures(t,s),_g.endSchema(t)}};class vf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new vf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Xi),(n||new vf).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):CA.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new m0).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new CJ).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new CJ).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Xo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,CA.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Ti{constructor(t=[],n,r,i=El.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=RJ(t)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Ti(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Ti(n,this.metadata)}assign(...t){const n=t[0]instanceof Ti?t[0]:Array.isArray(t[0])?new Ti(t[0]):new Ti(t),r=[...this.fields],i=a8(a8(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:a8(a8(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=RJ(s,new Map);return new Ti([...r,...s],i,new Map([...this.dictionaries,...o]))}}Ti.prototype.fields=null;Ti.prototype.metadata=null;Ti.prototype.dictionaries=null;let Hi=class kJ{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new kJ(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],kJ.new(n,r,i,s)}};Hi.prototype.type=null;Hi.prototype.name=null;Hi.prototype.nullable=null;Hi.prototype.metadata=null;function a8(e,t){return new Map([...e||new Map,...t||new Map])}function RJ(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(or.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&RJ(s.children,t)}return t}var Y7t=B7e,K7t=yM;class $J{static decode(t){t=new K7t(Ni(t));const n=vf.getRootAsFooter(t),r=Ti.decode(n.schema(),new Map,n.version());return new X7t(r,n)}static encode(t){const n=new Y7t,r=Ti.encode(n,t.schema);vf.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Sb.encode(n,o);const i=n.endVector();vf.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Sb.encode(n,o);const s=n.endVector();return vf.startFooter(n),vf.addSchema(n,r),vf.addVersion(n,El.V5),vf.addRecordBatches(n,i),vf.addDictionaries(n,s),vf.finishFooterBuffer(n,vf.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=El.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class X7t extends $J{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Sb.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Sb.decode(n)}return null}}class Sb{static decode(t){return new Sb(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return CJ.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=Ap(r),this.bodyLength=Ap(n)}}const u8=Object.freeze({done:!0,value:void 0});class U7e{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Q7t extends U7e{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return $g(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(u8);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return $xe.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return $xe.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return $g(this,void 0,void 0,function*(){return yield this.abort(t),u8})}return(t){return $g(this,void 0,void 0,function*(){return yield this.close(),u8})}read(t){return $g(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return $g(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(u8)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class UW extends Q7t{write(t){if((t=Ni(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?EJ(this.toUint8Array(!0)):this.toUint8Array(!1).then(EJ)}toUint8Array(t=!1){return t?cm(this._values)[0]:$g(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var u=!0,l=A6(this),c;c=yield l.next(),n=c.done,!n;u=!0){s=c.value,u=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!u&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}return cm(o,a)[0]})}}class z7e extends ej{constructor(t){super(t),this._values=new ZB(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Ni(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class J7t extends sf{constructor(t){super(t),this._values=new L7e}setValue(t,n){this._values.set(t,+n)}}class tj extends Qy{}tj.prototype._setValue=GFe;class V7e extends tj{}V7e.prototype._setValue=Woe;class H7e extends tj{}H7e.prototype._setValue=Goe;class q7e extends Qy{}q7e.prototype._setValue=XFe;class Z7t extends sf{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new Eb(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=EM({type:this.type.indices,nullValues:n}),this.dictionary=EM({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class W7e extends Qy{}W7e.prototype._setValue=WFe;class eBt extends sf{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new AA(this.type.listSize,new Hi(n,t.type,!0)),r}}class nj extends Qy{setValue(t,n){this._values.set(t,n)}}class tBt extends nj{setValue(t,n){super.setValue(t,VFe(n))}}class nBt extends nj{}class rBt extends nj{}class rj extends Qy{}rj.prototype._setValue=ZFe;class G7e extends rj{}G7e.prototype._setValue=nae;class Y7e extends rj{}Y7e.prototype._setValue=rae;class YC extends Qy{}YC.prototype._setValue=e7e;class K7e extends YC{}K7e.prototype._setValue=iae;class X7e extends YC{}X7e.prototype._setValue=sae;class Q7e extends YC{}Q7e.prototype._setValue=oae;class J7e extends YC{}J7e.prototype._setValue=aae;class Jy extends Qy{setValue(t,n){this._values.set(t,n)}}class iBt extends Jy{}class sBt extends Jy{}class oBt extends Jy{}class aBt extends Jy{}class uBt extends Jy{}class lBt extends Jy{}class cBt extends Jy{}class fBt extends Jy{}class dBt extends ej{constructor(t){super(t),this._offsets=new M7e}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new SA(new Hi(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s,a=o.length,u=n.set(i,a).buffer[i];for(let l=-1;++l<a;)r.set(u+l,o[l])}}}class hBt extends ej{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new wR(new Hi(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class pBt extends sf{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class mBt extends sf{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new Fu([...this.type.children,new Hi(n,t.type,!0)]),r}}class KC extends Qy{}KC.prototype._setValue=YFe;class Z7e extends KC{}Z7e.prototype._setValue=Yoe;class eBe extends KC{}eBe.prototype._setValue=Koe;class tBe extends KC{}tBe.prototype._setValue=Xoe;class nBe extends KC{}nBe.prototype._setValue=Qoe;class XC extends Qy{}XC.prototype._setValue=KFe;class rBe extends XC{}rBe.prototype._setValue=Joe;class iBe extends XC{}iBe.prototype._setValue=Zoe;class sBe extends XC{}sBe.prototype._setValue=eae;class oBe extends XC{}oBe.prototype._setValue=tae;class pae extends sf{constructor(t){super(t),this._typeIds=new J$(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new Hi(n,t.type)];return this.type=new _R(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class gBt extends pae{}class yBt extends pae{constructor(t){super(t),this._offsets=new J$(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class aBe extends ej{constructor(t){super(t),this._values=new ZB(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,$oe(n))}_flushPending(t,n){}}aBe.prototype._flushPending=z7e.prototype._flushPending;class vBt extends ar{visitNull(){return pBt}visitBool(){return J7t}visitInt(){return Jy}visitInt8(){return iBt}visitInt16(){return sBt}visitInt32(){return oBt}visitInt64(){return aBt}visitUint8(){return uBt}visitUint16(){return lBt}visitUint32(){return cBt}visitUint64(){return fBt}visitFloat(){return nj}visitFloat16(){return tBt}visitFloat32(){return nBt}visitFloat64(){return rBt}visitUtf8(){return aBe}visitBinary(){return z7e}visitFixedSizeBinary(){return W7e}visitDate(){return tj}visitDateDay(){return V7e}visitDateMillisecond(){return H7e}visitTimestamp(){return KC}visitTimestampSecond(){return Z7e}visitTimestampMillisecond(){return eBe}visitTimestampMicrosecond(){return tBe}visitTimestampNanosecond(){return nBe}visitTime(){return XC}visitTimeSecond(){return rBe}visitTimeMillisecond(){return iBe}visitTimeMicrosecond(){return sBe}visitTimeNanosecond(){return oBe}visitDecimal(){return q7e}visitList(){return dBt}visitStruct(){return mBt}visitUnion(){return pae}visitDenseUnion(){return yBt}visitSparseUnion(){return gBt}visitDictionary(){return Z7t}visitInterval(){return rj}visitIntervalDayTime(){return G7e}visitIntervalYearMonth(){return Y7e}visitDuration(){return YC}visitDurationSecond(){return K7e}visitDurationMillisecond(){return X7e}visitDurationMicrosecond(){return Q7e}visistDurationNanosecond(){return J7e}visitFixedSizeList(){return eBt}visitMap(){return hBt}}const bBt=new vBt;class En extends ar{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function ql(e,t){return t instanceof e.constructor}function Z$(e,t){return e===t||ql(e,t)}function Zy(e,t){return e===t||ql(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function ij(e,t){return e===t||ql(e,t)&&e.precision===t.precision}function _Bt(e,t){return e===t||ql(e,t)&&e.byteWidth===t.byteWidth}function mae(e,t){return e===t||ql(e,t)&&e.unit===t.unit}function eN(e,t){return e===t||ql(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function tN(e,t){return e===t||ql(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function wBt(e,t){return e===t||ql(e,t)&&e.children.length===t.children.length&&Ab.compareManyFields(e.children,t.children)}function xBt(e,t){return e===t||ql(e,t)&&e.children.length===t.children.length&&Ab.compareManyFields(e.children,t.children)}function gae(e,t){return e===t||ql(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Ab.compareManyFields(e.children,t.children)}function EBt(e,t){return e===t||ql(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Ab.visit(e.indices,t.indices)&&Ab.visit(e.dictionary,t.dictionary)}function yae(e,t){return e===t||ql(e,t)&&e.unit===t.unit}function nN(e,t){return e===t||ql(e,t)&&e.unit===t.unit}function TBt(e,t){return e===t||ql(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Ab.compareManyFields(e.children,t.children)}function SBt(e,t){return e===t||ql(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Ab.compareManyFields(e.children,t.children)}En.prototype.visitNull=Z$;En.prototype.visitBool=Z$;En.prototype.visitInt=Zy;En.prototype.visitInt8=Zy;En.prototype.visitInt16=Zy;En.prototype.visitInt32=Zy;En.prototype.visitInt64=Zy;En.prototype.visitUint8=Zy;En.prototype.visitUint16=Zy;En.prototype.visitUint32=Zy;En.prototype.visitUint64=Zy;En.prototype.visitFloat=ij;En.prototype.visitFloat16=ij;En.prototype.visitFloat32=ij;En.prototype.visitFloat64=ij;En.prototype.visitUtf8=Z$;En.prototype.visitBinary=Z$;En.prototype.visitFixedSizeBinary=_Bt;En.prototype.visitDate=mae;En.prototype.visitDateDay=mae;En.prototype.visitDateMillisecond=mae;En.prototype.visitTimestamp=eN;En.prototype.visitTimestampSecond=eN;En.prototype.visitTimestampMillisecond=eN;En.prototype.visitTimestampMicrosecond=eN;En.prototype.visitTimestampNanosecond=eN;En.prototype.visitTime=tN;En.prototype.visitTimeSecond=tN;En.prototype.visitTimeMillisecond=tN;En.prototype.visitTimeMicrosecond=tN;En.prototype.visitTimeNanosecond=tN;En.prototype.visitDecimal=Z$;En.prototype.visitList=wBt;En.prototype.visitStruct=xBt;En.prototype.visitUnion=gae;En.prototype.visitDenseUnion=gae;En.prototype.visitSparseUnion=gae;En.prototype.visitDictionary=EBt;En.prototype.visitInterval=yae;En.prototype.visitIntervalDayTime=yae;En.prototype.visitIntervalYearMonth=yae;En.prototype.visitDuration=nN;En.prototype.visitDurationSecond=nN;En.prototype.visitDurationMillisecond=nN;En.prototype.visitDurationMicrosecond=nN;En.prototype.visitDurationNanosecond=nN;En.prototype.visitFixedSizeList=TBt;En.prototype.visitMap=SBt;const Ab=new En;function NJ(e,t){return Ab.compareSchemas(e,t)}function EM(e){const t=e.type,n=new(bBt.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(EM(Object.assign(Object.assign({},l),{type:u})))}}return n}function zW(e,t){return ABt(e,t.map(n=>n.data.concat()))}function ABt(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=CBt(n,o,c,t,i),o>0&&(r[s++]=Ou({type:new Fu(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new Af(e,f))]}function CBt(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Ou({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var uBe;class _c{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Ti([]),this._offsets=[0],this;let i,s;t[0]instanceof Ti&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof Af)return[u];if(u instanceof _c)return u.batches;if(u instanceof $i){if(u.type instanceof Fu)return[new Af(new Ti(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new oi([u[h]])),f=new Ti(l.map((h,p)=>new Hi(String(h),c[p].type))),[,d]=zW(f,c);return d.length===0?[new Af(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Ti([]),!(i instanceof Ti))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof Af))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!NJ(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??A7e(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=S7e(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?hae.visit(new oi(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new _c(n,r.map(i=>new Af(n,i)))}slice(t,n){const r=this.schema;[t,n]=x7e({length:this.numRows},t,n);const i=C7e(this.data,this._offsets,t,n);return new _c(r,i.map(s=>new Af(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Ou({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new oi(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new oi([Ou({type:new ky,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=zW(r,a)}return new _c(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new _c(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new _c(...zW(s,o))}}uBe=Symbol.toStringTag;_c[uBe]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=AS(dae),e.get=AS(Yc.getVisitFn(fe.Struct)),e.set=I7e(Qd.getVisitFn(fe.Struct)),e.indexOf=k7e(mM.getVisitFn(fe.Struct)),e.getByteLength=AS(hm.getVisitFn(fe.Struct)),"Table"))(_c.prototype);var lBe;let Af=class Y4{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Ti))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ou({nullCount:0,type:new Fu(this.schema.fields),children:this.schema.fields.map(n=>Ou({type:n.type,nullCount:0}))})]=t,!(this.data instanceof $i))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=jxe(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=Hi.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new Ti(r),a=Ou({type:new Fu(r),length:s,children:i,nullCount:0});[this.schema,this.data]=jxe(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=cBe(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Yc.visit(this.data,t)}set(t,n){return Qd.visit(this.data,t,n)}indexOf(t,n){return mM.visit(this.data,t,n)}getByteLength(t){return hm.visit(this.data,t)}[Symbol.iterator](){return hae.visit(new oi([this.data]))}toArray(){return[...this]}concat(...t){return new _c(this.schema,[this,...t])}slice(t,n){const[r]=new oi([this.data]).slice(t,n).data;return new Y4(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new oi([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new oi([Ou({type:new ky,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new Ti(s,new Map(this.schema.metadata)),i=Ou({type:new Fu(s),children:o})}return new Y4(r,i)}select(t){const n=this.schema.select(t),r=new Fu(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new Y4(n,Ou({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Ou({type:new Fu(n.fields),length:this.numRows,children:r});return new Y4(n,i)}};lBe=Symbol.toStringTag;Af[lBe]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Af.prototype);function jxe(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Ou({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Ou({type:new Fu(i),length:n,children:s})]}function cBe(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],u=t[s];for(const l of[u,...((i=u==null?void 0:u.dictionary)===null||i===void 0?void 0:i.data)||[]])cBe(a.children,l==null?void 0:l.children,n);if(or.isDictionary(a)){const{id:l}=a;if(!n.has(l))u!=null&&u.dictionary&&n.set(l,u.dictionary);else if(n.get(l)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class IBt extends Af{constructor(t){const n=t.fields.map(i=>Ou({type:i.type})),r=Ou({type:new Fu(t.fields),nullCount:0,children:n});super(t,r)}}var TM;(function(e){e[e.BUFFER=0]="BUFFER"})(TM||(TM={}));var SM;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(SM||(SM={}));class iv{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new iv).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Xi),(n||new iv).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):SM.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):TM.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,SM.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,TM.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return iv.startBodyCompression(t),iv.addCodec(t,n),iv.addMethod(t,r),iv.endBodyCompression(t)}}let fBe=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},dBe=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Eg=class PJ{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new PJ).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Xi),(n||new PJ).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new dBe).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new fBe).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new iv).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},ET=class OJ{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new OJ).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Xi),(n||new OJ).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Eg).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var AM;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(AM||(AM={}));let k1=class u0{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new u0).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Xi),(n||new u0).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):CA.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):AM.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Xo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,CA.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,AM.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return u0.startMessage(t),u0.addVersion(t,n),u0.addHeaderType(t,r),u0.addHeader(t,i),u0.addBodyLength(t,s),u0.addCustomMetadata(t,o),u0.endMessage(t)}};class kBt extends ar{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Zw.startNull(n),Zw.endNull(n)}visitInt(t,n){return Sf.startInt(n),Sf.addBitWidth(n,t.bitWidth),Sf.addIsSigned(n,t.isSigned),Sf.endInt(n)}visitFloat(t,n){return R0.startFloatingPoint(n),R0.addPrecision(n,t.precision),R0.endFloatingPoint(n)}visitBinary(t,n){return Qw.startBinary(n),Qw.endBinary(n)}visitBool(t,n){return Bxe.startBool(n),Bxe.endBool(n)}visitUtf8(t,n){return tx.startUtf8(n),tx.endUtf8(n)}visitDecimal(t,n){return gc.startDecimal(n),gc.addScale(n,t.scale),gc.addPrecision(n,t.precision),gc.addBitWidth(n,t.bitWidth),gc.endDecimal(n)}visitDate(t,n){return ED.startDate(n),ED.addUnit(n,t.unit),ED.endDate(n)}visitTime(t,n){return W4.startTime(n),W4.addUnit(n,t.unit),W4.addBitWidth(n,t.bitWidth),W4.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return G4.startTimestamp(n),G4.addUnit(n,t.unit),r!==void 0&&G4.addTimezone(n,r),G4.endTimestamp(n)}visitInterval(t,n){return $0.startInterval(n),$0.addUnit(n,t.unit),$0.endInterval(n)}visitDuration(t,n){return C0.startDuration(n),C0.addUnit(n,t.unit),C0.endDuration(n)}visitList(t,n){return Jw.startList(n),Jw.endList(n)}visitStruct(t,n){return ex.startStruct_(n),ex.endStruct_(n)}visitUnion(t,n){xw.startTypeIdsVector(n,t.typeIds.length);const r=xw.createTypeIdsVector(n,t.typeIds);return xw.startUnion(n),xw.addMode(n,t.mode),xw.addTypeIds(n,r),xw.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Dg.startDictionaryEncoding(n),Dg.addId(n,BigInt(t.id)),Dg.addIsOrdered(n,t.isOrdered),r!==void 0&&Dg.addIndexType(n,r),Dg.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return I0.startFixedSizeBinary(n),I0.addByteWidth(n,t.byteWidth),I0.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return k0.startFixedSizeList(n),k0.addListSize(n,t.listSize),k0.endFixedSizeList(n)}visitMap(t,n){return TD.startMap(n),TD.addKeysSorted(n,t.keysSorted),TD.endMap(n)}}const VW=new kBt;function RBt(e,t=new Map){return new Ti(NBt(e,t),AD(e.metadata),t)}function hBe(e){return new Qf(e.count,pBe(e.columns),mBe(e.columns))}function $Bt(e){return new pm(hBe(e.data),e.id,e.isDelta)}function NBt(e,t){return(e.fields||[]).filter(Boolean).map(n=>Hi.fromJSON(n,t))}function Uxe(e,t){return(e.children||[]).filter(Boolean).map(n=>Hi.fromJSON(n,t))}function pBe(e){return(e||[]).reduce((t,n)=>[...t,new Cb(n.count,PBt(n.VALIDITY)),...pBe(n.children)],[])}function mBe(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new M0(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new M0(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new M0(t.length,i.OFFSET.length)),i.DATA&&t.push(new M0(t.length,i.DATA.length)),t=mBe(i.children,t)}return t}function PBt(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function OBt(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=Vxe(e,Uxe(e,t)),i=new Hi(e.name,o,e.nullable,AD(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?zxe(r):new wb,a=new Eb(t.get(n),r,n,s.isOrdered),i=new Hi(e.name,a,e.nullable,AD(e.metadata))):(r=(r=s.indexType)?zxe(r):new wb,t.set(n,o=Vxe(e,Uxe(e,t))),a=new Eb(o,r,n,s.isOrdered),i=new Hi(e.name,a,e.nullable,AD(e.metadata))),i||null}function AD(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function zxe(e){return new Fl(e.isSigned,e.bitWidth)}function Vxe(e,t){const n=e.type.name;switch(n){case"NONE":return new ky;case"null":return new ky;case"binary":return new vR;case"utf8":return new xA;case"bool":return new bR;case"list":return new SA((t||[])[0]);case"struct":return new Fu(t||[]);case"struct_":return new Fu(t||[])}switch(n){case"int":{const r=e.type;return new Fl(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new xb(su[r.precision])}case"decimal":{const r=e.type;return new cM(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new EA(fm[r.unit])}case"time":{const r=e.type;return new Ry(bn[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new fM(bn[r.unit],r.timezone)}case"interval":{const r=e.type;return new TA(dm[r.unit])}case"duration":{const r=e.type;return new dM(bn[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new _R(Gc[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new hM(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new AA(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new wR((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var DBt=B7e,LBt=yM;class N0{static fromJSON(t,n){const r=new N0(0,El.V5,n);return r._createHeader=MBt(t,n),r}static decode(t){t=new LBt(Ni(t));const n=k1.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new N0(r,i,s);return o._createHeader=FBt(n,s),o}static encode(t){const n=new DBt;let r=-1;return t.isSchema()?r=Ti.encode(n,t.header()):t.isRecordBatch()?r=Qf.encode(n,t.header()):t.isDictionaryBatch()&&(r=pm.encode(n,t.header())),k1.startMessage(n),k1.addVersion(n,El.V5),k1.addHeader(n,r),k1.addHeaderType(n,t.headerType),k1.addBodyLength(n,BigInt(t.bodyLength)),k1.finishMessageBuffer(n,k1.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Ti)return new N0(0,El.V5,wa.Schema,t);if(t instanceof Qf)return new N0(n,El.V5,wa.RecordBatch,t);if(t instanceof pm)return new N0(n,El.V5,wa.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===wa.Schema}isRecordBatch(){return this.headerType===wa.RecordBatch}isDictionaryBatch(){return this.headerType===wa.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=Ap(t)}}class Qf{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=Ap(t)}}class pm{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=Ap(n)}}class M0{constructor(t,n){this.offset=Ap(t),this.length=Ap(n)}}class Cb{constructor(t,n){this.length=Ap(t),this.nullCount=Ap(n)}}function MBt(e,t){return()=>{switch(t){case wa.Schema:return Ti.fromJSON(e);case wa.RecordBatch:return Qf.fromJSON(e);case wa.DictionaryBatch:return pm.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${wa[t]}, type: ${t} }`)}}function FBt(e,t){return()=>{switch(t){case wa.Schema:return Ti.decode(e.header(new m0),new Map,e.version());case wa.RecordBatch:return Qf.decode(e.header(new Eg),e.version());case wa.DictionaryBatch:return pm.decode(e.header(new ET),e.version())}throw new Error(`Unrecognized Message type: { name: ${wa[t]}, type: ${t} }`)}}Hi.encode=KBt;Hi.decode=GBt;Hi.fromJSON=OBt;Ti.encode=YBt;Ti.decode=BBt;Ti.fromJSON=RBt;Qf.encode=XBt;Qf.decode=jBt;Qf.fromJSON=hBe;pm.encode=QBt;pm.decode=UBt;pm.fromJSON=$Bt;Cb.encode=JBt;Cb.decode=VBt;M0.encode=ZBt;M0.decode=zBt;function BBt(e,t=new Map,n=El.V5){const r=WBt(e,t);return new Ti(r,CD(e),t,n)}function jBt(e,t=El.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Qf(e.length(),HBt(e),qBt(e,t))}function UBt(e,t=El.V5){return new pm(Qf.decode(e.data(),t),e.id(),e.isDelta())}function zBt(e){return new M0(e.offset(),e.length())}function VBt(e){return new Cb(e.length(),e.nullCount())}function HBt(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Cb.decode(n));return t}function qBt(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<El.V4&&(r.bb_pos+=8*(i+1)),n[++s]=M0.decode(r));return n}function WBt(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=Hi.decode(r,t));return n}function Hxe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=Hi.decode(r,t));return n}function GBt(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=Wxe(e,Hxe(e,t)),r=new Hi(e.name(),i,e.nullable(),CD(e))):t.has(n=Ap(a.id()))?(s=(s=a.indexType())?qxe(s):new wb,o=new Eb(t.get(n),s,n,a.isOrdered()),r=new Hi(e.name(),o,e.nullable(),CD(e))):(s=(s=a.indexType())?qxe(s):new wb,t.set(n,i=Wxe(e,Hxe(e,t))),o=new Eb(i,s,n,a.isOrdered()),r=new Hi(e.name(),o,e.nullable(),CD(e))),r||null}function CD(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function qxe(e){return new Fl(e.isSigned(),e.bitWidth())}function Wxe(e,t){const n=e.typeType();switch(n){case Rs.NONE:return new ky;case Rs.Null:return new ky;case Rs.Binary:return new vR;case Rs.Utf8:return new xA;case Rs.Bool:return new bR;case Rs.List:return new SA((t||[])[0]);case Rs.Struct_:return new Fu(t||[])}switch(n){case Rs.Int:{const r=e.type(new Sf);return new Fl(r.isSigned(),r.bitWidth())}case Rs.FloatingPoint:{const r=e.type(new R0);return new xb(r.precision())}case Rs.Decimal:{const r=e.type(new gc);return new cM(r.scale(),r.precision(),r.bitWidth())}case Rs.Date:{const r=e.type(new ED);return new EA(r.unit())}case Rs.Time:{const r=e.type(new W4);return new Ry(r.unit(),r.bitWidth())}case Rs.Timestamp:{const r=e.type(new G4);return new fM(r.unit(),r.timezone())}case Rs.Interval:{const r=e.type(new $0);return new TA(r.unit())}case Rs.Duration:{const r=e.type(new C0);return new dM(r.unit())}case Rs.Union:{const r=e.type(new xw);return new _R(r.mode(),r.typeIdsArray()||[],t||[])}case Rs.FixedSizeBinary:{const r=e.type(new I0);return new hM(r.byteWidth())}case Rs.FixedSizeList:{const r=e.type(new k0);return new AA(r.listSize(),(t||[])[0])}case Rs.Map:{const r=e.type(new TD);return new wR((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Rs[n]}" (${n})`)}function YBt(e,t){const n=t.fields.map(s=>Hi.encode(e,s));m0.startFieldsVector(e,n.length);const r=m0.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?m0.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return Xo.startKeyValue(e),Xo.addKey(e,a),Xo.addValue(e,u),Xo.endKeyValue(e)})):-1;return m0.startSchema(e),m0.addFields(e,r),m0.addEndianness(e,ejt?IA.Little:IA.Big),i!==-1&&m0.addCustomMetadata(e,i),m0.endSchema(e)}function KBt(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;or.isDictionary(s)?(o=s.dictionary.typeId,i=VW.visit(s,e),r=VW.visit(s.dictionary,e)):r=VW.visit(s,e);const a=(s.children||[]).map(c=>Hi.encode(e,c)),u=Ed.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Ed.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return Xo.startKeyValue(e),Xo.addKey(e,d),Xo.addValue(e,h),Xo.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Ed.startField(e),Ed.addType(e,r),Ed.addTypeType(e,o),Ed.addChildren(e,u),Ed.addNullable(e,!!t.nullable),n!==-1&&Ed.addName(e,n),i!==-1&&Ed.addDictionary(e,i),l!==-1&&Ed.addCustomMetadata(e,l),Ed.endField(e)}function XBt(e,t){const n=t.nodes||[],r=t.buffers||[];Eg.startNodesVector(e,n.length);for(const o of n.slice().reverse())Cb.encode(e,o);const i=e.endVector();Eg.startBuffersVector(e,r.length);for(const o of r.slice().reverse())M0.encode(e,o);const s=e.endVector();return Eg.startRecordBatch(e),Eg.addLength(e,BigInt(t.length)),Eg.addNodes(e,i),Eg.addBuffers(e,s),Eg.endRecordBatch(e)}function QBt(e,t){const n=Qf.encode(e,t.data);return ET.startDictionaryBatch(e),ET.addId(e,BigInt(t.id)),ET.addIsDelta(e,t.isDelta),ET.addData(e,n),ET.endDictionaryBatch(e)}function JBt(e,t){return dBe.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function ZBt(e,t){return fBe.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const ejt=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),DJ="ARROW1",vae=new Uint8Array(DJ.length);for(let e=0;e<DJ.length;e+=1)vae[e]=DJ.codePointAt(e);vae.length;class wo extends ar{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof Af?s.data.children:s.data),r=new wo;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof oi)return this.visitMany(t.data),this;const{type:n}=t;if(!or.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(or.isUnion(n))this.nodes.push(new Cb(r,0));else{const{nullCount:i}=t;or.isNull(n)||gp.call(this,i<=0?new Uint8Array(0):pM(t.offset,r,t.nullBitmap)),this.nodes.push(new Cb(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function gp(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new M0(this._byteLength,t)),this._byteLength+=t,this}function tjt(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(gp.call(this,i),n.mode===Gc.Sparse)return LJ.call(this,e);if(n.mode===Gc.Dense){if(e.offset<=0)return gp.call(this,s),LJ.call(this,e);{const o=new Int32Array(r),a=Object.create(null),u=Object.create(null);for(let l,c,f=-1;++f<r;)(l=i[f])!==void 0&&((c=a[l])===void 0&&(c=a[l]=s[f]),o[f]=s[f]-c,u[l]=((t=u[l])!==null&&t!==void 0?t:0)+1);gp.call(this,o),this.visitMany(e.children.map((l,c)=>{const f=n.typeIds[c],d=a[f],h=u[f];return l.slice(d,Math.min(r,h))}))}}return this}function njt(e){let t;return e.nullCount>=e.length?gp.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?gp.call(this,pM(e.offset,e.length,t)):gp.call(this,T7e(e.values))}function e1(e){return gp.call(this,e.values.subarray(0,e.length*e.stride))}function gBe(e){const{length:t,values:n,valueOffsets:r}=e,{[0]:i,[t]:s}=r,o=Math.min(s-i,n.byteLength-i);return gp.call(this,vFe(-i,t+1,r)),gp.call(this,n.subarray(i,i+o)),this}function bae(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return gp.call(this,vFe(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function LJ(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}wo.prototype.visitBool=njt;wo.prototype.visitInt=e1;wo.prototype.visitFloat=e1;wo.prototype.visitUtf8=gBe;wo.prototype.visitBinary=gBe;wo.prototype.visitFixedSizeBinary=e1;wo.prototype.visitDate=e1;wo.prototype.visitTimestamp=e1;wo.prototype.visitTime=e1;wo.prototype.visitDecimal=e1;wo.prototype.visitList=bae;wo.prototype.visitStruct=LJ;wo.prototype.visitUnion=tjt;wo.prototype.visitInterval=e1;wo.prototype.visitDuration=e1;wo.prototype.visitFixedSizeList=bae;wo.prototype.visitMap=bae;class yBe extends U7e{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new UW,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,g_(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return KB(t)?t.then(n=>this.writeAll(n)):XB(t)?Eae(this,t):xae(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof UW?this._sink=t:(this._sink=new UW,t&&uFt(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&lFt(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!NJ(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof _c&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof Af&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!NJ(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof Af?t instanceof IBt||this._writeRecordBatch(t):t instanceof _c?this.writeAll(t.batches):Noe(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=N0.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===wa.RecordBatch?this._recordBatchBlocks.push(new Sb(a,t.bodyLength,this._position)):t.headerType===wa.DictionaryBatch&&this._dictionaryBlocks.push(new Sb(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Ni(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(N0.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(vae)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=wo.assemble(t),o=new Qf(t.numRows,r,i),a=N0.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=wo.assemble(new oi([t])),u=new Qf(t.length,s,o),l=new pm(u,n,r),c=N0.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class _ae extends yBe{static writeAll(t,n){const r=new _ae(n);return KB(t)?t.then(i=>r.writeAll(i)):XB(t)?Eae(r,t):xae(r,t)}}class wae extends yBe{static writeAll(t){const n=new wae;return KB(t)?t.then(r=>n.writeAll(r)):XB(t)?Eae(n,t):xae(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=$J.encode(new $J(t,El.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function xae(e,t){let n=t;t instanceof _c&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function Eae(e,t){var n,r,i,s,o,a,u;return $g(this,void 0,void 0,function*(){try{for(n=!0,r=A6(t);i=yield r.next(),s=i.done,!s;n=!0){u=i.value,n=!1;const l=u;e.write(l)}}catch(l){o={error:l}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function rjt(e,t="stream"){return(t==="stream"?_ae:wae).writeAll(e).toUint8Array(!0)}function Tae(e,t=1){return(e*t+63&-64||64)/t}function Ib(e,t,n=e.BYTES_PER_ELEMENT){return new e(Tae(t,n))}function Sae(e){return e instanceof $i?e:new $i(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function ijt(e){return new oi([Sae(e)])}const Aae=new TextEncoder;function sjt(e,t,n){const r=Aae.encode(n);return e.set(r,t),r.length}function ojt(e,t,n){return Aae.encodeInto(n,e.subarray(t)).written}const ajt=Aae.encodeInto?ojt:sjt;function Gxe(e,t){const n=Ib(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function ujt(e,t){const n=Ib(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function ljt(e,t){const n=Ib(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function cjt(e,t){const n=Ib(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function fjt(e){const t=EM({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function djt(e,t,n){const r=Ib(Int32Array,t+1),i=Ib(Uint8Array,3*n);let s=0;return{set(o,a){s+=ajt(i,s,o),r[a+1]=s},data:()=>{const o=Tae(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function hjt(e,t){const n=[],r=Ib(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:pjt(e.dictionary,n,o)})}}function pjt(e,t,n){const r=djt(e,t.length,n);return t.forEach(r.set),ijt(r.data())}function mjt(e,t){const n=Ib(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function gjt(e,t,n=!0){let r;switch(e.typeId){case fe.Int:r=e.bitWidth<64?Gxe:null;break;case fe.Float:r=e.precision>0?Gxe:null;break;case fe.Dictionary:r=e.dictionary.typeId===fe.Utf8&&e.indices.typeId===fe.Int&&e.indices.bitWidth<64?hjt:null;break;case fe.Bool:r=ujt;break;case fe.Date:r=e.unit?cjt:ljt;break}return r==null?fjt(e):n?mjt(r(e,t),t):r(e,t)}function yjt(e,t){const n=e.length,r=Tae(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),Sae({type:t,length:n,buffers:[null,i]})}function vBe(e,t,n,r,i=!0){const s=gjt(r,e,i);return t(n,s.set),Sae(s.data())}function Cae(e){if(e instanceof or||e==null)return e;switch(e){case fe.Binary:return new vR;case fe.Bool:return new bR;case fe.DateDay:return new TFt;case fe.DateMillisecond:case fe.Date:return new SFt;case fe.Dictionary:return new Eb(new xA,new wb);case fe.Float16:return new jFe;case fe.Float32:return new zoe;case fe.Float64:case fe.Float:return new Voe;case fe.Int8:return new Doe;case fe.Int16:return new Loe;case fe.Int32:case fe.Int:return new wb;case fe.Int64:return new Moe;case fe.IntervalDayTime:return new RFt;case fe.Interval:case fe.IntervalYearMonth:return new $Ft;case fe.Null:return new ky;case fe.TimeMicrosecond:return new IFt;case fe.TimeMillisecond:case fe.Time:return new CFt;case fe.TimeNanosecond:return new kFt;case fe.TimeSecond:return new AFt;case fe.Uint8:return new Foe;case fe.Uint16:return new Boe;case fe.Uint32:return new joe;case fe.Uint64:return new Uoe;case fe.Utf8:return new xA;default:nr(`Unsupported type code: ${lm(e)}. Use a data type constructor instead?`)}}function vjt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function bBe(e,t){const n=MJ();return e(t,n.add),n}function MJ(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(Iy(t))++e.dates,vjt(t)&&++e.utcdays;else if(Xw(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=MJ());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=MJ())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return Cae(bjt(e))}};return e}function bjt(e){const t=e.count-e.nulls;if(t===0)return fe.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?fe.Float64:n<128?fe.Int8:n<32768?fe.Int16:fe.Int32:n>=2**32?fe.Float64:n<256?fe.Uint8:n<65536?fe.Uint16:fe.Uint32}else{if(e.nums===t)return fe.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?fe.Int64:nr(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?fe.Uint64:nr(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return fe.Bool;if(e.utcdays===t)return fe.DateDay;if(e.dates===t)return fe.DateMillisecond;if(e.arrays===t){const n=Hi.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new AA(e.minlen,n):new SA(n)}else if(e.structs===t){const n=e.struct_prof;return new Fu(Object.keys(n).map(r=>Hi.new(r,n[r].type(),!0)))}else{if(e.strings>0)return fe.Dictionary;nr("Type inference failure")}}}}function _jt(e,t,n,r,i,s=!0){if(i=Cae(i),!i){const o=bBe(r,t);s=o.nulls>0,i=o.type()}return vBe(n,r,t,i,s)}function wjt(e,t,n,r,i,s=!0){i=Cae(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=xjt(o);if(u&&a&&Yxe(u.type,i))return u;const l=o.data;if(X$(l)){const c=Ejt(l);if(a&&c&&Yxe(c,i))return yjt(l,c);i=i||c,s=!1}if(!i){const c=bBe(r,o);s=c.nulls>0,i=c.type()}return vBe(n,r,o,i,s)}function xjt(e){return e instanceof oi?e:e.vector instanceof oi?e.vector:null}function Ejt(e){const n={Float32Array:zoe,Float64Array:Voe,Int8Array:Doe,Int16Array:Loe,Int32Array:wb,Uint8Array:Foe,Uint16Array:Boe,Uint32Array:joe,BigInt64Array:Moe,BigUint64Array:Uoe}[e.constructor.name];return n?new n:null}function Yxe(e,t){return!e||!t?!0:e.compareTo(t)}function Tjt(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function Sjt(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&Xw(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const Ajt=()=>nr("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function Cjt(){try{return _c}catch{Ajt()}}function _Be(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=Ijt(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&nr("Column length mismatch"),a[l]=c});const u=Cjt();return new u(a)}function Ijt(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=Ts(n)?n(e):si(n)?n:null;if(si(e))return{dataFrom:_jt,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:Tjt(e,r,i)};if(kjt(e))return{dataFrom:wjt,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:Sjt(e,r,i)};nr("Unsupported input data type")}function kjt(e){return e&&Ts(e.reify)}function Rjt(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return rjt(_Be(e,r),n)}function $jt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Njt(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&Iy(u))++i,$jt(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function sj(e,t){return Ts(t)?t(e):t||e.columnNames()}function wBe(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=Njt(Pjt(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function Pjt(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function Iae(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function Ojt(e,t={}){const n=sj(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":Iy(l)?GB(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return Iae(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function xBe(e,t={}){if(Ts(t))return t(e)+"";const n=typeof e;if(n==="object"){if(Iy(e))return t.utc?GB(e):HMe(e);{const r=JSON.stringify(e,(s,o)=>X$(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function oj(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function Djt(e,t={}){const n=sj(e,t.columns),{align:r,format:i}=wBe(e,n,t),s=Ljt(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",u=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(m,g)=>u(xBe(m,g)),c=o?(m,g)=>m==null?o(m):l(m,g):l;let f=-1,d=-1;const h=(m,g,y)=>{const v=y?a(r[g]):"",b=s[m]&&s[m](g,d,f)||"",w=(v?`text-align: ${v};`+(b?" ":""):"")+b;return`<${m}${w?` style="${w}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return Iae(e,n,t.limit,t.offset,{row(m){f=m,p+=(++d?"</tr>":"")+h("tr")},cell(m,g){p+=h("td",g,1)+c(m,i[g])+"</td>"}}),p+"</tr></tbody></table>"}function Ljt(e){return oj(e.style,t=>Ts(t)?t:()=>t)}function Mjt(e,t=!0,n=!1){return e===void 0||e?t:n}const Fjt=e=>Iy(e)?GB(e,!0):e;function Bjt(e,t={}){const n=Mjt(t.schema),r=t.format||{},i=sj(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||Fjt;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function jjt(e,t={}){const n=sj(e,t.columns),{align:r,format:i}=wBe(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return Iae(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(xBe(u,i[l]))+"|"}}),a+`
`}function EBe(e,t){for(const[n,r]of YB(t))e.set(n,r);return e}function Ujt(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function $y(e,t,n=new Map){return t=Ml(t)?e.columnName(t):t,hu(t)?n.set(t,t):si(t)?t.forEach(r=>$y(e,r,n)):Ts(t)?$y(e,t(e),n):Xu(t)?EBe(n,t):nr(`Invalid column selection: ${lm(t)}`),n}function aj(e,t){return e.toObject=t,e}function TBe(e){return si(e)?e.map(TBe):e&&e.toObject?e.toObject():e}function kA(){return aj(e=>e.columnNames(),()=>({all:[]}))}function SBe(...e){return e=e.flat(),aj(t=>{const n=$y(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:TBe(e)}))}function zjt(e,t){return aj(n=>{let r=Ml(e)?e:n.columnIndex(e),i=Ml(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function Vjt(e){return hu(e)&&(e=RegExp(Ujt(e))),aj(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function Hjt(e){return X$(e.data)?e.data.constructor:Array}class Lg extends aMt{static from(t,n){return new Lg(cMt(t,n),n)}static new(t,n){if(t instanceof Lg)return t;const r={},i=[];for(const[s,o]of YB(t))r[s]=o,i.push(s);return new Lg(r,n||i)}constructor(t,n,r,i,s,o){oj(t,lMt,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new Lg(t||this._data,n||(t?null:this._names),o,i!==void 0?i:BMt(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=sd(r).groupby(r.groups());return t.forEach(s=>{s=Lg.new(s),s.numRows()!==n&&nr("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):nr(`Unrecognized column: ${t}`)}object(t=0){return Kxe(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=$y(this,t.columns||kA()),o=mFe(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),UMt(this,u,a,n)}return a}*[Symbol.iterator](){const t=Kxe(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(Hjt(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=jMt(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return _Be(this,t)}toArrowBuffer(t){return Rjt(this,t)}toCSV(t){return Ojt(this,t)}toHTML(t){return Djt(this,t)}toJSON(t){return Bjt(this,t)}toMarkdown(t){return jjt(this,t)}}function Kxe(e){let t=e._builder;if(!t){const n=mFe(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class qjt{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function Gr(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=Wjt[e.type];s&&s(e,t,n)}const l8=(e,t,n)=>{Gr(e.argument,t,n,e)},HW=(e,t,n)=>{Gr(e.left,t,n,e),Gr(e.right,t,n,e)},Xxe=(e,t,n)=>{Gr(e.test,t,n,e),Gr(e.consequent,t,n,e),e.alternate&&Gr(e.alternate,t,n,e)},qW=(e,t,n)=>{g0(e.params,t,n,e),Gr(e.body,t,n,e)},Qxe=(e,t,n)=>{Gr(e.callee,t,n,e),g0(e.arguments,t,n,e)},g0=(e,t,n,r)=>{e.forEach(i=>Gr(i,t,n,r))},Wjt={TemplateLiteral:(e,t,n)=>{g0(e.expressions,t,n,e),g0(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{Gr(e.object,t,n,e),Gr(e.property,t,n,e)},CallExpression:Qxe,NewExpression:Qxe,ArrayExpression:(e,t,n)=>{g0(e.elements,t,n,e)},AssignmentExpression:HW,AwaitExpression:l8,BinaryExpression:HW,LogicalExpression:HW,UnaryExpression:l8,UpdateExpression:l8,ConditionalExpression:Xxe,ObjectExpression:(e,t,n)=>{g0(e.properties,t,n,e)},Property:(e,t,n)=>{Gr(e.key,t,n,e),Gr(e.value,t,n,e)},ArrowFunctionExpression:qW,FunctionExpression:qW,FunctionDeclaration:qW,VariableDeclaration:(e,t,n)=>{g0(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{Gr(e.id,t,n,e),Gr(e.init,t,n,e)},SpreadElement:(e,t,n)=>{Gr(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{g0(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{Gr(e.expression,t,n,e)},IfStatement:Xxe,ForStatement:(e,t,n)=>{Gr(e.init,t,n,e),Gr(e.test,t,n,e),Gr(e.update,t,n,e),Gr(e.body,t,n,e)},WhileStatement:(e,t,n)=>{Gr(e.test,t,n,e),Gr(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{Gr(e.body,t,n,e),Gr(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{Gr(e.discriminant,t,n,e),g0(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&Gr(e.test,t,n,e),g0(e.consequent,t,n,e)},ReturnStatement:l8,Program:(e,t,n)=>{Gr(e.body[0],t,n,e)}};function ABe(e){delete e.start,delete e.end,delete e.optional}function Jxe(e){ABe(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function Gjt(e){return Gr(e,null,{Column:Jxe,Constant:Jxe,Default:ABe}),e}function Jo(e,t){return t&&t.type===e}function Yjt(e){return Jo(HMt,e)||Jo(VMt,e)}function Kjt(e){return Ts(e)?e:()=>e}const Xjt="Escaped functions are not valid as rollup or pivot values.";function Qjt(e,t,n){e.aggronly&&nr(Xjt);const r="(row,data)=>fn("+pFe(e.table.columnNames())+",$)";return{escape:Roe.escape(r,Kjt(t.expr),n)}}var Jjt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],CBe=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Zjt="-----------------------------------------------------------------------------------------------------------------------------------------------------",IBe="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",WW={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},GW="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",eUt={5:GW,"5module":GW+" export import",6:GW+" const class extends export import super"},tUt=/^in(stanceof)?$/,nUt=new RegExp("["+IBe+"]"),rUt=new RegExp("["+IBe+Zjt+"]");function FJ(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function Ny(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nUt.test(String.fromCharCode(e)):t===!1?!1:FJ(e,CBe)}function RA(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&rUt.test(String.fromCharCode(e)):t===!1?!1:FJ(e,CBe)||FJ(e,Jjt)}var ei=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function gd(e,t){return new ei(e,{beforeExpr:!0,binop:t})}var yd={beforeExpr:!0},sc={startsExpr:!0},kae={};function Mr(e,t){return t===void 0&&(t={}),t.keyword=e,kae[e]=new ei(e,t)}var te={num:new ei("num",sc),regexp:new ei("regexp",sc),string:new ei("string",sc),name:new ei("name",sc),privateId:new ei("privateId",sc),eof:new ei("eof"),bracketL:new ei("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ei("]"),braceL:new ei("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ei("}"),parenL:new ei("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ei(")"),comma:new ei(",",yd),semi:new ei(";",yd),colon:new ei(":",yd),dot:new ei("."),question:new ei("?",yd),questionDot:new ei("?."),arrow:new ei("=>",yd),template:new ei("template"),invalidTemplate:new ei("invalidTemplate"),ellipsis:new ei("...",yd),backQuote:new ei("`",sc),dollarBraceL:new ei("${",{beforeExpr:!0,startsExpr:!0}),eq:new ei("=",{beforeExpr:!0,isAssign:!0}),assign:new ei("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ei("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ei("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:gd("||",1),logicalAND:gd("&&",2),bitwiseOR:gd("|",3),bitwiseXOR:gd("^",4),bitwiseAND:gd("&",5),equality:gd("==/!=/===/!==",6),relational:gd("</>/<=/>=",7),bitShift:gd("<</>>/>>>",8),plusMin:new ei("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:gd("%",10),star:gd("*",10),slash:gd("/",10),starstar:new ei("**",{beforeExpr:!0}),coalesce:gd("??",1),_break:Mr("break"),_case:Mr("case",yd),_catch:Mr("catch"),_continue:Mr("continue"),_debugger:Mr("debugger"),_default:Mr("default",yd),_do:Mr("do",{isLoop:!0,beforeExpr:!0}),_else:Mr("else",yd),_finally:Mr("finally"),_for:Mr("for",{isLoop:!0}),_function:Mr("function",sc),_if:Mr("if"),_return:Mr("return",yd),_switch:Mr("switch"),_throw:Mr("throw",yd),_try:Mr("try"),_var:Mr("var"),_const:Mr("const"),_while:Mr("while",{isLoop:!0}),_with:Mr("with"),_new:Mr("new",{beforeExpr:!0,startsExpr:!0}),_this:Mr("this",sc),_super:Mr("super",sc),_class:Mr("class",sc),_extends:Mr("extends",yd),_export:Mr("export"),_import:Mr("import",sc),_null:Mr("null",sc),_true:Mr("true",sc),_false:Mr("false",sc),_in:Mr("in",{beforeExpr:!0,binop:7}),_instanceof:Mr("instanceof",{beforeExpr:!0,binop:7}),_typeof:Mr("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Mr("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Mr("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},fh=/\r\n?|\n|\u2028|\u2029/,iUt=new RegExp(fh.source,"g");function QC(e){return e===10||e===13||e===8232||e===8233}function kBe(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(QC(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var RBe=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Pd=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,$Be=Object.prototype,sUt=$Be.hasOwnProperty,oUt=$Be.toString,rN=Object.hasOwn||function(e,t){return sUt.call(e,t)},Zxe=Array.isArray||function(e){return oUt.call(e)==="[object Array]"},e2e=Object.create(null);function Av(e){return e2e[e]||(e2e[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function kb(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var aUt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,xR=function(t,n){this.line=t,this.column=n};xR.prototype.offset=function(t){return new xR(this.line,this.column+t)};var uj=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function NBe(e,t){for(var n=1,r=0;;){var i=kBe(e,r,t);if(i<0)return new xR(n,t-r);++n,r=i}}var BJ={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},t2e=!1;function uUt(e){var t={};for(var n in BJ)t[n]=e&&rN(e,n)?e[n]:BJ[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!t2e&&typeof console=="object"&&console.warn&&(t2e=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),Zxe(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return Zxe(t.onComment)&&(t.onComment=lUt(t,t.onComment)),t}function lUt(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new uj(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var ER=1,JC=2,Rae=4,PBe=8,OBe=16,DBe=32,$ae=64,LBe=128,iN=256,Nae=ER|JC|iN;function Pae(e,t){return JC|(e?Rae:0)|(t?PBe:0)}var CM=0,Oae=1,t1=2,MBe=3,FBe=4,BBe=5,aa=function(t,n,r){this.options=t=uUt(t),this.sourceFile=t.sourceFile,this.keywords=Av(eUt[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=WW[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=Av(i);var s=(i?i+" ":"")+WW.strict;this.reservedWordsStrict=Av(s),this.reservedWordsStrictBind=Av(s+" "+WW.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(fh).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=te.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(ER),this.regexpState=null,this.privateNameStack=[]},Om={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};aa.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Om.inFunction.get=function(){return(this.currentVarScope().flags&JC)>0};Om.inGenerator.get=function(){return(this.currentVarScope().flags&PBe)>0&&!this.currentVarScope().inClassFieldInit};Om.inAsync.get=function(){return(this.currentVarScope().flags&Rae)>0&&!this.currentVarScope().inClassFieldInit};Om.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&iN)return!1;if(t.flags&JC)return(t.flags&Rae)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Om.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&$ae)>0||n||this.options.allowSuperOutsideMethod};Om.allowDirectSuper.get=function(){return(this.currentThisScope().flags&LBe)>0};Om.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Om.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(JC|iN))>0||n};Om.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&iN)>0};aa.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};aa.parse=function(t,n){return new this(n,t).parse()};aa.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};aa.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(aa.prototype,Om);var Wl=aa.prototype,cUt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Wl.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Pd.lastIndex=e,e+=Pd.exec(this.input)[0].length;var t=cUt.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Pd.lastIndex=e+t[0].length;var n=Pd.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||fh.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,Pd.lastIndex=e,e+=Pd.exec(this.input)[0].length,this.input[e]===";"&&e++}};Wl.eat=function(e){return this.type===e?(this.next(),!0):!1};Wl.isContextual=function(e){return this.type===te.name&&this.value===e&&!this.containsEsc};Wl.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Wl.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Wl.canInsertSemicolon=function(){return this.type===te.eof||this.type===te.braceR||fh.test(this.input.slice(this.lastTokEnd,this.start))};Wl.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Wl.semicolon=function(){!this.eat(te.semi)&&!this.insertSemicolon()&&this.unexpected()};Wl.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Wl.expect=function(e){this.eat(e)||this.unexpected()};Wl.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var lj=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Wl.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};Wl.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Wl.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Wl.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var en=aa.prototype;en.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==te.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Dae={kind:"loop"},fUt={kind:"switch"};en.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Pd.lastIndex=this.pos;var t=Pd.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(Ny(r,!0)){for(var i=n+1;RA(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!tUt.test(s))return!0}return!1};en.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Pd.lastIndex=this.pos;var e=Pd.exec(this.input),t=this.pos+e[0].length,n;return!fh.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(RA(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};en.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=te._var,s="let"),r){case te._break:case te._continue:return this.parseBreakContinueStatement(i,r.keyword);case te._debugger:return this.parseDebuggerStatement(i);case te._do:return this.parseDoStatement(i);case te._for:return this.parseForStatement(i);case te._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case te._class:return e&&this.unexpected(),this.parseClass(i,!0);case te._if:return this.parseIfStatement(i);case te._return:return this.parseReturnStatement(i);case te._switch:return this.parseSwitchStatement(i);case te._throw:return this.parseThrowStatement(i);case te._try:return this.parseTryStatement(i);case te._const:case te._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case te._while:return this.parseWhileStatement(i);case te._with:return this.parseWithStatement(i);case te.braceL:return this.parseBlock(!0,i);case te.semi:return this.parseEmptyStatement(i);case te._export:case te._import:if(this.options.ecmaVersion>10&&r===te._import){Pd.lastIndex=this.pos;var o=Pd.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===te._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===te.name&&c.type==="Identifier"&&this.eat(te.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};en.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(te.semi)||this.insertSemicolon()?e.label=null:this.type!==te.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};en.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};en.parseDoStatement=function(e){return this.next(),this.labels.push(Dae),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(te._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(te.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};en.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Dae),this.enterScope(0),this.expect(te.parenL),this.type===te.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===te._var||this.type===te._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===te._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===te._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new lj,u=this.parseExpression(t>-1?"await":!0,a);return this.type===te._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===te._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};en.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,q6|(n?0:jJ),!1,t)};en.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(te._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};en.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(te.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};en.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(te.braceL),this.labels.push(fUt),this.enterScope(0);for(var t,n=!1;this.type!==te.braceR;)if(this.type===te._case||this.type===te._default){var r=this.type===te._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(te.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};en.parseThrowStatement=function(e){return this.next(),fh.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var dUt=[];en.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?DBe:0),this.checkLValPattern(e,t?FBe:t1),this.expect(te.parenR),e};en.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===te._catch){var t=this.startNode();this.next(),this.eat(te.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(te._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};en.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};en.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Dae),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};en.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};en.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};en.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===te._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};en.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};en.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(te.braceL),e&&this.enterScope(0);this.type!==te.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};en.parseFor=function(e,t){return e.init=t,this.expect(te.semi),e.test=this.type===te.semi?null:this.parseExpression(),this.expect(te.semi),e.update=this.type===te.parenR?null:this.parseExpression(),this.expect(te.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};en.parseForIn=function(e,t){var n=this.type===te._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(te.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};en.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(te.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===te._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===te._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(te.comma))break}return e};en.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?Oae:t1,!1)};var q6=1,jJ=2,jBe=4;en.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===te.star&&t&jJ&&this.unexpected(),e.generator=this.eat(te.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&q6&&(e.id=t&jBe&&this.type!==te.name?null:this.parseIdent(),e.id&&!(t&jJ)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?Oae:t1:MBe));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Pae(e.async,e.generator)),t&q6||(e.id=this.type===te.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&q6?"FunctionDeclaration":"FunctionExpression")};en.parseFunctionParams=function(e){this.expect(te.parenL),e.params=this.parseBindingList(te.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};en.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(te.braceL);this.type!==te.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&hUt(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};en.parseClassElement=function(e){if(this.eat(te.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(te.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===te.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===te.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(te.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===te.parenL||o!=="method"||i||s){var l=!n.static&&IM(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};en.isClassElementNameStart=function(){return this.type===te.name||this.type===te.privateId||this.type===te.num||this.type===te.string||this.type===te.bracketL||this.type.keyword};en.parseClassElementName=function(e){this.type===te.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};en.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&IM(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};en.parseClassField=function(e){if(IM(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&IM(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(te.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};en.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(iN|$ae);this.type!==te.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};en.parseClassId=function(e,t){this.type===te.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,t1,!1)):(t===!0&&this.unexpected(),e.id=null)};en.parseClassSuper=function(e){e.superClass=this.eat(te._extends)?this.parseExprSubscripts(null,!1):null};en.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};en.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];rN(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function hUt(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function IM(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}en.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==te.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};en.parseExport=function(e,t){if(this.next(),this.eat(te.star))return this.parseExportAllDeclaration(e,t);if(this.eat(te._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==te.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};en.parseExportDeclaration=function(e){return this.parseStatement(null)};en.parseExportDefaultDeclaration=function(){var e;if(this.type===te._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,q6|jBe,!1,e)}else if(this.type===te._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};en.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),rN(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};en.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};en.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};en.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};en.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};en.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(te.braceL);!this.eat(te.braceR);){if(n)n=!1;else if(this.expect(te.comma),this.afterTrailingComma(te.braceR))break;t.push(this.parseExportSpecifier(e))}return t};en.parseImport=function(e){return this.next(),this.type===te.string?(e.specifiers=dUt,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===te.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};en.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,t1),this.finishNode(e,"ImportSpecifier")};en.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,t1),this.finishNode(e,"ImportDefaultSpecifier")};en.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,t1),this.finishNode(e,"ImportNamespaceSpecifier")};en.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===te.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(te.comma)))return e;if(this.type===te.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(te.braceL);!this.eat(te.braceR);){if(t)t=!1;else if(this.expect(te.comma),this.afterTrailingComma(te.braceR))break;e.push(this.parseImportSpecifier())}return e};en.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===te.string){var e=this.parseLiteral(this.value);return aUt.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};en.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};en.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var dh=aa.prototype;dh.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};dh.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};dh.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};dh.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==te.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};dh.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case te.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(te.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case te.braceL:return this.parseObj(!0)}return this.parseIdent()};dh.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(te.comma),t&&this.type===te.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===te.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===te.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};dh.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};dh.parseBindingListItem=function(e){return e};dh.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(te.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};dh.checkLValSimple=function(e,t,n){t===void 0&&(t=CM);var r=t!==CM;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===t1&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(rN(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==BBe&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};dh.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=CM),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};dh.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=CM),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Oh=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},Ls={b_stat:new Oh("{",!1),b_expr:new Oh("{",!0),b_tmpl:new Oh("${",!1),p_stat:new Oh("(",!1),p_expr:new Oh("(",!0),q_tmpl:new Oh("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Oh("function",!1),f_expr:new Oh("function",!0),f_expr_gen:new Oh("function",!0,!1,null,!0),f_gen:new Oh("function",!1,!1,null,!0)},ZC=aa.prototype;ZC.initialContext=function(){return[Ls.b_stat]};ZC.curContext=function(){return this.context[this.context.length-1]};ZC.braceIsBlock=function(e){var t=this.curContext();return t===Ls.f_expr||t===Ls.f_stat?!0:e===te.colon&&(t===Ls.b_stat||t===Ls.b_expr)?!t.isExpr:e===te._return||e===te.name&&this.exprAllowed?fh.test(this.input.slice(this.lastTokEnd,this.start)):e===te._else||e===te.semi||e===te.eof||e===te.parenR||e===te.arrow?!0:e===te.braceL?t===Ls.b_stat:e===te._var||e===te._const||e===te.name?!1:!this.exprAllowed};ZC.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};ZC.updateContext=function(e){var t,n=this.type;n.keyword&&e===te.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};ZC.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};te.parenR.updateContext=te.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===Ls.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};te.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Ls.b_stat:Ls.b_expr),this.exprAllowed=!0};te.dollarBraceL.updateContext=function(){this.context.push(Ls.b_tmpl),this.exprAllowed=!0};te.parenL.updateContext=function(e){var t=e===te._if||e===te._for||e===te._with||e===te._while;this.context.push(t?Ls.p_stat:Ls.p_expr),this.exprAllowed=!0};te.incDec.updateContext=function(){};te._function.updateContext=te._class.updateContext=function(e){e.beforeExpr&&e!==te._else&&!(e===te.semi&&this.curContext()!==Ls.p_stat)&&!(e===te._return&&fh.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===te.colon||e===te.braceL)&&this.curContext()===Ls.b_stat)?this.context.push(Ls.f_expr):this.context.push(Ls.f_stat),this.exprAllowed=!1};te.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};te.backQuote.updateContext=function(){this.curContext()===Ls.q_tmpl?this.context.pop():this.context.push(Ls.q_tmpl),this.exprAllowed=!1};te.star.updateContext=function(e){if(e===te._function){var t=this.context.length-1;this.context[t]===Ls.f_expr?this.context[t]=Ls.f_expr_gen:this.context[t]=Ls.f_gen}this.exprAllowed=!0};te.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==te.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Dn=aa.prototype;Dn.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};Dn.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===te.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(te.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};Dn.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new lj,r=!0);var a=this.start,u=this.startLoc;(this.type===te.parenL||this.type===te.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===te.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===te.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};Dn.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(te.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(te.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};Dn.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};Dn.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==te._in)&&s>r){var o=this.type===te.logicalOR||this.type===te.logicalAND,a=this.type===te.coalesce;a&&(s=te.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===te.coalesce||a&&(this.type===te.logicalOR||this.type===te.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};Dn.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};Dn.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===te.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&UBe(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===te.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==te._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(te.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function UBe(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&UBe(e.expression)}Dn.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};Dn.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};Dn.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(te.arrow)};Dn.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};Dn.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(te.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(te.bracketL);if(l||u&&this.type!==te.parenL&&this.type!==te.backQuote||this.eat(te.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(te.bracketR)):this.type===te.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(te.parenL)){var f=new lj,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(te.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var g=this.startNodeAt(t,n);g.callee=e,g.arguments=m,a&&(g.optional=u),e=this.finishNode(g,"CallExpression")}else if(this.type===te.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(t,n);y.tag=e,y.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(y,"TaggedTemplateExpression")}return e};Dn.parseExprAtom=function(e,t,n){this.type===te.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case te._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===te.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==te.dot&&this.type!==te.bracketL&&this.type!==te.parenL&&this.unexpected(),this.finishNode(r,"Super");case te._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case te.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(te._function))return this.overrideContext(Ls.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(te.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===te.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(te.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case te.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case te.num:case te.string:return this.parseLiteral(this.value);case te._null:case te._true:case te._false:return r=this.startNode(),r.value=this.type===te._null?null:this.type===te._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case te.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case te.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(te.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case te.braceL:return this.overrideContext(Ls.b_expr),this.parseObj(!1,e);case te._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case te._class:return this.parseClass(this.startNode(),!1);case te._new:return this.parseNew();case te.backQuote:return this.parseTemplate();case te._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};Dn.parseExprAtomDefault=function(){this.unexpected()};Dn.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===te.parenL&&!e)return this.parseDynamicImport(t);if(this.type===te.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};Dn.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(te.parenR)){var t=this.start;this.eat(te.comma)&&this.eat(te.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};Dn.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};Dn.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};Dn.parseParenExpression=function(){this.expect(te.parenL);var e=this.parseExpression();return this.expect(te.parenR),e};Dn.shouldParseArrow=function(e){return!this.canInsertSemicolon()};Dn.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new lj,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==te.parenR;)if(l?l=!1:this.expect(te.comma),s&&this.afterTrailingComma(te.parenR,!0)){c=!0;break}else if(this.type===te.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===te.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(te.parenR),e&&this.shouldParseArrow(u)&&this.eat(te.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",m,g)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(n,r);return y.expression=i,this.finishNode(y,"ParenthesizedExpression")}else return i};Dn.parseParenItem=function(e){return e};Dn.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var pUt=[];Dn.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===te.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(te.parenL)?e.arguments=this.parseExprList(te.parenR,this.options.ecmaVersion>=8,!1):e.arguments=pUt,this.finishNode(e,"NewExpression")};Dn.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===te.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===te.backQuote,this.finishNode(n,"TemplateElement")};Dn.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===te.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(te.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(te.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};Dn.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===te.name||this.type===te.num||this.type===te.string||this.type===te.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===te.star)&&!fh.test(this.input.slice(this.lastTokEnd,this.start))};Dn.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(te.braceR);){if(r)r=!1;else if(this.expect(te.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(te.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};Dn.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(te.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===te.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===te.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(te.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(te.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};Dn.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};Dn.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===te.colon&&this.unexpected(),this.eat(te.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===te.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==te.comma&&this.type!==te.braceR&&this.type!==te.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===te.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};Dn.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(te.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(te.bracketR),e.key;e.computed=!1}return e.key=this.type===te.num||this.type===te.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Dn.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};Dn.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Pae(t,r.generator)|$ae|(n?LBe:0)),this.expect(te.parenL),r.params=this.parseBindingList(te.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};Dn.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(Pae(n,!1)|OBe),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};Dn.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==te.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,BBe),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};Dn.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};Dn.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,Oae,t?null:n)}};Dn.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(te.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===te.comma?o=null:this.type===te.ellipsis?(o=this.parseSpread(r),r&&this.type===te.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};Dn.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};Dn.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};Dn.parseIdentNode=function(){var e=this.startNode();return this.type===te.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=te.name):this.unexpected(),e};Dn.parsePrivateIdent=function(){var e=this.startNode();return this.type===te.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};Dn.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===te.semi||this.canInsertSemicolon()||this.type!==te.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(te.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};Dn.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var kM=aa.prototype;kM.raise=function(e,t){var n=NBe(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};kM.raiseRecoverable=kM.raise;kM.curPosition=function(){if(this.options.locations)return new xR(this.curLine,this.pos-this.lineStart)};var b_=aa.prototype,mUt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};b_.enterScope=function(e){this.scopeStack.push(new mUt(e))};b_.exitScope=function(){this.scopeStack.pop()};b_.treatFunctionsAsVarInScope=function(e){return e.flags&JC||!this.inModule&&e.flags&ER};b_.declareName=function(e,t,n){var r=!1;if(t===t1){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&ER&&delete this.undefinedExports[e]}else if(t===FBe){var s=this.currentScope();s.lexical.push(e)}else if(t===MBe){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&DBe&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&ER&&delete this.undefinedExports[e],u.flags&Nae)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};b_.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};b_.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};b_.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Nae)return t}};b_.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Nae&&!(t.flags&OBe))return t}};var cj=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new uj(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},sN=aa.prototype;sN.startNode=function(){return new cj(this,this.start,this.startLoc)};sN.startNodeAt=function(e,t){return new cj(this,e,t)};function zBe(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}sN.finishNode=function(e,t){return zBe.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};sN.finishNodeAt=function(e,t,n,r){return zBe.call(this,e,t,n,r)};sN.copyNode=function(e){var t=new cj(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var VBe="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",HBe=VBe+" Extended_Pictographic",qBe=HBe,WBe=qBe+" EBase EComp EMod EPres ExtPict",GBe=WBe,gUt=GBe,yUt={9:VBe,10:HBe,11:qBe,12:WBe,13:GBe,14:gUt},vUt="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",bUt={9:"",10:"",11:"",12:"",13:"",14:vUt},n2e="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",YBe="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",KBe=YBe+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",XBe=KBe+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",QBe=XBe+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",JBe=QBe+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",_Ut=JBe+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",wUt={9:YBe,10:KBe,11:XBe,12:QBe,13:JBe,14:_Ut},ZBe={};function xUt(e){var t=ZBe[e]={binary:Av(yUt[e]+" "+n2e),binaryOfStrings:Av(bUt[e]),nonBinary:{General_Category:Av(n2e),Script:Av(wUt[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var YW=0,r2e=[9,10,11,12,13,14];YW<r2e.length;YW+=1){var EUt=r2e[YW];xUt(EUt)}var Wt=aa.prototype,Dm=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=ZBe[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Dm.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Dm.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Dm.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Dm.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Dm.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Dm.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Dm.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Dm.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Dm.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};Wt.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};Wt.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};Wt.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};Wt.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};Wt.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};Wt.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};Wt.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};Wt.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};Wt.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};Wt.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};Wt.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};Wt.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};Wt.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};Wt.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};Wt.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};Wt.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};Wt.regexp_eatSyntaxCharacter=function(e){var t=e.current();return eje(t)?(e.lastIntValue=t,e.advance(),!0):!1};function eje(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Wt.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!eje(n);)e.advance();return e.pos!==t};Wt.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};Wt.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};Wt.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};Wt.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=kb(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=kb(e.lastIntValue);return!0}return!1};Wt.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),TUt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function TUt(e){return Ny(e,!0)||e===36||e===95}Wt.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),SUt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function SUt(e){return RA(e,!0)||e===36||e===95||e===8204||e===8205}Wt.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};Wt.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};Wt.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};Wt.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};Wt.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};Wt.regexp_eatZero=function(e){return e.current()===48&&!fj(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};Wt.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};Wt.regexp_eatControlLetter=function(e){var t=e.current();return tje(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function tje(e){return e>=65&&e<=90||e>=97&&e<=122}Wt.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&AUt(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function AUt(e){return e>=0&&e<=1114111}Wt.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};Wt.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var nje=0,Py=1,Ld=2;Wt.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(CUt(t))return e.lastIntValue=-1,e.advance(),Py;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===Ld&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return nje};function CUt(e){return e===100||e===68||e===115||e===83||e===119||e===87}Wt.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Py}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return nje};Wt.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){rN(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};Wt.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Py;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return Ld;e.raise("Invalid property name")};Wt.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";rje(t=e.current());)e.lastStringValue+=kb(t),e.advance();return e.lastStringValue!==""};function rje(e){return tje(e)||e===95}Wt.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";IUt(t=e.current());)e.lastStringValue+=kb(t),e.advance();return e.lastStringValue!==""};function IUt(e){return rje(e)||fj(e)}Wt.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};Wt.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===Ld&&e.raise("Negated character class may contain strings"),!0}return!1};Wt.regexp_classContents=function(e){return e.current()===93?Py:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Py)};Wt.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};Wt.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||oje(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};Wt.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};Wt.regexp_classSetExpression=function(e){var t=Py,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===Ld&&(t=Ld);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==Ld&&(t=Py);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===Ld&&(t=Ld)}};Wt.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};Wt.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Py:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};Wt.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===Ld&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};Wt.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};Wt.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===Ld&&(t=Ld);return t};Wt.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Py:Ld};Wt.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&kUt(n)||RUt(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function kUt(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function RUt(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Wt.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return $Ut(t)?(e.lastIntValue=t,e.advance(),!0):!1};function $Ut(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Wt.regexp_eatClassControlLetter=function(e){var t=e.current();return fj(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};Wt.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};Wt.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;fj(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function fj(e){return e>=48&&e<=57}Wt.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;ije(n=e.current());)e.lastIntValue=16*e.lastIntValue+sje(n),e.advance();return e.pos!==t};function ije(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function sje(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Wt.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};Wt.regexp_eatOctalDigit=function(e){var t=e.current();return oje(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function oje(e){return e>=48&&e<=55}Wt.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!ije(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+sje(i),e.advance()}return!0};var Lae=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new uj(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Rr=aa.prototype;Rr.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Lae(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Rr.getToken=function(){return this.next(),new Lae(this)};typeof Symbol<"u"&&(Rr[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===te.eof,value:t}}}});Rr.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(te.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};Rr.readToken=function(e){return Ny(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};Rr.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};Rr.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=kBe(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};Rr.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!QC(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};Rr.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&RBe.test(String.fromCharCode(e)))++this.pos;else break e}}};Rr.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};Rr.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(te.ellipsis)):(++this.pos,this.finishToken(te.dot))};Rr.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(te.assign,2):this.finishOp(te.slash,1)};Rr.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?te.star:te.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=te.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(te.assign,n+1):this.finishOp(r,n)};Rr.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(te.assign,3)}return this.finishOp(e===124?te.logicalOR:te.logicalAND,2)}return t===61?this.finishOp(te.assign,2):this.finishOp(e===124?te.bitwiseOR:te.bitwiseAND,1)};Rr.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(te.assign,2):this.finishOp(te.bitwiseXOR,1)};Rr.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||fh.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(te.incDec,2):t===61?this.finishOp(te.assign,2):this.finishOp(te.plusMin,1)};Rr.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(te.assign,n+1):this.finishOp(te.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(te.relational,n))};Rr.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(te.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(te.arrow)):this.finishOp(e===61?te.eq:te.prefix,1)};Rr.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(te.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(te.assign,3)}return this.finishOp(te.coalesce,2)}}return this.finishOp(te.question,1)};Rr.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Ny(t,!0)||t===92))return this.finishToken(te.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+kb(t)+"'")};Rr.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(te.parenL);case 41:return++this.pos,this.finishToken(te.parenR);case 59:return++this.pos,this.finishToken(te.semi);case 44:return++this.pos,this.finishToken(te.comma);case 91:return++this.pos,this.finishToken(te.bracketL);case 93:return++this.pos,this.finishToken(te.bracketR);case 123:return++this.pos,this.finishToken(te.braceL);case 125:return++this.pos,this.finishToken(te.braceR);case 58:return++this.pos,this.finishToken(te.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(te.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(te.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+kb(e)+"'")};Rr.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};Rr.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(fh.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Dm(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(te.regexp,{pattern:i,flags:o,value:u})};Rr.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function NUt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function aje(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Rr.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=aje(this.input.slice(t,this.pos)),++this.pos):Ny(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(te.num,n)};Rr.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=aje(this.input.slice(t,this.pos));return++this.pos,Ny(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(te.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Ny(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=NUt(this.input.slice(t,this.pos),n);return this.finishToken(te.num,s)};Rr.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};Rr.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(QC(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(te.string,t)};var uje={};Rr.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===uje)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};Rr.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw uje;this.raise(e,t)};Rr.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===te.template||this.type===te.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(te.dollarBraceL)):(++this.pos,this.finishToken(te.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(te.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(QC(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};Rr.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(te.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Rr.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return kb(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return QC(t)?"":String.fromCharCode(t)}};Rr.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};Rr.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(RA(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Ny:RA)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=kb(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};Rr.readWord=function(){var e=this.readWord1(),t=te.name;return this.keywords.test(e)&&(t=kae[e]),this.finishToken(t,e)};var PUt="8.11.3";aa.acorn={Parser:aa,version:PUt,defaultOptions:BJ,Position:xR,SourceLocation:uj,getLineInfo:NBe,Node:cj,TokenType:ei,tokTypes:te,keywordTypes:kae,TokContext:Oh,tokContexts:Ls,isIdentifierChar:RA,isIdentifierStart:Ny,Token:Lae,isNewLine:QC,lineBreak:fh,lineBreakG:iUt,nonASCIIwhitespace:RBe};function OUt(e,t){return aa.parse(e,t)}const Mae={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},DUt={ecmaVersion:11},i2e="$",LUt="d",MUt="d1",FUt="d2",Ya=e=>(t,n)=>n.error(t,e+" not allowed"),BUt=Ya("Aggregate function"),jUt=Ya("Window function"),UUt="Invalid argument",Fae="Invalid column reference",zUt=Fae+" (must be input to an aggregate function)",lje="Invalid function call",VUt="Invalid member expression",HUt="Invalid operator parameter",qUt="Invalid param reference",WUt="Invalid variable reference",GUt="Variable not accessible in operator call",YUt="Unsupported variable declaration",KUt="Unsupported destructuring pattern",cje="Table expressions do not support closures",fje="Use aq.escape(fn) to use a function as-is (including closures)",XUt="use table.params({ name: value }) to define dynamic parameters",QUt="use aq.addFunction(name, fn) to add new op functions",JUt=`
Note: ${cje}. ${fje}, or ${XUt}.`,dje=`
Note: ${cje}. ${fje}, or ${QUt}.`,ZUt=`The ${dFe} method is not valid in multi-table expressions.`;function ezt(e,t){const n=tzt(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,Yjt(r)?(rzt(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=MUt),e.scope.add(e.tuple2=FUt),e.scope.add(e.$param=i2e)):(e.scope.add(e.tuple=LUt),e.scope.add(e.$param=i2e)),Gr(r,e,Bae),e.root}function tzt(e){try{const t=e.field?nzt(e):si(e)?lm(e):e;return OUt(`expr=(${t})`,DUt).body[0].expression.right}catch{nr(`Expression parse error: ${e+""}`)}}function nzt(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const Bae={FunctionDeclaration:Ya("Function definitions"),ForStatement:Ya("For loops"),ForOfStatement:Ya("For-of loops"),ForInStatement:Ya("For-in loops"),WhileStatement:Ya("While loops"),DoWhileStatement:Ya("Do-while loops"),AwaitExpression:Ya("Await expressions"),ArrowFunctionExpression:Ya("Function definitions"),AssignmentExpression:Ya("Assignments"),FunctionExpression:Ya("Function definitions"),NewExpression:Ya('Use of "new"'),UpdateExpression:Ya("Update expressions"),VariableDeclarator(e,t){VJ(e.id,t)},Identifier(e,t,n){mje(e,t,n)&&!t.scope.has(e.name)&&t.error(e,WUt,JUt)},CallExpression(e,t){const n=hje(e.callee),r=lFe(n)||cFe(n);if(r){if((t.join||t.aggregate===!1)&&Ioe(n)&&BUt(e,t),(t.join||t.window===!1)&&koe(n)&&jUt(e,t),t.$op=1,t.ast)zJ(e,n,t),e.arguments.forEach(i=>Gr(i,t,UJ));else{const i=t.op(izt(t,r,n,e.arguments));Object.assign(e,{type:iFe,name:i.id})}return t.$op=0,!1}else uFe(n)?zJ(e,n,t):t.error(e,lje,dje)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!Jo(Xv,r))return;const{name:s}=r;if(pje(e)&&Jo(Xv,i)&&Sp(Mae,i.name)){vje(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return s2e(e,o,t,gje,n);if(s===t.$param)return s2e(e,o,t,ozt);t.paramsRef.has(s)?TR(e,t.paramsRef.get(s)):t.columnRef.has(s)?yje(r,s,t,e):Sp(t.params,s)&&TR(r,s)}};function s2e(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(Jo(WC,s))a=s.value;else try{Gr(s,n,Bae,e),a=n.param(s)}catch{n.error(e,VUt)}return r(e,a,t,n,i),!1}const UJ={...Bae,VariableDeclarator:Ya("Variable declaration in operator call"),Identifier(e,t,n){mje(e,t,n)&&t.error(e,GUt)},CallExpression(e,t){const n=hje(e.callee);uFe(n)?zJ(e,n,t):t.error(e,lje,dje)}};function rzt(e,t){e.generator&&Ya("Generator functions")(e,t),e.async&&Ya("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?($I(t,n[0],"tuple1",i(1)),r>1&&$I(t,n[1],"tuple2",i(2)),r>2&&$I(t,n[2],"$param",s)):($I(t,n[0],"tuple",i(0)),r>1&&$I(t,n[1],"$param",s))),t.root=e.body}function $I(e,t,n,r){Jo(Xv,t)?(e.scope.add(t.name),e[n]=t.name):Jo(nFe,t)&&t.properties.forEach(i=>{const s=Jo(Xv,i.key)?i.key.name:Jo(WC,i.key)?i.key.value:e.error(i,UUt);Jo(Xv,i.value)||e.error(i.value,KUt),r(i.value.name,s)})}function izt(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(Gr(u,e,UJ),i.push(e.field(u))):l<a?(Gr(u,e,UJ),s.push(e.param(u))):e.error(u,HUt)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function hje(e){return Jo(Xv,e)?e.name:Jo(tFe,e)?pje(e)?szt(e.property.name):e.property.name:null}function pje(e){return Jo(Xv,e.object)&&e.object.name==="Math"}function szt(e){return e==="max"?"greatest":e==="min"?"least":e}function mje(e,t,n){const{name:r}=e;if(!(Jo(tFe,n)&&n.property===e)){if(!(Jo(rFe,n)&&n.key===e))if(t.paramsRef.has(r))TR(e,t.paramsRef.get(r));else if(t.columnRef.has(r))yje(e,r,t,n);else if(Sp(t.params,r))TR(e,r);else if(Sp(Mae,r))vje(e,r);else return!0}}function gje(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,Fae),r.aggronly&&!r.$op&&r.error(e,zUt),fFe(e,t,n,o,i)}function yje(e,t,n,r){const[i,s]=n.columnRef.get(t);gje(e,i,s,n,r)}function ozt(e,t,n,r){r.params&&!Sp(r.params,t)&&r.error(e,qUt),TR(e,t)}function TR(e,t){e.type=KMt,e.name=t}function vje(e,t){e.type=WMt,e.name=t,e.raw=Mae[t]}function zJ(e,t,n){if(t===dFe){const r=n.table;r||n.error(e,ZUt),hFe(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=Ml(s)?r.columnName(s):s;return r.column(o)||n.error(i,Fae),o}):r.columnNames())}else e.callee={type:YMt,name:t}}function VJ(e,t){Jo(Xv,e)?t.scope.add(e.name):Jo(zMt,e)?e.elements.forEach(n=>VJ(n,t)):Jo(nFe,e)?e.properties.forEach(n=>VJ(n.value,t)):t.error(e.id,YUt)}const azt={[Q$]:1,[iFe]:1};function Kc(e,t={}){const n=t.generate||aM,r=t.compiler||Roe,i=lzt(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(m){const g=uzt(m);return o[g]||(m.id=++c,o[g]=m)},field(m){const g=n(m);return s[g]||(s[g]=++l)},param(m){return Jo(WC,m)?m.value:r.param(n(m),i)},value(m,g){a.push(m);const y=g.escape||(t.ast?Gjt(g):f(n(g),i));u.push(y),azt[g.type]&&y!==g&&Xu(y)&&(y.field=g.name)},error(m,g,y=""){const v=m.start-6,b=m.end-6,w=String(d.spec).slice(v,b);nr(`${g}: "${w}"${y}`)}};Object.assign(d,t,{params:i});for(const[m,g]of YB(e))d.value(m+"",g.escape?Qjt(d,g,i):ezt(d,g));if(t.ast)return{names:a,exprs:u};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(g=>h[g])),{names:a,exprs:u,ops:p}}function uzt(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function lzt(e){return(e.table?KW(e.table):e.join?{...KW(e.join[1]),...KW(e.join[0])}:{})||{}}function KW(e){return e&&Ts(e.params)?e.params():{}}const bje="Expr",Dh="ExprList",_je="ExprNumber",K4="ExprObject",YT="JoinKeys",RM="JoinValues",Td="Options",jae="OrderKeys",K1="SelectionList",$w="TableRef",KT="TableRefList",czt="Descending",fzt="Query",dzt="Selection",hzt="Verb",pzt="Window";function dj(e,t){return e&&e.expr?new o2e({...e,...t}):new o2e(t,e)}class o2e{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...Ts(this.expr)?{func:!0}:{}}}}function mzt(e){return dj(e,{desc:!0})}function jx(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return dj(e,t?{expr:t,...r}:r)}function gzt(e,t,n){return dj(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function yzt(e){const t=n=>n;return t.toString=()=>e,t}function a2e(e,t){return t=t&&Ts(t.query)?t.query():t,t&&Ts(t.evaluate)?t.evaluate(null,e):e(t)}function wje(e){return Xu(e)&&(si(e.all)||si(e.matches)||si(e.not)||si(e.range))}function SR(e){return e&&Ts(e.toObject)?e.toObject():Ts(e)?{expr:String(e),func:!0}:si(e)?e.map(SR):Xu(e)?oj(e,t=>SR(t)):e}function Uae(e){return si(e)?e.map(Uae):Xu(e)?si(e.verbs)?Vae.from(e):si(e.all)?kA():si(e.range)?zjt(...e.range):si(e.match)?Vjt(RegExp(...e.match)):si(e.not)?SBe(e.not.map(SR)):vzt(e):e}function vzt(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=jx(n):e.func===!0&&(t=n=yzt(n)),Xu(e.window)){const{frame:r,peers:i}=e.window;t=n=gzt(n,r,i)}e.desc===!0&&(t=mzt(n))}return e===t?oj(e,r=>Uae(r)):t}function bzt(e){return si(e)?e.map(_zt):e}function _zt(e){const t=[];return Wc(e).forEach(n=>{Ml(n)?t.push(n):hu(n)?t.push(jx(n,null)):Xu(n)&&n.expr||Ts(n)?t.push(n):nr(`Invalid key value: ${n+""}`)}),t}function wzt(e){return si(e)?e.map(xzt):e}function xzt(e,t){return t<2?Wc(e):e}function Ezt(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(Xu(r)&&!Ts(r))for(const i in r)t.push(r[i]);else n=Ml(r)?r:hu(r)?jx(n):Ts(r)?n:nr(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const Tzt={[bje]:Sje,[Dh]:$A,[_je]:Rzt,[K4]:Rb,[YT]:$zt,[RM]:Nzt,[jae]:$A,[K1]:Izt};function Szt(e,t,n){return t===$w?u2e(e):t===KT?e.map(u2e):xje(SR(e),t,n)}function xje(e,t,n){return t===Td?e&&Azt(e,n):Tzt[t](e)}function Azt(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?xje(i,t[r]):i}return n}function Czt(e,t){return Kc({expr:e},{...t,ast:!0}).exprs[0]}function zae(e){return{type:Q$,name:e}}function Eje(e){return{type:Q$,index:e}}function Rb(e,t){if(hu(e))return Czt(e,t);if(e.expr){let n;if(e.field===!0?n=zae(e.expr):e.func===!0&&(n=Rb(e.expr,t)),n)return e.desc&&(n={type:czt,expr:n}),e.window&&(n={type:pzt,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...Rb(e[n],t),as:n}))}function Tje(e){const t=dzt;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:$A(e.not)}:e.range?{type:t,operator:"range",arguments:$A(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:nr("Invalid input")}function Izt(e){return Wc(e).map(kzt).flat()}function kzt(e){return wje(e)?Tje(e):Ml(e)?Eje(e):hu(e)?zae(e):Xu(e)?Object.keys(e).map(t=>({type:Q$,name:t,as:e[t]})):nr("Invalid input")}function Sje(e){return wje(e)?Tje(e):Ml(e)?Eje(e):hu(e)?zae(e):Xu(e)?Rb(e):nr("Invalid input")}function $A(e){return Wc(e).map(Sje).flat()}function Rzt(e){return Ml(e)?e:Rb(e)}function $zt(e){return si(e)?e.map($A):Rb(e,{join:!0})}function Nzt(e){return si(e)?e.map((t,n)=>n<2?$A(t):Rb(t,{join:!0})):Rb(e,{join:!0})}function u2e(e){return e&&Ts(e.toAST)?e.toAST():e}class Aje{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===YT?bzt(a):o===RM?wzt(a):o===jae?Ezt(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=HJ[t.verb],r=(n.schema||[]).map(({name:i})=>Uae(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===$w?a2e(n,o):s===KT?o.map(a=>a2e(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=SR(this[n])}),t}toAST(){const t={type:hzt,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=Szt(this[n],r,i)}),t}}function ji(e,t){return Object.assign((...n)=>new Aje(e,t,n),{schema:t})}const HJ={count:ji("count",[{name:"options",type:Td}]),derive:ji("derive",[{name:"values",type:K4},{name:"options",type:Td,props:{before:K1,after:K1}}]),filter:ji("filter",[{name:"criteria",type:K4}]),groupby:ji("groupby",[{name:"keys",type:Dh}]),orderby:ji("orderby",[{name:"keys",type:jae}]),relocate:ji("relocate",[{name:"columns",type:K1},{name:"options",type:Td,props:{before:K1,after:K1}}]),rename:ji("rename",[{name:"columns",type:K1}]),rollup:ji("rollup",[{name:"values",type:K4}]),sample:ji("sample",[{name:"size",type:_je},{name:"options",type:Td,props:{weight:bje}}]),select:ji("select",[{name:"columns",type:K1}]),ungroup:ji("ungroup"),unorder:ji("unorder"),reify:ji("reify"),dedupe:ji("dedupe",[{name:"keys",type:Dh,default:[]}]),impute:ji("impute",[{name:"values",type:K4},{name:"options",type:Td,props:{expand:Dh}}]),fold:ji("fold",[{name:"values",type:Dh},{name:"options",type:Td}]),pivot:ji("pivot",[{name:"keys",type:Dh},{name:"values",type:Dh},{name:"options",type:Td}]),spread:ji("spread",[{name:"values",type:Dh},{name:"options",type:Td}]),unroll:ji("unroll",[{name:"values",type:Dh},{name:"options",type:Td,props:{drop:Dh}}]),lookup:ji("lookup",[{name:"table",type:$w},{name:"on",type:YT},{name:"values",type:Dh}]),join:ji("join",[{name:"table",type:$w},{name:"on",type:YT},{name:"values",type:RM},{name:"options",type:Td}]),cross:ji("cross",[{name:"table",type:$w},{name:"values",type:RM},{name:"options",type:Td}]),semijoin:ji("semijoin",[{name:"table",type:$w},{name:"on",type:YT}]),antijoin:ji("antijoin",[{name:"table",type:$w},{name:"on",type:YT}]),concat:ji("concat",[{name:"tables",type:KT}]),union:ji("union",[{name:"tables",type:KT}]),intersect:ji("intersect",[{name:"tables",type:KT}]),except:ji("except",[{name:"tables",type:KT}])};let Vae=class Cje extends zMe{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new Cje(t.map(Aje.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return l2e(this,"toObject")}toJSON(){return this.toObject()}toAST(){return l2e(this,"toAST",{type:fzt})}};function l2e(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function Pzt(e,t){return new Vae(e._verbs.concat(t),e._params,e._table)}for(const e in HJ){const t=HJ[e];Vae.prototype["__"+e]=function(n,...r){return Pzt(n,t(...r))}}function e3(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function Ozt(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function Hae(e,t){const n=sd();return t.forEach((r,i)=>{const s=hu(r)?r:i;if(s){const o=e.column(i)||nr(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function Ije(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||nr("relocate requires a before or after option."),i&&s&&nr("relocate accepts only one of the before or after options."),t=$y(e,t);const o=[...$y(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),Hae(e,u)}function oN(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function qae(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Dzt(e,t=0,n=e.length){let r=n?e[t++]:ti;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function Lzt(e,t=0,n=e.length){let r=n?e[t++]:ti;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function c8(e){return mR(e)?e:+e}function Mzt(e,t){const n=e.length;if(!n)return ti;if((t=+t)<=0||n<2)return c8(e[0]);if(t>=1)return c8(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=c8(e[i]);return mR(s)?s:s+(c8(e[i+1])-s)*(r-i)}class Fzt{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:Dzt(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:Lzt(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(qae)),Mzt(this._sorted,t)}}const $M=(e,t,n)=>e3(t,"{"+oN(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function Bzt(e,t){const{ops:n,output:r}=jzt(e,t),i=e[0].fields,s=i.length,o=s===0?Wae:s===1?Uzt:s===2?zzt:nr("Unsupported field count: "+s);return new o(i,n,r,t)}function jzt(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=lFe(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class Wae extends qjt{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new Fzt),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class Uzt extends Wae{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=$M(n,s,"add"),this._rem=$M(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,ap(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,ap(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class zzt extends Wae{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=$M(n,s,"add"),this._rem=$M(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,ap(i)&&ap(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,ap(i)&&ap(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function O2(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=t3(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function t3(e,t,n){if(!t.length)return n;const r=kje(t),i=e.groups(),s=i?i.size:1;return n=n||WB(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=$je(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=Rje(e,o);o.write(a,n,0)}),n}function kje(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(Bzt(r[i],t));return n}function Rje(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function $je(e,t,n){const{keys:r,size:i}=n,s=WB(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function Nje(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function Pje(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const c2e=Pje(qae);function Vzt(e,t,n,r,i){let s,o,a,u,l;const c=m=>o[m-1]===o[m],f=r.length,d=i.length,h=r.length?e3(["w","r","k"],"{"+oN(r,(m,g)=>`r[_${g}.id][k]=_${g}.value(w,_${g}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,g,y,v){p.index=p.i0=p.i1=0,p.size=g.length,s=m,o=g,u=y,l=v,a=i.map(b=>b.init());for(let b=0;b<f;++b)r[b].init();return p},value(m,g){return g(s[m],e)},step(m){const[g,y]=t,v=p.size,b=p.i0,w=p.i1;p.i0=g!=null?Math.max(0,m-Math.abs(g)):0,p.i1=y!=null?Math.min(v,m+Math.abs(y)+1):v,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=c2e.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=c2e.right(o,o[p.i1-1])));for(let x=0;x<d;++x){const S=i[x],A=a[x];for(let C=b;C<p.i0;++C)S.rem(A,s[C],e);for(let C=w;C<p.i1;++C)S.add(A,s[C],e);S.write(A,u,l)}return h(p,u,l),u}};return p}const Hzt=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),qzt=e=>!!e.peers;function Wzt(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=cFe(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function Gzt(e,t,n,r={},i){const s=e.data(),o=Yzt(i,s),a=o.length,u=e3(["r","d","op"],"{"+oN(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=Kzt(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let m=0;m<a;++m)o[m].step(p);u(l[p],s,h)}})}function Yzt(e,t){const n={};return e.forEach(r=>{const i=Hzt(r),s=qzt(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});Ioe(r.name)?a.push(r):u.push(Wzt(r))}),Object.values(n).map(r=>Vzt(t,r.frame,r.peers,r.winOps,kje(r.aggOps,r.frame[0]!=null?-1:1)))}function Kzt(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function Xzt(e){return koe(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function Gae(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=sd(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=Qzt(r),c=e.isGrouped()?e.groups().size:1,f=t3(e,u,WB(r.length,()=>Array(c)));return l.length?Gzt(e,a,n,f,l):Jzt(e,a,n,f),e.create(o)}function Qzt(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(Xzt(s)?n:t).push(s)}return[t,n]}function Jzt(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function Zzt(e,t,n={}){const r=Gae(e,Kc(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:Ije(r,Object.keys(t).filter(i=>!e.column(i)),n)}function eVt(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const f8=2147483648,tVt=4294967295;class Oje{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&f8>>>t}set(t){this._bits[t>>5]|=f8>>>t}clear(t){this._bits[t>>5]&=~(f8>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&tVt>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=f8>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function nVt(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Oje(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function rVt(e,t){const n=Kc({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=Gae(e,n,{drop:!0}).column("p");r=s=>i[s]}return nVt(e,r)}function Dje(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=O2(e,r,n),l=sd(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(w=>{if(!a.has(w)){const x=l.add(w,[]);c.has(w)||(f.push(e.column(w)),d.push(x))}}),t.forEach(w=>{a.has(w)||(l.has(w)||l.add(w,[]),h.push(l.data[w]))});const p=o?l.add(o,[]):null;let m=0;const g=f.length,y=h.length,v=(w,x)=>{for(let S=0;S<g;++S)d[S].length=m+x,d[S].fill(f[S].get(w),m,m+x)},b=p?(w,x)=>{for(let S=0;S<x;++S)p[w+S]=S}:()=>{};if(y===1){const w=u[0],x=h[0];e.scan((S,A)=>{const C=Wc(w(S,A)),$=Math.min(C.length,s);v(S,$);for(let k=0;k<$;++k)x[m+k]=C[k];b(m,$),m+=$})}else e.scan((w,x)=>{let S=0;const A=u.map(C=>{const $=Wc(C(w,x));return S=Math.min(Math.max(S,$.length),s),$});v(w,S);for(let C=0;C<y;++C){const $=h[C],k=A[C];for(let P=0;P<S;++P)$[m+P]=k[P]}b(m,S),m+=S});return e.create(l.new())}function iVt(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=O2(e,r,n);return Dje(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function Cp(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=Ml(o)?t.columnName(o):o,hu(o)?i.set(o,jx(o)):Ts(o)?$y(t,o).forEach(s):Xu(o)?EBe(i,o):nr(`Invalid ${e} value: ${o+""}`)};return Wc(n).forEach(s),r.preparse&&r.preparse(i),Kc(i,{table:t,...r})}function sVt(e,t,n){return iVt(e,Cp("fold",e,t),n)}function f2e(e,t,n,r){const i=n&&n.length;return oVt(i?aVt(e,n,r):e,t,i)}function oVt(e,{names:t,exprs:n,ops:r},i){const s=O2(e,r,n),o=i?null:sd(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=ap(p)?p:d(h)})}),i?e:e.create(o)}function aVt(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=uM(o);e.scan((p,m)=>a.add(u(p,m)));const l=e.columnNames(),c=sd(),f=l.map(p=>c.add(p,[]));l.forEach((p,m)=>{const g=i[p],y=f[m];e.scan(v=>y.push(g.get(v)))});const d=uM(o.map((p,m)=>g=>g[m])),h=e3("v","{"+f.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((y,v)=>y*v.length,r.size),g=new Uint32Array(m+(p-a.size));g.set(r.keys),d2e(r,n,(y,v)=>{a.has(d(y))||(h(y),g[p++]=v[0])}),c.groupby({...r,keys:g})}else d2e(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function d2e(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const m=f[p];for(let g=0;g<r;++g)h[g]=c[g](m)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function Yae(e,{names:t,exprs:n,ops:r}){const i=sd(),s=e.groups();return s&&Nje(i,s),uVt(t,n,s,t3(e,r),i),e.create(i.new())}function uVt(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function lVt(e,t,n={}){if(t=Kc(t,{table:e}),t.names.forEach(r=>e.column(r)?0:nr(`Invalid impute column ${lm(r)}`)),n.expand){const r={preparse:cVt,aggronly:!0},i=Cp("impute",e,n.expand,r),s=Yae(e.ungroup(),i);return f2e(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return f2e(e,t)}function cVt(e){e.forEach((t,n)=>t.field?e.set(n,QMe(t+"")):0)}function fVt(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function Lje(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function dVt(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function hVt(e,t){const n=["i","a","j","b"];return e3(n,"{"+oN(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function pVt(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,m=sd(),g=Array(p),y=Array(p);for(let w=0;w<r.length;++w)g[w]=m.add(r[w],[]),y[w]=i[w];const v=hVt(g,y);if((si(n)?gVt:mVt)(v,n,o,c,a,f,l,h,u,d),s.left)for(let w=0;w<u;++w)l[w]||v(a[w],o,-1,c);if(s.right)for(let w=0;w<d;++w)h[w]||v(-1,o,f[w],c);return e.create(m.new())}function mVt(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function gVt(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,m,g,y,v,b=e;l>=c?(f=r,d=t,h=a,p=s,m=i,g=n,y=u,v=o):(f=i,d=n,h=u,p=o,m=r,g=t,y=a,v=s,b=(S,A,C,$)=>e(C,$,S,A));const w=dVt(v,m,g),x=p.length;for(let S=0;S<x;++S){const A=p[S],C=w.get(d(A,f));if(C){const $=C.length;for(let k=0;k<$;++k){const P=C[k];b(A,f,v[P],m),y[P]=1}h[S]=1}}}function NM(e,t,n){const r=new Map;Wc(n).forEach((s,o)=>{s=Ml(s)?t.columnName(s):s,hu(s)?r.set(o,jx(s)):Ts(s)||Xu(s)&&s.expr?r.set(o,s):nr(`Invalid ${e} key value: ${s+""}`)});const i=Kc(r,{table:t,aggregate:!1,window:!1});return uM(i.exprs,!0)}function yVt(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function Kae(e,t,n){if(n)hu(n)?n=[n,n]:si(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=yVt(e.columnNames(),t.columnNames());r.length||nr("Natural join requires shared column names."),n=[r,r]}return n}function Mje(e,t,n,r){return n.length!==r.length&&nr("Mismatched number of join keys"),[NM("join",e,n),NM("join",t,r)]}const vVt={aggregate:!1,window:!1},bVt={...vVt,index:1};function h2e(e,t,n,r,i={}){n=Kae(e,t,n);const s={join:[e,t]};let o;if(si(n)){const[a,u]=n.map(Wc);o=Mje(e,t,a,u),r||(r=_Vt(e,a,u,i))}else o=Kc({on:n},s).exprs[0],r||(r=[kA(),kA()]);return pVt(e,t,o,wVt(e,t,r,s,i&&i.suffix),i)}function _Vt(e,t,n,r){const i=[];t.forEach((o,a)=>hu(o)&&o===n[a]?i.push(o):0);const s=SBe(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${lm(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,kA()]:[kA(),s]}function wVt(e,t,n,r,i=[]){if(si(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=Cp("join",e,n[0],r)),u--&&(o=Cp("join",t,n[1],bVt)),u--&&(a=Kc(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(i[0]!==""&&p2e(s.names,l,i[0]||"_1"),i[1]!==""&&p2e(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return Kc(n,r)}function p2e(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function xVt(e,t,n,r={}){const i=new Oje(e.totalRows());return(si(n)?EVt:TVt)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function EVt(e,t,n,[r,i]){const s=Lje(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function TVt(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function m2e(e,t,n,r){n=Kae(e,t,n);const i=si(n)?Mje(e,t,...n.map(Wc)):Kc({on:n},{join:[e,t]}).exprs[0];return xVt(e,t,i,r)}function SVt(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=sd(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(ti)));const l=Lje(t,r),c=e3(["lr","rr","data"],"{"+oN(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),O2(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function AVt(e,t,n,r){return n=Kae(e,t,n),SVt(e,t,[NM("lookup",e,n[0]),NM("lookup",t,n[1])],Cp("lookup",t,r))}const qJ=(e,t)=>e??t;function CVt(e,t,n,r={}){const{keys:i,keyColumn:s}=IVt(e,t,r),o=qJ(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>t3(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,m)=>l===s[p]?d(p,m):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(kVt(n,a,e.groups(),u))}function IVt(e,t,n){const r=n.limit>0?+n.limit:1/0,i=qJ(n.sort,!0),s=qJ(n.keySeparator,"_"),o=O2(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=t3(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function kVt({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=sd(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&Nje(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let m=0;m<s;++m)p[m]=d(m,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function RVt(e,t,n,r){return CVt(e,Cp("fold",e,t),Cp("fold",e,n,{preparse:$Vt,aggronly:!0}),r)}function $Vt(e){e.forEach((t,n)=>t.field?e.set(n,YMe(t+"")):0)}function NVt(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),Hae(e,$y(e,t,n))}function g2e(e,t){return Yae(e,Kc(t,{table:e,aggronly:!0,window:!1}))}function PVt(e,t,n,r){return(t?r?DVt:OVt:r?MVt:LVt)(e.length,e,n,r)}function OVt(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*qC()|0];return t}function DVt(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=Pje(qae).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*qC())];return t}function LVt(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*qC();s<e&&(t[s|0]=n[i])}return t}function MVt(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(qC())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function FVt(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=qC()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function BVt(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):PVt(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&FVt(u),e.reify(u)}function jVt(e,t,n={}){return BVt(e,UVt(e,t),zVt(e,n.weight),n)}const Fje=e=>t=>e.get(t)||0;function UVt(e,t){return Ml(t)?()=>t:Fje(Yae(e,Kc({size:t},{table:e,window:!1})).column("size"))}function zVt(e,t){return t==null?null:(t=Ml(t)?e.columnName(t):t,Fje(hu(t)?e.column(t):Gae(e,Kc({w:t},{table:e}),{drop:!0}).column("w")))}function VVt(e,t){return Hae(e,$y(e,t))}function HVt(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=O2(e,r,n),l=sd(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=qVt(e,u[d],a),m=p.length;for(let g=0;g<m;++g)l.add(s[g]||`${h}_${g+1}`,p[g])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function qVt(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=Wc(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(ti));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function WVt(e,t,n){return HVt(e,Cp("spread",e,t),n)}function GVt(e,t){return e.concat(t).dedupe()}function YVt(e,t,n){return Dje(e,Cp("unroll",e,t),n&&n.drop?{...n,drop:Cp("unroll",e,n.drop).names}:n)}function KVt(e,t){return e.create({groups:XVt(e,t)})}function XVt(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=O2(e,r,n);const o=uM(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function QVt(e,t){return KVt(e,Cp("groupby",e,t))}function JVt(e,t){return e.create({order:t})}const ZVt=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function eHt(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=Kc(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=g=>`fn[${i.length}](${g}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([aM(p,{index:"a",op:o}),aM(p,{index:"b",op:a})])},window:!1}),l=t3(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[m,g]=r[h];d+=ZVt(m,g,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function tHt(e,t){return JVt(e,nHt(e,t))}function nHt(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(Xu(o)&&!Ts(o))for(const a in o)i(o[a]);else i(Ml(o)?jx(s,e.columnName(o)):hu(o)?jx(s):Ts(o)?s:nr(`Invalid orderby field: ${s+""}`))}),eHt(e,r)}function rHt(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=sd();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>ti};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function iHt(e,t){const n=sd(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?$je(e,t,r):[Rje(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(f),g=i[p];for(let y=0,v=0;y<a;++y)m.fill(g(o[y],d),v,v+=u[y+1])})}return e.create(n.new())}function sHt(e){return e.isGrouped()?e.create({groups:null}):e}function oHt(e){return e.isOrdered()?e.create({order:null}):e}const aHt={__antijoin:(e,t,n)=>m2e(e,t,n,{anti:!0}),__count:(e,t={})=>g2e(e,{[t.as||"count"]:KMe()}),__cross:(e,t,n,r)=>h2e(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:rHt,__dedupe:Ozt,__derive:Zzt,__except:eVt,__filter:rVt,__fold:sVt,__impute:lVt,__intersect:fVt,__join:h2e,__lookup:AVt,__pivot:RVt,__relocate:Ije,__rename:NVt,__rollup:g2e,__sample:jVt,__select:VVt,__semijoin:m2e,__spread:WVt,__union:GVt,__unroll:YVt,__groupby:QVt,__orderby:tHt,__ungroup:sHt,__unorder:oHt,__reduce:iHt};Object.assign(Lg.prototype,aHt);function Bje(e,t){return Lg.from(e,t)}function CS(e){return dj(e,{escape:!0,toString(){nr("Escaped values can not be serialized.")}})}Lg.prototype;var uHt="Expected a function",y2e=NaN,lHt="[object Symbol]",cHt=/^\s+|\s+$/g,fHt=/^[-+]0x[0-9a-f]+$/i,dHt=/^0b[01]+$/i,hHt=/^0o[0-7]+$/i,pHt=parseInt,mHt=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,gHt=typeof self=="object"&&self&&self.Object===Object&&self,yHt=mHt||gHt||Function("return this")(),vHt=Object.prototype,bHt=vHt.toString,_Ht=Math.max,wHt=Math.min,XW=function(){return yHt.Date.now()};function xHt(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(uHt);t=v2e(t)||0,WJ(n)&&(c=!!n.leading,f="maxWait"in n,s=f?_Ht(v2e(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(S){var A=r,C=i;return r=i=void 0,l=S,o=e.apply(C,A),o}function p(S){return l=S,a=setTimeout(y,t),c?h(S):o}function m(S){var A=S-u,C=S-l,$=t-A;return f?wHt($,s-C):$}function g(S){var A=S-u,C=S-l;return u===void 0||A>=t||A<0||f&&C>=s}function y(){var S=XW();if(g(S))return v(S);a=setTimeout(y,m(S))}function v(S){return a=void 0,d&&r?h(S):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function w(){return a===void 0?o:v(XW())}function x(){var S=XW(),A=g(S);if(r=arguments,i=this,u=S,A){if(a===void 0)return p(u);if(f)return a=setTimeout(y,t),h(u)}return a===void 0&&(a=setTimeout(y,t)),o}return x.cancel=b,x.flush=w,x}function WJ(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function EHt(e){return!!e&&typeof e=="object"}function THt(e){return typeof e=="symbol"||EHt(e)&&bHt.call(e)==lHt}function v2e(e){if(typeof e=="number")return e;if(THt(e))return y2e;if(WJ(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=WJ(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(cHt,"");var n=dHt.test(e);return n||hHt.test(e)?pHt(e.slice(2),n?2:8):fHt.test(e)?y2e:+e}var SHt=xHt;const Bh=tf(SHt);function jje({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=R.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=R.useMemo(()=>d_(".2s"),[]);return E.jsxs(E.Fragment,{children:[E.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:E.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:E.jsx(oa,{children:E.jsx(Si,{gap:3,children:E.jsx(Ue,{size:"14px",style:{color:"#878E95"},children:r})})})})}),E.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),E.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>E.jsxs("g",{transform:`translate(${n}, ${a})`,children:[E.jsx("line",{x2:"-6",stroke:"currentColor"}),E.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),E.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const AHt=Object.freeze(Object.defineProperty({__proto__:null,YAxis:jje},Symbol.toStringTag,{value:"Module"})),QW=15;function Uje({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0}){const[a,u]=R.useState([0,0]),[l,c]=R.useState(!1);return R.useEffect(()=>{const f=pr("#scatterSvgBrushStudy");if(f){const d=f.node().getBoundingClientRect();f.on("mousemove",h=>{const p=[h.clientX-d.x,h.clientY-d.y];if(u(p),l){const m=i.filter(g=>Math.abs(e(g[r.x])-p[0])<QW&&Math.abs(t(g[r.y])-p[1])<QW);if(h.ctrlKey||h.metaKey||!o){const g=new Set(s.ids);m.forEach(v=>{g.has(v[r.ids])&&g.delete(v[r.ids])});const y=Array.from(g);n([[a[0],a[1]],[a[0],a[1]]],e,t,y.length===0?"clear":"drag",y)}else{const g=Array.from(new Set([...s.ids,...m.map(y=>y[r.ids])]));g.length>0&&n([[a[0],a[1]],[a[0],a[1]]],e,t,"drag",g)}}}),f.on("mousedown",h=>{c(!0),h.stopPropagation(),h.preventDefault()}),f.on("mouseup",()=>{c(!1)})}},[a,s.ids,i,l,o,r,n,e,t]),E.jsx("circle",{style:{cursor:l?"pointer":"default"},r:QW,fill:"darkgray",opacity:.5,cx:a[0],cy:a[1]})}const CHt=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Uje},Symbol.toStringTag,{value:"Module"})),Cs={top:15,left:100,right:15,bottom:70};function GJ({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,params:i,data:s,brushedPoints:o}){const[a,{height:u,width:l}]=Mf(),[c]=Mf(),[f]=Mf(),[d,h]=R.useState(!0),p=R.useMemo(()=>l-Cs.left-Cs.right,[l]),m=R.useMemo(()=>u-Cs.top-Cs.bottom,[u]),g=R.useMemo(()=>{const k=Array.from(new Set(s.map(P=>P[i.category])));return p_(LB).domain(k)},[s,i.category]),{xMin:y,yMin:v,xMax:b,yMax:w}=R.useMemo(()=>{const k=s.map(H=>+H[i.x]).filter(H=>H!==null),[P,L]=Jk(k),O=s.map(H=>+H[i.y]).filter(H=>H!==null),[B,q]=Jk(O);return{xMin:P,xMax:L,yMin:B,yMax:q}},[s,i.x,i.y]),x=R.useMemo(()=>{const k=b-y;return p<=0?null:i.dataType==="date"?eoe([Cs.left,p+Cs.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):Pa([Cs.left,p+Cs.left]).domain([y-k/10,b+k/10]).nice()},[i.dataType,p,b,y]),S=R.useMemo(()=>{const k=w-v;return m<=0?null:Pa([m+Cs.top,Cs.top]).domain([v-k/10,w+k/10]).nice()},[m,w,v]),A=R.useMemo(()=>{if(!x||!S)return()=>null;if(r==="Axis Selection"){const k=E9e().extent([[Cs.left,Cs.top+m-5],[Cs.left+p,Cs.top+m+5]]).on("brush end",L=>{L.sourceEvent!==void 0&&n([[L.selection[0],null],[L.selection[1],null]],x,S,L.mode)}),P=T9e().extent([[Cs.left-5,Cs.top],[Cs.left+5,Cs.top+m]]).on("brush end",L=>{L.sourceEvent!==void 0&&n([[null,L.selection[0]],[null,L.selection[1]]],x,S,L.mode)});return c.current&&f.current&&(pr(f.current).call(P),pr(c.current).call(k),t.hasBrush||(pr(f.current).call(P.move,[S(w),S(v)]),pr(c.current).call(k.move,[x(new Date("2015-01-02")),x(new Date("2015-12-31"))]),n([[x(new Date("2015-01-02")),S(w)],[x(new Date("2015-12-31")),S(v)]],x,S,"drag"))),()=>{pr(f.current).call(P.move,[S(w),S(v)]),pr(c.current).call(k.move,[x(new Date("2015-01-02")),x(new Date("2015-12-31"))]),n([[x(new Date("2015-01-02")),S(w)],[x(new Date("2015-12-31")),S(v)]],x,S,"clear")}}if(r==="Rectangular Selection"){const k=S9e().extent([[Cs.left,Cs.top],[Cs.left+p,Cs.top+m]]).on("brush",P=>{P.sourceEvent!==void 0&&n([[P.selection[0][0],P.selection[0][1]],[P.selection[1][0],P.selection[1][1]]],x,S,P.mode)}).on("end",P=>{P.selection===null&&P.sourceEvent!==void 0&&(pr(a.current).call(k.move,null),e(null))});return pr(a.current).call(k),()=>{pr(a.current).call(k.move,null),n([[null,null],[null,null]],x,S,"clear")}}return r==="Slider Selection"?(t.hasBrush||n([[x(y),S(w)],[x(b),S(v)]],x,S,null),()=>n([[x(y),S(w)],[x(b),S(v)]],x,S,"clear")):r==="Paintbrush Selection"?()=>n([[x(y),S(w)],[x(b),S(v)]],x,S,"clear",[]):()=>null},[t.hasBrush,r,c,f,m,a,n,e,p,b,y,x,w,v,S]),C=R.useMemo(()=>o.length===0?null:new Set(o),[o]),$=R.useMemo(()=>!x||!S?null:s.map((k,P)=>{if(k[i.x]===null||k[i.y]===null)return null;const L=i.dataType==="date"?x(new Date(k[i.x])):x(k[i.x]);return E.jsx("circle",{opacity:C&&!C.has(k[i.ids])?.3:1,r:3,fill:C&&!C.has(k[i.ids])?"lightgray":g(k[i.category]),cx:L,cy:S(k[i.y])},P)}),[C,g,s,i.category,i.dataType,i.ids,i.x,i.y,x,S]);return R.useEffect(()=>{r==="Axis Selection"&&VDe(".handle").style("fill","darkgrey")},[t,r]),E.jsxs(zi,{children:[E.jsxs(Si,{children:[E.jsx(on,{ml:60,size:"compact-sm",style:{width:"130px"},disabled:o.length===0,onClick:()=>{e(null),A==null||A()},children:"Clear Selection"}),i.brushType==="Paintbrush Selection"?E.jsx(K7,{defaultChecked:!0,value:d?"Select":"De-Select",onChange:k=>h(k==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:o.length===0}]}):null]}),E.jsxs(Si,{style:{width:"100%",height:"100%"},wrap:"nowrap",children:[E.jsxs("svg",{id:"scatterSvgBrushStudy",ref:a,style:{height:"500px",width:i.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[x&&S?E.jsxs("g",{children:[E.jsx(jje,{yScale:S,label:i.y,horizontalPosition:Cs.left,xRange:x.range()}),E.jsx(Soe,{xScale:x,yRange:S.range(),isDate:i.dataType==="date",vertPosition:m+Cs.top,label:i.x,ticks:x.ticks(i.brushType==="Axis Selection"?12:5).map(k=>({value:k.toString(),offset:x(k)}))})]}):null,$,E.jsx("g",{id:"brushXRef",ref:c}),E.jsx("g",{id:"brushYRef",ref:f}),x&&S&&r==="Paintbrush Selection"?E.jsx(Uje,{brushState:t,setBrushedSpace:n,params:i,data:s,isSelect:d,xScale:x,yScale:S}):null]}),r==="Slider Selection"&&x&&S?E.jsxs(zi,{style:{flexGrow:1},gap:50,children:[E.jsxs(zi,{gap:0,children:[E.jsx(Ue,{children:i.x}),E.jsx(rA,{minRange:1,label:null,min:x.domain()[0],max:x.domain()[1],labelAlwaysOn:!1,onChange:k=>{n([[x(k[0]),t.y1],[x(k[1]),t.y2]],x,S,"drag")},style:{width:"300px"},marks:x.ticks(5).map(k=>({value:k,label:k})),value:[x.invert(t.x1),x.invert(t.x2)]})]}),E.jsxs(zi,{gap:0,children:[E.jsx(Ue,{children:i.y}),E.jsx(rA,{minRange:1,label:null,min:S.domain()[0],max:S.domain()[1],onChange:k=>{n([[t.x1,S(k[1])],[t.x2,S(k[0])]],x,S,"drag")},style:{width:"300px"},marks:S.ticks(5).map(k=>({value:k,label:k})),value:[S.invert(t.y2),S.invert(t.y1)]})]})]}):null]})]})}const IHt=Object.freeze(Object.defineProperty({__proto__:null,Scatter:GJ,default:GJ},Symbol.toStringTag,{value:"Module"}));function b2e({parameters:e,setAnswer:t,provenanceState:n}){const[r,i]=R.useState(null),[s,o]=R.useState(n?n.all.brush||n.all:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]});R.useEffect(()=>{o(n?n.all.brush||n.all:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]})},[n]);const[a,u]=R.useState(null);R.useEffect(()=>{k9e(`./data/${e.dataset}.csv`).then(y=>{u(y)})},[e]);const l=R.useMemo(()=>a?Bje(a):null,[a]),{actions:c,trrack:f}=R.useMemo(()=>{const y=P2.create(),v=y.register("brush",(A,C)=>(A.all={brush:C},A)),b=y.register("brushMove",(A,C)=>(A.all={brush:C},A)),w=y.register("brushResize",(A,C)=>(A.all={brush:C},A)),x=y.register("brushClear",(A,C)=>(A.all={brush:C},A)),S=K$({registry:y,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:v,brushMove:b,brushResize:w,clearBrush:x},trrack:S}},[]),d=R.useCallback((y,v)=>{y==="drag"?f.apply("Move Brush",c.brushMove(v)):y==="handle"&&f.apply("Brush",c.brush(v))},[c,f]),h=R.useMemo(()=>Bh(d,100,{maxWait:100}),[d]),p=R.useCallback((y,v,b,w,x)=>{if(!v||!b)return;const S=v.invert(y[0][0]||s.x1),A=v.invert(y[1][0]||s.x2),C=b.invert(y[1][1]||s.y2),$=b.invert(y[0][1]||s.y1);let k=null;if(w==="clear")k=l;else if(x){const L=new Set(x);k=l.filter(CS(O=>L.has(O[e.ids])))}else e.brushType==="Axis Selection"?k=l.filter(CS(L=>new Date(L[e.x])>=new Date(S)&&new Date(L[e.x])<=new Date(A)&&L[e.y]>=C&&L[e.y]<=$)):k=l.filter(CS(L=>L[e.x]>=S&&L[e.x]<=A&&L[e.y]>=C&&L[e.y]<=$));const P={x1:y[0][0]||(s==null?void 0:s.x1)||0,x2:y[1][0]||(s==null?void 0:s.x2)||0,y1:y[0][1]||(s==null?void 0:s.y1)||0,y2:y[1][1]||(s==null?void 0:s.y2)||0,hasBrush:w!=="clear",ids:w!=="clear"?k==null?void 0:k.array("id"):[]};o(P),w==="drag"||w==="handle"?h(w,P):w==="clear"&&f.apply("Clear Brush",c.clearBrush(P)),i(k),t({status:!0,provenanceGraph:f.graph.backend,answers:{}})},[s,l,e,f,t,h,c]),m=R.useMemo(()=>r?r==null?void 0:r.groupby(e.category).count():l?l==null?void 0:l.groupby(e.category).count():null,[r,l,e.category]),g=R.useCallback(y=>{i(y)},[]);return a?E.jsxs(zi,{gap:"xs",children:[E.jsx(GJ,{brushedPoints:s==null?void 0:s.ids,data:a,params:e,brushType:e.brushType,setBrushedSpace:p,brushState:s,setFilteredTable:g}),E.jsx(xJ,{data:a,parameters:e,barsTable:m})]}):E.jsx(nf,{})}const kHt=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:b2e,default:b2e},Symbol.toStringTag,{value:"Module"})),RHt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function zje({data:e,xScale:t,yScale:n,height:r}){return E.jsx("g",{children:e.map((i,s)=>E.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))})}const $Ht=Object.freeze(Object.defineProperty({__proto__:null,Bars:zje},Symbol.toStringTag,{value:"Module"}));function Xae({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=R.useMemo(()=>{const o=Pa().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return E.jsxs("g",{children:[E.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>E.jsxs("g",{transform:`translate(0,${a})`,children:[E.jsx("line",{x2:`${r}`,stroke:"currentColor"}),E.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})}const NHt=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:Xae},Symbol.toStringTag,{value:"Module"}));function Vje({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=R.useMemo(()=>{const o=jC().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return E.jsxs("g",{children:[E.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>E.jsx("g",{transform:`translate(${a}, 10)`,children:E.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})}const PHt=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:Vje},Symbol.toStringTag,{value:"Module"})),OHt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400};function DHt({parameters:e}){const[n,r]=HC(OHt),i=jC().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=Pa().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return E.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:E.jsx("svg",{width:r.width,height:r.height,children:E.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[E.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:E.jsx(Vje,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),E.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:E.jsx(Xae,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),E.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:E.jsx(zje,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})}const LHt=Object.freeze(Object.defineProperty({__proto__:null,default:DHt},Symbol.toStringTag,{value:"Module"}));function Hje({data:e}){return E.jsx("g",{children:e.map(({bubble:t},n)=>E.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))})}const MHt=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:Hje},Symbol.toStringTag,{value:"Module"}));function Qae({positions:e}){return E.jsx("g",{children:e.map((t,n)=>E.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))})}const FHt=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:Qae},Symbol.toStringTag,{value:"Module"})),BHt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},jHt=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=CLe().size([t-10,n-10]).padding(1.5),o=CB(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},UHt=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y}));function zHt({parameters:e}){const[t,n]=HC(BHt),r=jHt(e,n.width,n.height),i=UHt(r,e.selectedIndices);return E.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:E.jsx("svg",{width:n.width,height:n.height,children:E.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[E.jsx(Hje,{data:r}),E.jsx(Qae,{positions:i})]})})})}const VHt=Object.freeze(Object.defineProperty({__proto__:null,default:zHt},Symbol.toStringTag,{value:"Module"}));function qje({arcs:e}){return E.jsx("g",{children:e.map((t,n)=>E.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))})}const HHt=Object.freeze(Object.defineProperty({__proto__:null,Slices:qje},Symbol.toStringTag,{value:"Module"}));function Wje({positions:e}){return E.jsx("g",{children:e.map((t,n)=>E.jsx("g",{transform:`translate(${t.centroid()})`,children:E.jsx("circle",{r:2,cx:0,cy:0},n)},n))})}const qHt=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:Wje},Symbol.toStringTag,{value:"Module"})),WHt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},GHt=UDt().value(e=>e.value),NI=150;function YHt({parameters:e}){const[t,n]=HC(WHt),r=GHt(e.data),i=r.map(o=>rJ().innerRadius(0).outerRadius(NI).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>rJ().outerRadius(NI+10).innerRadius(NI+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return E.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:E.jsx("svg",{width:n.width,height:n.height,children:E.jsxs("g",{transform:`translate(${[n.marginLeft+NI,n.marginTop+NI].join(",")})`,children:[E.jsx(qje,{arcs:i}),E.jsx(Wje,{positions:s})]})})})}const KHt=Object.freeze(Object.defineProperty({__proto__:null,default:YHt},Symbol.toStringTag,{value:"Module"}));function Gje({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=R.useMemo(()=>{const o=Pa().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return E.jsxs("g",{children:[E.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>E.jsxs("g",{transform:`translate(${a}, 0)`,children:[E.jsx("line",{y2:`${r}`,stroke:"currentColor"}),E.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})}const XHt=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:Gje},Symbol.toStringTag,{value:"Module"}));function Yje({data:e,barWidth:t,yScale:n}){return E.jsx("g",{children:e.map((r,i)=>E.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))})}const QHt=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:Yje},Symbol.toStringTag,{value:"Module"})),JHt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400};function ZHt({parameters:e}){const[n,r]=HC(JHt),i=jC().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=Pa().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,m)=>m===0||m===h.length-1),a=h=>h.filter((p,m)=>e.selectedIndices.includes(m)),u=h=>{const p=h.map(b=>+b.value),g=p.reduce((b,w)=>Number(b)+Number(w))/100,y={};p.forEach((b,w)=>{y[String.fromCharCode(w+65)]=b/g});const v=[y];return l9t().keys(e.data.map(b=>b.name))(v)},l=(h,p,m)=>h.filter((y,v)=>p.includes(v)).map(y=>({x:m,y:s(y[0][1])+.5*(s(y[0][0])-s(y[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return E.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:E.jsx("svg",{width:r.width,height:r.height,children:E.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[E.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:E.jsx(Gje,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),E.jsx("g",{transform:"translate(0, 0)",children:E.jsx(Xae,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),E.jsxs("g",{transform:"translate(0, 0)",children:[E.jsx(Yje,{data:c,barWidth:f,yScale:s}),E.jsx(Qae,{positions:d})]})]})})})}const eqt=Object.freeze(Object.defineProperty({__proto__:null,default:ZHt},Symbol.toStringTag,{value:"Module"}));function _2e({rankings:e}){return E.jsx("div",{style:{fontFamily:"sans-serif"},children:E.jsx("div",{children:e.map((t,n)=>E.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})})}function tqt({parameters:e,setAnswer:t}){const n=ch(),[r,i]=R.useState(""),{goToNextStep:s,isNextDisabled:o}=hDe(),a=R.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=R.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=R.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a==="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a==="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=R.useCallback(()=>{o||s()},[o,s]);R.useEffect(()=>{const h=Zdt([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),E.jsxs("div",{children:[E.jsxs(Rf,{children:[E.jsxs(Rf.Col,{span:2,children:[E.jsx(_2e,{rankings:a==="r1"?e.data.r1:e.data.r2}),E.jsx(on,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?E.jsx(q1e,{}):"Select this ranking"}),l&&r&&E.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),E.jsxs(Rf.Col,{span:2,children:[E.jsx(_2e,{rankings:a==="r1"?e.data.r2:e.data.r1}),E.jsx(on,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?E.jsx(q1e,{}):"Select this ranking"}),l&&r&&E.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&E.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})}const nqt=Object.freeze(Object.defineProperty({__proto__:null,default:tqt},Symbol.toStringTag,{value:"Module"})),rqt=R.createContext(null);function Bu(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}let aN=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};const d8={decode:function(e,t){return Bu(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Kje(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[s,o]of Object.entries(t))typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(Kje(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function w2e(e,t,n){const r=Kje(e,t||{});return n==null||n.appendChild(r),r}var iqt=Object.freeze({__proto__:null,createElement:w2e,default:w2e});const sqt={fetchBlob:function(e,t,n){return Bu(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,s){Bu(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let u=0;const l=f=>Bu(this,void 0,void 0,function*(){u+=(f==null?void 0:f.length)||0;const d=Math.round(u/a*100);s(d)}),c=()=>Bu(this,void 0,void 0,function*(){let f;try{f=yield o.read()}catch{return}f.done||(l(f.value),yield c())});c()})}(r.clone(),t),r.blob()})}};class oqt extends aN{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)},{once:!0})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){const r=this.getSrc();if(t&&r===t)return;this.revokeSrc();const i=n instanceof Blob&&(this.canPlayType(n.type)||!t)?URL.createObjectURL(n):t;try{this.media.src=i}catch{this.media.src=t}}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return Bu(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}let YJ=class KJ extends aN{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=n=>{const r=this.wrapper.getBoundingClientRect(),i=n.clientX-r.left,s=n.clientY-r.top;return[i/r.width,s/r.height]};if(this.wrapper.addEventListener("click",n=>{const[r,i]=t(n);this.emit("click",r,i)}),this.wrapper.addEventListener("dblclick",n=>{const[r,i]=t(n);this.emit("dblclick",r,i)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:n,scrollWidth:r,clientWidth:i}=this.scrollContainer,s=n/r,o=(n+i)/r;this.emit("scroll",s,o,n,n+i)}),typeof ResizeObserver=="function"){const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,n,r,i,s=3,o=0,a=100){if(!t)return()=>{};const u=matchMedia("(pointer: coarse)").matches;let l=()=>{};const c=f=>{if(f.button!==o)return;f.preventDefault(),f.stopPropagation();let d=f.clientX,h=f.clientY,p=!1;const m=Date.now(),g=x=>{if(x.preventDefault(),x.stopPropagation(),u&&Date.now()-m<a)return;const S=x.clientX,A=x.clientY,C=S-d,$=A-h;if(p||Math.abs(C)>s||Math.abs($)>s){const k=t.getBoundingClientRect(),{left:P,top:L}=k;p||(r==null||r(d-P,h-L),p=!0),n(C,$,S-P,A-L),d=S,h=A}},y=x=>{if(p){const S=x.clientX,A=x.clientY,C=t.getBoundingClientRect(),{left:$,top:k}=C;i==null||i(S-$,A-k)}l()},v=x=>{x.relatedTarget&&x.relatedTarget!==document.documentElement||y(x)},b=x=>{p&&(x.stopPropagation(),x.preventDefault())},w=x=>{p&&x.preventDefault()};document.addEventListener("pointermove",g),document.addEventListener("pointerup",y),document.addEventListener("pointerout",v),document.addEventListener("pointercancel",v),document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("click",b,{capture:!0}),l=()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",y),document.removeEventListener("pointerout",v),document.removeEventListener("pointercancel",v),document.removeEventListener("touchmove",w),setTimeout(()=>{document.removeEventListener("click",b,{capture:!0})},10)}};return t.addEventListener("pointerdown",c),()=>{l(),t.removeEventListener("pointerdown",c)}}(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;if(t==null)return 128;if(!isNaN(Number(t)))return Number(t);if(t==="auto"){const s=this.parent.clientHeight||128;return n!=null&&n.every(o=>!o.overlay)?s/i:s}return 128}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),r=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${r?` nonce="${r}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t,n;this.subscriptions.forEach(r=>r()),this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(n=this.unsubscribeOnScroll)===null||n===void 0||n.forEach(r=>r()),this.unsubscribeOnScroll=[]}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((s,o)=>{i(),r=o,n=setTimeout(()=>{n=void 0,r=void 0,s()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach((a,u)=>{const l=u*o;s.addColorStop(l,a)}),s}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:u,height:l}=r.canvas,c=l/2,f=this.getPixelRatio(),d=n.barWidth?n.barWidth*f:1,h=n.barGap?n.barGap*f:n.barWidth?d/2:0,p=n.barRadius||0,m=u/(d+h)/a,g=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let y=0,v=0,b=0;for(let w=0;w<=a;w++){const x=Math.round(w*m);if(x>y){const C=Math.round(v*c*i),$=C+Math.round(b*c*i)||1;let k=c-C;n.barAlign==="top"?k=0:n.barAlign==="bottom"&&(k=l-$),r[g](y*(d+h),k,d,$,p),y=x,v=0,b=0}const S=Math.abs(s[w]||0),A=Math.abs(o[w]||0);S>v&&(v=S),A>b&&(b=A)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],u=a.length,{height:l}=r.canvas,c=l/2,f=r.canvas.width/u;r.moveTo(0,c);let d=0,h=0;for(let p=0;p<=u;p++){const m=Math.round(p*f);if(m>d){const y=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(d,y),d=m,h=0}const g=Math.abs(a[p]||0);g>h&&(h=g)}r.lineTo(d,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);i=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a){const u=this.getPixelRatio(),l=document.createElement("canvas");l.width=Math.round(r*u),l.height=Math.round(i*u),l.style.width=`${r}px`,l.style.height=`${i}px`,l.style.left=`${Math.round(s)}px`,o.appendChild(l);const c=l.getContext("2d");if(this.renderWaveform(t,n,c),l.width>0&&l.height>0){const f=l.cloneNode(),d=f.getContext("2d");d.drawImage(l,0,0),d.globalCompositeOperation="source-in",d.fillStyle=this.convertColorValues(n.progressColor),d.fillRect(0,0,l.width,l.height),a.appendChild(f)}}renderMultiCanvas(t,n,r,i,s,o){const a=this.getPixelRatio(),{clientWidth:u}=this.scrollContainer,l=r/a;let c=Math.min(KJ.MAX_CANVAS_WIDTH,u,l),f={};if(c===0)return;if(n.barWidth||n.barGap){const g=n.barWidth||.5,y=g+(n.barGap||g/2);c%y!=0&&(c=Math.floor(c/y)*y)}const d=g=>{if(g<0||g>=h||f[g])return;f[g]=!0;const y=g*c,v=Math.min(l-y,c);if(v<=0)return;const b=t.map(w=>{const x=Math.floor(y/l*w.length),S=Math.floor((y+v)/l*w.length);return w.slice(x,S)});this.renderSingleCanvas(b,n,v,i,y,s,o)},h=Math.ceil(l/c);if(!this.isScrollable){for(let g=0;g<h;g++)d(g);return}const p=this.scrollContainer.scrollLeft/l,m=Math.floor(p*h);if(d(m-1),d(m),d(m+1),h>1){const g=this.on("scroll",()=>{const{scrollLeft:y}=this.scrollContainer,v=Math.floor(y/l*h);Object.keys(f).length>KJ.MAX_NODES&&(s.innerHTML="",o.innerHTML="",f={}),d(v-1),d(v),d(v+1)});this.unsubscribeOnScroll.push(g)}}renderChannel(t,n,r,i){var{overlay:s}=n,o=function(c,f){var d={};for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&f.indexOf(h)<0&&(d[h]=c[h]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(h=Object.getOwnPropertySymbols(c);p<h.length;p++)f.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(c,h[p])&&(d[h[p]]=c[h[p]])}return d}(n,["overlay"]);const a=document.createElement("div"),u=this.getHeight(o.height,o.splitChannels);a.style.height=`${u}px`,s&&i>0&&(a.style.marginTop=`-${u}px`),this.canvasWrapper.style.minHeight=`${u}px`,this.canvasWrapper.appendChild(a);const l=a.cloneNode();this.progressWrapper.appendChild(l),this.renderMultiCanvas(t,o,r,u,a,l)}render(t){return Bu(this,void 0,void 0,function*(){var n;this.timeouts.forEach(u=>u()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const r=this.getPixelRatio(),i=this.scrollContainer.clientWidth,s=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=s>i;const o=this.options.fillParent&&!this.isScrollable,a=(o?i:s)*r;if(this.wrapper.style.width=o?"100%":`${s}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let u=0;u<t.numberOfChannels;u++){const l=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[u]);this.renderChannel([t.getChannelData(u)],l,a,u)}else{const u=[t.getChannelData(0)];t.numberOfChannels>1&&u.push(t.getChannelData(1)),this.renderChannel(u,this.options,a,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){if(this.unsubscribeOnScroll.forEach(r=>r()),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,u=r+s,l=s/2;if(this.isDragging)o+30>u?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>u)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?l:0));const c=o-r-l;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,f=c/i,d=(c+s)/i;this.emit("scroll",f,d,c,c+s)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return Bu(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map(o=>o.toDataURL(t,n));return Promise.resolve(s)}return Promise.all(Array.from(i).map(s=>new Promise((o,a)=>{s.toBlob(u=>{u?o(u):a(new Error("Could not export image"))},t,n)})))})}};YJ.MAX_CANVAS_WIDTH=8e3,YJ.MAX_NODES=10;class aqt extends aN{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class x2e extends aN{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Bu(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Bu(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return Bu(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const uqt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class AR extends oqt{static create(t){return new AR(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new x2e:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},uqt,t),this.timer=new aqt;const r=n?void 0:this.getMediaElement();this.renderer=new YJ(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:s,duration:o}=this.options;(i||s&&o)&&this.load(i,s,o).catch(()=>null)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",t=>{var n;this.emit("error",(n=this.getMediaElement().error)!==null&&n!==void 0?n:new Error("Media error"))}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n,r,i)=>{const s=this.getDuration();this.emit("scroll",t*s,n*s,r,i)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",t=>{this.emit("dragstart",t)}),this.renderer.on("dragend",t=>{this.emit("dragend",t)}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{if(!this.options.interact)return;let r;this.renderer.renderProgress(n),clearTimeout(t),this.isPlaying()?r=0:this.options.dragToSeek===!0?r=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(r=this.options.dragToSeek.debounceTime),t=setTimeout(()=>{this.seekTo(n)},r),this.emit("interaction",n*this.getDuration()),this.emit("drag",n)}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=d8.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=d8.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return Bu(this,void 0,void 0,function*(){var s;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=(s=this.abortController)===null||s===void 0?void 0:s.signal);const u=l=>this.emit("loading",l);n=yield sqt.fetchBlob(t,u,a)}this.setSrc(t,n);const o=yield new Promise(a=>{const u=i||this.getDuration();u?a(u):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>a(this.getDuration()),{once:!0}))});if(!t&&!n){const a=this.getMediaElement();a instanceof x2e&&(a.duration=o)}if(r)this.decodedData=d8.createBuffer(r,o||0);else if(n){const a=yield n.arrayBuffer();this.decodedData=yield d8.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return Bu(this,void 0,void 0,function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}})}loadBlob(t,n,r){return Bu(this,void 0,void 0,function*(){try{return yield this.loadAudio("",t,n,r)}catch(i){throw this.emit("error",i),i}})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),u=[],l=a.length/n;for(let c=0;c<n;c++){const f=a.slice(Math.floor(c*l),Math.ceil((c+1)*l));let d=0;for(let h=0;h<f.length;h++){const p=f[h];Math.abs(p)>Math.abs(d)&&(d=p)}u.push(Math.round(d*r)/r)}s.push(u)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return Bu(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return Bu(this,arguments,void 0,function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)})}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach(n=>n.destroy()),this.subscriptions.forEach(n=>n()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}AR.BasePlugin=class extends aN{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},AR.dom=iqt;function lqt(e){return AR.create(e)}function cqt(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const E2e=e=>e.reduce((t,n)=>(t[n[0]]=n[1],t),{}),fqt=(e,t)=>{const n=Object.entries(e),r=Object.entries(t),i=n.filter(([o])=>r.findIndex(([a])=>a===o)===-1),s=r.filter(([o])=>n.findIndex(([a])=>a===o)===-1);return{disabled:E2e(i),enabled:E2e(s)}};function T2e(e,t){const n={},r=[...t];for(;r.length>=1;){const i=r.shift();!!e[i.key]?n[i.key]=e[i.key]:n[i.key]=cqt(i)}return n}function dqt({container:e,plugins:t=[],onMount:n,...r}){const i=R.useRef(!1),[s,o]=R.useState({}),a=R.useRef([]),[u,l]=R.useState(null);return R.useEffect(()=>{if(!e)return;const c=e;if(i.current)return;i.current=!0;const f=T2e(s,t);a.current=Object.keys(f);const d=lqt({container:e,...r,plugins:Object.values(f)});return n==null||n(d),o(f),l(d),()=>{c!==e&&d.destroy()}},[e]),R.useEffect(()=>{if(u){const c=T2e(s,t),{disabled:f,enabled:d}=fqt(s,c);Object.keys(f).forEach(h=>{f[h].destroy()}),Object.keys(d).forEach(h=>{a.current.includes(h)||(console.log("register plugin",h,d[h]),u==null||u.registerPlugin(d[h]))}),a.current=Object.keys(d),o(c)}},[t]),[u,s,Object.values(s)]}function Xje({children:e,plugins:t=[],onMount:n,...r}){const i=dqt({plugins:t,onMount:n,...r});return ui.createElement(rqt.Provider,{value:i},e)}const Qje=({id:e="waveform",children:t})=>ui.createElement("div",{id:e},t);function JW(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,[])).next())})}let Jje=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}},hqt=class extends Jje{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}};class pqt extends Jje{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const mqt=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class Jae extends hqt{constructor(t){var n,r,i,s,o,a;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3,scrollingWaveform:(r=t.scrollingWaveform)!==null&&r!==void 0&&r,scrollingWaveformWindow:(i=t.scrollingWaveformWindow)!==null&&i!==void 0?i:5,continuousWaveform:(s=t.continuousWaveform)!==null&&s!==void 0&&s,renderRecordedAudio:(o=t.renderRecordedAudio)===null||o===void 0||o,mediaRecorderTimeslice:(a=t.mediaRecorderTimeslice)!==null&&a!==void 0?a:void 0})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new pqt,this.subscriptions.push(this.timer.on("tick",()=>{const u=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+u,this.emit("record-progress",this.duration)}))}static create(t){return new Jae(t||{})}renderMicStream(t){var n;const r=new AudioContext,i=r.createMediaStreamSource(t),s=r.createAnalyser();i.connect(s),this.options.continuousWaveform&&(s.fftSize=32);const o=s.frequencyBinCount,a=new Float32Array(o);let u=0;this.wavesurfer&&((n=this.originalOptions)!==null&&n!==void 0||(this.originalOptions=Object.assign({},this.wavesurfer.options)),this.wavesurfer.options.interact=!1,this.options.scrollingWaveform&&(this.wavesurfer.options.cursorWidth=0));const l=setInterval(()=>{var c,f,d,h;if(!this.isWaveformPaused){if(s.getFloatTimeDomainData(a),this.options.scrollingWaveform){const p=Math.floor((this.options.scrollingWaveformWindow||0)*r.sampleRate),m=Math.min(p,this.dataWindow?this.dataWindow.length+o:o),g=new Float32Array(p);if(this.dataWindow){const y=Math.max(0,p-this.dataWindow.length);g.set(this.dataWindow.slice(-m+o),y)}g.set(a,p-o),this.dataWindow=g}else if(this.options.continuousWaveform){if(!this.dataWindow){const m=this.options.continuousWaveformDuration?Math.round(100*this.options.continuousWaveformDuration):((f=(c=this.wavesurfer)===null||c===void 0?void 0:c.getWidth())!==null&&f!==void 0?f:0)*window.devicePixelRatio;this.dataWindow=new Float32Array(m)}let p=0;for(let m=0;m<o;m++){const g=Math.abs(a[m]);g>p&&(p=g)}if(u+1>this.dataWindow.length){const m=new Float32Array(2*this.dataWindow.length);m.set(this.dataWindow,0),this.dataWindow=m}this.dataWindow[u]=p,u++}else this.dataWindow=a;if(this.wavesurfer){const p=((h=(d=this.dataWindow)===null||d===void 0?void 0:d.length)!==null&&h!==void 0?h:0)/100;this.wavesurfer.load("",[this.dataWindow],this.options.scrollingWaveform?this.options.scrollingWaveformWindow:p).then(()=>{this.wavesurfer&&this.options.continuousWaveform&&(this.wavesurfer.setTime(this.getDuration()/1e3),this.wavesurfer.options.minPxPerSec||this.wavesurfer.setOptions({minPxPerSec:this.wavesurfer.getWidth()/this.wavesurfer.getDuration()}))}).catch(m=>{console.error("Error rendering real-time recording data:",m)})}}},10);return{onDestroy:()=>{clearInterval(l),i==null||i.disconnect(),r==null||r.close()},onEnd:()=>{this.isWaveformPaused=!0,clearInterval(l),this.stopMic()}}}startMic(t){return JW(this,void 0,void 0,function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:!(t!=null&&t.deviceId)||{deviceId:t.deviceId}})}catch(s){throw new Error("Error accessing the microphone: "+s.message)}const{onDestroy:r,onEnd:i}=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.subscriptions.push(this.once("record-end",i)),this.stream=n,n})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return JW(this,void 0,void 0,function*(){const n=this.stream||(yield this.startMic(t));this.dataWindow=null;const r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||mqt.find(o=>MediaRecorder.isTypeSupported(o)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=o=>{o.data.size>0&&i.push(o.data),this.emit("record-data-available",o.data)};const s=o=>{var a;const u=new Blob(i,{type:r.mimeType});this.emit(o,u),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(u)))};r.onpause=()=>s("record-pause"),r.onstop=()=>s("record-end"),r.start(this.options.mediaRecorderTimeslice),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")})}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,n;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(n=this.mediaRecorder)===null||n===void 0||n.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return JW(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(n=>n.kind==="audioinput"))})}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.setOptions(this.originalOptions),delete this.originalOptions)}}function Zje({width:e=70,height:t=36}){const n=R.useRef(null),r=R.useRef(null),[i,s]=R.useState(!1);R.useEffect(()=>{if(i&&n.current){const a=n.current.registerPlugin(Jae.create({scrollingWaveform:!0,renderRecordedAudio:!1}));r.current=a,a.startRecording(),n.current.setOptions({height:t,waveColor:"#FA5252"})}return()=>{var a,u;i&&n.current&&((a=r.current)==null||a.stopRecording(),(u=r.current)==null||u.destroy(),n.current.destroy())}},[i]);const o=R.useCallback(a=>{n.current=a,s(!0)},[]);return E.jsx(ke,{id:"waveformDiv",style:{width:`${e}px`,height:`${t}px`},children:E.jsx(Xje,{onMount:o,plugins:[],container:"#waveformDiv",height:t,children:E.jsx(Qje,{id:"waveform",height:t})})})}function S2e({setAnswer:e}){return R.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{new MediaRecorder(n).start();const i=new AudioContext,s=i.createMediaStreamSource(n),o=i.createAnalyser();o.minDecibels=-45,s.connect(o);const a=o.frequencyBinCount,u=new Uint8Array(a);let l=!1;const c=()=>{if(!l){o.getByteFrequencyData(u);for(let f=0;f<a;f+=1)u[f]>0&&(l=!0,e({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(c)}};window.requestAnimationFrame(c)})},[e]),E.jsx(oa,{style:{height:"70%",width:"100%"},children:E.jsxs(zi,{children:[E.jsx(Ue,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),E.jsx(Ue,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),E.jsx(Ue,{ta:"center",style:{fontWeight:700},children:"If you are not comfortable or able to speak English during this study, please return the study."}),E.jsx(oa,{children:E.jsx(Zje,{height:200,width:400})})]})})}const gqt=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:S2e,default:S2e},Symbol.toStringTag,{value:"Module"}));function yqt(){return E.jsx("div",{children:"test react file"})}const vqt=Object.freeze(Object.defineProperty({__proto__:null,default:yqt},Symbol.toStringTag,{value:"Module"}));function bqt({parameters:e,setAnswer:t}){const{taskid:n,cx:r,cy:i}=e,s=R.useRef(null),o=10,a=R.useCallback(u=>{const l=pr("#Circle"),c=pr("#click_svg"),f=cL(u,c.node()),d=[+l.attr("cx"),+l.attr("cy")],h=`${Math.round(Math.sqrt((f[0]-d[0])**2+(f[1]-d[1])**2))}px`;t({status:!0,answers:{[n]:h}})},[t,n]);return E.jsx("div",{className:"Chart__wrapper",ref:s,onClick:a,style:{height:"650px"},children:E.jsx("svg",{id:"click_svg",width:400,height:400,children:E.jsx("circle",{id:"Circle",cx:r,cy:i,r:o,stroke:"black",strokeWidth:"2",fill:"white"})})})}const _qt=Object.freeze(Object.defineProperty({__proto__:null,default:bqt},Symbol.toStringTag,{value:"Module"}));function Zae({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1}){const u=R.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),l=R.useCallback(c=>(s?q$("%B"):d_(".2s"))(c),[s]);return E.jsxs(E.Fragment,{children:[E.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:E.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:20,children:E.jsx(oa,{children:E.jsx(Si,{gap:3,children:E.jsx(Ue,{size:a?"10px":"14px",style:{color:"#878E95"},children:r})})})})}),E.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?E.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:c,offset:f})=>E.jsxs("g",{transform:`translate(${f}, ${n})`,children:[E.jsx("line",{y2:"6",stroke:"currentColor"}),o?E.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,E.jsx("foreignObject",{x:0-u/2,y:10,width:u,height:20,children:E.jsx(oa,{children:E.jsx(vs,{withinPortal:!0,label:c,children:E.jsx(Ue,{px:2,size:"10px",style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+c==0?0:l(s?new Date(c):c)})})})})]},c))]})}const wqt=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:Zae},Symbol.toStringTag,{value:"Module"}));function eUe({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=R.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>10?60:u*6},[i]);return E.jsxs(E.Fragment,{children:[E.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:E.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:E.jsx(oa,{children:E.jsx(Si,{gap:3,children:E.jsx(Ue,{size:o?"10px":"14px",style:{color:"#878E95"},children:r})})})})}),E.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?E.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>E.jsxs("g",{transform:`translate(${n}, ${l})`,children:[E.jsx("line",{x2:"-6",stroke:"currentColor"}),s?E.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,E.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:E.jsx("foreignObject",{width:a,height:20,children:E.jsx(Si,{style:{width:"100%",height:"100%"},justify:"right",children:E.jsx(Ue,{style:{textOverflow:"ellipsis",overflow:"hidden"},size:"10px",children:u})})})},u)]},u))]})}const xqt=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:eUe},Symbol.toStringTag,{value:"Module"})),vd={top:15,left:100,right:50,bottom:50};function XJ({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:s}]=Mf(),o=R.useMemo(()=>s-vd.left-vd.right,[s]),a=R.useMemo(()=>i-vd.top-vd.bottom,[i]),u=R.useMemo(()=>{const d=Array.from(new Set(n.map(h=>h[t.category])));return p_(LB).domain(d)},[n,t.category]),l=R.useMemo(()=>e?Pa([vd.left,o+vd.left]).domain([0,ry(e.objects().map(d=>d.count))]).nice():null,[e,o]),c=R.useMemo(()=>e?jC([vd.top,a+vd.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),f=R.useMemo(()=>!l||!c||!u||!e?null:e.objects().map((d,h)=>d[t.category]===null||d.count===null?null:E.jsxs("g",{children:[E.jsx("rect",{x:vd.left,y:c(d[t.category]),fill:u(d[t.category]),height:c.bandwidth(),width:l(d.count)-vd.left},h),E.jsx("text",{x:l(d.count)+5,y:c(d[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:d.count})]},h)),[e,u,t.category,l,c]);return c&&l?E.jsxs("svg",{ref:r,style:{height:"200px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[E.jsx(Zae,{xScale:l,yRange:c.range(),vertPosition:a+vd.top,showLines:!1,label:"Count",ticks:l.ticks(5).map(d=>({value:d.toString(),offset:l(d)}))}),c?E.jsx(eUe,{yScale:c,horizontalPosition:vd.left,xRange:l.range(),label:t.category,ticks:u.domain().map(d=>({value:d,offset:c(d)+c.bandwidth()/2}))}):null,f]}):E.jsx(nf,{})}const Eqt=Object.freeze(Object.defineProperty({__proto__:null,Bar:XJ,default:XJ},Symbol.toStringTag,{value:"Module"}));function tUe({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=R.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=R.useMemo(()=>d_(".2s"),[]);return E.jsxs(E.Fragment,{children:[E.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:E.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:E.jsx(oa,{children:E.jsx(Si,{gap:3,children:E.jsx(Ue,{size:"14px",style:{color:"#878E95"},children:r})})})})}),E.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),E.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>E.jsxs("g",{transform:`translate(${n}, ${a})`,children:[E.jsx("line",{x2:"-6",stroke:"currentColor"}),E.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),E.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const Tqt=Object.freeze(Object.defineProperty({__proto__:null,YAxis:tUe},Symbol.toStringTag,{value:"Module"})),ZW=15;function nUe({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0}){const[a,u]=R.useState([0,0]),[l,c]=R.useState(!1);return R.useEffect(()=>{const f=pr("#scatterSvgBrushStudy");if(f){const d=f.node().getBoundingClientRect();f.on("mousemove",h=>{const p=[h.clientX-d.x,h.clientY-d.y];if(u(p),l){const m=i.filter(g=>Math.abs(e(g[r.x])-p[0])<ZW&&Math.abs(t(g[r.y])-p[1])<ZW);if(h.ctrlKey||h.metaKey||!o){const g=new Set(s.ids);m.forEach(v=>{g.has(v[r.ids])&&g.delete(v[r.ids])});const y=Array.from(g);n([[a[0],a[1]],[a[0],a[1]]],e,t,y.length===0?"clear":"drag",y)}else{const g=Array.from(new Set([...s.ids,...m.map(y=>y[r.ids])]));g.length>0&&n([[a[0],a[1]],[a[0],a[1]]],e,t,"drag",g)}}}),f.on("mousedown",h=>{c(!0),h.stopPropagation(),h.preventDefault()}),f.on("mouseup",()=>{c(!1)})}},[a,s.ids,i,l,o,r,n,e,t]),E.jsx("circle",{style:{cursor:l?"pointer":"default"},r:ZW,fill:"darkgray",opacity:.5,cx:a[0],cy:a[1]})}const Sqt=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:nUe},Symbol.toStringTag,{value:"Module"})),Is={top:15,left:100,right:15,bottom:70};function QJ({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,params:i,data:s,brushedPoints:o}){const[a,{height:u,width:l}]=Mf(),[c]=Mf(),[f]=Mf(),[d,h]=R.useState(!0),p=R.useMemo(()=>l-Is.left-Is.right,[l]),m=R.useMemo(()=>u-Is.top-Is.bottom,[u]),g=R.useMemo(()=>{const k=Array.from(new Set(s.map(P=>P[i.category])));return p_(LB).domain(k)},[s,i.category]),{xMin:y,yMin:v,xMax:b,yMax:w}=R.useMemo(()=>{const k=s.map(H=>+H[i.x]).filter(H=>H!==null),[P,L]=Jk(k),O=s.map(H=>+H[i.y]).filter(H=>H!==null),[B,q]=Jk(O);return{xMin:P,xMax:L,yMin:B,yMax:q}},[s,i.x,i.y]),x=R.useMemo(()=>{const k=b-y;return p<=0?null:i.dataType==="date"?eoe([Is.left,p+Is.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):Pa([Is.left,p+Is.left]).domain([y-k/10,b+k/10]).nice()},[i.dataType,p,b,y]),S=R.useMemo(()=>{const k=w-v;return m<=0?null:Pa([m+Is.top,Is.top]).domain([v-k/10,w+k/10]).nice()},[m,w,v]),A=R.useMemo(()=>{if(!x||!S)return()=>null;if(r==="Axis Selection"){const k=E9e().extent([[Is.left,Is.top+m-5],[Is.left+p,Is.top+m+5]]).on("brush end",L=>{L.sourceEvent!==void 0&&n([[L.selection[0],null],[L.selection[1],null]],x,S,L.mode)}),P=T9e().extent([[Is.left-5,Is.top],[Is.left+5,Is.top+m]]).on("brush end",L=>{L.sourceEvent!==void 0&&n([[null,L.selection[0]],[null,L.selection[1]]],x,S,L.mode)});return c.current&&f.current&&(pr(f.current).call(P),pr(c.current).call(k),t.hasBrush||(pr(f.current).call(P.move,[S(w),S(v)]),pr(c.current).call(k.move,[x(new Date("2015-01-02")),x(new Date("2015-12-31"))]),n([[x(new Date("2015-01-02")),S(w)],[x(new Date("2015-12-31")),S(v)]],x,S,"drag"))),()=>{pr(f.current).call(P.move,[S(w),S(v)]),pr(c.current).call(k.move,[x(new Date("2015-01-02")),x(new Date("2015-12-31"))]),n([[x(new Date("2015-01-02")),S(w)],[x(new Date("2015-12-31")),S(v)]],x,S,"clear")}}if(r==="Rectangular Selection"){const k=S9e().extent([[Is.left,Is.top],[Is.left+p,Is.top+m]]).on("brush",P=>{P.sourceEvent!==void 0&&n([[P.selection[0][0],P.selection[0][1]],[P.selection[1][0],P.selection[1][1]]],x,S,P.mode)}).on("end",P=>{P.selection===null&&P.sourceEvent!==void 0&&(pr(a.current).call(k.move,null),e(null))});return pr(a.current).call(k),()=>{pr(a.current).call(k.move,null),n([[null,null],[null,null]],x,S,"clear")}}return r==="Slider Selection"?(t.hasBrush||n([[x(y),S(w)],[x(b),S(v)]],x,S,null),()=>n([[x(y),S(w)],[x(b),S(v)]],x,S,"clear")):r==="Paintbrush Selection"?()=>n([[x(y),S(w)],[x(b),S(v)]],x,S,"clear",[]):()=>null},[t.hasBrush,r,c,f,m,a,n,e,p,b,y,x,w,v,S]),C=R.useMemo(()=>o.length===0?null:new Set(o),[o]),$=R.useMemo(()=>!x||!S?null:s.map((k,P)=>{if(k[i.x]===null||k[i.y]===null)return null;const L=i.dataType==="date"?x(new Date(k[i.x])):x(k[i.x]);return E.jsx("circle",{opacity:C&&!C.has(k[i.ids])?.3:1,r:3,fill:C&&!C.has(k[i.ids])?"lightgray":g(k[i.category]),cx:L,cy:S(k[i.y])},P)}),[C,g,s,i.category,i.dataType,i.ids,i.x,i.y,x,S]);return R.useEffect(()=>{r==="Axis Selection"&&VDe(".handle").style("fill","darkgrey")},[t,r]),E.jsxs(zi,{children:[E.jsxs(Si,{children:[E.jsx(on,{ml:60,size:"compact-sm",style:{width:"130px"},disabled:o.length===0,onClick:()=>{e(null),A==null||A()},children:"Clear Selection"}),i.brushType==="Paintbrush Selection"?E.jsx(K7,{defaultChecked:!0,value:d?"Select":"De-Select",onChange:k=>h(k==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:o.length===0}]}):null]}),E.jsxs(Si,{style:{width:"100%",height:"100%"},wrap:"nowrap",children:[E.jsxs("svg",{id:"scatterSvgBrushStudy",ref:a,style:{height:"500px",width:i.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[x&&S?E.jsxs("g",{children:[E.jsx(tUe,{yScale:S,label:i.y,horizontalPosition:Is.left,xRange:x.range()}),E.jsx(Zae,{xScale:x,yRange:S.range(),isDate:i.dataType==="date",vertPosition:m+Is.top,label:i.x,ticks:x.ticks(i.brushType==="Axis Selection"?12:5).map(k=>({value:k.toString(),offset:x(k)}))})]}):null,$,E.jsx("g",{id:"brushXRef",ref:c}),E.jsx("g",{id:"brushYRef",ref:f}),x&&S&&r==="Paintbrush Selection"?E.jsx(nUe,{brushState:t,setBrushedSpace:n,params:i,data:s,isSelect:d,xScale:x,yScale:S}):null]}),r==="Slider Selection"&&x&&S?E.jsxs(zi,{style:{flexGrow:1},gap:50,children:[E.jsxs(zi,{gap:0,children:[E.jsx(Ue,{children:i.x}),E.jsx(rA,{minRange:1,label:null,min:x.domain()[0],max:x.domain()[1],labelAlwaysOn:!1,onChange:k=>{n([[x(k[0]),t.y1],[x(k[1]),t.y2]],x,S,"drag")},style:{width:"300px"},marks:x.ticks(5).map(k=>({value:k,label:k})),value:[x.invert(t.x1),x.invert(t.x2)]})]}),E.jsxs(zi,{gap:0,children:[E.jsx(Ue,{children:i.y}),E.jsx(rA,{minRange:1,label:null,min:S.domain()[0],max:S.domain()[1],onChange:k=>{n([[t.x1,S(k[1])],[t.x2,S(k[0])]],x,S,"drag")},style:{width:"300px"},marks:S.ticks(5).map(k=>({value:k,label:k})),value:[S.invert(t.y2),S.invert(t.y1)]})]})]}):null]})]})}const Aqt=Object.freeze(Object.defineProperty({__proto__:null,Scatter:QJ,default:QJ},Symbol.toStringTag,{value:"Module"}));function A2e({parameters:e,setAnswer:t}){const[n,r]=R.useState(null),[i,s]=R.useState({hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]}),[o,a]=R.useState(null);R.useEffect(()=>{k9e(`../tutorial/react-and-randomization/data/${e.dataset}.csv`).then(g=>{a(g)})},[e]);const u=R.useMemo(()=>o?Bje(o):null,[o]),{actions:l,trrack:c}=R.useMemo(()=>{const g=P2.create(),y=g.register("brush",(S,A)=>(S.all={brush:A},S)),v=g.register("brushMove",(S,A)=>(S.all={brush:A},S)),b=g.register("brushResize",(S,A)=>(S.all={brush:A},S)),w=g.register("brushClear",(S,A)=>(S.all={brush:A},S)),x=K$({registry:g,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:y,brushMove:v,brushResize:b,clearBrush:w},trrack:x}},[]),f=R.useCallback((g,y)=>{g==="drag"?c.apply("Move Brush",l.brushMove(y)):g==="handle"&&c.apply("Brush",l.brush(y))},[l,c]),d=R.useMemo(()=>Bh(f,100,{maxWait:100}),[f]),h=R.useCallback((g,y,v,b,w)=>{if(!y||!v)return;const x=y.invert(g[0][0]||i.x1),S=y.invert(g[1][0]||i.x2),A=v.invert(g[1][1]||i.y2),C=v.invert(g[0][1]||i.y1);let $=null;if(b==="clear")$=u;else if(w){const P=new Set(w);$=u.filter(CS(L=>P.has(L[e.ids])))}else e.brushType==="Axis Selection"?$=u.filter(CS(P=>new Date(P[e.x])>=new Date(x)&&new Date(P[e.x])<=new Date(S)&&P[e.y]>=A&&P[e.y]<=C)):$=u.filter(CS(P=>P[e.x]>=x&&P[e.x]<=S&&P[e.y]>=A&&P[e.y]<=C));const k={x1:g[0][0]||(i==null?void 0:i.x1)||0,x2:g[1][0]||(i==null?void 0:i.x2)||0,y1:g[0][1]||(i==null?void 0:i.y1)||0,y2:g[1][1]||(i==null?void 0:i.y2)||0,hasBrush:b!=="clear",ids:b!=="clear"?$==null?void 0:$.array("id"):[]};s(k),b==="drag"||b==="handle"?d(b,k):b==="clear"&&c.apply("Clear Brush",l.clearBrush(k)),r($),t({status:!0,provenanceGraph:c.graph.backend,answers:{}})},[i,u,e,c,t,d,l]),p=R.useMemo(()=>n?n==null?void 0:n.groupby(e.category).count():u?u==null?void 0:u.groupby(e.category).count():null,[n,u,e.category]),m=R.useCallback(g=>{r(g)},[]);return o?E.jsxs(zi,{gap:"xs",children:[E.jsx(QJ,{brushedPoints:i==null?void 0:i.ids,data:o,params:e,brushType:e.brushType,setBrushedSpace:h,brushState:i,setFilteredTable:m}),E.jsx(XJ,{data:o,parameters:e,barsTable:p})]}):E.jsx(nf,{})}const Cqt=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:A2e,default:A2e},Symbol.toStringTag,{value:"Module"})),Iqt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),kqt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),rUe=R.createContext(null);function iUe({width:e,height:t,margin:n,xDomain:r,yDomain:i,children:s}){const o=R.useMemo(()=>{const a=Pa().domain(r).range([n.left,e-n.right]),u=Pa().domain(i).range([t-n.bottom,n.top]);return{xScale:a,yScale:u,width:e,height:t,margin:n}},[e,t,n,r,i]);return E.jsx(rUe.Provider,{value:o,children:s})}function D2(){const e=R.useContext(rUe);if(!e)throw new Error("useScales must be used within a ScalesProvider");return e}const Rqt=Object.freeze(Object.defineProperty({__proto__:null,ScalesProvider:iUe,useScales:D2},Symbol.toStringTag,{value:"Module"}));function sUe({data:e,strokeColor:t="#253494",strokeWidth:n=2}){const{xScale:r,yScale:i}=D2();if(!(e!=null&&e.length)||!r||!i)return null;const s=BB().x(o=>r(o.x)).y(o=>i(o.y)).defined(o=>!Number.isNaN(o.x)&&!Number.isNaN(o.y));return E.jsx("path",{d:s(e)||"",fill:"none",stroke:t,strokeWidth:n,"data-source":"Line"})}const $qt=Object.freeze(Object.defineProperty({__proto__:null,Line:sUe},Symbol.toStringTag,{value:"Module"}));function oUe({position:e}){return e?E.jsx("circle",{cx:e.x,cy:e.y,r:10,fill:"#666",stroke:"none",opacity:.8,pointerEvents:"none"}):null}const Nqt=Object.freeze(Object.defineProperty({__proto__:null,default:oUe},Symbol.toStringTag,{value:"Module"}));function aUe({point:e}){const{xScale:t,yScale:n}=D2();return e?E.jsx("circle",{cx:t(e.x),cy:n(e.y),r:4,fill:"#ff0000",pointerEvents:"none","data-source":"ClickMarker"}):null}const Pqt=Object.freeze(Object.defineProperty({__proto__:null,default:aUe},Symbol.toStringTag,{value:"Module"}));function uUe({point:e}){const{xScale:t,yScale:n}=D2();if(!e)return null;const r=e.pixelX!==void 0?e.pixelX:t(e.x),i=e.pixelY!==void 0?e.pixelY:n(e.y);return E.jsx("circle",{cx:r,cy:i,r:5,fill:"#2563eb",stroke:"#ffffff",strokeWidth:1.5,opacity:.8,pointerEvents:"none","data-source":"NearestPointMarker"})}const Oqt=Object.freeze(Object.defineProperty({__proto__:null,default:uUe},Symbol.toStringTag,{value:"Module"}));function lUe({xValue:e,yValue:t,tangentLine:n}){const{xScale:r,yScale:i,width:s,height:o,margin:a}=D2(),u=()=>e==null?null:E.jsx("line",{x1:r(e),x2:r(e),y1:a.top,y2:o-a.bottom,stroke:"#666",strokeWidth:1,strokeDasharray:"4","data-source":"Guidelines-vertical"}),l=()=>t==null?null:E.jsx("line",{x1:a.left,x2:s-a.right,y1:i(t),y2:i(t),stroke:"#666",strokeWidth:1,strokeDasharray:"4","data-source":"Guidelines-horizontal"}),c=()=>{if(!n)return null;const f=(r.domain()[1]-r.domain()[0])*.2,d=n.point.x-f,h=n.point.y-f*n.slope,p=n.point.x+f,m=n.point.y+f*n.slope;return E.jsx("line",{x1:r(d),y1:i(h),x2:r(p),y2:i(m),stroke:"#666",strokeWidth:1,strokeDasharray:"4","data-source":"Guidelines-tangent"})};return E.jsxs("g",{children:[u(),l(),c()]})}const Dqt=Object.freeze(Object.defineProperty({__proto__:null,default:lUe},Symbol.toStringTag,{value:"Module"}));function cUe({distributionData:e,showPDF:t=!0,isTraining:n=!1,strokeColor:r="#bd0026",strokeWidth:i=2,axisLabels:s,selectedPoint:o,nearestPoint:a,guidelines:u,cursor:l,children:c,onClick:f,onMouseMove:d,onMouseLeave:h}){const{xScale:p,yScale:m,width:g,height:y,margin:v}=D2(),b=R.useRef(null),w=R.useRef(null),x=R.useMemo(()=>{if(!(e!=null&&e.xVals)||!(e!=null&&e.pdfVals)||!(e!=null&&e.cdfVals))return[];const A=t?e.pdfVals:e.cdfVals;return e.xVals.map((C,$)=>({x:C,y:A[$]}))},[e,t]);R.useEffect(()=>{!p||!m||!b.current||!w.current||(b.current&&pr(b.current).call(bse(p)).attr("transform",`translate(0,${y-v.bottom})`).selectAll("text").style("font-size","12px"),w.current&&pr(w.current).call(_se(m)).attr("transform",`translate(${v.left},0)`).selectAll("text").style("font-size","12px"))},[p,m,v,y]);const S=R.useMemo(()=>s?E.jsxs(E.Fragment,{children:[s.x&&E.jsx("text",{x:g/2,y:y-5,textAnchor:"middle",style:{fontSize:"12px",fill:"#666"},children:s.x}),s.y&&E.jsx("text",{x:-y/2,y:15,textAnchor:"middle",transform:"rotate(-90)",style:{fontSize:"12px",fill:"#666"},children:s.y})]}):null,[s,g,y]);return E.jsx("svg",{width:g,height:y,style:{cursor:"none"},onClick:f,onMouseMove:d,onMouseLeave:h,children:E.jsxs("g",{children:[E.jsx(sUe,{data:x,strokeColor:r,strokeWidth:i}),E.jsx("g",{ref:b}),E.jsx("g",{ref:w}),S,l&&E.jsx(oUe,{position:{x:l.x,y:l.y}}),(l==null?void 0:l.isNearCurve)&&a&&E.jsx(uUe,{point:a}),o&&E.jsx(aUe,{point:o}),n&&u&&E.jsx(lUe,{xValue:u.x,yValue:u.y,tangentLine:u.tangentLine}),c]})})}const Lqt=Object.freeze(Object.defineProperty({__proto__:null,default:cUe},Symbol.toStringTag,{value:"Module"}));var fUe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jt,function(){var n=function(r,i){var s=Array.prototype.concat,o=Array.prototype.slice,a=Object.prototype.toString;function u(v,b){var w=v>b?v:b;return r.pow(10,17-~~(r.log(w>0?w:-w)*r.LOG10E))}var l=Array.isArray||function(b){return a.call(b)==="[object Array]"};function c(v){return a.call(v)==="[object Function]"}function f(v){return typeof v=="number"?v-v===0:!1}function d(v){return s.apply([],v)}function h(){return new h._init(arguments)}h.fn=h.prototype,h._init=function(b){if(l(b[0]))if(l(b[0][0])){c(b[1])&&(b[0]=h.map(b[0],b[1]));for(var w=0;w<b[0].length;w++)this[w]=b[0][w];this.length=b[0].length}else this[0]=c(b[1])?h.map(b[0],b[1]):b[0],this.length=1;else if(f(b[0]))this[0]=h.seq.apply(null,b),this.length=1;else{if(b[0]instanceof h)return h(b[0].toArray());this[0]=[],this.length=1}return this},h._init.prototype=h.prototype,h._init.constructor=h,h.utils={calcRdx:u,isArray:l,isFunction:c,isNumber:f,toVector:d},h._random_fn=r.random,h.setRandom=function(b){if(typeof b!="function")throw new TypeError("fn is not a function");h._random_fn=b},h.extend=function(b){var w,x;if(arguments.length===1){for(x in b)h[x]=b[x];return this}for(w=1;w<arguments.length;w++)for(x in arguments[w])b[x]=arguments[w][x];return b},h.rows=function(b){return b.length||1},h.cols=function(b){return b[0].length||1},h.dimensions=function(b){return{rows:h.rows(b),cols:h.cols(b)}},h.row=function(b,w){return l(w)?w.map(function(x){return h.row(b,x)}):b[w]},h.rowa=function(b,w){return h.row(b,w)},h.col=function(b,w){if(l(w)){var x=h.arange(b.length).map(function(){return new Array(w.length)});return w.forEach(function(C,$){h.arange(b.length).forEach(function(k){x[k][$]=b[k][C]})}),x}for(var S=new Array(b.length),A=0;A<b.length;A++)S[A]=[b[A][w]];return S},h.cola=function(b,w){return h.col(b,w).map(function(x){return x[0]})},h.diag=function(b){for(var w=h.rows(b),x=new Array(w),S=0;S<w;S++)x[S]=[b[S][S]];return x},h.antidiag=function(b){for(var w=h.rows(b)-1,x=new Array(w),S=0;w>=0;w--,S++)x[S]=[b[S][w]];return x},h.transpose=function(b){var w=[],x,S,A,C,$;for(l(b[0])||(b=[b]),S=b.length,A=b[0].length,$=0;$<A;$++){for(x=new Array(S),C=0;C<S;C++)x[C]=b[C][$];w.push(x)}return w.length===1?w[0]:w},h.map=function(b,w,x){var S,A,C,$,k;for(l(b[0])||(b=[b]),A=b.length,C=b[0].length,$=x?b:new Array(A),S=0;S<A;S++)for($[S]||($[S]=new Array(C)),k=0;k<C;k++)$[S][k]=w(b[S][k],S,k);return $.length===1?$[0]:$},h.cumreduce=function(b,w,x){var S,A,C,$,k;for(l(b[0])||(b=[b]),A=b.length,C=b[0].length,$=x?b:new Array(A),S=0;S<A;S++)for($[S]||($[S]=new Array(C)),C>0&&($[S][0]=b[S][0]),k=1;k<C;k++)$[S][k]=w($[S][k-1],b[S][k]);return $.length===1?$[0]:$},h.alter=function(b,w){return h.map(b,w,!0)},h.create=function(b,w,x){var S=new Array(b),A,C;for(c(w)&&(x=w,w=b),A=0;A<b;A++)for(S[A]=new Array(w),C=0;C<w;C++)S[A][C]=x(A,C);return S};function p(){return 0}h.zeros=function(b,w){return f(w)||(w=b),h.create(b,w,p)};function m(){return 1}h.ones=function(b,w){return f(w)||(w=b),h.create(b,w,m)},h.rand=function(b,w){return f(w)||(w=b),h.create(b,w,h._random_fn)};function g(v,b){return v===b?1:0}h.identity=function(b,w){return f(w)||(w=b),h.create(b,w,g)},h.symmetric=function(b){var w=b.length,x,S;if(b.length!==b[0].length)return!1;for(x=0;x<w;x++)for(S=0;S<w;S++)if(b[S][x]!==b[x][S])return!1;return!0},h.clear=function(b){return h.alter(b,p)},h.seq=function(b,w,x,S){c(S)||(S=!1);var A=[],C=u(b,w),$=(w*C-b*C)/((x-1)*C),k=b,P;for(P=0;k<=w&&P<x;P++,k=(b*C+$*C*P)/C)A.push(S?S(k,P):k);return A},h.arange=function(b,w,x){var S=[],A;if(x=x||1,w===i&&(w=b,b=0),b===w||x===0)return[];if(b<w&&x<0)return[];if(b>w&&x>0)return[];if(x>0)for(A=b;A<w;A+=x)S.push(A);else for(A=b;A>w;A+=x)S.push(A);return S},h.slice=function(){function v(w,x,S,A){var C,$=[],k=w.length;if(x===i&&S===i&&A===i)return h.copy(w);if(x=x||0,S=S||w.length,x=x>=0?x:k+x,S=S>=0?S:k+S,A=A||1,x===S||A===0)return[];if(x<S&&A<0)return[];if(x>S&&A>0)return[];if(A>0)for(C=x;C<S;C+=A)$.push(w[C]);else for(C=x;C>S;C+=A)$.push(w[C]);return $}function b(w,x){var S,A;if(x=x||{},f(x.row)){if(f(x.col))return w[x.row][x.col];var C=h.rowa(w,x.row);return S=x.col||{},v(C,S.start,S.end,S.step)}if(f(x.col)){var $=h.cola(w,x.col);return A=x.row||{},v($,A.start,A.end,A.step)}A=x.row||{},S=x.col||{};var k=v(w,A.start,A.end,A.step);return k.map(function(P){return v(P,S.start,S.end,S.step)})}return b}(),h.sliceAssign=function(b,w,x){var S,A;if(f(w.row)){if(f(w.col))return b[w.row][w.col]=x;w.col=w.col||{},w.col.start=w.col.start||0,w.col.end=w.col.end||b[0].length,w.col.step=w.col.step||1,S=h.arange(w.col.start,r.min(b.length,w.col.end),w.col.step);var C=w.row;return S.forEach(function(k,P){b[C][k]=x[P]}),b}if(f(w.col)){w.row=w.row||{},w.row.start=w.row.start||0,w.row.end=w.row.end||b.length,w.row.step=w.row.step||1,A=h.arange(w.row.start,r.min(b[0].length,w.row.end),w.row.step);var $=w.col;return A.forEach(function(k,P){b[k][$]=x[P]}),b}return x[0].length===i&&(x=[x]),w.row.start=w.row.start||0,w.row.end=w.row.end||b.length,w.row.step=w.row.step||1,w.col.start=w.col.start||0,w.col.end=w.col.end||b[0].length,w.col.step=w.col.step||1,A=h.arange(w.row.start,r.min(b.length,w.row.end),w.row.step),S=h.arange(w.col.start,r.min(b[0].length,w.col.end),w.col.step),A.forEach(function(k,P){S.forEach(function(L,O){b[k][L]=x[P][O]})}),b},h.diagonal=function(b){var w=h.zeros(b.length,b.length);return b.forEach(function(x,S){w[S][S]=x}),w},h.copy=function(b){return b.map(function(w){return f(w)?w:w.map(function(x){return x})})};var y=h.prototype;return y.length=0,y.push=Array.prototype.push,y.sort=Array.prototype.sort,y.splice=Array.prototype.splice,y.slice=Array.prototype.slice,y.toArray=function(){return this.length>1?o.call(this):o.call(this)[0]},y.map=function(b,w){return h(h.map(this,b,w))},y.cumreduce=function(b,w){return h(h.cumreduce(this,b,w))},y.alter=function(b){return h.alter(this,b),this},function(v){for(var b=0;b<v.length;b++)(function(w){y[w]=function(x){var S=this,A;return x?(setTimeout(function(){x.call(S,y[w].call(S))}),this):(A=h[w](this),l(A)?h(A):A)}})(v[b])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(v){for(var b=0;b<v.length;b++)(function(w){y[w]=function(x,S){var A=this;return S?(setTimeout(function(){S.call(A,y[w].call(A,x))}),this):h(h[w](this,x))}})(v[b])}("row col".split(" ")),function(v){for(var b=0;b<v.length;b++)(function(w){y[w]=function(){return h(h[w].apply(null,arguments))}})(v[b])}("create zeros ones rand identity".split(" ")),h}(Math);return function(r,i){var s=r.utils.isFunction;function o(l,c){return l-c}function a(l,c,f){return i.max(c,i.min(l,f))}r.sum=function(c){for(var f=0,d=c.length;--d>=0;)f+=c[d];return f},r.sumsqrd=function(c){for(var f=0,d=c.length;--d>=0;)f+=c[d]*c[d];return f},r.sumsqerr=function(c){for(var f=r.mean(c),d=0,h=c.length,p;--h>=0;)p=c[h]-f,d+=p*p;return d},r.sumrow=function(c){for(var f=0,d=c.length;--d>=0;)f+=c[d];return f},r.product=function(c){for(var f=1,d=c.length;--d>=0;)f*=c[d];return f},r.min=function(c){for(var f=c[0],d=0;++d<c.length;)c[d]<f&&(f=c[d]);return f},r.max=function(c){for(var f=c[0],d=0;++d<c.length;)c[d]>f&&(f=c[d]);return f},r.unique=function(c){for(var f={},d=[],h=0;h<c.length;h++)f[c[h]]||(f[c[h]]=!0,d.push(c[h]));return d},r.mean=function(c){return r.sum(c)/c.length},r.meansqerr=function(c){return r.sumsqerr(c)/c.length},r.geomean=function(c){var f=c.map(i.log),d=r.mean(f);return i.exp(d)},r.median=function(c){var f=c.length,d=c.slice().sort(o);return f&1?d[f/2|0]:(d[f/2-1]+d[f/2])/2},r.cumsum=function(c){return r.cumreduce(c,function(f,d){return f+d})},r.cumprod=function(c){return r.cumreduce(c,function(f,d){return f*d})},r.diff=function(c){var f=[],d=c.length,h;for(h=1;h<d;h++)f.push(c[h]-c[h-1]);return f},r.rank=function(l){var c,f=[],d={};for(c=0;c<l.length;c++){var h=l[c];d[h]?d[h]++:(d[h]=1,f.push(h))}var p=f.sort(o),m={},g=1;for(c=0;c<p.length;c++){var h=p[c],y=d[h],v=g,b=g+y-1,w=(v+b)/2;m[h]=w,g+=y}return l.map(function(x){return m[x]})},r.mode=function(c){var f=c.length,d=c.slice().sort(o),h=1,p=0,m=0,g=[],y;for(y=0;y<f;y++)d[y]===d[y+1]?h++:(h>p?(g=[d[y]],p=h,m=0):h===p&&(g.push(d[y]),m++),h=1);return m===0?g[0]:g},r.range=function(c){return r.max(c)-r.min(c)},r.variance=function(c,f){return r.sumsqerr(c)/(c.length-(f?1:0))},r.pooledvariance=function(c){var f=c.reduce(function(h,p){return h+r.sumsqerr(p)},0),d=c.reduce(function(h,p){return h+p.length},0);return f/(d-c.length)},r.deviation=function(l){for(var c=r.mean(l),f=l.length,d=new Array(f),h=0;h<f;h++)d[h]=l[h]-c;return d},r.stdev=function(c,f){return i.sqrt(r.variance(c,f))},r.pooledstdev=function(c){return i.sqrt(r.pooledvariance(c))},r.meandev=function(c){for(var f=r.mean(c),d=[],h=c.length-1;h>=0;h--)d.push(i.abs(c[h]-f));return r.mean(d)},r.meddev=function(c){for(var f=r.median(c),d=[],h=c.length-1;h>=0;h--)d.push(i.abs(c[h]-f));return r.median(d)},r.coeffvar=function(c){return r.stdev(c)/r.mean(c)},r.quartiles=function(c){var f=c.length,d=c.slice().sort(o);return[d[i.round(f/4)-1],d[i.round(f/2)-1],d[i.round(f*3/4)-1]]},r.quantiles=function(c,f,d,h){var p=c.slice().sort(o),m=[f.length],g=c.length,y,v,b,w,x,S;for(typeof d>"u"&&(d=3/8),typeof h>"u"&&(h=3/8),y=0;y<f.length;y++)v=f[y],b=d+v*(1-d-h),w=g*v+b,x=i.floor(a(w,1,g-1)),S=a(w-x,0,1),m[y]=(1-S)*p[x-1]+S*p[x];return m},r.percentile=function(c,f,d){var h=c.slice().sort(o),p=f*(h.length+(d?1:-1))+(d?0:1),m=parseInt(p),g=p-m;return m+1<h.length?h[m-1]+g*(h[m]-h[m-1]):h[m-1]},r.percentileOfScore=function(c,f,d){var h=0,p=c.length,m=!1,g,y;for(d==="strict"&&(m=!0),y=0;y<p;y++)g=c[y],(m&&g<f||!m&&g<=f)&&h++;return h/p},r.histogram=function(c,f){f=f||4;var d=r.min(c),h=(r.max(c)-d)/f,p=c.length,m=[],g;for(g=0;g<f;g++)m[g]=0;for(g=0;g<p;g++)m[i.min(i.floor((c[g]-d)/h),f-1)]+=1;return m},r.covariance=function(c,f){var d=r.mean(c),h=r.mean(f),p=c.length,m=new Array(p),g;for(g=0;g<p;g++)m[g]=(c[g]-d)*(f[g]-h);return r.sum(m)/(p-1)},r.corrcoeff=function(c,f){return r.covariance(c,f)/r.stdev(c,1)/r.stdev(f,1)},r.spearmancoeff=function(l,c){return l=r.rank(l),c=r.rank(c),r.corrcoeff(l,c)},r.stanMoment=function(c,f){for(var d=r.mean(c),h=r.stdev(c),p=c.length,m=0,g=0;g<p;g++)m+=i.pow((c[g]-d)/h,f);return m/c.length},r.skewness=function(c){return r.stanMoment(c,3)},r.kurtosis=function(c){return r.stanMoment(c,4)-3};var u=r.prototype;(function(l){for(var c=0;c<l.length;c++)(function(f){u[f]=function(d,h){var p=[],m=0,g=this;if(s(d)&&(h=d,d=!1),h)return setTimeout(function(){h.call(g,u[f].call(g,d))}),this;if(this.length>1){for(g=d===!0?this:this.transpose();m<g.length;m++)p[m]=r[f](g[m]);return p}return r[f](this[0],d)}})(l[c])})("cumsum cumprod".split(" ")),function(l){for(var c=0;c<l.length;c++)(function(f){u[f]=function(d,h){var p=[],m=0,g=this;if(s(d)&&(h=d,d=!1),h)return setTimeout(function(){h.call(g,u[f].call(g,d))}),this;if(this.length>1){for(f!=="sumrow"&&(g=d===!0?this:this.transpose());m<g.length;m++)p[m]=r[f](g[m]);return d===!0?r[f](r.utils.toVector(p)):p}return r[f](this[0],d)}})(l[c])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(l){for(var c=0;c<l.length;c++)(function(f){u[f]=function(){var d=[],h=0,p=this,m=Array.prototype.slice.call(arguments),g;if(s(m[m.length-1])){g=m[m.length-1];var y=m.slice(0,m.length-1);return setTimeout(function(){g.call(p,u[f].apply(p,y))}),this}else{g=void 0;var v=function(w){return r[f].apply(p,[w].concat(m))}}if(this.length>1){for(p=p.transpose();h<p.length;h++)d[h]=v(p[h]);return d}return v(this[0])}})(l[c])}("quantiles percentileOfScore".split(" "))}(n,Math),function(r,i){r.gammaln=function(o){var a=0,u=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],l=1.000000000190015,c,f,d;for(d=(f=c=o)+5.5,d-=(c+.5)*i.log(d);a<6;a++)l+=u[a]/++f;return i.log(2.5066282746310007*l/c)-d},r.loggam=function(o){var a,u,l,c,f,d,h,p=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(a=o,h=0,o==1||o==2)return 0;for(o<=7&&(h=i.floor(7-o),a=o+h),u=1/(a*a),l=2*i.PI,f=p[9],d=8;d>=0;d--)f*=u,f+=p[d];if(c=f/a+.5*i.log(l)+(a-.5)*i.log(a)-a,o<=7)for(d=1;d<=h;d++)c-=i.log(a-1),a-=1;return c},r.gammafn=function(o){var a=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],u=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],l=!1,c=0,f=0,d=0,h=o,p,m,g,y;if(o>171.6243769536076)return 1/0;if(h<=0)if(y=h%1+36e-17,y)l=(h&1?-1:1)*i.PI/i.sin(i.PI*y),h=1-h;else return 1/0;for(g=h,h<1?m=h++:m=(h-=c=(h|0)-1)-1,p=0;p<8;++p)d=(d+a[p])*m,f=f*m+u[p];if(y=d/f+1,g<h)y/=g;else if(g>h)for(p=0;p<c;++p)y*=h,h++;return l&&(y=l/y),y},r.gammap=function(o,a){return r.lowRegGamma(o,a)*r.gammafn(o)},r.lowRegGamma=function(o,a){var u=r.gammaln(o),l=o,c=1/o,f=c,d=a+1-o,h=1/1e-30,p=1/d,m=p,g=1,y=-~(i.log(o>=1?o:1/o)*8.5+o*.4+17),v;if(a<0||o<=0)return NaN;if(a<o+1){for(;g<=y;g++)c+=f*=a/++l;return c*i.exp(-a+o*i.log(a)-u)}for(;g<=y;g++)v=-g*(g-o),d+=2,p=v*p+d,h=d+v/h,p=1/p,m*=p*h;return 1-m*i.exp(-a+o*i.log(a)-u)},r.factorialln=function(o){return o<0?NaN:r.gammaln(o+1)},r.factorial=function(o){return o<0?NaN:r.gammafn(o+1)},r.combination=function(o,a){return o>170||a>170?i.exp(r.combinationln(o,a)):r.factorial(o)/r.factorial(a)/r.factorial(o-a)},r.combinationln=function(o,a){return r.factorialln(o)-r.factorialln(a)-r.factorialln(o-a)},r.permutation=function(o,a){return r.factorial(o)/r.factorial(o-a)},r.betafn=function(o,a){if(!(o<=0||a<=0))return o+a>170?i.exp(r.betaln(o,a)):r.gammafn(o)*r.gammafn(a)/r.gammafn(o+a)},r.betaln=function(o,a){return r.gammaln(o)+r.gammaln(a)-r.gammaln(o+a)},r.betacf=function(o,a,u){var l=1e-30,c=1,f=a+u,d=a+1,h=a-1,p=1,m=1-f*o/d,g,y,v,b;for(i.abs(m)<l&&(m=l),m=1/m,b=m;c<=100&&(g=2*c,y=c*(u-c)*o/((h+g)*(a+g)),m=1+y*m,i.abs(m)<l&&(m=l),p=1+y/p,i.abs(p)<l&&(p=l),m=1/m,b*=m*p,y=-(a+c)*(f+c)*o/((a+g)*(d+g)),m=1+y*m,i.abs(m)<l&&(m=l),p=1+y/p,i.abs(p)<l&&(p=l),m=1/m,v=m*p,b*=v,!(i.abs(v-1)<3e-7));c++);return b},r.gammapinv=function(o,a){var u=0,l=a-1,c=1e-8,f=r.gammaln(a),d,h,p,m,g,y,v;if(o>=1)return i.max(100,a+100*i.sqrt(a));if(o<=0)return 0;for(a>1?(y=i.log(l),v=i.exp(l*(y-1)-f),g=o<.5?o:1-o,p=i.sqrt(-2*i.log(g)),d=(2.30753+p*.27061)/(1+p*(.99229+p*.04481))-p,o<.5&&(d=-d),d=i.max(.001,a*i.pow(1-1/(9*a)-d/(3*i.sqrt(a)),3))):(p=1-a*(.253+a*.12),o<p?d=i.pow(o/p,1/a):d=1-i.log(1-(o-p)/(1-p)));u<12;u++){if(d<=0)return 0;if(h=r.lowRegGamma(a,d)-o,a>1?p=v*i.exp(-(d-l)+l*(i.log(d)-y)):p=i.exp(-d+l*i.log(d)-f),m=h/p,d-=p=m/(1-.5*i.min(1,m*((a-1)/d-1))),d<=0&&(d=.5*(d+p)),i.abs(p)<c*d)break}return d},r.erf=function(o){var a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],u=a.length-1,l=!1,c=0,f=0,d,h,p,m;for(o<0&&(o=-o,l=!0),d=2/(2+o),h=4*d-2;u>0;u--)p=c,c=h*c-f+a[u],f=p;return m=d*i.exp(-o*o+.5*(a[0]+h*c)-f),l?m-1:1-m},r.erfc=function(o){return 1-r.erf(o)},r.erfcinv=function(o){var a=0,u,l,c,f;if(o>=2)return-100;if(o<=0)return 100;for(f=o<1?o:2-o,c=i.sqrt(-2*i.log(f/2)),u=-.70711*((2.30753+c*.27061)/(1+c*(.99229+c*.04481))-c);a<2;a++)l=r.erfc(u)-f,u+=l/(1.1283791670955126*i.exp(-u*u)-u*l);return o<1?u:-u},r.ibetainv=function(o,a,u){var l=1e-8,c=a-1,f=u-1,d=0,h,p,m,g,y,v,b,w,x,S,A;if(o<=0)return 0;if(o>=1)return 1;for(a>=1&&u>=1?(m=o<.5?o:1-o,g=i.sqrt(-2*i.log(m)),b=(2.30753+g*.27061)/(1+g*(.99229+g*.04481))-g,o<.5&&(b=-b),w=(b*b-3)/6,x=2/(1/(2*a-1)+1/(2*u-1)),S=b*i.sqrt(w+x)/x-(1/(2*u-1)-1/(2*a-1))*(w+5/6-2/(3*x)),b=a/(a+u*i.exp(2*S))):(h=i.log(a/(a+u)),p=i.log(u/(a+u)),g=i.exp(a*h)/a,y=i.exp(u*p)/u,S=g+y,o<g/S?b=i.pow(a*S*o,1/a):b=1-i.pow(u*S*(1-o),1/u)),A=-r.gammaln(a)-r.gammaln(u)+r.gammaln(a+u);d<10;d++){if(b===0||b===1)return b;if(v=r.ibeta(b,a,u)-o,g=i.exp(c*i.log(b)+f*i.log(1-b)+A),y=v/g,b-=g=y/(1-.5*i.min(1,y*(c/b-f/(1-b)))),b<=0&&(b=.5*(b+g)),b>=1&&(b=.5*(b+g+1)),i.abs(g)<l*b&&d>0)break}return b},r.ibeta=function(o,a,u){var l=o===0||o===1?0:i.exp(r.gammaln(a+u)-r.gammaln(a)-r.gammaln(u)+a*i.log(o)+u*i.log(1-o));return o<0||o>1?!1:o<(a+1)/(a+u+2)?l*r.betacf(o,a,u)/a:1-l*r.betacf(1-o,u,a)/u},r.randn=function(o,a){var u,l,c,f,d;if(a||(a=o),o)return r.create(o,a,function(){return r.randn()});do u=r._random_fn(),l=1.7156*(r._random_fn()-.5),c=u-.449871,f=i.abs(l)+.386595,d=c*c+f*(.196*f-.25472*c);while(d>.27597&&(d>.27846||l*l>-4*i.log(u)*u*u));return l/u},r.randg=function(o,a,u){var l=o,c,f,d,h,p,m;if(u||(u=a),o||(o=1),a)return m=r.zeros(a,u),m.alter(function(){return r.randg(o)}),m;o<1&&(o+=1),c=o-1/3,f=1/i.sqrt(9*c);do{do p=r.randn(),h=1+f*p;while(h<=0);h=h*h*h,d=r._random_fn()}while(d>1-.331*i.pow(p,4)&&i.log(d)>.5*p*p+c*(1-h+i.log(h)));if(o==l)return c*h;do d=r._random_fn();while(d===0);return i.pow(d,1/l)*c*h},function(s){for(var o=0;o<s.length;o++)(function(a){r.fn[a]=function(){return r(r.map(this,function(u){return r[a](u)}))}})(s[o])}("gammaln gammafn factorial factorialln".split(" ")),function(s){for(var o=0;o<s.length;o++)(function(a){r.fn[a]=function(){return r(r[a].apply(null,arguments))}})(s[o])}("randn".split(" "))}(n,Math),function(r,i){(function(l){for(var c=0;c<l.length;c++)(function(f){r[f]=function d(h,p,m){return this instanceof d?(this._a=h,this._b=p,this._c=m,this):new d(h,p,m)},r.fn[f]=function(d,h,p){var m=r[f](d,h,p);return m.data=this,m},r[f].prototype.sample=function(d){var h=this._a,p=this._b,m=this._c;return d?r.alter(d,function(){return r[f].sample(h,p,m)}):r[f].sample(h,p,m)},function(d){for(var h=0;h<d.length;h++)(function(p){r[f].prototype[p]=function(m){var g=this._a,y=this._b,v=this._c;return!m&&m!==0&&(m=this.data),typeof m!="number"?r.fn.map.call(m,function(b){return r[f][p](b,g,y,v)}):r[f][p](m,g,y,v)}})(d[h])}("pdf cdf inv".split(" ")),function(d){for(var h=0;h<d.length;h++)(function(p){r[f].prototype[p]=function(){return r[f][p](this._a,this._b,this._c)}})(d[h])}("mean median mode variance".split(" "))})(l[c])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),r.extend(r.beta,{pdf:function(c,f,d){return c>1||c<0?0:f==1&&d==1?1:f<512&&d<512?i.pow(c,f-1)*i.pow(1-c,d-1)/r.betafn(f,d):i.exp((f-1)*i.log(c)+(d-1)*i.log(1-c)-r.betaln(f,d))},cdf:function(c,f,d){return c>1||c<0?(c>1)*1:r.ibeta(c,f,d)},inv:function(c,f,d){return r.ibetainv(c,f,d)},mean:function(c,f){return c/(c+f)},median:function(c,f){return r.ibetainv(.5,c,f)},mode:function(c,f){return(c-1)/(c+f-2)},sample:function(c,f){var d=r.randg(c);return d/(d+r.randg(f))},variance:function(c,f){return c*f/(i.pow(c+f,2)*(c+f+1))}}),r.extend(r.centralF,{pdf:function(c,f,d){var h,p,m;return c<0?0:f<=2?c===0&&f<2?1/0:c===0&&f===2?1:1/r.betafn(f/2,d/2)*i.pow(f/d,f/2)*i.pow(c,f/2-1)*i.pow(1+f/d*c,-(f+d)/2):(h=f*c/(d+c*f),p=d/(d+c*f),m=f*p/2,m*r.binomial.pdf((f-2)/2,(f+d-2)/2,h))},cdf:function(c,f,d){return c<0?0:r.ibeta(f*c/(f*c+d),f/2,d/2)},inv:function(c,f,d){return d/(f*(1/r.ibetainv(c,f/2,d/2)-1))},mean:function(c,f){return f>2?f/(f-2):void 0},mode:function(c,f){return c>2?f*(c-2)/(c*(f+2)):void 0},sample:function(c,f){var d=r.randg(c/2)*2,h=r.randg(f/2)*2;return d/c/(h/f)},variance:function(c,f){if(!(f<=4))return 2*f*f*(c+f-2)/(c*(f-2)*(f-2)*(f-4))}}),r.extend(r.cauchy,{pdf:function(c,f,d){return d<0?0:d/(i.pow(c-f,2)+i.pow(d,2))/i.PI},cdf:function(c,f,d){return i.atan((c-f)/d)/i.PI+.5},inv:function(l,c,f){return c+f*i.tan(i.PI*(l-.5))},median:function(c){return c},mode:function(c){return c},sample:function(c,f){return r.randn()*i.sqrt(1/(2*r.randg(.5)))*f+c}}),r.extend(r.chisquare,{pdf:function(c,f){return c<0?0:c===0&&f===2?.5:i.exp((f/2-1)*i.log(c)-c/2-f/2*i.log(2)-r.gammaln(f/2))},cdf:function(c,f){return c<0?0:r.lowRegGamma(f/2,c/2)},inv:function(l,c){return 2*r.gammapinv(l,.5*c)},mean:function(l){return l},median:function(c){return c*i.pow(1-2/(9*c),3)},mode:function(c){return c-2>0?c-2:0},sample:function(c){return r.randg(c/2)*2},variance:function(c){return 2*c}}),r.extend(r.exponential,{pdf:function(c,f){return c<0?0:f*i.exp(-f*c)},cdf:function(c,f){return c<0?0:1-i.exp(-f*c)},inv:function(l,c){return-i.log(1-l)/c},mean:function(l){return 1/l},median:function(l){return 1/l*i.log(2)},mode:function(){return 0},sample:function(c){return-1/c*i.log(r._random_fn())},variance:function(l){return i.pow(l,-2)}}),r.extend(r.gamma,{pdf:function(c,f,d){return c<0?0:c===0&&f===1?1/d:i.exp((f-1)*i.log(c)-c/d-r.gammaln(f)-f*i.log(d))},cdf:function(c,f,d){return c<0?0:r.lowRegGamma(f,c/d)},inv:function(l,c,f){return r.gammapinv(l,c)*f},mean:function(l,c){return l*c},mode:function(c,f){if(c>1)return(c-1)*f},sample:function(c,f){return r.randg(c)*f},variance:function(c,f){return c*f*f}}),r.extend(r.invgamma,{pdf:function(c,f,d){return c<=0?0:i.exp(-(f+1)*i.log(c)-d/c-r.gammaln(f)+f*i.log(d))},cdf:function(c,f,d){return c<=0?0:1-r.lowRegGamma(f,d/c)},inv:function(l,c,f){return f/r.gammapinv(1-l,c)},mean:function(l,c){return l>1?c/(l-1):void 0},mode:function(c,f){return f/(c+1)},sample:function(c,f){return f/r.randg(c)},variance:function(c,f){if(!(c<=2))return f*f/((c-1)*(c-1)*(c-2))}}),r.extend(r.kumaraswamy,{pdf:function(c,f,d){return c===0&&f===1?d:c===1&&d===1?f:i.exp(i.log(f)+i.log(d)+(f-1)*i.log(c)+(d-1)*i.log(1-i.pow(c,f)))},cdf:function(c,f,d){return c<0?0:c>1?1:1-i.pow(1-i.pow(c,f),d)},inv:function(c,f,d){return i.pow(1-i.pow(1-c,1/d),1/f)},mean:function(l,c){return c*r.gammafn(1+1/l)*r.gammafn(c)/r.gammafn(1+1/l+c)},median:function(c,f){return i.pow(1-i.pow(2,-1/f),1/c)},mode:function(c,f){if(c>=1&&f>=1&&c!==1&&f!==1)return i.pow((c-1)/(c*f-1),1/c)},variance:function(){throw new Error("variance not yet implemented")}}),r.extend(r.lognormal,{pdf:function(c,f,d){return c<=0?0:i.exp(-i.log(c)-.5*i.log(2*i.PI)-i.log(d)-i.pow(i.log(c)-f,2)/(2*d*d))},cdf:function(c,f,d){return c<0?0:.5+.5*r.erf((i.log(c)-f)/i.sqrt(2*d*d))},inv:function(l,c,f){return i.exp(-1.4142135623730951*f*r.erfcinv(2*l)+c)},mean:function(c,f){return i.exp(c+f*f/2)},median:function(c){return i.exp(c)},mode:function(c,f){return i.exp(c-f*f)},sample:function(c,f){return i.exp(r.randn()*f+c)},variance:function(c,f){return(i.exp(f*f)-1)*i.exp(2*c+f*f)}}),r.extend(r.noncentralt,{pdf:function(c,f,d){var h=1e-14;return i.abs(d)<h?r.studentt.pdf(c,f):i.abs(c)<h?i.exp(r.gammaln((f+1)/2)-d*d/2-.5*i.log(i.PI*f)-r.gammaln(f/2)):f/c*(r.noncentralt.cdf(c*i.sqrt(1+2/f),f+2,d)-r.noncentralt.cdf(c,f,d))},cdf:function(c,f,d){var h=1e-14,p=200;if(i.abs(d)<h)return r.studentt.cdf(c,f);var m=!1;c<0&&(m=!0,d=-d);for(var g=r.normal.cdf(-d,0,1),y=h+1,v=y,b=c*c/(c*c+f),w=0,x=i.exp(-d*d/2),S=i.exp(-d*d/2-.5*i.log(2)-r.gammaln(3/2))*d;w<p||v>h||y>h;)v=y,w>0&&(x*=d*d/(2*w),S*=d*d/(2*(w+1/2))),y=x*r.beta.cdf(b,w+.5,f/2)+S*r.beta.cdf(b,w+1,f/2),g+=.5*y,w++;return m?1-g:g}}),r.extend(r.normal,{pdf:function(c,f,d){return i.exp(-.5*i.log(2*i.PI)-i.log(d)-i.pow(c-f,2)/(2*d*d))},cdf:function(c,f,d){return .5*(1+r.erf((c-f)/i.sqrt(2*d*d)))},inv:function(l,c,f){return-1.4142135623730951*f*r.erfcinv(2*l)+c},mean:function(l){return l},median:function(c){return c},mode:function(l){return l},sample:function(c,f){return r.randn()*f+c},variance:function(l,c){return c*c}}),r.extend(r.pareto,{pdf:function(c,f,d){return c<f?0:d*i.pow(f,d)/i.pow(c,d+1)},cdf:function(c,f,d){return c<f?0:1-i.pow(f/c,d)},inv:function(c,f,d){return f/i.pow(1-c,1/d)},mean:function(c,f){if(!(f<=1))return f*i.pow(c,f)/(f-1)},median:function(c,f){return c*(f*i.SQRT2)},mode:function(c){return c},variance:function(l,c){if(!(c<=2))return l*l*c/(i.pow(c-1,2)*(c-2))}}),r.extend(r.studentt,{pdf:function(c,f){return f=f>1e100?1e100:f,1/(i.sqrt(f)*r.betafn(.5,f/2))*i.pow(1+c*c/f,-((f+1)/2))},cdf:function(c,f){var d=f/2;return r.ibeta((c+i.sqrt(c*c+f))/(2*i.sqrt(c*c+f)),d,d)},inv:function(l,c){var f=r.ibetainv(2*i.min(l,1-l),.5*c,.5);return f=i.sqrt(c*(1-f)/f),l>.5?f:-f},mean:function(c){return c>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(c){return r.randn()*i.sqrt(c/(2*r.randg(c/2)))},variance:function(c){return c>2?c/(c-2):c>1?1/0:void 0}}),r.extend(r.weibull,{pdf:function(c,f,d){return c<0||f<0||d<0?0:d/f*i.pow(c/f,d-1)*i.exp(-i.pow(c/f,d))},cdf:function(c,f,d){return c<0?0:1-i.exp(-i.pow(c/f,d))},inv:function(l,c,f){return c*i.pow(-i.log(1-l),1/f)},mean:function(l,c){return l*r.gammafn(1+1/c)},median:function(c,f){return c*i.pow(i.log(2),1/f)},mode:function(c,f){return f<=1?0:c*i.pow((f-1)/f,1/f)},sample:function(c,f){return c*i.pow(-i.log(r._random_fn()),1/f)},variance:function(c,f){return c*c*r.gammafn(1+2/f)-i.pow(r.weibull.mean(c,f),2)}}),r.extend(r.uniform,{pdf:function(c,f,d){return c<f||c>d?0:1/(d-f)},cdf:function(c,f,d){return c<f?0:c<d?(c-f)/(d-f):1},inv:function(l,c,f){return c+l*(f-c)},mean:function(c,f){return .5*(c+f)},median:function(c,f){return r.mean(c,f)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(c,f){return c/2+f/2+(f/2-c/2)*(2*r._random_fn()-1)},variance:function(c,f){return i.pow(f-c,2)/12}});function s(l,c,f,d){for(var h=0,p=1,m=1,g=1,y=0,v=0,b;i.abs((m-v)/m)>d;)v=m,b=-(c+y)*(c+f+y)*l/(c+2*y)/(c+2*y+1),h=m+b*h,p=g+b*p,y=y+1,b=y*(f-y)*l/(c+2*y-1)/(c+2*y),m=h+b*m,g=p+b*g,h=h/g,p=p/g,m=m/g,g=1;return m/c}r.extend(r.binomial,{pdf:function(c,f,d){return d===0||d===1?f*d===c?1:0:r.combination(f,c)*i.pow(d,c)*i.pow(1-d,f-c)},cdf:function(c,f,d){var h,p=1e-10;if(c<0)return 0;if(c>=f)return 1;if(d<0||d>1||f<=0)return NaN;c=i.floor(c);var m=d,g=c+1,y=f-c,v=g+y,b=i.exp(r.gammaln(v)-r.gammaln(y)-r.gammaln(g)+g*i.log(m)+y*i.log(1-m));return m<(g+1)/(v+2)?h=b*s(m,g,y,p):h=1-b*s(1-m,y,g,p),i.round((1-h)*(1/p))/(1/p)}}),r.extend(r.negbin,{pdf:function(c,f,d){return c!==c>>>0?!1:c<0?0:r.combination(c+f-1,f-1)*i.pow(1-d,c)*i.pow(d,f)},cdf:function(c,f,d){var h=0,p=0;if(c<0)return 0;for(;p<=c;p++)h+=r.negbin.pdf(p,f,d);return h}}),r.extend(r.hypgeom,{pdf:function(c,f,d,h){if(c!==c|0)return!1;if(c<0||c<d-(f-h))return 0;if(c>h||c>d)return 0;if(d*2>f)return h*2>f?r.hypgeom.pdf(f-d-h+c,f,f-d,f-h):r.hypgeom.pdf(h-c,f,f-d,h);if(h*2>f)return r.hypgeom.pdf(d-c,f,d,f-h);if(d<h)return r.hypgeom.pdf(c,f,h,d);for(var p=1,m=0,g=0;g<c;g++){for(;p>1&&m<h;)p*=1-d/(f-m),m++;p*=(h-g)*(d-g)/((g+1)*(f-d-h+g+1))}for(;m<h;m++)p*=1-d/(f-m);return i.min(1,i.max(0,p))},cdf:function(c,f,d,h){if(c<0||c<d-(f-h))return 0;if(c>=h||c>=d)return 1;if(d*2>f)return h*2>f?r.hypgeom.cdf(f-d-h+c,f,f-d,f-h):1-r.hypgeom.cdf(h-c-1,f,f-d,h);if(h*2>f)return 1-r.hypgeom.cdf(d-c-1,f,d,f-h);if(d<h)return r.hypgeom.cdf(c,f,h,d);for(var p=1,m=1,g=0,y=0;y<c;y++){for(;p>1&&g<h;){var v=1-d/(f-g);m*=v,p*=v,g++}m*=(h-y)*(d-y)/((y+1)*(f-d-h+y+1)),p+=m}for(;g<h;g++)p*=1-d/(f-g);return i.min(1,i.max(0,p))}}),r.extend(r.poisson,{pdf:function(c,f){return f<0||c%1!==0||c<0?0:i.pow(f,c)*i.exp(-f)/r.factorial(c)},cdf:function(c,f){var d=[],h=0;if(c<0)return 0;for(;h<=c;h++)d.push(r.poisson.pdf(h,f));return r.sum(d)},mean:function(l){return l},variance:function(l){return l},sampleSmall:function(c){var f=1,d=0,h=i.exp(-c);do d++,f*=r._random_fn();while(f>h);return d-1},sampleLarge:function(c){var f=c,d,h,p,m,g,y,v,b,w,x;for(m=i.sqrt(f),g=i.log(f),v=.931+2.53*m,y=-.059+.02483*v,b=1.1239+1.1328/(v-3.4),w=.9277-3.6224/(v-2);;){if(h=i.random()-.5,p=i.random(),x=.5-i.abs(h),d=i.floor((2*y/x+v)*h+f+.43),x>=.07&&p<=w)return d;if(!(d<0||x<.013&&p>x)&&i.log(p)+i.log(b)-i.log(y/(x*x)+v)<=-f+d*g-r.loggam(d+1))return d}},sample:function(c){return c<10?this.sampleSmall(c):this.sampleLarge(c)}}),r.extend(r.triangular,{pdf:function(c,f,d,h){return d<=f||h<f||h>d?NaN:c<f||c>d?0:c<h?2*(c-f)/((d-f)*(h-f)):c===h?2/(d-f):2*(d-c)/((d-f)*(d-h))},cdf:function(c,f,d,h){return d<=f||h<f||h>d?NaN:c<=f?0:c>=d?1:c<=h?i.pow(c-f,2)/((d-f)*(h-f)):1-i.pow(d-c,2)/((d-f)*(d-h))},inv:function(c,f,d,h){return d<=f||h<f||h>d?NaN:c<=(h-f)/(d-f)?f+(d-f)*i.sqrt(c*((h-f)/(d-f))):f+(d-f)*(1-i.sqrt((1-c)*(1-(h-f)/(d-f))))},mean:function(c,f,d){return(c+f+d)/3},median:function(c,f,d){if(d<=(c+f)/2)return f-i.sqrt((f-c)*(f-d))/i.sqrt(2);if(d>(c+f)/2)return c+i.sqrt((f-c)*(d-c))/i.sqrt(2)},mode:function(c,f,d){return d},sample:function(c,f,d){var h=r._random_fn();return h<(d-c)/(f-c)?c+i.sqrt(h*(f-c)*(d-c)):f-i.sqrt((1-h)*(f-c)*(f-d))},variance:function(c,f,d){return(c*c+f*f+d*d-c*f-c*d-f*d)/18}}),r.extend(r.arcsine,{pdf:function(c,f,d){return d<=f?NaN:c<=f||c>=d?0:2/i.PI*i.pow(i.pow(d-f,2)-i.pow(2*c-f-d,2),-.5)},cdf:function(c,f,d){return c<f?0:c<d?2/i.PI*i.asin(i.sqrt((c-f)/(d-f))):1},inv:function(l,c,f){return c+(.5-.5*i.cos(i.PI*l))*(f-c)},mean:function(c,f){return f<=c?NaN:(c+f)/2},median:function(c,f){return f<=c?NaN:(c+f)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(c,f){return(c+f)/2+(f-c)/2*i.sin(2*i.PI*r.uniform.sample(0,1))},variance:function(c,f){return f<=c?NaN:i.pow(f-c,2)/8}});function o(l){return l/i.abs(l)}r.extend(r.laplace,{pdf:function(c,f,d){return d<=0?0:i.exp(-i.abs(c-f)/d)/(2*d)},cdf:function(c,f,d){return d<=0?0:c<f?.5*i.exp((c-f)/d):1-.5*i.exp(-(c-f)/d)},mean:function(l){return l},median:function(l){return l},mode:function(l){return l},variance:function(l,c){return 2*c*c},sample:function(c,f){var d=r._random_fn()-.5;return c-f*o(d)*i.log(1-2*i.abs(d))}});function a(l,c,f){var d=12,h=6,p=-30,m=-50,g=60,y=8,v=3,b=2,w=3,x=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],S=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],A=l*.5;if(A>=y)return 1;var C=2*r.normal.cdf(A,0,1,1,0)-1;C>=i.exp(m/f)?C=i.pow(C,f):C=0;var $;l>v?$=b:$=w;for(var k=A,P=(y-A)/$,L=k+P,O=0,B=f-1,q=1;q<=$;q++){for(var H=0,G=.5*(L+k),K=.5*(L-k),J=1;J<=d;J++){var F,j;h<J?(F=d-J+1,j=x[F-1]):(F=J,j=-x[F-1]);var W=K*j,M=G+W,V=M*M;if(V>g)break;var Q=2*r.normal.cdf(M,0,1,1,0),se=2*r.normal.cdf(M,l,1,1,0),be=Q*.5-se*.5;be>=i.exp(p/B)&&(be=S[F-1]*i.exp(-(.5*V))*i.pow(be,B),H+=be)}H*=2*K*f/i.sqrt(2*i.PI),O+=H,k=L,L+=P}return C+=O,C<=i.exp(p/c)?0:(C=i.pow(C,c),C>=1?1:C)}function u(l,c,f){var d=.322232421088,h=.099348462606,p=-1,m=.588581570495,g=-.342242088547,y=.531103462366,v=-.204231210125,b=.10353775285,w=-453642210148e-16,x=.0038560700634,S=.8832,A=.2368,C=1.208,$=1.4142,k=120,P=.5-.5*l,L=i.sqrt(i.log(1/(P*P))),O=L+((((L*w+v)*L+g)*L+p)*L+d)/((((L*x+b)*L+y)*L+m)*L+h);f<k&&(O+=(O*O*O+O)/f/4);var B=S-A*O;return f<k&&(B+=-1.214/f+C*O/f),O*(B*i.log(c-1)+$)}r.extend(r.tukey,{cdf:function(c,f,d){var h=1,p=f,m=16,g=8,y=-30,v=1e-14,b=100,w=800,x=5e3,S=25e3,A=1,C=.5,$=.25,k=.125,P=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],L=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(c<=0)return 0;if(d<2||h<1||p<2)return NaN;if(!Number.isFinite(c))return 1;if(d>S)return a(c,h,p);var O=d*.5,B=O*i.log(d)-d*i.log(2)-r.gammaln(O),q=O-1,H=d*.25,G;d<=b?G=A:d<=w?G=C:d<=x?G=$:G=k,B+=i.log(G);for(var K=0,J=1;J<=50;J++){for(var F=0,j=(2*J-1)*G,W=1;W<=m;W++){var M,V;g<W?(M=W-g-1,V=B+q*i.log(j+P[M]*G)-(P[M]*G+j)*H):(M=W-1,V=B+q*i.log(j-P[M]*G)+(P[M]*G-j)*H);var Q;if(V>=y){g<W?Q=c*i.sqrt((P[M]*G+j)*.5):Q=c*i.sqrt((-(P[M]*G)+j)*.5);var se=a(Q,h,p),be=se*L[M]*i.exp(V);F+=be}}if(J*G>=1&&F<=v)break;K+=F}if(F>v)throw new Error("tukey.cdf failed to converge");return K>1&&(K=1),K},inv:function(l,c,f){var d=1,h=c,p=1e-4,m=50;if(f<2||d<1||h<2)return NaN;if(l<0||l>1)return NaN;if(l===0)return 0;if(l===1)return 1/0;var g=u(l,h,f),y=r.tukey.cdf(g,c,f)-l,v;y>0?v=i.max(0,g-1):v=g+1;for(var b=r.tukey.cdf(v,c,f)-l,w,x=1;x<m;x++){w=v-b*(v-g)/(b-y),y=b,g=v,w<0&&(w=0,b=-l),b=r.tukey.cdf(w,c,f)-l,v=w;var S=i.abs(v-g);if(S<p)return w}throw new Error("tukey.inv failed to converge")}})}(n,Math),function(r,i){var s=Array.prototype.push,o=r.utils.isArray;function a(u){return o(u)||u instanceof r}r.extend({add:function(l,c){return a(c)?(a(c[0])||(c=[c]),r.map(l,function(f,d,h){return f+c[d][h]})):r.map(l,function(f){return f+c})},subtract:function(l,c){return a(c)?(a(c[0])||(c=[c]),r.map(l,function(f,d,h){return f-c[d][h]||0})):r.map(l,function(f){return f-c})},divide:function(l,c){return a(c)?(a(c[0])||(c=[c]),r.multiply(l,r.inv(c))):r.map(l,function(f){return f/c})},multiply:function(l,c){var f,d,h,p,m,g,y,v;if(l.length===void 0&&c.length===void 0)return l*c;if(m=l.length,g=l[0].length,y=r.zeros(m,h=a(c)?c[0].length:g),v=0,a(c)){for(;v<h;v++)for(f=0;f<m;f++){for(p=0,d=0;d<g;d++)p+=l[f][d]*c[d][v];y[f][v]=p}return m===1&&v===1?y[0][0]:y}return r.map(l,function(b){return b*c})},outer:function(l,c){return r.multiply(l.map(function(f){return[f]}),[c])},dot:function(l,c){a(l[0])||(l=[l]),a(c[0])||(c=[c]);for(var f=l[0].length===1&&l.length!==1?r.transpose(l):l,d=c[0].length===1&&c.length!==1?r.transpose(c):c,h=[],p=0,m=f.length,g=f[0].length,y,v;p<m;p++){for(h[p]=[],y=0,v=0;v<g;v++)y+=f[p][v]*d[p][v];h[p]=y}return h.length===1?h[0]:h},pow:function(l,c){return r.map(l,function(f){return i.pow(f,c)})},exp:function(l){return r.map(l,function(c){return i.exp(c)})},log:function(l){return r.map(l,function(c){return i.log(c)})},abs:function(l){return r.map(l,function(c){return i.abs(c)})},norm:function(l,c){var f=0,d=0;for(isNaN(c)&&(c=2),a(l[0])&&(l=l[0]);d<l.length;d++)f+=i.pow(i.abs(l[d]),c);return i.pow(f,1/c)},angle:function(l,c){return i.acos(r.dot(l,c)/(r.norm(l)*r.norm(c)))},aug:function(l,c){var f=[],d;for(d=0;d<l.length;d++)f.push(l[d].slice());for(d=0;d<f.length;d++)s.apply(f[d],c[d]);return f},inv:function(l){for(var c=l.length,f=l[0].length,d=r.identity(c,f),h=r.gauss_jordan(l,d),p=[],m=0,g;m<c;m++)for(p[m]=[],g=f;g<h[0].length;g++)p[m][g-f]=h[m][g];return p},det:function u(l){if(l.length===2)return l[0][0]*l[1][1]-l[0][1]*l[1][0];for(var c=0,f=0;f<l.length;f++){for(var d=[],h=1;h<l.length;h++){d[h-1]=[];for(var p=0;p<l.length;p++)p<f?d[h-1][p]=l[h][p]:p>f&&(d[h-1][p-1]=l[h][p])}var m=f%2?-1:1;c+=u(d)*l[0][f]*m}return c},gauss_elimination:function(l,c){var f=0,d=0,h=l.length,p=l[0].length,m=1,g=0,y=[],v,b,w,x;for(l=r.aug(l,c),v=l[0].length,f=0;f<h;f++){for(b=l[f][f],d=f,x=f+1;x<p;x++)b<i.abs(l[x][f])&&(b=l[x][f],d=x);if(d!=f)for(x=0;x<v;x++)w=l[f][x],l[f][x]=l[d][x],l[d][x]=w;for(d=f+1;d<h;d++)for(m=l[d][f]/l[f][f],x=f;x<v;x++)l[d][x]=l[d][x]-m*l[f][x]}for(f=h-1;f>=0;f--){for(g=0,d=f+1;d<=h-1;d++)g=g+y[d]*l[f][d];y[f]=(l[f][v-1]-g)/l[f][f]}return y},gauss_jordan:function(l,c){var f=r.aug(l,c),d=f.length,h=f[0].length,p=0,m,g,y;for(g=0;g<d;g++){var v=g;for(y=g+1;y<d;y++)i.abs(f[y][g])>i.abs(f[v][g])&&(v=y);var b=f[g];for(f[g]=f[v],f[v]=b,y=g+1;y<d;y++)for(p=f[y][g]/f[g][g],m=g;m<h;m++)f[y][m]-=f[g][m]*p}for(g=d-1;g>=0;g--){for(p=f[g][g],y=0;y<g;y++)for(m=h-1;m>g-1;m--)f[y][m]-=f[g][m]*f[y][g]/p;for(f[g][g]/=p,m=d;m<h;m++)f[g][m]/=p}return f},triaUpSolve:function(l,c){var f=l[0].length,d=r.zeros(1,f)[0],h,p=!1;return c[0].length!=null&&(c=c.map(function(m){return m[0]}),p=!0),r.arange(f-1,-1,-1).forEach(function(m){h=r.arange(m+1,f).map(function(g){return d[g]*l[m][g]}),d[m]=(c[m]-r.sum(h))/l[m][m]}),p?d.map(function(m){return[m]}):d},triaLowSolve:function(l,c){var f=l[0].length,d=r.zeros(1,f)[0],h,p=!1;return c[0].length!=null&&(c=c.map(function(m){return m[0]}),p=!0),r.arange(f).forEach(function(m){h=r.arange(m).map(function(g){return l[m][g]*d[g]}),d[m]=(c[m]-r.sum(h))/l[m][m]}),p?d.map(function(m){return[m]}):d},lu:function(l){var c=l.length,f=r.identity(c),d=r.zeros(l.length,l[0].length),h;return r.arange(c).forEach(function(p){d[0][p]=l[0][p]}),r.arange(1,c).forEach(function(p){r.arange(p).forEach(function(m){h=r.arange(m).map(function(g){return f[p][g]*d[g][m]}),f[p][m]=(l[p][m]-r.sum(h))/d[m][m]}),r.arange(p,c).forEach(function(m){h=r.arange(p).map(function(g){return f[p][g]*d[g][m]}),d[p][m]=l[h.length][m]-r.sum(h)})}),[f,d]},cholesky:function(l){var c=l.length,f=r.zeros(l.length,l[0].length),d;return r.arange(c).forEach(function(h){d=r.arange(h).map(function(p){return i.pow(f[h][p],2)}),f[h][h]=i.sqrt(l[h][h]-r.sum(d)),r.arange(h+1,c).forEach(function(p){d=r.arange(h).map(function(m){return f[h][m]*f[p][m]}),f[p][h]=(l[h][p]-r.sum(d))/f[h][h]})}),f},gauss_jacobi:function(l,c,f,d){for(var h=0,p=0,m=l.length,g=[],y=[],v=[],b,w,x,S;h<m;h++)for(g[h]=[],y[h]=[],v[h]=[],p=0;p<m;p++)h>p?(g[h][p]=l[h][p],y[h][p]=v[h][p]=0):h<p?(y[h][p]=l[h][p],g[h][p]=v[h][p]=0):(v[h][p]=l[h][p],g[h][p]=y[h][p]=0);for(x=r.multiply(r.multiply(r.inv(v),r.add(g,y)),-1),w=r.multiply(r.inv(v),c),b=f,S=r.add(r.multiply(x,f),w),h=2;i.abs(r.norm(r.subtract(S,b)))>d;)b=S,S=r.add(r.multiply(x,b),w),h++;return S},gauss_seidel:function(l,c,f,d){for(var h=0,p=l.length,m=[],g=[],y=[],v,b,w,x,S;h<p;h++)for(m[h]=[],g[h]=[],y[h]=[],v=0;v<p;v++)h>v?(m[h][v]=l[h][v],g[h][v]=y[h][v]=0):h<v?(g[h][v]=l[h][v],m[h][v]=y[h][v]=0):(y[h][v]=l[h][v],m[h][v]=g[h][v]=0);for(x=r.multiply(r.multiply(r.inv(r.add(y,m)),g),-1),w=r.multiply(r.inv(r.add(y,m)),c),b=f,S=r.add(r.multiply(x,f),w),h=2;i.abs(r.norm(r.subtract(S,b)))>d;)b=S,S=r.add(r.multiply(x,b),w),h=h+1;return S},SOR:function(l,c,f,d,h){for(var p=0,m=l.length,g=[],y=[],v=[],b,w,x,S,A;p<m;p++)for(g[p]=[],y[p]=[],v[p]=[],b=0;b<m;b++)p>b?(g[p][b]=l[p][b],y[p][b]=v[p][b]=0):p<b?(y[p][b]=l[p][b],g[p][b]=v[p][b]=0):(v[p][b]=l[p][b],g[p][b]=y[p][b]=0);for(S=r.multiply(r.inv(r.add(v,r.multiply(g,h))),r.subtract(r.multiply(v,1-h),r.multiply(y,h))),x=r.multiply(r.multiply(r.inv(r.add(v,r.multiply(g,h))),c),h),w=f,A=r.add(r.multiply(S,f),x),p=2;i.abs(r.norm(r.subtract(A,w)))>d;)w=A,A=r.add(r.multiply(S,w),x),p++;return A},householder:function(l){for(var c=l.length,f=l[0].length,d=0,h=[],p=[],m,g,y,v,b;d<c-1;d++){for(m=0,v=d+1;v<f;v++)m+=l[v][d]*l[v][d];for(b=l[d+1][d]>0?-1:1,m=b*i.sqrt(m),g=i.sqrt((m*m-l[d+1][d]*m)/2),h=r.zeros(c,1),h[d+1][0]=(l[d+1][d]-m)/(2*g),y=d+2;y<c;y++)h[y][0]=l[y][d]/(2*g);p=r.subtract(r.identity(c,f),r.multiply(r.multiply(h,r.transpose(h)),2)),l=r.multiply(p,r.multiply(l,p))}return l},QR:function(){var u=r.sum,l=r.arange;function c(f){var d=f.length,h=f[0].length,p=r.zeros(h,h);f=r.copy(f);var m,g,y;for(g=0;g<h;g++){for(p[g][g]=i.sqrt(u(l(d).map(function(v){return f[v][g]*f[v][g]}))),m=0;m<d;m++)f[m][g]=f[m][g]/p[g][g];for(y=g+1;y<h;y++)for(p[g][y]=u(l(d).map(function(v){return f[v][g]*f[v][y]})),m=0;m<d;m++)f[m][y]=f[m][y]-f[m][g]*p[g][y]}return[f,p]}return c}(),lstsq:function(){function u(c){c=r.copy(c);var f=c.length,d=r.identity(f);return r.arange(f-1,-1,-1).forEach(function(h){r.sliceAssign(d,{row:h},r.divide(r.slice(d,{row:h}),c[h][h])),r.sliceAssign(c,{row:h},r.divide(r.slice(c,{row:h}),c[h][h])),r.arange(h).forEach(function(p){var m=r.multiply(c[p][h],-1),g=r.slice(c,{row:p}),y=r.multiply(r.slice(c,{row:h}),m);r.sliceAssign(c,{row:p},r.add(g,y));var v=r.slice(d,{row:p}),b=r.multiply(r.slice(d,{row:h}),m);r.sliceAssign(d,{row:p},r.add(v,b))})}),d}function l(c,f){var d=!1;f[0].length===void 0&&(f=f.map(function(S){return[S]}),d=!0);var h=r.QR(c),p=h[0],m=h[1],g=c[0].length,y=r.slice(p,{col:{end:g}}),v=r.slice(m,{row:{end:g}}),b=u(v),w=r.transpose(y);w[0].length===void 0&&(w=[w]);var x=r.multiply(r.multiply(b,w),f);return x.length===void 0&&(x=[[x]]),d?x.map(function(S){return S[0]}):x}return l}(),jacobi:function(l){for(var c=1,f=l.length,d=r.identity(f,f),h=[],p,m,g,y,v,b,w,x;c===1;){for(b=l[0][1],y=0,v=1,m=0;m<f;m++)for(g=0;g<f;g++)m!=g&&b<i.abs(l[m][g])&&(b=i.abs(l[m][g]),y=m,v=g);for(l[y][y]===l[v][v]?w=l[y][v]>0?i.PI/4:-i.PI/4:w=i.atan(2*l[y][v]/(l[y][y]-l[v][v]))/2,x=r.identity(f,f),x[y][y]=i.cos(w),x[y][v]=-i.sin(w),x[v][y]=i.sin(w),x[v][v]=i.cos(w),d=r.multiply(d,x),p=r.multiply(r.multiply(r.inv(x),l),x),l=p,c=0,m=1;m<f;m++)for(g=1;g<f;g++)m!=g&&i.abs(l[m][g])>.001&&(c=1)}for(m=0;m<f;m++)h.push(l[m][m]);return[d,h]},rungekutta:function(l,c,f,d,h,p){var m,g,y,v,b;if(p===2)for(;d<=f;)m=c*l(d,h),g=c*l(d+c,h+m),y=h+(m+g)/2,h=y,d=d+c;if(p===4)for(;d<=f;)m=c*l(d,h),g=c*l(d+c/2,h+m/2),v=c*l(d+c/2,h+g/2),b=c*l(d+c,h+v),y=h+(m+2*g+2*v+b)/6,h=y,d=d+c;return h},romberg:function(l,c,f,d){for(var h=0,p=(f-c)/2,m=[],g=[],y=[],v,b,w,x,S;h<d/2;){for(S=l(c),w=c,x=0;w<=f;w=w+p,x++)m[x]=w;for(v=m.length,w=1;w<v-1;w++)S+=(w%2!==0?4:2)*l(m[w]);S=p/3*(S+l(f)),y[h]=S,p/=2,h++}for(b=y.length,v=1;b!==1;){for(w=0;w<b-1;w++)g[w]=(i.pow(4,v)*y[w+1]-y[w])/(i.pow(4,v)-1);b=g.length,y=g,g=[],v++}return y},richardson:function(l,c,f,d){function h(A,C){for(var $=0,k=A.length,P;$<k;$++)A[$]===C&&(P=$);return P}for(var p=i.abs(f-l[h(l,f)+1]),m=0,g=[],y=[],v,b,w,x,S;d>=p;)v=h(l,f+d),b=h(l,f),g[m]=(c[v]-2*c[b]+c[2*b-v])/(d*d),d/=2,m++;for(x=g.length,w=1;x!=1;){for(S=0;S<x-1;S++)y[S]=(i.pow(4,w)*g[S+1]-g[S])/(i.pow(4,w)-1);x=y.length,g=y,y=[],w++}return g},simpson:function(l,c,f,d){for(var h=(f-c)/d,p=l(c),m=[],g=c,y=0,v=1,b;g<=f;g=g+h,y++)m[y]=g;for(b=m.length;v<b-1;v++)p+=(v%2!==0?4:2)*l(m[v]);return h/3*(p+l(f))},hermite:function(l,c,f,d){for(var h=l.length,p=0,m=0,g=[],y=[],v=[],b=[],w;m<h;m++){for(g[m]=1,w=0;w<h;w++)m!=w&&(g[m]*=(d-l[w])/(l[m]-l[w]));for(y[m]=0,w=0;w<h;w++)m!=w&&(y[m]+=1/(l[m]-l[w]));v[m]=(1-2*(d-l[m])*y[m])*(g[m]*g[m]),b[m]=(d-l[m])*(g[m]*g[m]),p+=v[m]*c[m]+b[m]*f[m]}return p},lagrange:function(l,c,f){for(var d=0,h=0,p,m,g=l.length;h<g;h++){for(m=c[h],p=0;p<g;p++)h!=p&&(m*=(f-l[p])/(l[h]-l[p]));d+=m}return d},cubic_spline:function(l,c,f){for(var d=l.length,h=0,p,m=[],g=[],y=[],v=[],b=[],w=[],x=[];h<d-1;h++)b[h]=l[h+1]-l[h];for(y[0]=0,h=1;h<d-1;h++)y[h]=3/b[h]*(c[h+1]-c[h])-3/b[h-1]*(c[h]-c[h-1]);for(h=1;h<d-1;h++)m[h]=[],g[h]=[],m[h][h-1]=b[h-1],m[h][h]=2*(b[h-1]+b[h]),m[h][h+1]=b[h],g[h][0]=y[h];for(v=r.multiply(r.inv(m),g),p=0;p<d-1;p++)w[p]=(c[p+1]-c[p])/b[p]-b[p]*(v[p+1][0]+2*v[p][0])/3,x[p]=(v[p+1][0]-v[p][0])/(3*b[p]);for(p=0;p<d&&!(l[p]>f);p++);return p-=1,c[p]+(f-l[p])*w[p]+r.sq(f-l[p])*v[p]+(f-l[p])*r.sq(f-l[p])*x[p]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(l){var c=l.length,f=l[0].length,d=0,h,p,m=[],g=[],y=[],v=[],b=[],w=[],x=[],S=[],A=[],C=[];for(d=0;d<c;d++)m[d]=r.sum(l[d])/f;for(d=0;d<f;d++)for(x[d]=[],h=0;h<c;h++)x[d][h]=l[h][d]-m[h];for(x=r.transpose(x),d=0;d<c;d++)for(S[d]=[],h=0;h<c;h++)S[d][h]=r.dot([x[d]],[x[h]])/(f-1);for(y=r.jacobi(S),A=y[0],g=y[1],C=r.transpose(A),d=0;d<g.length;d++)for(h=d;h<g.length;h++)g[d]<g[h]&&(p=g[d],g[d]=g[h],g[h]=p,v=C[d],C[d]=C[h],C[h]=v);for(w=r.transpose(x),d=0;d<c;d++)for(b[d]=[],h=0;h<w.length;h++)b[d][h]=r.dot([C[d]],[w[h]]);return[l,g,C,b]}}),function(u){for(var l=0;l<u.length;l++)(function(c){r.fn[c]=function(f,d){var h=this;return d?(setTimeout(function(){d.call(h,r.fn[c].call(h,f))},15),this):typeof r[c](this,f)=="number"?r[c](this,f):r(r[c](this,f))}})(u[l])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(n,Math),function(r,i){var s=[].slice,o=r.utils.isNumber,a=r.utils.isArray;r.extend({zscore:function(){var c=s.call(arguments);return o(c[1])?(c[0]-c[1])/c[2]:(c[0]-r.mean(c[1]))/r.stdev(c[1],c[2])},ztest:function(){var c=s.call(arguments),f;return a(c[1])?(f=r.zscore(c[0],c[1],c[3]),c[2]===1?r.normal.cdf(-i.abs(f),0,1):r.normal.cdf(-i.abs(f),0,1)*2):c.length>2?(f=r.zscore(c[0],c[1],c[2]),c[3]===1?r.normal.cdf(-i.abs(f),0,1):r.normal.cdf(-i.abs(f),0,1)*2):(f=c[0],c[1]===1?r.normal.cdf(-i.abs(f),0,1):r.normal.cdf(-i.abs(f),0,1)*2)}}),r.extend(r.fn,{zscore:function(c,f){return(c-this.mean())/this.stdev(f)},ztest:function(c,f,d){var h=i.abs(this.zscore(c,d));return f===1?r.normal.cdf(-h,0,1):r.normal.cdf(-h,0,1)*2}}),r.extend({tscore:function(){var c=s.call(arguments);return c.length===4?(c[0]-c[1])/(c[2]/i.sqrt(c[3])):(c[0]-r.mean(c[1]))/(r.stdev(c[1],!0)/i.sqrt(c[1].length))},ttest:function(){var c=s.call(arguments),f;return c.length===5?(f=i.abs(r.tscore(c[0],c[1],c[2],c[3])),c[4]===1?r.studentt.cdf(-f,c[3]-1):r.studentt.cdf(-f,c[3]-1)*2):o(c[1])?(f=i.abs(c[0]),c[2]==1?r.studentt.cdf(-f,c[1]-1):r.studentt.cdf(-f,c[1]-1)*2):(f=i.abs(r.tscore(c[0],c[1])),c[2]==1?r.studentt.cdf(-f,c[1].length-1):r.studentt.cdf(-f,c[1].length-1)*2)}}),r.extend(r.fn,{tscore:function(c){return(c-this.mean())/(this.stdev(!0)/i.sqrt(this.cols()))},ttest:function(c,f){return f===1?1-r.studentt.cdf(i.abs(this.tscore(c)),this.cols()-1):r.studentt.cdf(-i.abs(this.tscore(c)),this.cols()-1)*2}}),r.extend({anovafscore:function(){var c=s.call(arguments),f,d,h,p,m,g,y,v;if(c.length===1){for(m=new Array(c[0].length),y=0;y<c[0].length;y++)m[y]=c[0][y];c=m}for(d=new Array,y=0;y<c.length;y++)d=d.concat(c[y]);for(h=r.mean(d),f=0,y=0;y<c.length;y++)f=f+c[y].length*i.pow(r.mean(c[y])-h,2);for(f/=c.length-1,g=0,y=0;y<c.length;y++)for(p=r.mean(c[y]),v=0;v<c[y].length;v++)g+=i.pow(c[y][v]-p,2);return g/=d.length-c.length,f/g},anovaftest:function(){var c=s.call(arguments),f,d,h,p;if(o(c[0]))return 1-r.centralF.cdf(c[0],c[1],c[2]);var m=r.anovafscore(c);for(f=c.length-1,h=0,p=0;p<c.length;p++)h=h+c[p].length;return d=h-f-1,1-r.centralF.cdf(m,f,d)},ftest:function(c,f,d){return 1-r.centralF.cdf(c,f,d)}}),r.extend(r.fn,{anovafscore:function(){return r.anovafscore(this.toArray())},anovaftes:function(){var c=0,f;for(f=0;f<this.length;f++)c=c+this[f].length;return r.ftest(this.anovafscore(),this.length-1,c-this.length)}}),r.extend({qscore:function(){var c=s.call(arguments),f,d,h,p,m;return o(c[0])?(f=c[0],d=c[1],h=c[2],p=c[3],m=c[4]):(f=r.mean(c[0]),d=r.mean(c[1]),h=c[0].length,p=c[1].length,m=c[2]),i.abs(f-d)/(m*i.sqrt((1/h+1/p)/2))},qtest:function(){var c=s.call(arguments),f;c.length===3?(f=c[0],c=c.slice(1)):c.length===7?(f=r.qscore(c[0],c[1],c[2],c[3],c[4]),c=c.slice(5)):(f=r.qscore(c[0],c[1],c[2]),c=c.slice(3));var d=c[0],h=c[1];return 1-r.tukey.cdf(f,h,d-h)},tukeyhsd:function(c){for(var f=r.pooledstdev(c),d=c.map(function(v){return r.mean(v)}),h=c.reduce(function(v,b){return v+b.length},0),p=[],m=0;m<c.length;++m)for(var g=m+1;g<c.length;++g){var y=r.qtest(d[m],d[g],c[m].length,c[g].length,f,h,c.length);p.push([[m,g],y])}return p}}),r.extend({normalci:function(){var c=s.call(arguments),f=new Array(2),d;return c.length===4?d=i.abs(r.normal.inv(c[1]/2,0,1)*c[2]/i.sqrt(c[3])):d=i.abs(r.normal.inv(c[1]/2,0,1)*r.stdev(c[2])/i.sqrt(c[2].length)),f[0]=c[0]-d,f[1]=c[0]+d,f},tci:function(){var c=s.call(arguments),f=new Array(2),d;return c.length===4?d=i.abs(r.studentt.inv(c[1]/2,c[3]-1)*c[2]/i.sqrt(c[3])):d=i.abs(r.studentt.inv(c[1]/2,c[2].length-1)*r.stdev(c[2],!0)/i.sqrt(c[2].length)),f[0]=c[0]-d,f[1]=c[0]+d,f},significant:function(c,f){return c<f}}),r.extend(r.fn,{normalci:function(c,f){return r.normalci(c,f,this.toArray())},tci:function(c,f){return r.tci(c,f,this.toArray())}});function u(l,c,f,d){if(l>1||f>1||l<=0||f<=0)throw new Error("Proportions should be greater than 0 and less than 1");var h=(l*c+f*d)/(c+d),p=i.sqrt(h*(1-h)*(1/c+1/d));return(l-f)/p}r.extend(r.fn,{oneSidedDifferenceOfProportions:function(c,f,d,h){var p=u(c,f,d,h);return r.ztest(p,1)},twoSidedDifferenceOfProportions:function(c,f,d,h){var p=u(c,f,d,h);return r.ztest(p,2)}})}(n,Math),n.models=function(){function r(u){var l=u[0].length,c=n.arange(l).map(function(f){var d=n.arange(l).filter(function(h){return h!==f});return i(n.col(u,f).map(function(h){return h[0]}),n.col(u,d))});return c}function i(u,l){var c=u.length,f=l[0].length-1,d=c-f-1,h=n.lstsq(l,u),p=n.multiply(l,h.map(function(x){return[x]})).map(function(x){return x[0]}),m=n.subtract(u,p),g=n.mean(u),y=n.sum(p.map(function(x){return Math.pow(x-g,2)})),v=n.sum(u.map(function(x,S){return Math.pow(x-p[S],2)})),b=y+v,w=y/b;return{exog:l,endog:u,nobs:c,df_model:f,df_resid:d,coef:h,predict:p,resid:m,ybar:g,SST:b,SSE:y,SSR:v,R2:w}}function s(u){var l=r(u.exog),c=Math.sqrt(u.SSR/u.df_resid),f=l.map(function(g){var y=g.SST,v=g.R2;return c/Math.sqrt(y*(1-v))}),d=u.coef.map(function(g,y){return(g-0)/f[y]}),h=d.map(function(g){var y=n.studentt.cdf(g,u.df_resid);return(y>.5?1-y:y)*2}),p=n.studentt.inv(.975,u.df_resid),m=u.coef.map(function(g,y){var v=p*f[y];return[g-v,g+v]});return{se:f,t:d,p:h,sigmaHat:c,interval95:m}}function o(u){var l=u.R2/u.df_model/((1-u.R2)/u.df_resid),c=function(d,h,p){return n.beta.cdf(d/(p/h+d),h/2,p/2)},f=1-c(l,u.df_model,u.df_resid);return{F_statistic:l,pvalue:f}}function a(u,l){var c=i(u,l),f=s(c),d=o(c),h=1-(1-c.R2)*((c.nobs-1)/c.df_resid);return c.t=f,c.f=d,c.adjust_R2=h,c}return{ols:a}}(),n.extend({buildxmatrix:function(){for(var i=new Array(arguments.length),s=0;s<arguments.length;s++){var o=[1];i[s]=o.concat(arguments[s])}return n(i)},builddxmatrix:function(){for(var i=new Array(arguments[0].length),s=0;s<arguments[0].length;s++){var o=[1];i[s]=o.concat(arguments[0][s])}return n(i)},buildjxmatrix:function(i){for(var s=new Array(i.length),o=0;o<i.length;o++)s[o]=i[o];return n.builddxmatrix(s)},buildymatrix:function(i){return n(i).transpose()},buildjymatrix:function(i){return i.transpose()},matrixmult:function(i,s){var o,a,u,l,c;if(i.cols()==s.rows()){if(s.rows()>1){for(l=[],o=0;o<i.rows();o++)for(l[o]=[],a=0;a<s.cols();a++){for(c=0,u=0;u<i.cols();u++)c+=i.toArray()[o][u]*s.toArray()[u][a];l[o][a]=c}return n(l)}for(l=[],o=0;o<i.rows();o++)for(l[o]=[],a=0;a<s.cols();a++){for(c=0,u=0;u<i.cols();u++)c+=i.toArray()[o][u]*s.toArray()[a];l[o][a]=c}return n(l)}},regress:function(i,s){var o=n.xtranspxinv(i),a=i.transpose(),u=n.matrixmult(n(o),a);return n.matrixmult(u,s)},regresst:function(i,s,o){var a=n.regress(i,s),u={};u.anova={};var l=n.jMatYBar(i,a);u.yBar=l;var c=s.mean();u.anova.residuals=n.residuals(s,l),u.anova.ssr=n.ssr(l,c),u.anova.msr=u.anova.ssr/(i[0].length-1),u.anova.sse=n.sse(s,l),u.anova.mse=u.anova.sse/(s.length-(i[0].length-1)-1),u.anova.sst=n.sst(s,c),u.anova.mst=u.anova.sst/(s.length-1),u.anova.r2=1-u.anova.sse/u.anova.sst,u.anova.r2<0&&(u.anova.r2=0),u.anova.fratio=u.anova.msr/u.anova.mse,u.anova.pvalue=n.anovaftest(u.anova.fratio,i[0].length-1,s.length-(i[0].length-1)-1),u.anova.rmse=Math.sqrt(u.anova.mse),u.anova.r2adj=1-u.anova.mse/u.anova.mst,u.anova.r2adj<0&&(u.anova.r2adj=0),u.stats=new Array(i[0].length);for(var f=n.xtranspxinv(i),d,h,p,m=0;m<a.length;m++)d=Math.sqrt(u.anova.mse*Math.abs(f[m][m])),h=Math.abs(a[m]/d),p=n.ttest(h,s.length-i[0].length-1,o),u.stats[m]=[a[m],d,h,p];return u.regress=a,u},xtranspx:function(i){return n.matrixmult(i.transpose(),i)},xtranspxinv:function(i){var s=n.matrixmult(i.transpose(),i),o=n.inv(s);return o},jMatYBar:function(i,s){var o=n.matrixmult(i,s);return new n(o)},residuals:function(i,s){return n.matrixsubtract(i,s)},ssr:function(i,s){for(var o=0,a=0;a<i.length;a++)o+=Math.pow(i[a]-s,2);return o},sse:function(i,s){for(var o=0,a=0;a<i.length;a++)o+=Math.pow(i[a]-s[a],2);return o},sst:function(i,s){for(var o=0,a=0;a<i.length;a++)o+=Math.pow(i[a]-s,2);return o},matrixsubtract:function(i,s){for(var o=new Array(i.length),a=0;a<i.length;a++){o[a]=new Array(i[a].length);for(var u=0;u<i[a].length;u++)o[a][u]=i[a][u]-s[a][u]}return n(o)}}),n.jStat=n,n})})(fUe);var Mqt=fUe.exports;const JJ=tf(Mqt);function PM(e,t){const{xi:n,omega:r,nu:i,alpha:s}=t;if(r<=0)throw new Error("Scale parameter omega must be positive");if(i<=0)throw new Error("Degrees of freedom nu must be positive");if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(s))throw new Error("All parameters must be finite");const o=(e-n)/r,a=JJ.studentt.pdf(o,i),u=s*o*Math.sqrt((i+1)/(i+o*o)),l=JJ.studentt.cdf(u,i+1);return 2/r*a*l}function dUe(e,t){const{xi:n,omega:r,nu:i,alpha:s}=t;if(r<=0)throw new Error("Scale parameter omega must be positive");if(i<=0)throw new Error("Degrees of freedom nu must be positive");if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(s))throw new Error("All parameters must be finite");if(!Number.isFinite(e))return e>0?1:0;if(Math.abs(s)<1e-10){const d=(e-n)/r;return JJ.studentt.cdf(d,i)}if(Math.abs(e-n)<1e-10)return .5;const o=(e-n)/r;if(o<-100)return 0;if(o>100)return 1;const a=Math.min(n-10*r,e-.1),u=1e3,l=(e-a)/u;let c=0,f=PM(a,t);for(let d=1;d<=u;d+=1){const h=a+d*l,p=PM(h,t);c+=(f+p)*.5*l,f=p}return Math.max(0,Math.min(1,c))}function hUe(e,t=[-5,5],n=.01){const{xi:r,omega:i,nu:s,alpha:o}=e;if(i<=0||s<=0)throw new Error("Scale parameter omega and degrees of freedom nu must be positive");const a=[],u=Math.floor(t[0]/n)*n,l=Math.ceil(t[1]/n)*n;for(let d=u;d<=l;d+=n){const h=Number(d.toFixed(10));a.push(h)}const c=a.map(d=>{try{return PM(d,e)}catch(h){return console.warn(`Error calculating PDF at x=${d}:`,h),0}}),f=a.map(d=>{try{return dUe(d,e)}catch(h){console.warn(`Error calculating CDF at x=${d}:`,h);const p=(d-r)/i;return p<0?.5*(1+Math.tanh(p)):.5+.5*(1-Math.exp(-p))}});return{xVals:a,pdfVals:c,cdfVals:f}}function Fqt(e,t){let n=0,r=e.xVals.length-1;const i=e.xVals.findIndex(u=>Math.abs(u-t)<1e-10);if(i>=0)return{pdf:e.pdfVals[i],cdf:e.cdfVals[i]};for(;n<=r;){const u=Math.floor((n+r)/2);e.xVals[u]<t?n=u+1:r=u-1}if(r=Math.max(0,r),n=Math.min(e.xVals.length-1,n),r>=n)return{pdf:e.pdfVals[n],cdf:e.cdfVals[n]};const s=(t-e.xVals[r])/(e.xVals[n]-e.xVals[r]),o=e.pdfVals[r]*(1-s)+e.pdfVals[n]*s,a=e.cdfVals[r]*(1-s)+e.cdfVals[n]*s;return{pdf:o,cdf:a}}const Bqt=Object.freeze(Object.defineProperty({__proto__:null,findDistributionValue:Fqt,generateDistributionData:hUe,skewTCDF:dUe,skewTPDF:PM},Symbol.toStringTag,{value:"Module"}));function pUe({distributionData:e,showPDF:t,xScale:n,yScale:r,setSelectedPoint:i,setNearestPoint:s,setCursor:o,setAnswer:a,curveProximityThreshold:u=50}){const l=R.useCallback((p,m)=>{if(!e)return null;const g=t?e.pdfVals:e.cdfVals,y=n.invert(p);r.invert(m);const v=pp(k=>k).left,b=v(e.xVals,y);if(b<=0)return{x:e.xVals[0],y:g[0]};if(b>=e.xVals.length){const k=e.xVals.length-1;return{x:e.xVals[k],y:g[k]}}const w=e.xVals[b-1],x=e.xVals[b],S=g[b-1],A=g[b];return Math.abs(y-w)>Math.abs(y-x)?{x,y:A}:{x:w,y:S}},[e,t,n,r]),c=R.useCallback((p,m)=>{const g=l(p,m);if(!g)return!1;const y=n(g.x),v=r(g.y);return Math.sqrt((p-y)**2+(m-v)**2)<u},[u,l,n,r]),f=R.useCallback(p=>{if(!e)return;const g=p.currentTarget.getBoundingClientRect(),y=p.clientX-g.left,v=p.clientY-g.top,b=c(y,v);if(o({x:y,y:v,isNearCurve:b}),b){const w=l(y,v);s(w)}else s(null)},[e,o,c,l,s]),d=R.useCallback(p=>{if(!e)return;const g=p.currentTarget.getBoundingClientRect(),y=p.clientX-g.left,v=p.clientY-g.top;if(c(y,v)){const w=l(y,v);w?(i(w),a({status:!0,answers:{"location-x":w.x,"location-y":w.y}})):a({status:!1,answers:{"location-x":null,"location-y":null}})}},[e,l,i,a,c]);return{handleMouseLeave:R.useCallback(()=>{o(null),s(null)},[o,s]),handleClick:d,handleMouseMove:f,findClosestPoint:l,isCursorNearCurve:c}}const jqt=Object.freeze(Object.defineProperty({__proto__:null,useChartInteractions:pUe},Symbol.toStringTag,{value:"Module"})),eG={height:450,width:600,margin:{top:15,right:15,left:50,bottom:40}};function Uqt(){return{xi:Number((Math.random()*8-4).toFixed(3)),omega:Number((.3+Math.random()*1.2).toFixed(3)),nu:3+Math.floor(Math.random()*27),alpha:Number((Math.random()*10-5).toFixed(3))}}function zqt({distributionData:e,showPDF:t,training:n,taskType:r,cursor:i,setCursor:s,selectedPoint:o,setSelectedPoint:a,setAnswer:u,currentParams:l}){const{xScale:c,yScale:f}=D2(),[d,h]=R.useState(null),{handleMouseMove:p,handleClick:m,handleMouseLeave:g,findClosestPoint:y}=pUe({distributionData:e,showPDF:t,xScale:c,yScale:f,setSelectedPoint:a,setCursor:s,setNearestPoint:h,setAnswer:b=>{u({status:b.status,answers:{...b.answers,currentParams:l}})}}),v=R.useMemo(()=>{if(!n)return{x:null,y:null,tangentLine:null};if(!o&&(!i||!i.isNearCurve))return{x:null,y:null,tangentLine:null};const b=i!=null&&i.isNearCurve?d:o;if(!b)return{x:null,y:null,tangentLine:null};const w=pp(x=>x).left(e.xVals,b.x);switch(r){case"pdf_median":return b?(w>0&&w<e.pdfVals.length-1&&(e.pdfVals[w+1]-e.pdfVals[w-1])/(e.xVals[w+1]-e.xVals[w-1]),{x:b.x,y:null,tangentLine:null}):{x:null,y:null,tangentLine:null};case"pdf_mode":return{x:null,y:b.y,tangentLine:null};case"cdf_median":return{x:null,y:.5,tangentLine:null};case"cdf_mode":return{x:null,y:null,tangentLine:{point:b,slope:(e.cdfVals[w+1]-e.cdfVals[w-1])/(e.xVals[w+1]-e.xVals[w-1])}};default:return{x:null,y:null,tangentLine:null}}},[i,o,n,r,e,d]);return E.jsx(cUe,{distributionData:e,isTraining:n,showPDF:t,onClick:m,onMouseMove:p,onMouseLeave:g,cursor:i,selectedPoint:o,nearestPoint:d,guidelines:v,axisLabels:{x:"Value",y:t?"Density":"Cumulative Probability"}})}function Vqt({parameters:e,setAnswer:t}){const{params:n,showPDF:r,training:i,taskType:s}=e,[o,a]=R.useState(()=>n||Uqt()),[u,l]=R.useState(null),[c,f]=R.useState(null),[d,h]=R.useState(null),p=R.useMemo(()=>hUe(o),[o]);R.useMemo(()=>[p.xVals[0],p.xVals[p.xVals.length-1]],[p]);const m=R.useCallback(()=>{f(null),t({status:!1,answers:{"param-xi":o.xi,"param-omega":o.omega,"param-nu":o.nu,"param-alpha":o.alpha}})},[t,o]),g=R.useCallback(y=>{h(y.answers);const v={...y.answers,"param-xi":o.xi,"param-omega":o.omega,"param-nu":o.nu,"param-alpha":o.alpha};t({status:y.status,answers:v})},[t,o]);return R.useEffect(()=>{t({status:!1,answers:{"param-xi":o.xi,"param-omega":o.omega,"param-nu":o.nu,"param-alpha":o.alpha}})},[o,t]),E.jsx($l,{p:"md",children:E.jsxs("div",{className:"mt-4",children:[E.jsx(iUe,{width:eG.width,height:eG.height,margin:eG.margin,xDomain:[-5,5],yDomain:[0,1],children:E.jsx(zqt,{distributionData:p,showPDF:r,training:i,taskType:s,cursor:u,setCursor:l,selectedPoint:c,setSelectedPoint:f,setAnswer:g,currentParams:o})}),E.jsx(on,{onClick:m,mt:"md",children:"Clear Point"}),E.jsx(iu,{h:"xl"}),E.jsxs(Ue,{size:"md",c:"dimmed",children:["Debug - Random Parameters: xi=",o.xi.toFixed(2),", omega=",o.omega.toFixed(2),", nu=",o.nu,", alpha=",o.alpha.toFixed(2)]})]})})}const Hqt=Object.freeze(Object.defineProperty({__proto__:null,default:Vqt},Symbol.toStringTag,{value:"Module"}));var mUe=(e=>(e.PDF_MEDIAN="pdf_median",e.PDF_MODE="pdf_mode",e.CDF_MEDIAN="cdf_median",e.CDF_MODE="cdf_mode",e))(mUe||{});const qqt=Object.freeze(Object.defineProperty({__proto__:null,TaskType:mUe},Symbol.toStringTag,{value:"Module"})),Wqt=e=>e*Math.PI/180;function Gqt({parameters:e,setAnswer:t}){var w;const n=R.useRef(null),r=R.useRef(null),i=R.useRef(null),{blindspotAngle:s}=e,o=Kr(x=>x.answers),a=Number((w=o.calibration_3.answer)==null?void 0:w.pixelsPerMM),[u,l]=R.useState([]),[c,f]=R.useState(!1),[d,h]=R.useState(null),[p,m]=R.useState(5),g=R.useCallback(x=>{if(!x.length||!a||!r.current)return;const S=x.reduce((P,L)=>P+L,0)/x.length,C=r.current.getBoundingClientRect().left,k=Math.abs(S-C)/a/Math.tan(Wqt(s));h(k),f(!1)},[s,a]),y=()=>{n.current&&(n.current.style.left="740px")},v=R.useCallback(()=>{if(!n.current||!r.current||!a||u.length>=5)return;f(!0);let x=!1,S=0;const A=1e3,C=$=>{if(!n.current)return;if(x){$-S>=A&&(x=!1,n.current.style.left="740px"),i.current=requestAnimationFrame(C);return}const P=parseInt(n.current.style.left||"740",10)-2;P<=0?(x=!0,S=$):n.current.style.left=`${P}px`,i.current=requestAnimationFrame(C)};i.current=requestAnimationFrame(C)},[u,a]),b=()=>{i.current&&cancelAnimationFrame(i.current),f(!1)};return R.useEffect(()=>{d!==null&&u.length===5&&t({status:!0,answers:{"dist-calibration-MM":d,"dist-calibration-CM":d/10,"ball-positions":JSON.stringify(u)}})},[d,u,t]),R.useEffect(()=>{const x=S=>{if(S.code==="Space"){if(S.preventDefault(),!c)v();else if(n.current){b();const C=n.current.getBoundingClientRect().left;l($=>{const k=[...$,C];return k.length>=5&&g(k),k}),m($=>$-1),y()}}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[c,v,g]),R.useEffect(()=>(h(null),f(!1),l([]),m(5),y(),()=>{h(null),f(!1),l([]),m(5)}),[]),R.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[]),a?E.jsx($l,{size:"md",children:E.jsxs(zi,{gap:"md",children:[E.jsx(Ue,{children:"Now we will quickly measure how far away you are sitting. "}),E.jsxs(zi,{gap:"xs",children:[E.jsxs(yo,{children:[E.jsxs(yo.Item,{children:["Put your left hand on the ",E.jsx("b",{children:"space bar"}),"."]}),E.jsx(yo.Item,{children:"Cover your right eye with your right hand."}),E.jsx(yo.Item,{children:"Using your left eye, focus on the black square. Keep your focus on the black square."}),E.jsxs(yo.Item,{children:["The ",E.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"red ball"})," will disappear as it moves from right to left. Press the space bar as soon as the ball disappears."]})]}),E.jsx(Ue,{ta:"center",children:u.length>=5?"All measurements completed!":"Press the space bar when you are ready to begin."})]}),E.jsxs("div",{style:{position:"relative",width:"900px",height:"100px",backgroundColor:"#ffffff"},children:[E.jsx("div",{ref:n,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(255, 0, 0)",borderRadius:"30px",left:"740px"}}),E.jsx("div",{ref:r,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(0, 0, 0)",left:"870px"}})]}),E.jsxs(Ue,{ta:"center",children:["Remaining measurements: ",5-u.length]}),d&&E.jsxs(zi,{gap:"xs",children:[E.jsx(Ue,{fw:700,size:"lg",children:"Viewing Distance Results"}),E.jsxs(Ue,{children:["Estimated Viewing Distance: ",(d/10).toFixed(1)," cm"]}),E.jsxs(Ue,{children:["Number of measurements: ",u.length]})]})]})}):E.jsx("div",{children:"Please complete card calibration first."})}const Yqt=Object.freeze(Object.defineProperty({__proto__:null,default:Gqt},Symbol.toStringTag,{value:"Module"})),Kqt="/vis-decode/assets/costco_card-B3j7PHjO.png";function Xqt({parameters:e,setAnswer:t,itemWidthMM:n=85.6,itemHeightMM:r=53.98,fixedCorner:i="top-left"}){const[s,o]=R.useState(300),[a,u]=R.useState(null),[l,c]=R.useState(!1),[f,d]=R.useState({min:100,max:500}),{taskid:h}=e,p=R.useRef(null),m=R.useRef(null),g=r/n;R.useEffect(()=>{const S=()=>{const A=window.innerWidth;d({min:Math.round(A*.1),max:Math.round(A*.8)})};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const y=S=>Math.round(S*g),v=S=>S/n,b=S=>{o(S)},w=()=>{if(!p.current)return;const S=v(s);u(S),t({status:!0,answers:{[h]:S}}),c(!0)},x=()=>({position:"relative",width:"100%",height:`${y(f.max)}px`,display:"flex",justifyContent:i.includes("right")?"flex-end":"flex-start",alignItems:i.includes("bottom")?"flex-end":"flex-start"});return E.jsx($l,{size:"md",children:E.jsxs(zi,{gap:"lg",children:[E.jsx(Ue,{size:"md",children:" Drag the slider until the image is the same size as a credit card held up to the screen."}),E.jsx(Ue,{size:"md",children:" You can use any card this is the same size as a credit card, like a membership card or driver's license."}),E.jsx(Ue,{size:"md",children:" If you do not have access to a real card, you can use a ruler to measure the image width to 3.37 inches or 85.6mm. "}),E.jsx(Ue,{size:"md",children:" Once you are finished, click 'Confirm Size' and then 'Next'. "}),E.jsx(on,{onClick:w,size:"lg",variant:"transparent",children:"Confirm Size"}),E.jsx(s_,{min:f.min,max:f.max,value:s,label:null,onChange:b,styles:{root:{width:"100%"},track:{cursor:"pointer"},thumb:{cursor:"grab"},bar:{cursor:"pointer"}}}),E.jsx("div",{ref:m,style:x(),children:E.jsx("div",{ref:p,style:{width:`${s}px`,height:`${y(s)}px`,overflow:"hidden"},children:E.jsx("img",{src:Kqt,alt:"Credit Card",style:{width:"100%",height:"100%",objectFit:"contain"}})})}),l&&E.jsxs("div",{style:{textAlign:"center",color:"green"},children:["Calibration Complete - Pixels per MM: ",a==null?void 0:a.toFixed(2)]})]})})}const Qqt=Object.freeze(Object.defineProperty({__proto__:null,default:Xqt},Symbol.toStringTag,{value:"Module"})),Jqt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function Zqt(e){const t=Kr(r=>r.answers);return R.useMemo(()=>{const r=Object.keys(t).filter(s=>e.length===0?!0:e.some(o=>{const a=s.split("_");return o.includes("_")&&s.startsWith(o+"_")||o.startsWith("task")&&a[0]===o||!Number.isNaN(Number(o))&&a.length>2&&a[3]===o?!0:s===o})),i={};return r.forEach(s=>{s&&(Object.keys(t[s].answer).length>0?i[s]=t[s].answer:i[s]=null)}),i},[t,e])}const gUe=R.createContext(null);function eue({width:e,height:t,margin:n,xDomain:r,yDomain:i,children:s}){const o=R.useMemo(()=>{const a=Pa().domain(r).range([n.left,e-n.right]),u=Pa().domain(i).range([t-n.bottom,n.top]);return{xScale:a,yScale:u,width:e,height:t,margin:n}},[e,t,n,r,i]);return E.jsx(gUe.Provider,{value:o,children:s})}function L2(){const e=R.useContext(gUe);if(!e)throw new Error("useScales must be used within a ScalesProvider");return e}const eWt=Object.freeze(Object.defineProperty({__proto__:null,ScalesProvider:eue,useScales:L2},Symbol.toStringTag,{value:"Module"}));function ZJ({value:e,min:t,max:n,onChange:r,onChangeEnd:i}){const[s,o]=R.useState(!1),a=u=>{o(!0),i(u)};return E.jsx(s_,{value:s?e:0,onChange:r,onChangeEnd:a,min:t,max:n,step:.01,label:u=>u.toFixed(2),styles:{root:{width:"100%"},track:{width:"100%",backgroundColor:"#e9ecef"},bar:{backgroundColor:"#e9ecef"},thumb:{display:s?"block":"none"}},"data-source":"block-5-sliders"})}const tWt=Object.freeze(Object.defineProperty({__proto__:null,default:ZJ},Symbol.toStringTag,{value:"Module"}));function tue({point:e}){const{xScale:t,yScale:n}=L2();return!e||e.x===null||e.y===null?null:E.jsx("circle",{cx:t(e.x),cy:n(e.y),r:4,fill:"#f03b20",pointerEvents:"none","data-source":"ClickMarker"})}const nWt=Object.freeze(Object.defineProperty({__proto__:null,default:tue},Symbol.toStringTag,{value:"Module"})),tG={margin:{top:15,right:15,bottom:40,left:50},height:450,width:600};function rWt({setAnswer:e,axisLabels:t,children:n}){const{xScale:r,yScale:i,width:s,height:o,margin:a}=L2(),u=R.useRef(null),l=R.useRef(null),[c,f]=R.useState(null),[d,h]=R.useState(null),[p,m]=R.useState(!1),[g,y]=R.useState(!1);R.useEffect(()=>{u.current&&pr(u.current).call(bse(r)).attr("transform",`translate(0,${o-a.bottom})`).selectAll("text").style("font-size","12px").style("stroke-width","2px"),l.current&&pr(l.current).call(_se(i)).attr("transform",`translate(${a.left},0)`).selectAll("text").style("font-size","12px").style("stroke-width","2px")},[r,i,a,o]),R.useEffect(()=>{e({status:!1,answers:{"slider-x":null,"slider-y":null,"location-x":null,"location-y":null}})},[e]),R.useEffect(()=>{p&&g&&c!==null&&d!==null&&e({status:!0,answers:{"slider-x":c,"slider-y":d}})},[c,d,p,g,e]);const v=R.useCallback(A=>{p||m(!0),f(A)},[p]),b=R.useCallback(A=>{g||y(!0),h(A)},[g]),w=R.useCallback(A=>{f(A)},[]),x=R.useCallback(A=>{h(A)},[]),S=R.useMemo(()=>t?E.jsxs(E.Fragment,{children:[t.x&&E.jsx("text",{x:s/2,y:o-5,textAnchor:"middle",style:{fontSize:"12px",fill:"#666"},children:t.x}),t.y&&E.jsx("text",{x:-o/2,y:15,textAnchor:"middle",transform:"rotate(-90)",style:{fontSize:"12px",fill:"#666"},children:t.y})]}):null,[t,s,o]);return E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{width:s-a.left-a.right},children:[E.jsx(Ue,{size:"md",children:" X Slider "}),E.jsx(ZJ,{min:-5,max:5,value:c??0,onChange:v,onChangeEnd:w}),E.jsx(Ue,{size:"md",children:" Y Slider "}),E.jsx(ZJ,{min:0,max:1,value:d??0,onChange:b,onChangeEnd:x})]}),E.jsx(iu,{}),E.jsxs("svg",{width:s,height:o,children:[E.jsx("g",{ref:u}),E.jsx("g",{ref:l}),S,c!==null&&p&&E.jsx("circle",{cx:r(c),cy:i(0),r:5,fill:"blue",fillOpacity:.6,stroke:"white",strokeWidth:1.5,pointerEvents:"none"}),d!==null&&g&&E.jsx("circle",{cx:r(-5),cy:i(d),r:5,fill:"green",stroke:"white",strokeWidth:1.5,fillOpacity:.6,pointerEvents:"none"}),n]})]})}function iWt({parameters:e,setAnswer:t}){const{params:n}=e,r=n.trial_id,i=Zqt([r.toString()]),s=Object.keys(i)[0];let o={x:null,y:null};if(i[s]){const u=i[s],l=u["location-x"],c=u["location-y"];l&&c&&(o={x:l,y:c})}const a=R.useCallback(u=>{const l={status:u.status,answers:{...u.answers,"location-x":o.x,"location-y":o.y}};o.x===null&&u.answers["slider-x"]!==null&&(l.answers["location-x"]=u.answers["slider-x"]),o.y===null&&u.answers["slider-y"]!==null&&(l.answers["location-y"]=u.answers["slider-y"]),t(l)},[o,t]);return E.jsx(zi,{children:E.jsx(eue,{width:tG.width,height:tG.height,margin:tG.margin,xDomain:[-5,5],yDomain:[0,1],children:E.jsx(rWt,{setAnswer:a,axisLabels:{x:"X Axis",y:"Y Axis"},children:E.jsx(tue,{point:o})})})})}const sWt=Object.freeze(Object.defineProperty({__proto__:null,default:iWt},Symbol.toStringTag,{value:"Module"}));function yUe({data:e,strokeColor:t="currentColor",strokeWidth:n=2}){const{xScale:r,yScale:i}=L2(),s=BB().x(o=>r(o.x)).y(o=>i(o.y));return E.jsx("path",{d:s(e)||"",fill:"none",stroke:t,strokeWidth:n,"data-source":"Line"})}const oWt=Object.freeze(Object.defineProperty({__proto__:null,default:yUe},Symbol.toStringTag,{value:"Module"}));function vUe({xValue:e,yValue:t,tangentLine:n}){const{xScale:r,yScale:i,width:s,height:o,margin:a}=L2(),u=()=>e==null?null:E.jsx("line",{x1:r(e),x2:r(e),y1:a.top,y2:o-a.bottom,stroke:"#666",strokeWidth:1.5,strokeDasharray:"4","data-source":"Guidelines-vertical"}),l=()=>t==null?null:E.jsx("line",{x1:a.left,x2:s-a.right,y1:i(t),y2:i(t),stroke:"#666",strokeWidth:1,strokeDasharray:"4","data-source":"Guidelines-horizontal"}),c=()=>{if(!n)return null;const f=(r.domain()[1]-r.domain()[0])*.05,d=n.point.x-f,h=n.point.y-f*n.slope,p=n.point.x+f,m=n.point.y+f*n.slope;return E.jsx("line",{x1:r(d),y1:i(h),x2:r(p),y2:i(m),stroke:"#666",strokeWidth:1.5,strokeDasharray:"4","data-source":"Guidelines-tangent"})};return E.jsxs("g",{children:[u(),l(),c()]})}const aWt=Object.freeze(Object.defineProperty({__proto__:null,default:vUe},Symbol.toStringTag,{value:"Module"}));function bUe({distributionData:e,showPDF:t=!0,strokeColor:n="#2c7fb8",strokeWidth:r=2,isTraining:i=!1,axisLabels:s,selectedPoint:o,guidelines:a,children:u}){const{xScale:l,yScale:c,width:f,height:d,margin:h}=L2(),p=R.useRef(null),m=R.useRef(null),g=R.useMemo(()=>{const v=t?e.pdfVals:e.cdfVals;return e.xVals.map((b,w)=>({x:b,y:v[w]}))},[e,t]);R.useEffect(()=>{p.current&&pr(p.current).call(bse(l).offset(0)).attr("transform",`translate(0,${d-h.bottom})`).selectAll("text").style("font-size","12px"),m.current&&pr(m.current).call(_se(c).offset(0)).attr("transform",`translate(${h.left},0)`).selectAll("text").style("font-size","12px")},[l,c,h,d]);const y=R.useMemo(()=>s?E.jsxs(E.Fragment,{children:[s.x&&E.jsx("text",{x:f/2,y:d-5,textAnchor:"middle",style:{fontSize:"12px",fill:"#666"},children:s.x}),s.y&&E.jsx("text",{x:-d/2,y:15,textAnchor:"middle",transform:"rotate(-90)",style:{fontSize:"12px",fill:"#666"},children:s.y})]}):null,[s,f,d]);return E.jsxs("svg",{width:f,height:d,children:[E.jsx(yUe,{data:g,strokeColor:n,strokeWidth:r}),E.jsx("g",{ref:p}),E.jsx("g",{ref:m}),y,o&&E.jsx(tue,{point:o}),i&&a&&E.jsx(vUe,{xValue:a.x,yValue:a.y,tangentLine:a.tangentLine}),u]})}const uWt=Object.freeze(Object.defineProperty({__proto__:null,default:bUe},Symbol.toStringTag,{value:"Module"}));/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var lWt=typeof Object.defineProperty=="function"?Object.defineProperty:null,cWt=lWt;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var fWt=cWt;function dWt(){try{return fWt({},"x",{}),!0}catch{return!1}}var hWt=dWt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var pWt=Object.defineProperty,mWt=pWt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gWt(e){return typeof e=="number"}var _Ue=gWt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yWt(e){return e[0]==="-"}function C2e(e){var t="",n;for(n=0;n<e;n++)t+="0";return t}function vWt(e,t,n){var r=!1,i=t-e.length;return i<0||(yWt(e)&&(r=!0,e=e.substr(1)),e=n?e+C2e(i):C2e(i)+e,r&&(e="-"+e)),e}var wUe=vWt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var bWt=_Ue,I2e=wUe,_Wt=String.prototype.toLowerCase,k2e=String.prototype.toUpperCase;function wWt(e){var t,n,r;switch(e.specifier){case"b":t=2;break;case"o":t=8;break;case"x":case"X":t=16;break;case"d":case"i":case"u":default:t=10;break}if(n=e.arg,r=parseInt(n,10),!isFinite(r)){if(!bWt(n))throw new Error("invalid integer. Value: "+n);r=0}return r<0&&(e.specifier==="u"||t!==10)&&(r=4294967295+r+1),r<0?(n=(-r).toString(t),e.precision&&(n=I2e(n,e.precision,e.padRight)),n="-"+n):(n=r.toString(t),!r&&!e.precision?n="":e.precision&&(n=I2e(n,e.precision,e.padRight)),e.sign&&(n=e.sign+n)),t===16&&(e.alternate&&(n="0x"+n),n=e.specifier===k2e.call(e.specifier)?k2e.call(n):_Wt.call(n)),t===8&&e.alternate&&n.charAt(0)!=="0"&&(n="0"+n),n}var xWt=wWt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function EWt(e){return typeof e=="string"}var TWt=EWt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var SWt=_Ue,AWt=Math.abs,CWt=String.prototype.toLowerCase,R2e=String.prototype.toUpperCase,X_=String.prototype.replace,IWt=/e\+(\d)$/,kWt=/e-(\d)$/,RWt=/^(\d+)$/,$Wt=/^(\d+)e/,NWt=/\.0$/,PWt=/\.0*e/,OWt=/(\..*[^0])0*e/;function DWt(e){var t,n,r=parseFloat(e.arg);if(!isFinite(r)){if(!SWt(e.arg))throw new Error("invalid floating-point number. Value: "+n);r=e.arg}switch(e.specifier){case"e":case"E":n=r.toExponential(e.precision);break;case"f":case"F":n=r.toFixed(e.precision);break;case"g":case"G":AWt(r)<1e-4?(t=e.precision,t>0&&(t-=1),n=r.toExponential(t)):n=r.toPrecision(e.precision),e.alternate||(n=X_.call(n,OWt,"$1e"),n=X_.call(n,PWt,"e"),n=X_.call(n,NWt,""));break;default:throw new Error("invalid double notation. Value: "+e.specifier)}return n=X_.call(n,IWt,"e+0$1"),n=X_.call(n,kWt,"e-0$1"),e.alternate&&(n=X_.call(n,RWt,"$1."),n=X_.call(n,$Wt,"$1.e")),r>=0&&e.sign&&(n=e.sign+n),n=e.specifier===R2e.call(e.specifier)?R2e.call(n):CWt.call(n),n}var LWt=DWt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $2e(e){var t="",n;for(n=0;n<e;n++)t+=" ";return t}function MWt(e,t,n){var r=t-e.length;return r<0||(e=n?e+$2e(r):$2e(r)+e),e}var FWt=MWt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var BWt=xWt,jWt=TWt,UWt=LWt,zWt=FWt,VWt=wUe,HWt=String.fromCharCode,qWt=Array.isArray;function h8(e){return e!==e}function WWt(e){var t={};return t.specifier=e.specifier,t.precision=e.precision===void 0?1:e.precision,t.width=e.width,t.flags=e.flags||"",t.mapping=e.mapping,t}function GWt(e){var t,n,r,i,s,o,a,u,l;if(!qWt(e))throw new TypeError("invalid argument. First argument must be an array. Value: `"+e+"`.");for(o="",a=1,u=0;u<e.length;u++)if(r=e[u],jWt(r))o+=r;else{if(t=r.precision!==void 0,r=WWt(r),!r.specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+u+"`. Value: `"+r+"`.");for(r.mapping&&(a=r.mapping),n=r.flags,l=0;l<n.length;l++)switch(i=n.charAt(l),i){case" ":r.sign=" ";break;case"+":r.sign="+";break;case"-":r.padRight=!0,r.padZeros=!1;break;case"0":r.padZeros=n.indexOf("-")<0;break;case"#":r.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if(r.width==="*"){if(r.width=parseInt(arguments[a],10),a+=1,h8(r.width))throw new TypeError("the argument for * width at position "+a+" is not a number. Value: `"+r.width+"`.");r.width<0&&(r.padRight=!0,r.width=-r.width)}if(t&&r.precision==="*"){if(r.precision=parseInt(arguments[a],10),a+=1,h8(r.precision))throw new TypeError("the argument for * precision at position "+a+" is not a number. Value: `"+r.precision+"`.");r.precision<0&&(r.precision=1,t=!1)}switch(r.arg=arguments[a],r.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":t&&(r.padZeros=!1),r.arg=BWt(r);break;case"s":r.maxWidth=t?r.precision:-1,r.arg=String(r.arg);break;case"c":if(!h8(r.arg)){if(s=parseInt(r.arg,10),s<0||s>127)throw new Error("invalid character code. Value: "+r.arg);r.arg=h8(s)?String(r.arg):HWt(s)}break;case"e":case"E":case"f":case"F":case"g":case"G":t||(r.precision=6),r.arg=UWt(r);break;default:throw new Error("invalid specifier: "+r.specifier)}r.maxWidth>=0&&r.arg.length>r.maxWidth&&(r.arg=r.arg.substring(0,r.maxWidth)),r.padZeros?r.arg=VWt(r.arg,r.width||r.precision,r.padRight):r.width&&(r.arg=zWt(r.arg,r.width,r.padRight)),o+=r.arg||"",a+=1}return o}var YWt=GWt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var KWt=YWt,XWt=KWt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var p8=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function QWt(e){var t={mapping:e[1]?parseInt(e[1],10):void 0,flags:e[2],width:e[3],precision:e[5],specifier:e[6]};return e[4]==="."&&e[5]===void 0&&(t.precision="1"),t}function JWt(e){var t,n,r,i;for(n=[],i=0,r=p8.exec(e);r;)t=e.slice(i,p8.lastIndex-r[0].length),t.length&&n.push(t),n.push(QWt(r)),i=p8.lastIndex,r=p8.exec(e);return t=e.slice(i),t.length&&n.push(t),n}var ZWt=JWt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var eGt=ZWt,tGt=eGt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nGt(e){return typeof e=="string"}var rGt=nGt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var iGt=XWt,sGt=tGt,oGt=rGt;function xUe(e){var t,n;if(!oGt(e))throw new TypeError(xUe("invalid argument. First argument must be a string. Value: `%s`.",e));for(t=[sGt(e)],n=1;n<arguments.length;n++)t.push(arguments[n]);return iGt.apply(null,t)}var aGt=xUe;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var uGt=aGt,Fo=uGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var N2e=Fo,n3=Object.prototype,P2e=n3.toString,O2e=n3.__defineGetter__,D2e=n3.__defineSetter__,lGt=n3.__lookupGetter__,cGt=n3.__lookupSetter__;function fGt(e,t,n){var r,i,s,o;if(typeof e!="object"||e===null||P2e.call(e)==="[object Array]")throw new TypeError(N2e("invalid argument. First argument must be an object. Value: `%s`.",e));if(typeof n!="object"||n===null||P2e.call(n)==="[object Array]")throw new TypeError(N2e("invalid argument. Property descriptor must be an object. Value: `%s`.",n));if(i="value"in n,i&&(lGt.call(e,t)||cGt.call(e,t)?(r=e.__proto__,e.__proto__=n3,delete e[t],e[t]=n.value,e.__proto__=r):e[t]=n.value),s="get"in n,o="set"in n,i&&(s||o))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return s&&O2e&&O2e.call(e,t,n.get),o&&D2e&&D2e.call(e,t,n.set),e}var dGt=fGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var hGt=hWt,pGt=mWt,mGt=dGt,eZ;hGt()?eZ=pGt:eZ=mGt;var M2=eZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var gGt=M2;function yGt(e,t,n){gGt(e,t,{configurable:!1,enumerable:!1,writable:!1,value:n})}var vGt=yGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var bGt=vGt,rs=bGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _Gt(e){return e!==e}var wGt=_Gt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var xGt=wGt,Ai=xGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function EGt(){return typeof Symbol=="function"&&typeof Symbol("foo")=="symbol"}var TGt=EGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var SGt=TGt,AGt=SGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var CGt=AGt,IGt=CGt();function kGt(){return IGt&&typeof Symbol.toStringTag=="symbol"}var RGt=kGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var $Gt=RGt,hj=$Gt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var NGt=Object.prototype.toString,EUe=NGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var PGt=EUe;function OGt(e){return PGt.call(e)}var DGt=OGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var LGt=Object.prototype.hasOwnProperty;function MGt(e,t){return e==null?!1:LGt.call(e,t)}var FGt=MGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var BGt=FGt,r3=BGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var jGt=typeof Symbol=="function"?Symbol:void 0,UGt=jGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var zGt=UGt,TUe=zGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var L2e=TUe,VGt=typeof L2e=="function"?L2e.toStringTag:"",HGt=VGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var qGt=r3,PI=HGt,nG=EUe;function WGt(e){var t,n,r;if(e==null)return nG.call(e);n=e[PI],t=qGt(e,PI);try{e[PI]=void 0}catch{return nG.call(e)}return r=nG.call(e),t?e[PI]=n:delete e[PI],r}var GGt=WGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var YGt=hj,KGt=DGt,XGt=GGt,tZ;YGt()?tZ=XGt:tZ=KGt;var pu=tZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var QGt=pu,JGt=typeof Uint32Array=="function";function ZGt(e){return JGt&&e instanceof Uint32Array||QGt(e)==="[object Uint32Array]"}var eYt=ZGt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var tYt=eYt,nue=tYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var nYt=4294967295,pj=nYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var rYt=typeof Uint32Array=="function"?Uint32Array:null,iYt=rYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var sYt=nue,rG=pj,M2e=iYt;function oYt(){var e,t;if(typeof M2e!="function")return!1;try{t=[1,3.14,-3.14,rG+1,rG+2],t=new M2e(t),e=sYt(t)&&t[0]===1&&t[1]===3&&t[2]===rG-2&&t[3]===0&&t[4]===1}catch{e=!1}return e}var aYt=oYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var uYt=aYt,lYt=uYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var cYt=typeof Uint32Array=="function"?Uint32Array:void 0,fYt=cYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dYt(){throw new Error("not implemented")}var hYt=dYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var pYt=lYt,mYt=fYt,gYt=hYt,nZ;pYt()?nZ=mYt:nZ=gYt;var Lm=nZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var yYt=pu,vYt=typeof Float64Array=="function";function bYt(e){return vYt&&e instanceof Float64Array||yYt(e)==="[object Float64Array]"}var _Yt=bYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wYt=_Yt,xYt=wYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var EYt=typeof Float64Array=="function"?Float64Array:null,TYt=EYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var SYt=xYt,F2e=TYt;function AYt(){var e,t;if(typeof F2e!="function")return!1;try{t=new F2e([1,3.14,-3.14,NaN]),e=SYt(t)&&t[0]===1&&t[1]===3.14&&t[2]===-3.14&&t[3]!==t[3]}catch{e=!1}return e}var CYt=AYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var IYt=CYt,SUe=IYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var kYt=typeof Float64Array=="function"?Float64Array:void 0,RYt=kYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $Yt(){throw new Error("not implemented")}var NYt=$Yt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var PYt=SUe,OYt=RYt,DYt=NYt,rZ;PYt()?rZ=OYt:rZ=DYt;var hh=rZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var LYt=pu,MYt=typeof Uint8Array=="function";function FYt(e){return MYt&&e instanceof Uint8Array||LYt(e)==="[object Uint8Array]"}var BYt=FYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var jYt=BYt,UYt=jYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var zYt=255,VYt=zYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var HYt=typeof Uint8Array=="function"?Uint8Array:null,qYt=HYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var WYt=UYt,iG=VYt,B2e=qYt;function GYt(){var e,t;if(typeof B2e!="function")return!1;try{t=[1,3.14,-3.14,iG+1,iG+2],t=new B2e(t),e=WYt(t)&&t[0]===1&&t[1]===3&&t[2]===iG-2&&t[3]===0&&t[4]===1}catch{e=!1}return e}var YYt=GYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var KYt=YYt,XYt=KYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var QYt=typeof Uint8Array=="function"?Uint8Array:void 0,JYt=QYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ZYt(){throw new Error("not implemented")}var eKt=ZYt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var tKt=XYt,nKt=JYt,rKt=eKt,iZ;tKt()?iZ=nKt:iZ=rKt;var mj=iZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var iKt=pu,sKt=typeof Uint16Array=="function";function oKt(e){return sKt&&e instanceof Uint16Array||iKt(e)==="[object Uint16Array]"}var aKt=oKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var uKt=aKt,lKt=uKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var cKt=65535,fKt=cKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var dKt=typeof Uint16Array=="function"?Uint16Array:null,hKt=dKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var pKt=lKt,sG=fKt,j2e=hKt;function mKt(){var e,t;if(typeof j2e!="function")return!1;try{t=[1,3.14,-3.14,sG+1,sG+2],t=new j2e(t),e=pKt(t)&&t[0]===1&&t[1]===3&&t[2]===sG-2&&t[3]===0&&t[4]===1}catch{e=!1}return e}var gKt=mKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var yKt=gKt,vKt=yKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var bKt=typeof Uint16Array=="function"?Uint16Array:void 0,_Kt=bKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wKt(){throw new Error("not implemented")}var xKt=wKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var EKt=vKt,TKt=_Kt,SKt=xKt,sZ;EKt()?sZ=TKt:sZ=SKt;var gj=sZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var AKt=mj,CKt=gj,IKt={uint16:CKt,uint8:AKt},kKt=IKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var U2e=kKt,AUe;function RKt(){var e,t;return e=new U2e.uint16(1),e[0]=4660,t=new U2e.uint8(e.buffer),t[0]===52}AUe=RKt();var $Kt=AUe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var NKt=$Kt,i3=NKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var PKt=i3,oZ;PKt===!0?oZ=1:oZ=0;var OKt=oZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var DKt=Lm,LKt=hh,MKt=OKt,CUe=new LKt(1),FKt=new DKt(CUe.buffer);function BKt(e){return CUe[0]=e,FKt[MKt]}var jKt=BKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var UKt=jKt,Gl=UKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var zKt=i3,aZ;zKt===!0?aZ=1:aZ=0;var VKt=aZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var HKt=Lm,qKt=hh,WKt=VKt,uZ=new qKt(1),GKt=new HKt(uZ.buffer);function YKt(e,t){return uZ[0]=e,GKt[WKt]=t>>>0,uZ[0]}var KKt=YKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var XKt=KKt,F2=XKt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var QKt=i3,IUe,lZ,cZ;QKt===!0?(lZ=1,cZ=0):(lZ=0,cZ=1);IUe={HIGH:lZ,LOW:cZ};var JKt=IUe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ZKt=Lm,eXt=hh,kUe=JKt,RUe=new eXt(1),z2e=new ZKt(RUe.buffer),tXt=kUe.HIGH,nXt=kUe.LOW;function rXt(e,t){return z2e[tXt]=e,z2e[nXt]=t,RUe[0]}var iXt=rXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var sXt=iXt,yj=sXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var oXt=Number.POSITIVE_INFINITY,is=oXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var aXt=Number;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var uXt=aXt,rue=uXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var lXt=rue,cXt=lXt.NEGATIVE_INFINITY,Ma=cXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var fXt=1023,n1=fXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var dXt=.34657359027997264,hXt=dXt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pXt(e){return e===0?-.03333333333333313:-.03333333333333313+e*(.0015873015872548146+e*(-793650757867488e-19+e*(4008217827329362e-21+e*-20109921818362437e-23)))}var mXt=pXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright, license, and long comment were part of the original implementation available as part of [FDLIBM]{@link http://www.netlib.org/fdlibm/s_expm1.c} and [FreeBSD]{@link https://svnweb.freebsd.org/base/release/12.2.0/lib/msun/src/s_expm1.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var gXt=Ai,V2e=Gl,oG=F2,yXt=yj,H2e=is,vXt=Ma,q2e=n1,bXt=hXt,_Xt=mXt,wXt=709.782712893384,aG=.6931471803691238,W2e=19082149292705877e-26,G2e=1.4426950408889634,xXt=38.816242111356935,EXt=1.0397207708399179;function TXt(e){var t,n,r,i,s,o,a,u,l,c,f,d,h;if(e===H2e||gXt(e))return e;if(e===vXt)return-1;if(e===0)return e;if(e<0?(r=!0,u=-e):(r=!1,u=e),u>=xXt){if(r)return-1;if(u>=wXt)return H2e}if(o=V2e(u)|0,u>bXt)u<EXt?r?(i=e+aG,s=-19082149292705877e-26,h=-1):(i=e-aG,s=W2e,h=1):(r?h=G2e*e-.5:h=G2e*e+.5,h|=0,f=h,i=e-f*aG,s=f*W2e),e=i-s,c=i-e-s;else{if(o<1016070144)return e;h=0}return t=.5*e,l=e*t,a=1+l*_Xt(l),f=3-a*t,d=l*((a-f)/(6-e*f)),h===0?e-(e*d-l):(n=yXt(q2e+h<<20,0),d=e*(d-c)-c,d-=l,h===-1?.5*(e-d)-.5:h===1?e<-.25?-2*(d-(e+.5)):1+2*(e-d):h<=-2||h>56?(u=1-(d-e),h===1024?(i=V2e(u)+(h<<20)|0,u=oG(u,i)):u*=n,u-1):(f=1,h<20?(i=1072693248-(2097152>>h)|0,f=oG(f,i),u=f-(d-e)):(i=q2e-h<<20|0,f=oG(f,i),u=e-(d+f),u+=1),u*=n,u))}var SXt=TXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var AXt=SXt,vj=AXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var CXt=Math.floor,IXt=CXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var kXt=IXt,Yl=kXt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function RXt(e){return e===0?.6666666666666735:.6666666666666735+e*(.3999999999940942+e*(.2857142874366239+e*(.22222198432149784+e*(.1818357216161805+e*(.15313837699209373+e*.14798198605116586)))))}var $Xt=RXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright, license, and long comment were part of the original implementation available as part of [FDLIBM]{@link http://www.netlib.org/fdlibm/s_log1p.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var NXt=Ai,Y2e=Gl,K2e=F2,PXt=is,OXt=Ma,X2e=n1,DXt=$Xt,uG=.6931471803691238,lG=19082149292705877e-26,LXt=.41421356237309503,MXt=-.2928932188134525,FXt=1862645149230957e-24,BXt=5551115123125783e-32,jXt=9007199254740992,UXt=.6666666666666666;function zXt(e){var t,n,r,i,s,o,a,u,l,c;if(e<-1||NXt(e))return NaN;if(e===-1)return OXt;if(e===PXt||e===0)return e;if(e<0?r=-e:r=e,c=1,r<LXt){if(r<FXt)return r<BXt?e:e-e*e*.5;e>MXt&&(c=0,i=e,n=1)}return c!==0&&(r<jXt?(l=1+e,n=Y2e(l),c=(n>>20)-X2e,c>0?s=1-(l-e):s=e-(l-1),s/=l):(l=e,n=Y2e(l),c=(n>>20)-X2e,s=0),n&=1048575,n<434334?l=K2e(l,n|1072693248):(c+=1,l=K2e(l,n|1071644672),n=1048576-n>>2),i=l-1),t=.5*i*i,n===0?i===0?(s+=c*lG,c*uG+s):(u=t*(1-UXt*i),c*uG-(u-(c*lG+s)-i)):(o=i/(2+i),a=o*o,u=a*DXt(a),c===0?i-(t-o*(t+u)):c*uG-(t-(o*(t+u)+(c*lG+s))-i))}var VXt=zXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var HXt=VXt,r1=HXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var qXt=Math.sqrt,WXt=qXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var GXt=WXt,ph=GXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var YXt=.7853981633974483,KXt=YXt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function XXt(e){var t,n,r;return e===0?.16666666666666713:(e<0?t=-e:t=e,t<=1?(n=-8.198089802484825+e*(19.562619833175948+e*(-16.262479672107002+e*(5.444622390564711+e*(-.6019598008014124+e*.004253011369004428)))),r=-49.18853881490881+e*(139.51056146574857+e*(-147.1791292232726+e*(70.49610280856842+e*(-14.740913729888538+e*1))))):(e=1/e,n=.004253011369004428+e*(-.6019598008014124+e*(5.444622390564711+e*(-16.262479672107002+e*(19.562619833175948+e*-8.198089802484825)))),r=1+e*(-14.740913729888538+e*(70.49610280856842+e*(-147.1791292232726+e*(139.51056146574857+e*-49.18853881490881))))),n/r)}var QXt=XXt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function JXt(e){var t,n,r;return e===0?.08333333333333809:(e<0?t=-e:t=e,t<=1?(n=28.536655482610616+e*(-25.56901049652825+e*(6.968710824104713+e*(-.5634242780008963+e*.002967721961301243))),r=342.43986579130785+e*(-383.8770957603691+e*(147.0656354026815+e*(-21.947795316429207+e*1)))):(e=1/e,n=.002967721961301243+e*(-.5634242780008963+e*(6.968710824104713+e*(-25.56901049652825+e*28.536655482610616))),r=1+e*(-21.947795316429207+e*(147.0656354026815+e*(-383.8770957603691+e*342.43986579130785)))),n/r)}var ZXt=JXt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C code, long comment, copyright, license, and constants are from [Cephes]{@link http://www.netlib.org/cephes}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright 1984, 1995, 2000 by Stephen L. Moshier
*
* Some software in this archive may be from the book _Methods and Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster International, 1989) or from the Cephes Mathematical Library, a commercial product. In either event, it is copyrighted by the author. What you see here may be used freely but it comes with no support or guarantee.
*
* Stephen L. Moshier
* moshier@na-net.ornl.gov
* ```
*/var eQt=Ai,tQt=ph,Q2e=KXt,nQt=QXt,rQt=ZXt,iQt=6123233995736766e-32;function sQt(e){var t,n,r,i,s;if(eQt(e))return NaN;if(e>0?r=e:(t=!0,r=-e),r>1)return NaN;if(r>.625)n=1-r,i=n*rQt(n),n=tQt(n+n),s=Q2e-n,n=n*i-iQt,s-=n,s+=Q2e;else{if(r<1e-8)return e;n=r*r,s=n*nQt(n),s=r*s+r}return t?-s:s}var oQt=sQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var aQt=oQt,uQt=aQt;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lQt(e){return Math.abs(e)}var cQt=lQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var fQt=cQt,ss=fQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var dQt=Math.ceil,hQt=dQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var pQt=hQt,mQt=pQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var gQt=Yl,yQt=mQt;function vQt(e){return e<0?yQt(e):gQt(e)}var bQt=vQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _Qt=bQt,iue=_Qt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wQt=1023,xQt=wQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var EQt=-1023,TQt=EQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var SQt=-1074,AQt=SQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var CQt=is,IQt=Ma;function kQt(e){return e===CQt||e===IQt}var RQt=kQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var $Qt=RQt,B2=$Qt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var NQt=2147483648,PQt=NQt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var OQt=2147483647,i1=OQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var DQt=i3,$Ue,fZ,dZ;DQt===!0?(fZ=1,dZ=0):(fZ=0,dZ=1);$Ue={HIGH:fZ,LOW:dZ};var LQt=$Ue;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var MQt=Lm,FQt=hh,NUe=LQt,PUe=new FQt(1),J2e=new MQt(PUe.buffer),BQt=NUe.HIGH,jQt=NUe.LOW;function UQt(e,t,n,r){return PUe[0]=e,t[r]=J2e[BQt],t[r+n]=J2e[jQt],t}var OUe=UQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var zQt=OUe;function VQt(e){return zQt(e,[0,0],1,0)}var HQt=VQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var qQt=rs,DUe=HQt,WQt=OUe;qQt(DUe,"assign",WQt);var bj=DUe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var GQt=PQt,YQt=i1,KQt=bj,XQt=Gl,QQt=yj,cG=[0,0];function JQt(e,t){var n,r;return KQt.assign(e,cG,1,0),n=cG[0],n&=YQt,r=XQt(t),r&=GQt,n|=r,QQt(n,cG[1])}var ZQt=JQt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var eJt=ZQt,_j=eJt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var tJt=22250738585072014e-324,uN=tJt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var nJt=uN,rJt=B2,iJt=Ai,sJt=ss,oJt=4503599627370496;function aJt(e,t,n,r){return iJt(e)||rJt(e)?(t[r]=e,t[r+n]=0,t):e!==0&&sJt(e)<nJt?(t[r]=e*oJt,t[r+n]=-52,t):(t[r]=e,t[r+n]=0,t)}var LUe=aJt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var uJt=LUe;function lJt(e){return uJt(e,[0,0],1,0)}var cJt=lJt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var fJt=rs,MUe=cJt,dJt=LUe;fJt(MUe,"assign",dJt);var hJt=MUe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var pJt=2146435072,sue=pJt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mJt=Gl,gJt=sue,yJt=n1;function vJt(e){var t=mJt(e);return t=(t&gJt)>>>20,t-yJt|0}var bJt=vJt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _Jt=bJt,wJt=_Jt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var xJt=is,EJt=Ma,TJt=n1,SJt=xQt,AJt=TQt,CJt=AQt,IJt=Ai,kJt=B2,RJt=_j,$Jt=hJt.assign,NJt=wJt,PJt=bj,OJt=yj,DJt=2220446049250313e-31,LJt=2148532223,fG=[0,0],dG=[0,0];function MJt(e,t){var n,r;return t===0||e===0||IJt(e)||kJt(e)?e:($Jt(e,fG,1,0),e=fG[0],t+=fG[1],t+=NJt(e),t<CJt?RJt(0,e):t>SJt?e<0?EJt:xJt:(t<=AJt?(t+=52,r=DJt):r=1,PJt.assign(e,dG,1,0),n=dG[0],n&=LJt,n|=t+TJt<<20,r*OJt(n,dG[1])))}var FJt=MJt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var BJt=FJt,wj=BJt;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jJt(e){return e===0?.16666666666666602:.16666666666666602+e*(-.0027777777777015593+e*(6613756321437934e-20+e*(-16533902205465252e-22+e*41381367970572385e-24)))}var UJt=jJt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyrights, licenses, and long comment were part of the original implementation available as part of [Go]{@link https://github.com/golang/go/blob/cb07765045aed5104a3df31507564ac99e6ddce8/src/math/exp.go}, which in turn was based on an implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/e_exp.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (c) 2009 The Go Authors. All rights reserved.
*
* Redistribution and use in source and binary forms, with or without
* modification, are permitted provided that the following conditions are
* met:
*
*    * Redistributions of source code must retain the above copyright
* notice, this list of conditions and the following disclaimer.
*    * Redistributions in binary form must reproduce the above
* copyright notice, this list of conditions and the following disclaimer
* in the documentation and/or other materials provided with the
* distribution.
*    * Neither the name of Google Inc. nor the names of its
* contributors may be used to endorse or promote products derived from
* this software without specific prior written permission.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
* "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
* A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
* LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
* THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
* (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
* OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
* ```
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var zJt=wj,VJt=UJt;function HJt(e,t,n){var r,i,s,o;return r=e-t,i=r*r,s=r-i*VJt(i),o=1-(t-r*s/(2-s)-e),zJt(o,n)}var qJt=HJt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyrights, licenses, and long comment were part of the original implementation available as part of [Go]{@link https://github.com/golang/go/blob/cb07765045aed5104a3df31507564ac99e6ddce8/src/math/exp.go}, which in turn was based on an implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/e_exp.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (c) 2009 The Go Authors. All rights reserved.
*
* Redistribution and use in source and binary forms, with or without
* modification, are permitted provided that the following conditions are
* met:
*
*    * Redistributions of source code must retain the above copyright
* notice, this list of conditions and the following disclaimer.
*    * Redistributions in binary form must reproduce the above
* copyright notice, this list of conditions and the following disclaimer
* in the documentation and/or other materials provided with the
* distribution.
*    * Neither the name of Google Inc. nor the names of its
* contributors may be used to endorse or promote products derived from
* this software without specific prior written permission.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
* "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
* A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
* LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
* THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
* (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
* OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
* ```
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var WJt=Ai,Z2e=iue,GJt=Ma,eEe=is,YJt=qJt,KJt=.6931471803691238,XJt=19082149292705877e-26,tEe=1.4426950408889634,QJt=709.782712893384,JJt=-745.1332191019411,ZJt=1/(1<<28),eZt=-3725290298461914e-24;function tZt(e){var t,n,r;return WJt(e)||e===eEe?e:e===GJt?0:e>QJt?eEe:e<JJt?0:e>eZt&&e<ZJt?1+e:(e<0?r=Z2e(tEe*e-.5):r=Z2e(tEe*e+.5),t=e-r*KJt,n=r*XJt,YJt(t,n,r))}var nZt=tZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var rZt=nZt,ca=rZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var iZt=Yl;function sZt(e){return iZt(e)===e}var oZt=sZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var aZt=oZt,Kl=aZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var uZt=Kl;function lZt(e){return uZt(e/2)}var cZt=lZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var fZt=cZt,xj=fZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var nEe=xj;function dZt(e){return e>0?nEe(e-1):nEe(e+1)}var hZt=dZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var pZt=hZt,oue=pZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mZt=i3,hZ;mZt===!0?hZ=0:hZ=1;var gZt=hZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var yZt=Lm,vZt=hh,bZt=gZt,pZ=new vZt(1),_Zt=new yZt(pZ.buffer);function wZt(e,t){return pZ[0]=e,_Zt[bZt]=t>>>0,pZ[0]}var xZt=wZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var EZt=xZt,s1=EZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TZt(e){return e|0}var SZt=TZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var AZt=SZt,Ej=AZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var rEe=oue,CZt=_j,IZt=Ma,m8=is;function kZt(e,t){return t===IZt?m8:t===m8?0:t>0?rEe(t)?e:0:rEe(t)?CZt(m8,e):m8}var RZt=kZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var $Zt=i1,NZt=Gl,PZt=1072693247,g8=1e300,y8=1e-300;function OZt(e,t){var n,r;return r=NZt(e),n=r&$Zt,n<=PZt?t<0?g8*g8:y8*y8:t>0?g8*g8:y8*y8}var DZt=OZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var LZt=ss,iEe=is;function MZt(e,t){return e===-1?(e-e)/(e-e):e===1?1:LZt(e)<1==(t===iEe)?0:iEe}var FZt=MZt;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function BZt(e){return e===0?.5999999999999946:.5999999999999946+e*(.4285714285785502+e*(.33333332981837743+e*(.272728123808534+e*(.23066074577556175+e*.20697501780033842))))}var jZt=BZt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var UZt=Gl,v8=s1,sEe=F2,zZt=n1,VZt=jZt,HZt=1048575,oEe=1048576,qZt=1072693248,WZt=536870912,GZt=524288,YZt=20,KZt=9007199254740992,XZt=.9617966939259756,QZt=.9617967009544373,JZt=-7028461650952758e-24,ZZt=[1,1.5],een=[0,.5849624872207642],ten=[0,1350039202129749e-23];function nen(e,t,n){var r,i,s,o,a,u,l,c,f,d,h,p,m,g,y,v,b,w,x,S,A,C;return S=0,n<oEe&&(t*=KZt,S-=53,n=UZt(t)),S+=(n>>YZt)-zZt|0,A=n&HZt|0,n=A|qZt|0,A<=235662?C=0:A<767610?C=1:(C=0,S+=1,n-=oEe),t=sEe(t,n),c=ZZt[C],w=t-c,x=1/(t+c),i=w*x,o=v8(i,0),r=(n>>1|WZt)+GZt,r+=C<<18,u=sEe(0,r),l=t-(u-c),a=x*(w-o*u-o*l),s=i*i,b=s*s*VZt(s),b+=a*(o+i),s=o*o,u=3+s+b,u=v8(u,0),l=b-(u-3-s),w=o*u,x=a*u+l*i,d=w+x,d=v8(d,0),h=x-(d-w),p=QZt*d,m=JZt*d+h*XZt+ten[C],f=een[C],v=S,g=p+m+f+v,g=v8(g,0),y=m-(g-v-f-p),e[0]=g,e[1]=y,e}var ren=nen;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ien(e){return e===0?.5:.5+e*(-.3333333333333333+e*.25)}var sen=ien;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var oen=s1,aen=sen,uen=1.4426950408889634,len=1.4426950216293335,cen=19259629911266175e-24;function fen(e,t){var n,r,i,s,o,a;return i=t-1,s=i*i*aen(i),o=len*i,a=i*cen-s*uen,r=o+a,r=oen(r,0),n=a-(r-o),e[0]=r,e[1]=n,e}var den=fen;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var hen=.6931471805599453,FUe=hen;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var pen=1048575,aue=pen;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function men(e){return e===0?.16666666666666602:.16666666666666602+e*(-.0027777777777015593+e*(6613756321437934e-20+e*(-16533902205465252e-22+e*41381367970572385e-24)))}var gen=men;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var yen=Gl,aEe=F2,ven=s1,ben=Ej,_en=wj,wen=FUe,uEe=n1,lEe=i1,cEe=aue,xen=gen,fEe=1048576,Een=1071644672,OI=20,Ten=.6931471824645996,Sen=-1904654299957768e-24;function Aen(e,t,n){var r,i,s,o,a,u,l,c,f,d,h;return d=e&lEe|0,h=(d>>OI)-uEe|0,f=0,d>Een&&(f=e+(fEe>>h+1)>>>0,h=((f&lEe)>>OI)-uEe|0,r=(f&~(cEe>>h))>>>0,s=aEe(0,r),f=(f&cEe|fEe)>>OI-h>>>0,e<0&&(f=-f),t-=s),s=n+t,s=ven(s,0),a=s*Ten,u=(n-(s-t))*wen+s*Sen,c=a+u,l=u-(c-a),s=c*c,i=c-s*xen(s),o=c*i/(i-2)-(l+c*l),c=1-(o-c),e=yen(c),e=ben(e),e+=f<<OI>>>0,e>>OI<=0?c=_en(c,f):c=aEe(c,e),c}var Cen=Aen;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var dEe=Ai,hEe=oue,pEe=B2,Ien=Kl,mEe=ph,ken=ss,hG=bj,Ren=s1,gEe=Ej,$en=Ma,Nen=is,pG=i1,Pen=RZt,Oen=DZt,Den=FZt,Len=ren,Men=den,Fen=Cen,Ben=1072693247,jen=1105199104,Uen=1139802112,yEe=1083179008,zen=1072693248,Ven=1083231232,Hen=3230714880,vEe=31,R1=1e300,$1=1e-300,qen=8008566259537294e-32,fg=[0,0],bEe=[0,0];function BUe(e,t){var n,r,i,s,o,a,u,l,c,f,d,h,p,m,g,y;if(dEe(e)||dEe(t))return NaN;if(hG.assign(t,fg,1,0),a=fg[0],u=fg[1],u===0){if(t===0)return 1;if(t===1)return e;if(t===-1)return 1/e;if(t===.5)return mEe(e);if(t===-.5)return 1/mEe(e);if(t===2)return e*e;if(t===3)return e*e*e;if(t===4)return e*=e,e*e;if(pEe(t))return Den(e,t)}if(hG.assign(e,fg,1,0),s=fg[0],o=fg[1],o===0){if(s===0)return Pen(e,t);if(e===1)return 1;if(e===-1&&hEe(t))return-1;if(pEe(e))return e===$en?BUe(-0,-t):t<0?0:Nen}if(e<0&&Ien(t)===!1)return(e-e)/(e-e);if(i=ken(e),n=s&pG|0,r=a&pG|0,l=s>>>vEe|0,c=a>>>vEe|0,l&&hEe(t)?l=-1:l=1,r>jen){if(r>Uen)return Oen(e,t);if(n<Ben)return c===1?l*R1*R1:l*$1*$1;if(n>zen)return c===0?l*R1*R1:l*$1*$1;p=Men(bEe,i)}else p=Len(bEe,i,n);if(f=Ren(t,0),h=(t-f)*p[0]+t*p[1],d=f*p[0],m=h+d,hG.assign(m,fg,1,0),g=gEe(fg[0]),y=gEe(fg[1]),g>=yEe){if(g-yEe|y||h+qen>m-d)return l*R1*R1}else if((g&pG)>=Ven&&(g-Hen|y||h<=m-d))return l*$1*$1;return m=Fen(g,d,h),l*m}var Wen=BUe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Gen=Wen,Xl=Gen;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Yen=2.718281828459045,s3=Yen;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ken=2220446049250313e-31,o1=Ken;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xen(e){var t,n,r;return e===0?1/0:(e<0?t=-e:t=e,t<=1?(n=709811.662581658+e*(679979.8474157227+e*(293136.7857211597+e*(74887.54032914672+e*(12555.290582413863+e*(1443.4299244417066+e*(115.24194596137347+e*(6.309239205732627+e*(.22668404630224365+e*(.004826466289237662+e*4624429436045379e-20))))))))),r=0+e*(362880+e*(1026576+e*(1172700+e*(723680+e*(269325+e*(63273+e*(9450+e*(870+e*(45+e*1)))))))))):(e=1/e,n=4624429436045379e-20+e*(.004826466289237662+e*(.22668404630224365+e*(6.309239205732627+e*(115.24194596137347+e*(1443.4299244417066+e*(12555.290582413863+e*(74887.54032914672+e*(293136.7857211597+e*(679979.8474157227+e*709811.662581658))))))))),r=1+e*(45+e*(870+e*(9450+e*(63273+e*(269325+e*(723680+e*(1172700+e*(1026576+e*(362880+e*0)))))))))),n/r)}var Qen=Xen;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{http://www.boost.org/doc/libs/1_85_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var _Ee=Ai,Jen=r1,Zen=ph,etn=ss,ttn=ca,mG=Xl,ntn=s3,gG=o1,yG=Qen,vG=10.900511;function rtn(e,t){var n,r,i,s,o,a,u;return _Ee(e)||_Ee(t)?NaN:e<0||t<0?NaN:t===1?1/e:e===1?1/t:(u=e+t,u<gG?(o=u/e,o/=t,o):u===e&&t<gG?1/t:u===t&&e<gG?1/e:(e<t&&(a=t,t=e,e=a),r=e+vG-.5,i=t+vG-.5,s=u+vG-.5,o=yG(e)*(yG(t)/yG(u)),n=e-.5-t,etn(t*n)<s*100&&e>100?o*=ttn(n*Jen(-t/s)):o*=mG(r/s,n),s>1e10?o*=mG(r/s*(i/s),t):o*=mG(r*i/(s*s),t),o*=Zen(ntn/i),o))}var itn=rtn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var stn=itn,jUe=stn;const nx=tf(jUe);/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var otn=is;function atn(e){return e===0&&1/e===otn}var utn=atn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ltn=utn,uue=ltn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ctn=uue,wEe=Ai,bG=is;function ftn(e,t){return wEe(e)||wEe(t)?NaN:e===bG||t===bG?bG:e===t&&e===0?ctn(e)?e:t:e>t?e:t}var dtn=ftn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var htn=dtn,lue=htn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ptn=Ma;function mtn(e){return e===0&&1/e===ptn}var gtn=mtn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ytn=gtn,Tj=ytn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var vtn=Tj,xEe=Ai,_G=Ma;function btn(e,t){return xEe(e)||xEe(t)?NaN:e===_G||t===_G?_G:e===t&&e===0?vtn(e)?e:t:e<t?e:t}var _tn=btn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wtn=_tn,lN=wtn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var xtn=17976931348623157e292,UUe=xtn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Etn=2147483647,zUe=Etn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ttn=1.5707963267948966,Stn=Ttn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Atn=3.141592653589793,j2=Atn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ctn(e){return e===0?.0416666666666666:.0416666666666666+e*(-.001388888888887411+e*2480158728947673e-20)}var Itn=Ctn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ktn(e){return e===0?-27557314351390663e-23:-27557314351390663e-23+e*(2087572321298175e-24+e*-11359647557788195e-27)}var Rtn=ktn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright, license, and long comment were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/12.2.0/lib/msun/src/k_cos.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var $tn=Itn,Ntn=Rtn;function Ptn(e,t){var n,r,i,s;return s=e*e,i=s*s,r=s*$tn(s),r+=i*i*Ntn(s),n=.5*s,i=1-n,i+(1-i-n+(s*r-e*t))}var Otn=Ptn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Dtn=Otn,VUe=Dtn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright, license, and long comment were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/k_sin.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var EEe=-.16666666666666632,Ltn=.00833333333332249,Mtn=-.0001984126982985795,Ftn=27557313707070068e-22,Btn=-25050760253406863e-24,jtn=158969099521155e-24;function Utn(e,t){var n,r,i,s;return s=e*e,i=s*s,n=Ltn+s*(Mtn+s*Ftn)+s*i*(Btn+s*jtn),r=s*e,t===0?e+r*(EEe+s*n):e-(s*(.5*t-r*n)-t-r*EEe)}var ztn=Utn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Vtn=ztn,HUe=Vtn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Htn=i3,mZ;Htn===!0?mZ=0:mZ=1;var qtn=mZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Wtn=Lm,Gtn=hh,Ytn=qtn,qUe=new Gtn(1),Ktn=new Wtn(qUe.buffer);function Xtn(e){return qUe[0]=e,Ktn[Ytn]}var Qtn=Xtn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Jtn=Qtn,Ztn=Jtn;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function enn(e,t){var n,r;for(n=[],r=0;r<t;r++)n.push(e);return n}var tnn=enn;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var nnn=tnn,rnn=nnn;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var inn=rnn;function snn(e){return inn(0,e)}var onn=snn;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ann=onn,unn=ann;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/k_rem_pio2.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var lnn=Yl,b8=wj,Sj=unn,WUe=[10680707,7228996,1387004,2578385,16069853,12639074,9804092,4427841,16666979,11263675,12935607,2387514,4345298,14681673,3074569,13734428,16653803,1880361,10960616,8533493,3062596,8710556,7349940,6258241,3772886,3769171,3798172,8675211,12450088,3874808,9961438,366607,15675153,9132554,7151469,3571407,2607881,12013382,4155038,6285869,7677882,13102053,15825725,473591,9065106,15363067,6271263,9264392,5636912,4652155,7056368,13614112,10155062,1944035,9527646,15080200,6658437,6231200,6832269,16767104,5075751,3212806,1398474,7579849,6349435,12618859],cnn=[1.570796251296997,7549789415861596e-23,5390302529957765e-30,3282003415807913e-37,1270655753080676e-44,12293330898111133e-52,27337005381646456e-60,21674168387780482e-67],wG=16777216,xG=5960464477539063e-23,_8=Sj(20),TEe=Sj(20),w8=Sj(20),za=Sj(20);function GUe(e,t,n,r,i,s,o,a,u){var l,c,f,d,h,p,m,g,y;for(d=s,y=r[n],g=n,h=0;g>0;h++)c=xG*y|0,za[h]=y-wG*c|0,y=r[g-1]+c,g-=1;if(y=b8(y,i),y-=8*lnn(y*.125),m=y|0,y-=m,f=0,i>0?(h=za[n-1]>>24-i,m+=h,za[n-1]-=h<<24-i,f=za[n-1]>>23-i):i===0?f=za[n-1]>>23:y>=.5&&(f=2),f>0){for(m+=1,l=0,h=0;h<n;h++)g=za[h],l===0?g!==0&&(l=1,za[h]=16777216-g):za[h]=16777215-g;if(i>0)switch(i){case 1:za[n-1]&=8388607;break;case 2:za[n-1]&=4194303;break}f===2&&(y=1-y,l!==0&&(y-=b8(1,i)))}if(y===0){for(g=0,h=n-1;h>=s;h--)g|=za[h];if(g===0){for(p=1;za[s-p]===0;p++);for(h=n+1;h<=n+p;h++){for(u[a+h]=WUe[o+h],c=0,g=0;g<=a;g++)c+=e[g]*u[a+(h-g)];r[h]=c}return n+=p,GUe(e,t,n,r,i,s,o,a,u)}}if(y===0)for(n-=1,i-=24;za[n]===0;)n-=1,i-=24;else y=b8(y,-i),y>=wG?(c=xG*y|0,za[n]=y-wG*c|0,n+=1,i+=24,za[n]=c):za[n]=y|0;for(c=b8(1,i),h=n;h>=0;h--)r[h]=c*za[h],c*=xG;for(h=n;h>=0;h--){for(c=0,p=0;p<=d&&p<=n-h;p++)c+=cnn[p]*r[h+p];w8[n-h]=c}for(c=0,h=n;h>=0;h--)c+=w8[h];for(f===0?t[0]=c:t[0]=-c,c=w8[0]-c,h=1;h<=n;h++)c+=w8[h];return f===0?t[1]=c:t[1]=-c,m&7}function fnn(e,t,n,r){var i,s,o,a,u,l,c,f,d;for(s=4,a=r-1,o=(n-3)/24|0,o<0&&(o=0),l=n-24*(o+1),f=o-a,d=a+s,c=0;c<=d;c++)f<0?_8[c]=0:_8[c]=WUe[f],f+=1;for(c=0;c<=s;c++){for(i=0,f=0;f<=a;f++)i+=e[f]*_8[a+(c-f)];TEe[c]=i}return u=s,GUe(e,t,u,TEe,l,s,o,a,_8)}var dnn=fnn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var hnn=Math.round,pnn=hnn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mnn=pnn,gnn=mnn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/k_rem_pio2.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var ynn=gnn,SEe=Gl,vnn=.6366197723675814,bnn=1.5707963267341256,_nn=6077100506506192e-26,wnn=6077100506303966e-26,xnn=20222662487959506e-37,Enn=20222662487111665e-37,Tnn=84784276603689e-45,AEe=2047;function Snn(e,t,n){var r,i,s,o,a,u,l;return i=ynn(e*vnn),o=e-i*bnn,a=i*_nn,l=t>>20|0,n[0]=o-a,r=SEe(n[0]),u=l-(r>>20&AEe),u>16&&(s=o,a=i*wnn,o=s-a,a=i*xnn-(s-o-a),n[0]=o-a,r=SEe(n[0]),u=l-(r>>20&AEe),u>49&&(s=o,a=i*Enn,o=s-a,a=i*Tnn-(s-o-a),n[0]=o-a)),n[1]=o-n[0]-a,i}var Ann=Snn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/e_rem_pio2.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
*
* Optimized by Bruce D. Evans.
* ```
*/var Cnn=i1,Inn=sue,knn=aue,Rnn=Gl,$nn=Ztn,Nnn=yj,Pnn=dnn,x8=Ann,Onn=0,Dnn=16777216,N1=1.5707963267341256,rx=6077100506506192e-26,E8=2*rx,T8=3*rx,S8=4*rx,Lnn=598523,Mnn=1072243195,Fnn=1073928572,Bnn=1074752122,jnn=1074977148,Unn=1075183036,znn=1075388923,Vnn=1075594811,Hnn=1094263291,DI=[0,0,0],LI=[0,0];function qnn(e,t){var n,r,i,s,o,a,u,l;if(i=Rnn(e),s=i&Cnn|0,s<=Mnn)return t[0]=e,t[1]=0,0;if(s<=Bnn)return(s&knn)===Lnn?x8(e,s,t):s<=Fnn?e>0?(l=e-N1,t[0]=l-rx,t[1]=l-t[0]-rx,1):(l=e+N1,t[0]=l+rx,t[1]=l-t[0]+rx,-1):e>0?(l=e-2*N1,t[0]=l-E8,t[1]=l-t[0]-E8,2):(l=e+2*N1,t[0]=l+E8,t[1]=l-t[0]+E8,-2);if(s<=Vnn)return s<=Unn?s===jnn?x8(e,s,t):e>0?(l=e-3*N1,t[0]=l-T8,t[1]=l-t[0]-T8,3):(l=e+3*N1,t[0]=l+T8,t[1]=l-t[0]+T8,-3):s===znn?x8(e,s,t):e>0?(l=e-4*N1,t[0]=l-S8,t[1]=l-t[0]-S8,4):(l=e+4*N1,t[0]=l+S8,t[1]=l-t[0]+S8,-4);if(s<Hnn)return x8(e,s,t);if(s>=Inn)return t[0]=NaN,t[1]=NaN,0;for(n=$nn(e),r=(s>>20)-1046,l=Nnn(s-(r<<20|0),n),a=0;a<2;a++)DI[a]=l|0,l=(l-DI[a])*Dnn;for(DI[2]=l,o=3;DI[o-1]===Onn;)o-=1;return u=Pnn(DI,LI,r,o),e<0?(t[0]=-LI[0],t[1]=-LI[1],-u):(t[0]=LI[0],t[1]=LI[1],u)}var Wnn=qnn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Gnn=Wnn,YUe=Gnn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright, license, and long comment were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_sin.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var Ynn=i1,Knn=sue,Xnn=Gl,CEe=VUe,EG=HUe,Qnn=YUe,Jnn=1072243195,Znn=1045430272,dg=[0,0];function ern(e){var t,n;if(t=Xnn(e),t&=Ynn,t<=Jnn)return t<Znn?e:EG(e,0);if(t>=Knn)return NaN;switch(n=Qnn(e,dg),n&3){case 0:return EG(dg[0],dg[1]);case 1:return CEe(dg[0],dg[1]);case 2:return-EG(dg[0],dg[1]);default:return-CEe(dg[0],dg[1])}}var trn=ern;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var nrn=trn,Aj=nrn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var rrn=2.5066282746310007,Cj=rrn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var IEe=xj;function irn(e){return e>0?IEe(e-1):IEe(e+1)}var srn=irn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var orn=srn,KUe=orn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var kEe=KUe,arn=_j,urn=Ma,A8=is;function lrn(e,t){return t===urn?A8:t===A8?0:t>0?kEe(t)?e:0:kEe(t)?arn(A8,e):A8}var crn=lrn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var frn=i1,drn=Gl,hrn=1072693247,C8=1e300,I8=1e-300;function prn(e,t){var n,r;return r=drn(e),n=r&frn,n<=hrn?t<0?C8*C8:I8*I8:t>0?C8*C8:I8*I8}var mrn=prn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var grn=ss,REe=is;function yrn(e,t){return e===-1?(e-e)/(e-e):e===1?1:grn(e)<1==(t===REe)?0:REe}var vrn=yrn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function brn(e){return e===0?.5999999999999946:.5999999999999946+e*(.4285714285785502+e*(.33333332981837743+e*(.272728123808534+e*(.23066074577556175+e*.20697501780033842))))}var _rn=brn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var wrn=Gl,k8=s1,$Ee=F2,xrn=n1,Ern=_rn,Trn=1048575,NEe=1048576,Srn=1072693248,Arn=536870912,Crn=524288,Irn=20,krn=9007199254740992,Rrn=.9617966939259756,$rn=.9617967009544373,Nrn=-7028461650952758e-24,Prn=[1,1.5],Orn=[0,.5849624872207642],Drn=[0,1350039202129749e-23];function Lrn(e,t,n){var r,i,s,o,a,u,l,c,f,d,h,p,m,g,y,v,b,w,x,S,A,C;return S=0,n<NEe&&(t*=krn,S-=53,n=wrn(t)),S+=(n>>Irn)-xrn|0,A=n&Trn|0,n=A|Srn|0,A<=235662?C=0:A<767610?C=1:(C=0,S+=1,n-=NEe),t=$Ee(t,n),c=Prn[C],w=t-c,x=1/(t+c),i=w*x,o=k8(i,0),r=(n>>1|Arn)+Crn,r+=C<<18,u=$Ee(0,r),l=t-(u-c),a=x*(w-o*u-o*l),s=i*i,b=s*s*Ern(s),b+=a*(o+i),s=o*o,u=3+s+b,u=k8(u,0),l=b-(u-3-s),w=o*u,x=a*u+l*i,d=w+x,d=k8(d,0),h=x-(d-w),p=$rn*d,m=Nrn*d+h*Rrn+Drn[C],f=Orn[C],v=S,g=p+m+f+v,g=k8(g,0),y=m-(g-v-f-p),e[0]=g,e[1]=y,e}var Mrn=Lrn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Frn(e){return e===0?.5:.5+e*(-.3333333333333333+e*.25)}var Brn=Frn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var jrn=s1,Urn=Brn,zrn=1.4426950408889634,Vrn=1.4426950216293335,Hrn=19259629911266175e-24;function qrn(e,t){var n,r,i,s,o,a;return i=t-1,s=i*i*Urn(i),o=Vrn*i,a=i*Hrn-s*zrn,r=o+a,r=jrn(r,0),n=a-(r-o),e[0]=r,e[1]=n,e}var Wrn=qrn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Grn(e){return e===0?.16666666666666602:.16666666666666602+e*(-.0027777777777015593+e*(6613756321437934e-20+e*(-16533902205465252e-22+e*41381367970572385e-24)))}var Yrn=Grn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var Krn=Gl,PEe=F2,Xrn=s1,Qrn=Ej,Jrn=wj,Zrn=FUe,OEe=n1,DEe=i1,LEe=aue,ein=Yrn,MEe=1048576,tin=1071644672,MI=20,nin=.6931471824645996,rin=-1904654299957768e-24;function iin(e,t,n){var r,i,s,o,a,u,l,c,f,d,h;return d=e&DEe|0,h=(d>>MI)-OEe|0,f=0,d>tin&&(f=e+(MEe>>h+1)>>>0,h=((f&DEe)>>MI)-OEe|0,r=(f&~(LEe>>h))>>>0,s=PEe(0,r),f=(f&LEe|MEe)>>MI-h>>>0,e<0&&(f=-f),t-=s),s=n+t,s=Xrn(s,0),a=s*nin,u=(n-(s-t))*Zrn+s*rin,c=a+u,l=u-(c-a),s=c*c,i=c-s*ein(s),o=c*i/(i-2)-(l+c*l),c=1-(o-c),e=Krn(c),e=Qrn(e),e+=f<<MI>>>0,e>>MI<=0?c=Jrn(c,f):c=PEe(c,e),c}var sin=iin;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_pow.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 2004 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var FEe=Ai,BEe=KUe,jEe=B2,oin=Kl,UEe=ph,ain=ss,TG=bj,uin=s1,zEe=Ej,lin=Ma,cin=is,SG=i1,fin=crn,din=mrn,hin=vrn,pin=Mrn,min=Wrn,gin=sin,yin=1072693247,vin=1105199104,bin=1139802112,VEe=1083179008,_in=1072693248,win=1083231232,xin=3230714880,HEe=31,P1=1e300,O1=1e-300,Ein=8008566259537294e-32,hg=[0,0],qEe=[0,0];function XUe(e,t){var n,r,i,s,o,a,u,l,c,f,d,h,p,m,g,y;if(FEe(e)||FEe(t))return NaN;if(TG.assign(t,hg,1,0),a=hg[0],u=hg[1],u===0){if(t===0)return 1;if(t===1)return e;if(t===-1)return 1/e;if(t===.5)return UEe(e);if(t===-.5)return 1/UEe(e);if(t===2)return e*e;if(t===3)return e*e*e;if(t===4)return e*=e,e*e;if(jEe(t))return hin(e,t)}if(TG.assign(e,hg,1,0),s=hg[0],o=hg[1],o===0){if(s===0)return fin(e,t);if(e===1)return 1;if(e===-1&&BEe(t))return-1;if(jEe(e))return e===lin?XUe(-0,-t):t<0?0:cin}if(e<0&&oin(t)===!1)return(e-e)/(e-e);if(i=ain(e),n=s&SG|0,r=a&SG|0,l=s>>>HEe|0,c=a>>>HEe|0,l&&BEe(t)?l=-1:l=1,r>vin){if(r>bin)return din(e,t);if(n<yin)return c===1?l*P1*P1:l*O1*O1;if(n>_in)return c===0?l*P1*P1:l*O1*O1;p=min(qEe,i)}else p=pin(qEe,i,n);if(f=uin(t,0),h=(t-f)*p[0]+t*p[1],d=f*p[0],m=h+d,TG.assign(m,hg,1,0),g=zEe(hg[0]),y=zEe(hg[1]),g>=VEe){if(g-VEe|y||h+Ein>m-d)return l*P1*P1}else if((g&SG)>=win&&(g-xin|y||h<=m-d))return l*O1*O1;return m=gin(g,d,h),l*m}var Tin=XUe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Sin=Tin,Ain=Sin;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Cin(e){return e===0?.08333333333334822:.08333333333334822+e*(.0034722222160545866+e*(-.0026813261780578124+e*(-.00022954996161337813+e*.0007873113957930937)))}var Iin=Cin;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C code, copyright, license, and constants are from [Cephes]{@link http://www.netlib.org/cephes}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright 1984, 1987, 1989, 1992, 2000 by Stephen L. Moshier
*
* Some software in this archive may be from the book _Methods and Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster International, 1989) or from the Cephes Mathematical Library, a commercial product. In either event, it is copyrighted by the author. What you see here may be used freely but it comes with no support or guarantee.
*
* Stephen L. Moshier
* moshier@na-net.ornl.gov
* ```
*/var kin=Cj,WEe=Ain,Rin=ca,$in=Iin,Nin=143.01608;function Pin(e){var t,n,r;return t=1/e,t=1+t*$in(t),n=Rin(e),e>Nin?(r=WEe(e,.5*e-.25),n=r*(r/n)):n=WEe(e,e-.5)/n,kin*n*t}var Oin=Pin;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Din=.5772156649015329,cue=Din;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C code, copyright, license, and constants are from [Cephes]{@link http://www.netlib.org/cephes}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright 1984, 1987, 1989, 1992, 2000 by Stephen L. Moshier
*
* Some software in this archive may be from the book _Methods and Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster International, 1989) or from the Cephes Mathematical Library, a commercial product. In either event, it is copyrighted by the author. What you see here may be used freely but it comes with no support or guarantee.
*
* Stephen L. Moshier
* moshier@na-net.ornl.gov
* ```
*/var Lin=cue;function Min(e,t){return t/((1+Lin*e)*e)}var Fin=Min;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bin(e){var t,n,r;return e===0?1:(e<0?t=-e:t=e,t<=1?(n=1+e*(.4942148268014971+e*(.20744822764843598+e*(.04763678004571372+e*(.010421379756176158+e*(.0011913514700658638+e*(.00016011952247675185+e*0)))))),r=1+e*(.0714304917030273+e*(-.23459179571824335+e*(.035823639860549865+e*(.011813978522206043+e*(-.004456419138517973+e*(.0005396055804933034+e*-23158187332412014e-21))))))):(e=1/e,n=0+e*(.00016011952247675185+e*(.0011913514700658638+e*(.010421379756176158+e*(.04763678004571372+e*(.20744822764843598+e*(.4942148268014971+e*1)))))),r=-23158187332412014e-21+e*(.0005396055804933034+e*(-.004456419138517973+e*(.011813978522206043+e*(.035823639860549865+e*(-.23459179571824335+e*(.0714304917030273+e*1))))))),n/r)}var jin=Bin;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C code, long comment, copyright, license, and constants are from [Cephes]{@link http://www.netlib.org/cephes}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright 1984, 1987, 1989, 1992, 2000 by Stephen L. Moshier
*
* Some software in this archive may be from the book _Methods and Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster International, 1989) or from the Cephes Mathematical Library, a commercial product. In either event, it is copyrighted by the author. What you see here may be used freely but it comes with no support or guarantee.
*
* Stephen L. Moshier
* moshier@na-net.ornl.gov
* ```
*/var Uin=Ai,zin=Kl,Vin=Tj,GEe=ss,Hin=Yl,qin=Aj,YEe=is,KEe=Ma,XEe=j2,QEe=Oin,JEe=Fin,Win=jin;function Gin(e){var t,n,r,i;if(zin(e)&&e<0||e===KEe||Uin(e))return NaN;if(e===0)return Vin(e)?KEe:YEe;if(e>171.61447887182297)return YEe;if(e<-170.5674972726612)return 0;if(n=GEe(e),n>33)return e>=0?QEe(e):(r=Hin(n),r&1?t=1:t=-1,i=n-r,i>.5&&(r+=1,i=n-r),i=n*qin(XEe*i),t*XEe/(GEe(i)*QEe(n)));for(i=1;e>=3;)e-=1,i*=e;for(;e<0;){if(e>-1e-9)return JEe(e,i);i/=e,e+=1}for(;e<2;){if(e<1e-9)return JEe(e,i);i/=e,e+=1}return e===2?i:(e-=2,i*Win(e))}var Yin=Gin;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Kin=Yin,cN=Kin;const Xin=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,121645100408832e3,243290200817664e4,5109094217170944e4,11240007277776077e5,2585201673888498e7,6204484017332394e8,15511210043330986e9,40329146112660565e10,10888869450418352e12,30488834461171387e13,8841761993739702e15,26525285981219107e16,8222838654177922e18,2631308369336935e20,8683317618811886e21,29523279903960416e22,10333147966386145e24,37199332678990125e25,13763753091226346e27,5230226174666011e29,20397882081197444e30,8159152832478977e32,3345252661316381e34,140500611775288e37,6041526306337383e37,2658271574788449e39,11962222086548019e40,5502622159812089e42,25862324151116818e43,12413915592536073e45,6082818640342675e47,30414093201713376e48,15511187532873822e50,8065817517094388e52,42748832840600255e53,2308436973392414e56,12696403353658276e57,7109985878048635e59,40526919504877214e60,23505613312828785e62,13868311854568984e64,832098711274139e67,5075802138772248e68,3146997326038794e70,198260831540444e73,12688693218588417e73,8247650592082472e75,5443449390774431e77,3647111091818868e79,24800355424368305e80,1711224524281413e83,11978571669969892e84,8504785885678623e86,61234458376886085e87,44701154615126844e89,3307885441519386e92,248091408113954e95,18854947016660504e95,14518309202828587e97,11324281178206297e99,8946182130782976e101,7156945704626381e103,5797126020747368e105,4753643337012842e107,3945523969720659e109,3314240134565353e111,281710411438055e114,24227095383672734e114,2107757298379528e117,18548264225739844e118,1650795516090846e121,14857159644817615e122,1352001527678403e125,12438414054641308e126,11567725070816416e128,1087366156656743e131,1032997848823906e133,9916779348709496e134,9619275968248212e136,9426890448883248e138,9332621544394415e140,9332621544394415e142,942594775983836e145,9614466715035127e146,990290071648618e149,10299016745145628e150,1081396758240291e153,11462805637347084e154,1226520203196138e157,1324641819451829e159,14438595832024937e160,1588245541522743e163,17629525510902446e164,1974506857221074e167,22311927486598138e168,25435597334721877e170,2925093693493016e173,3393108684451898e175,3969937160808721e177,4684525849754291e179,5574585761207606e181,6689502913449127e183,8094298525273444e185,9875044200833601e187,1214630436702533e190,1506141741511141e192,1882677176888926e194,2372173242880047e196,30126600184576594e197,3856204823625804e200,4974504222477287e202,6466855489220474e204,847158069087882e207,11182486511960043e208,14872707060906857e210,19929427461615188e212,26904727073180504e214,3659042881952549e217,5012888748274992e219,6917786472619489e221,9615723196941089e223,13462012475717526e225,1898143759076171e228,2695364137888163e230,3854370717180073e232,55502938327393044e233,8047926057471992e236,11749972043909107e238,1727245890454639e241,25563239178728654e242,380892263763057e246,5713383956445855e247,862720977423324e250,13113358856834524e251,20063439050956823e253,30897696138473508e255,4789142901463394e258,7471062926282894e260,11729568794264145e262,1853271869493735e265,29467022724950384e266,47147236359920616e268,7590705053947219e271,12296942187394494e273,20044015765453026e275,3287218585534296e278,5423910666131589e280,9003691705778438e282,1503616514864999e285,25260757449731984e286,4269068009004705e289,7257415615307999e291];/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Qin=Ai,Jin=Kl,Zin=cN,esn=is,tsn=Xin,nsn=170;function rsn(e){return Qin(e)?NaN:Jin(e)?e<0?NaN:e<=nsn?tsn[e]:esn:Zin(e+1)}var isn=rsn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ssn=isn,osn=ssn;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function asn(e){var t,n,r;return e===0?1/0:(e<0?t=-e:t=e,t<=1?(n=3847467039331777e-5+e*(3685766504351951e-5+e*(1588920245372942e-5+e*(4059208354298835e-6+e*(6805476611834733e-7+e*(7823975500312005e-8+e*(6246580776401795e-9+e*(341986.3488721347+e*(12287.194511824551+e*(261.61404416416684+e*2.5066282746310007))))))))),r=0+e*(362880+e*(1026576+e*(1172700+e*(723680+e*(269325+e*(63273+e*(9450+e*(870+e*(45+e*1)))))))))):(e=1/e,n=2.5066282746310007+e*(261.61404416416684+e*(12287.194511824551+e*(341986.3488721347+e*(6246580776401795e-9+e*(7823975500312005e-8+e*(6805476611834733e-7+e*(4059208354298835e-6+e*(1588920245372942e-5+e*(3685766504351951e-5+e*3847467039331777e-5))))))))),r=1+e*(45+e*(870+e*(9450+e*(63273+e*(269325+e*(723680+e*(1172700+e*(1026576+e*(362880+e*0)))))))))),n/r)}var usn=asn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/lanczos.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var lsn=usn,csn=lsn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var fsn=csn,dsn=fsn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var hsn=10.900511,fN=hsn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* Copyright John Maddock 2006-7, 2013-14.
* Copyright Paul A. Bristow 2007, 2013-14.
* Copyright Nikhar Agrawal 2013-14.
* Copyright Christopher Kormanyos 2013-14.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var ZEe=dsn,psn=cN,eTe=r1,tTe=ss,nTe=ca,rTe=Xl,msn=o1,gsn=s3,ysn=fN,iTe=170,vsn=4269068009004705e289;function QUe(e,t){var n,r,i;return e<msn?t>iTe?(r=QUe(t,iTe-t),r*=e,r*=vsn,1/r):1/(e*psn(e+t)):(i=e+ysn-.5,e+t===e?tTe(t)<10?n=nTe((.5-e)*eTe(t/i)):n=1:(tTe(t)<10?n=nTe((.5-e)*eTe(t/i)):n=rTe(i/(i+t),e-.5),n*=ZEe(e)/ZEe(e+t)),n*=rTe(gsn/(i+t),t),n)}var bsn=QUe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* Copyright John Maddock 2006-7, 2013-14.
* Copyright Paul A. Bristow 2007, 2013-14.
* Copyright Nikhar Agrawal 2013-14.
* Copyright Christopher Kormanyos 2013-14.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var _sn=ss,sTe=Yl,oTe=cN,aTe=osn,wsn=bsn,uTe=170;function xsn(e,t){var n,r,i;if(e<=0||e+t<=0)return oTe(e)/oTe(e+t);if(r=sTe(t),r===t){if(i=sTe(e),i===e&&e<=uTe&&e+t<=uTe)return aTe(i-1)/aTe(r+i-1);if(_sn(t)<20){if(t===0)return 1;if(t<0){for(e-=1,n=e,t+=1;t!==0;)e-=1,n*=e,t+=1;return n}for(n=1/e,t-=1;t!==0;)e+=1,n/=e,t-=1;return n}}return wsn(e,t)}var Esn=xsn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Tsn=Esn,Ssn=Tsn;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Asn=170,Csn=Asn;const Isn=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,121645100408832e3,243290200817664e4,5109094217170944e4,11240007277776077e5,2585201673888498e7,6204484017332394e8,15511210043330986e9,40329146112660565e10,10888869450418352e12,30488834461171387e13,8841761993739702e15,26525285981219107e16,8222838654177922e18,2631308369336935e20,8683317618811886e21,29523279903960416e22,10333147966386145e24,37199332678990125e25,13763753091226346e27,5230226174666011e29,20397882081197444e30,8159152832478977e32,3345252661316381e34,140500611775288e37,6041526306337383e37,2658271574788449e39,11962222086548019e40,5502622159812089e42,25862324151116818e43,12413915592536073e45,6082818640342675e47,30414093201713376e48,15511187532873822e50,8065817517094388e52,42748832840600255e53,2308436973392414e56,12696403353658276e57,7109985878048635e59,40526919504877214e60,23505613312828785e62,13868311854568984e64,832098711274139e67,5075802138772248e68,3146997326038794e70,198260831540444e73,12688693218588417e73,8247650592082472e75,5443449390774431e77,3647111091818868e79,24800355424368305e80,1711224524281413e83,11978571669969892e84,8504785885678623e86,61234458376886085e87,44701154615126844e89,3307885441519386e92,248091408113954e95,18854947016660504e95,14518309202828587e97,11324281178206297e99,8946182130782976e101,7156945704626381e103,5797126020747368e105,4753643337012842e107,3945523969720659e109,3314240134565353e111,281710411438055e114,24227095383672734e114,2107757298379528e117,18548264225739844e118,1650795516090846e121,14857159644817615e122,1352001527678403e125,12438414054641308e126,11567725070816416e128,1087366156656743e131,1032997848823906e133,9916779348709496e134,9619275968248212e136,9426890448883248e138,9332621544394415e140,9332621544394415e142,942594775983836e145,9614466715035127e146,990290071648618e149,10299016745145628e150,1081396758240291e153,11462805637347084e154,1226520203196138e157,1324641819451829e159,14438595832024937e160,1588245541522743e163,17629525510902446e164,1974506857221074e167,22311927486598138e168,25435597334721877e170,2925093693493016e173,3393108684451898e175,3969937160808721e177,4684525849754291e179,5574585761207606e181,6689502913449127e183,8094298525273444e185,9875044200833601e187,1214630436702533e190,1506141741511141e192,1882677176888926e194,2372173242880047e196,30126600184576594e197,3856204823625804e200,4974504222477287e202,6466855489220474e204,847158069087882e207,11182486511960043e208,14872707060906857e210,19929427461615188e212,26904727073180504e214,3659042881952549e217,5012888748274992e219,6917786472619489e221,9615723196941089e223,13462012475717526e225,1898143759076171e228,2695364137888163e230,3854370717180073e232,55502938327393044e233,8047926057471992e236,11749972043909107e238,1727245890454639e241,25563239178728654e242,380892263763057e246,5713383956445855e247,862720977423324e250,13113358856834524e251,20063439050956823e253,30897696138473508e255,4789142901463394e258,7471062926282894e260,11729568794264145e262,1853271869493735e265,29467022724950384e266,47147236359920616e268,7590705053947219e271,12296942187394494e273,20044015765453026e275,3287218585534296e278,5423910666131589e280,9003691705778438e282,1503616514864999e285,25260757449731984e286,4269068009004705e289,7257415615307999e291];/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ksn=Ai,Rsn=Kl,$sn=cN,Nsn=is,Psn=Csn,Osn=Isn;function Dsn(e){return ksn(e)?NaN:Rsn(e)?e<0?NaN:e<=Psn?Osn[e]:Nsn:$sn(e+1)}var Lsn=Dsn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Msn=Lsn,Fsn=Msn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bsn(e){return e===0?.3999999999940942:.3999999999940942+e*(.22222198432149784+e*.15313837699209373)}var jsn=Bsn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Usn(e){return e===0?.6666666666666735:.6666666666666735+e*(.2857142874366239+e*(.1818357216161805+e*.14798198605116586))}var zsn=Usn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright and license were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/e_log.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var lTe=Gl,Vsn=F2,Hsn=Ai,qsn=n1,Wsn=Ma,Gsn=jsn,Ysn=zsn,R8=.6931471803691238,$8=19082149292705877e-26,Ksn=0x40000000000000,Xsn=.3333333333333333,cTe=1048575,Qsn=2146435072,Jsn=1048576,Zsn=1072693248;function eon(e){var t,n,r,i,s,o,a,u,l,c,f,d;return e===0?Wsn:Hsn(e)||e<0?NaN:(n=lTe(e),s=0,n<Jsn&&(s-=54,e*=Ksn,n=lTe(e)),n>=Qsn?e+e:(s+=(n>>20)-qsn|0,n&=cTe,u=n+614244&1048576|0,e=Vsn(e,n|u^Zsn),s+=u>>20|0,a=e-1,(cTe&2+n)<3?a===0?s===0?0:s*R8+s*$8:(o=a*a*(.5-Xsn*a),s===0?a-o:s*R8-(o-s*$8-a)):(c=a/(2+a),d=c*c,u=n-398458|0,f=d*d,l=440401-n|0,i=f*Gsn(f),r=d*Ysn(f),u|=l,o=r+i,u>0?(t=.5*a*a,s===0?a-(t-c*(t+o)):s*R8-(t-(c*(t+o)+s*$8)-a)):s===0?a-c*(a-o):s*R8-(c*(a-o)-s*$8-a))))}var ton=eon;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var non=ton,of=non;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright, license, and long comment were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_cos.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var ron=Gl,AG=VUe,fTe=HUe,ion=YUe,pg=[0,0],son=2147483647,oon=1072243195,aon=1044381696,uon=2146435072;function lon(e){var t,n;if(t=ron(e),t&=son,t<=oon)return t<aon?1:AG(e,0);if(t>=uon)return NaN;switch(n=ion(e,pg),n&3){case 0:return AG(pg[0],pg[1]);case 1:return-fTe(pg[0],pg[1]);case 2:return-AG(pg[0],pg[1]);default:return fTe(pg[0],pg[1])}}var con=lon;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var fon=con,don=fon;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var hon=Ai,pon=B2,dTe=don,CG=Aj,mon=ss,FI=_j,BI=j2;function gon(e){var t,n;return hon(e)?NaN:pon(e)?NaN:(n=e%2,t=mon(n),t===0||t===1?FI(0,n):t<.25?CG(BI*n):t<.75?(t=.5-t,FI(dTe(BI*t),n)):t<1.25?(n=FI(1,n)-n,CG(BI*n)):t<1.75?(t-=1.5,-FI(dTe(BI*t),n)):(n-=FI(2,n),CG(BI*n)))}var yon=gon;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var von=yon,bon=von;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _on(e){return e===0?.06735230105312927:.06735230105312927+e*(.007385550860814029+e*(.0011927076318336207+e*(.00022086279071390839+e*25214456545125733e-21)))}var won=_on;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xon(e){return e===0?.020580808432516733:.020580808432516733+e*(.0028905138367341563+e*(.0005100697921535113+e*(.00010801156724758394+e*44864094961891516e-21)))}var Eon=xon;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ton(e){return e===0?1.3920053346762105:1.3920053346762105+e*(.7219355475671381+e*(.17193386563280308+e*(.01864591917156529+e*(.0007779424963818936+e*7326684307446256e-21))))}var Son=Ton;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Aon(e){return e===0?.21498241596060885:.21498241596060885+e*(.325778796408931+e*(.14635047265246445+e*(.02664227030336386+e*(.0018402845140733772+e*3194753265841009e-20))))}var Con=Aon;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ion(e){return e===0?-.032788541075985965:-.032788541075985965+e*(.006100538702462913+e*(-.0014034646998923284+e*.00031563207090362595))}var kon=Ion;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ron(e){return e===0?.01797067508118204:.01797067508118204+e*(-.0036845201678113826+e*(.000881081882437654+e*-.00031275416837512086))}var $on=Ron;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Non(e){return e===0?-.010314224129834144:-.010314224129834144+e*(.0022596478090061247+e*(-.0005385953053567405+e*.0003355291926355191))}var Pon=Non;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Oon(e){return e===0?.6328270640250934:.6328270640250934+e*(1.4549225013723477+e*(.9777175279633727+e*(.22896372806469245+e*.013381091853678766)))}var Don=Oon;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lon(e){return e===0?2.4559779371304113:2.4559779371304113+e*(2.128489763798934+e*(.7692851504566728+e*(.10422264559336913+e*.003217092422824239)))}var Mon=Lon;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fon(e){return e===0?.08333333333333297:.08333333333333297+e*(-.0027777777772877554+e*(.0007936505586430196+e*(-.00059518755745034+e*(.0008363399189962821+e*-.0016309293409657527))))}var Bon=Fon;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright, license, and long comment were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/e_lgamma_r.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var jon=Ai,Uon=B2,zon=ss,YE=of,Von=iue,Hon=bon,qon=j2,IG=is,Won=won,Gon=Eon,Yon=Son,Kon=Con,Xon=kon,Qon=$on,Jon=Pon,Zon=Don,ean=Mon,tan=Bon,nan=.07721566490153287,ran=.3224670334241136,ian=1,san=-.07721566490153287,oan=.48383612272381005,aan=-.1475877229945939,uan=.06462494023913339,lan=-.07721566490153287,can=1,fan=.4189385332046727,N8=1.4616321449683622,dan=4503599627370496,han=0x400000000000000,pan=8470329472543003e-37,hTe=1.4616321449683622,man=-.12148629053584961,gan=-3638676997039505e-33;function yan(e){var t,n,r,i,s,o,a,u,l,c,f,d,h;if(jon(e)||Uon(e))return e;if(e===0)return IG;if(e<0?(t=!0,e=-e):t=!1,e<pan)return-YE(e);if(t){if(e>=dan||(l=Hon(e),l===0))return IG;n=YE(qon/zon(l*e))}if(e===1||e===2)return 0;if(e<2)switch(e<=.9?(h=-YE(e),e>=N8-1+.27?(f=1-e,r=0):e>=N8-1-.27?(f=e-(hTe-1),r=1):(f=e,r=2)):(h=0,e>=N8+.27?(f=2-e,r=0):e>=N8-.27?(f=e-hTe,r=1):(f=e-1,r=2)),r){case 0:d=f*f,o=nan+d*Won(d),s=d*(ran+d*Gon(d)),a=f*o+s,h+=a-.5*f;break;case 1:d=f*f,c=d*f,o=oan+c*Xon(c),s=aan+c*Qon(c),i=uan+c*Jon(c),a=d*o-(gan-c*(s+f*i)),h+=man+a;break;case 2:o=f*(lan+f*Zon(f)),s=can+f*ean(f),h+=-.5*f+o/s;break}else if(e<8)switch(r=Von(e),f=e-r,a=f*(san+f*Kon(f)),u=ian+f*Yon(f),h=.5*f+a/u,d=1,r){case 7:d*=f+6;case 6:d*=f+5;case 5:d*=f+4;case 4:d*=f+3;case 3:d*=f+2,h+=YE(d)}else e<han?(l=YE(e),d=1/e,f=d*d,c=fan+d*tan(f),h=(e-.5)*(l-1)+c):h=e*(YE(e)-1);return t&&(h=n-h),h}var van=yan;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ban=van,fue=ban;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _an(e){return e===0?.08333333333334822:.08333333333334822+e*(.0034722222160545866+e*(-.0026813261780578124+e*(-.00022954996161337813+e*.0007873113957930937)))}var wan=_an;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C code, copyright, license, and constants are from [Cephes]{@link http://www.netlib.org/cephes}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright 1984, 1987, 1989, 1992, 2000 by Stephen L. Moshier
*
* Some software in this archive may be from the book _Methods and Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster International, 1989) or from the Cephes Mathematical Library, a commercial product. In either event, it is copyrighted by the author. What you see here may be used freely but it comes with no support or guarantee.
*
* Stephen L. Moshier
* moshier@na-net.ornl.gov
* ```
*/var xan=Cj,pTe=Xl,Ean=ca,Tan=wan,San=143.01608;function Aan(e){var t,n,r;return t=1/e,t=1+t*Tan(t),n=Ean(e),e>San?(r=pTe(e,.5*e-.25),n=r*(r/n)):n=pTe(e,e-.5)/n,xan*n*t}var Can=Aan;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C code, copyright, license, and constants are from [Cephes]{@link http://www.netlib.org/cephes}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright 1984, 1987, 1989, 1992, 2000 by Stephen L. Moshier
*
* Some software in this archive may be from the book _Methods and Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster International, 1989) or from the Cephes Mathematical Library, a commercial product. In either event, it is copyrighted by the author. What you see here may be used freely but it comes with no support or guarantee.
*
* Stephen L. Moshier
* moshier@na-net.ornl.gov
* ```
*/var Ian=cue;function kan(e,t){return t/((1+Ian*e)*e)}var Ran=kan;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $an(e){var t,n,r;return e===0?1:(e<0?t=-e:t=e,t<=1?(n=1+e*(.4942148268014971+e*(.20744822764843598+e*(.04763678004571372+e*(.010421379756176158+e*(.0011913514700658638+e*(.00016011952247675185+e*0)))))),r=1+e*(.0714304917030273+e*(-.23459179571824335+e*(.035823639860549865+e*(.011813978522206043+e*(-.004456419138517973+e*(.0005396055804933034+e*-23158187332412014e-21))))))):(e=1/e,n=0+e*(.00016011952247675185+e*(.0011913514700658638+e*(.010421379756176158+e*(.04763678004571372+e*(.20744822764843598+e*(.4942148268014971+e*1)))))),r=-23158187332412014e-21+e*(.0005396055804933034+e*(-.004456419138517973+e*(.011813978522206043+e*(.035823639860549865+e*(-.23459179571824335+e*(.0714304917030273+e*1))))))),n/r)}var Nan=$an;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C code, long comment, copyright, license, and constants are from [Cephes]{@link http://www.netlib.org/cephes}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright 1984, 1987, 1989, 1992, 2000 by Stephen L. Moshier
*
* Some software in this archive may be from the book _Methods and Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster International, 1989) or from the Cephes Mathematical Library, a commercial product. In either event, it is copyrighted by the author. What you see here may be used freely but it comes with no support or guarantee.
*
* Stephen L. Moshier
* moshier@na-net.ornl.gov
* ```
*/var Pan=Ai,Oan=Kl,Dan=Tj,mTe=ss,Lan=Yl,Man=Aj,gTe=is,yTe=Ma,vTe=j2,bTe=Can,_Te=Ran,Fan=Nan;function Ban(e){var t,n,r,i;if(Oan(e)&&e<0||e===yTe||Pan(e))return NaN;if(e===0)return Dan(e)?yTe:gTe;if(e>171.61447887182297)return gTe;if(e<-170.5674972726612)return 0;if(n=mTe(e),n>33)return e>=0?bTe(e):(r=Lan(n),r&1?t=1:t=-1,i=n-r,i>.5&&(r+=1,i=n-r),i=n*Man(vTe*i),t*vTe/(mTe(i)*bTe(n)));for(i=1;e>=3;)e-=1,i*=e;for(;e<0;){if(e>-1e-9)return _Te(e,i);i/=e,e+=1}for(;e<2;){if(e<1e-9)return _Te(e,i);i/=e,e+=1}return e===2?i:(e-=2,i*Fan(e))}var jan=Ban;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Uan=jan,JUe=Uan;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var zan=14901161193847656e-24,Van=zan;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Han=709.782712893384,U2=Han;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var qan=ca;function Wan(e,t){var n,r,i,s;if(i=qan(-t),r=i,r!==0)for(n=r,s=1;s<e;++s)n/=s,n*=t,r+=n;return r}var Gan=Wan;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yan(e){return e===0?-.3250421072470015:-.3250421072470015+e*(-.02848174957559851+e*(-.005770270296489442+e*-23763016656650163e-21))}var Kan=Yan;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xan(e){return e===0?.39791722395915535:.39791722395915535+e*(.0650222499887673+e*(.005081306281875766+e*(.00013249473800432164+e*-3960228278775368e-21)))}var Qan=Xan;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jan(e){return e===0?.41485611868374833:.41485611868374833+e*(-.3722078760357013+e*(.31834661990116175+e*(-.11089469428239668+e*(.035478304325618236+e*-.002166375594868791))))}var Zan=Jan;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eun(e){return e===0?.10642088040084423:.10642088040084423+e*(.540397917702171+e*(.07182865441419627+e*(.12617121980876164+e*(.01363708391202905+e*.011984499846799107))))}var tun=eun;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nun(e){return e===0?-.6938585727071818:-.6938585727071818+e*(-10.558626225323291+e*(-62.375332450326006+e*(-162.39666946257347+e*(-184.60509290671104+e*(-81.2874355063066+e*-9.814329344169145)))))}var run=nun;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iun(e){return e===0?19.651271667439257:19.651271667439257+e*(137.65775414351904+e*(434.56587747522923+e*(645.3872717332679+e*(429.00814002756783+e*(108.63500554177944+e*(6.570249770319282+e*-.0604244152148581))))))}var sun=iun;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oun(e){return e===0?-.799283237680523:-.799283237680523+e*(-17.757954917754752+e*(-160.63638485582192+e*(-637.5664433683896+e*(-1025.0951316110772+e*-483.5191916086514))))}var aun=oun;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uun(e){return e===0?30.33806074348246:30.33806074348246+e*(325.7925129965739+e*(1536.729586084437+e*(3199.8582195085955+e*(2553.0504064331644+e*(474.52854120695537+e*-22.44095244658582)))))}var lun=uun;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The following copyright, license, and long comment were part of the original implementation available as part of [FreeBSD]{@link https://svnweb.freebsd.org/base/release/9.3.0/lib/msun/src/s_erf.c}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
*
* Developed at SunPro, a Sun Microsystems, Inc. business.
* Permission to use, copy, modify, and distribute this
* software is freely granted, provided that this notice
* is preserved.
* ```
*/var cun=Ai,wTe=ca,fun=s1,dun=is,hun=Ma,pun=Kan,mun=Qan,gun=Zan,yun=tun,vun=run,bun=sun,_un=aun,wun=lun,P8=1e-300,xun=13877787807814457e-33,xTe=.8450629115104675,Eun=.12837916709551256,Tun=1,Sun=-.0023621185607526594,Aun=1,Cun=-.009864944034847148,Iun=1,kun=-.0098649429247001,Run=1;function $un(e){var t,n,r,i,s,o,a,u;if(cun(e))return NaN;if(e===dun)return 0;if(e===hun)return 2;if(e===0)return 1;if(e<0?(t=!0,n=-e):(t=!1,n=e),n<.84375)return n<xun?1-e:(r=e*e,i=Eun+r*pun(r),s=Tun+r*mun(r),o=i/s,e<.25?1-(e+e*o):(i=e*o,i+=e-.5,.5-i));if(n<1.25)return s=n-1,a=Sun+s*gun(s),u=Aun+s*yun(s),t?1+xTe+a/u:1-xTe-a/u;if(n<28){if(s=1/(n*n),n<2.857142857142857)i=Cun+s*vun(s),s=Iun+s*bun(s);else{if(e<-6)return 2-P8;i=kun+s*_un(s),s=Run+s*wun(s)}return r=fun(n,0),i=wTe(-(r*r)-.5625)*wTe((r-n)*(r+n)+i/s),t?2-i/n:i/n}return t?2-P8:P8*P8}var Nun=$un;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Pun=Nun,ZUe=Pun;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var Oun=ZUe,ETe=ph,Dun=ca,Lun=j2;function Mun(e,t){var n,r,i,s,o;if(s=Oun(ETe(t)),s!==0&&e>1){for(r=Dun(-t)/ETe(Lun*t),r*=t,n=.5,r/=n,i=r,o=2;o<e;++o)r/=o-n,r*=t,i+=r;s+=i}return s}var Fun=Mun;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Bun=-708.3964185322641,o3=Bun;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var KE=ca,O8=Xl,jun=of,TTe=U2,STe=o3;function Uun(e,t){var n,r;return r=e*jun(t),t>=1?r<TTe&&-t>STe?n=O8(t,e)*KE(-t):e>=1?n=O8(t/KE(t/e),e):n=KE(r-t):r>STe?n=O8(t,e)*KE(-t):t/e<TTe?n=O8(t/KE(t/e),e):n=KE(r-t),n}var zun=Uun;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vun(e,t){var n,r;if(r=e.length,r<2||t===0)return r===0?0:e[0];for(r-=1,n=e[r]*t+e[r-1],r-=2;r>=0;)n=n*t+e[r],r-=1;return n}var eze=Vun;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Hun=Function,qun=Hun;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Wun=qun,Gun=Wun;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Yun=Gun,Kun=eze;function Xun(e){var t,n,r,i;if(e.length>500)return s;if(t="return function evalpoly(x){",n=e.length,n===0)t+="return 0.0;";else if(n===1)t+="return "+e[0]+";";else{for(t+="if(x===0.0){return "+e[0]+";}",t+="return "+e[0],r=n-1,i=1;i<n;i++)t+="+x*",i<r&&(t+="("),t+=e[i];for(i=0;i<r-1;i++)t+=")";t+=";"}return t+="}",t+="//# sourceURL=evalpoly.factory.js",new Yun(t)();function s(o){return Kun(e,o)}}var Qun=Xun;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Jun=rs,tze=eze,Zun=Qun;Jun(tze,"factory",Zun);var eln=tze;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var tln=eval,nln=tln;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var rln=nln;function iln(){var e;try{rln('"use strict"; (function* () {})'),e=!0}catch{e=!1}return e}var sln=iln;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var oln=sln,nze=oln;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var D8=ss,aln=o1,uln=1e6;function lln(e,t){var n,r,i,s,o,a;if(a={},arguments.length>1&&(a=t),r=a.tolerance||aln,s=a.maxTerms||uln,o=a.initialValue||0,n=typeof e.next=="function",n===!0){for(i of e)if(o+=i,D8(r*o)>=D8(i)||--s===0)break}else do i=e(),o+=i;while(D8(r*o)<D8(i)&&--s);return o}var cln=lln;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ATe=ss,fln=o1,dln=1e6;function hln(e,t){var n,r,i,s,o;o={},arguments.length>1&&(o=t),n=o.tolerance||fln,i=o.maxTerms||dln,s=o.initialValue||0;do r=e(),s+=r;while(ATe(n*s)<ATe(r)&&--i);return s}var pln=hln;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mln=nze,gln=cln,yln=pln,gZ;mln()?gZ=gln:gZ=yln;var Ij=gZ;/**
* @license Apache-2.0
*
* Copyright (c) 2023 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link https://www.boost.org/doc/libs/1_83_0/boost/math/special_functions/log1p.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2005-2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
*/function vln(e){var t=-e,n=-1,r=0;return i;function i(){return n*=t,r+=1,n/r}}var bln=vln;/**
* @license Apache-2.0
*
* Copyright (c) 2023 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link https://www.boost.org/doc/libs/1_83_0/boost/math/special_functions/log1p.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2005-2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var _ln=ss,wln=of,xln=o1,Eln=Ij,Tln=bln;function Sln(e){var t,n;return e<=-1?NaN:(n=_ln(e),n>.95?wln(1+e)-e:n<xln?-e*e/2:(t={initialValue:-e},Eln(Tln(e),t)))}var Aln=Sln;/**
* @license Apache-2.0
*
* Copyright (c) 2023 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Cln=Aln,Iln=Cln;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var kln=6.283185307179586,Rln=kln;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $ln(e){return e===0?-.3333333333333333:-.3333333333333333+e*(.08333333333333333+e*(-.014814814814814815+e*(.0011574074074074073+e*(.0003527336860670194+e*(-.0001787551440329218+e*(3919263178522438e-20+e*(-21854485106799924e-22+e*(-185406221071516e-20+e*(8296711340953087e-22+e*(-17665952736826078e-23+e*(6707853543401498e-24+e*(10261809784240309e-24+e*(-4382036018453353e-24+e*914769958223679e-24)))))))))))))}var Nln=$ln;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pln(e){return e===0?-.001851851851851852:-.001851851851851852+e*(-.003472222222222222+e*(.0026455026455026454+e*(-.0009902263374485596+e*(.00020576131687242798+e*(-4018775720164609e-22+e*(-18098550334489977e-21+e*(764916091608111e-20+e*(-16120900894563446e-22+e*(4647127802807434e-24+e*(1378633446915721e-22+e*(-5752545603517705e-23+e*11951628599778148e-24)))))))))))}var Oln=Pln;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dln(e){return e===0?.004133597883597883:.004133597883597883+e*(-.0026813271604938273+e*(.0007716049382716049+e*(20093878600823047e-22+e*(-.00010736653226365161+e*(52923448829120125e-21+e*(-12760635188618728e-21+e*(3423578734096138e-23+e*(13721957309062932e-22+e*(-6298992138380055e-22+e*14280614206064242e-23)))))))))}var Lln=Dln;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mln(e){return e===0?.0006494341563786008:.0006494341563786008+e*(.00022947209362139917+e*(-.0004691894943952557+e*(.00026772063206283885+e*(-7561801671883977e-20+e*(-2396505113867297e-22+e*(11082654115347302e-21+e*(-56749528269915965e-22+e*14230900732435883e-22)))))))}var Fln=Mln;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bln(e){return e===0?-.0008618882909167117:-.0008618882909167117+e*(.0007840392217200666+e*(-.0002990724803031902+e*(-14638452578843418e-22+e*(6641498215465122e-20+e*(-3968365047179435e-20+e*11375726970678419e-21)))))}var jln=Bln;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Uln(e){return e===0?-.00033679855336635813:-.00033679855336635813+e*(-6972813758365858e-20+e*(.0002772753244959392+e*(-.00019932570516188847+e*(6797780477937208e-20+e*(1419062920643967e-22+e*(-13594048189768693e-21+e*(8018470256334202e-21+e*-2291481176508095e-21)))))))}var zln=Uln;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vln(e){return e===0?.0005313079364639922:.0005313079364639922+e*(-.0005921664373536939+e*(.0002708782096718045+e*(7902353232660328e-22+e*(-8153969367561969e-20+e*(561168275310625e-19+e*-18329116582843375e-21)))))}var Hln=Vln;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qln(e){return e===0?.00034436760689237765:.00034436760689237765+e*(5171790908260592e-20+e*(-.00033493161081142234+e*(.0002812695154763237+e*-.00010976582244684731)))}var Wln=qln;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gln(e){return e===0?-.0006526239185953094:-.0006526239185953094+e*(.0008394987206720873+e*-.000438297098541721)}var Yln=Gln;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var Kln=eln,Xln=Iln,Qln=ZUe,kG=ph,Jln=ca,Zln=Rln,ecn=Nln,tcn=Oln,ncn=Lln,rcn=Fln,icn=jln,scn=zln,ocn=Hln,acn=Wln,ucn=Yln,Rh=[0,0,0,0,0,0,0,0,0,0];function lcn(e,t){var n,r,i,s,o;return r=(t-e)/e,i=-Xln(r),s=e*i,o=kG(2*i),t<e&&(o=-o),Rh[0]=ecn(o),Rh[1]=tcn(o),Rh[2]=ncn(o),Rh[3]=rcn(o),Rh[4]=icn(o),Rh[5]=scn(o),Rh[6]=ocn(o),Rh[7]=acn(o),Rh[8]=ucn(o),Rh[9]=-.0005967612901927463,n=Kln(Rh,1/e),n*=Jln(-s)/kG(Zln*e),t<e&&(n=-n),n+=Qln(kG(s))/2,n}var ccn=lcn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/function fcn(e,t){var n=1,r=e,i=t;return s;function s(){var o=n;return r+=1,n*=i/r,o}}var dcn=fcn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var hcn=Ij,pcn=dcn;function mcn(e,t,n){var r,i;return n=n||0,i=pcn(e,t),r=hcn(i,{initialValue:n}),r}var gcn=mcn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ycn(e){var t,n,r;return e===0?1/0:(e<0?t=-e:t=e,t<=1?(n=709811.662581658+e*(679979.8474157227+e*(293136.7857211597+e*(74887.54032914672+e*(12555.290582413863+e*(1443.4299244417066+e*(115.24194596137347+e*(6.309239205732627+e*(.22668404630224365+e*(.004826466289237662+e*4624429436045379e-20))))))))),r=0+e*(362880+e*(1026576+e*(1172700+e*(723680+e*(269325+e*(63273+e*(9450+e*(870+e*(45+e*1)))))))))):(e=1/e,n=4624429436045379e-20+e*(.004826466289237662+e*(.22668404630224365+e*(6.309239205732627+e*(115.24194596137347+e*(1443.4299244417066+e*(12555.290582413863+e*(74887.54032914672+e*(293136.7857211597+e*(679979.8474157227+e*709811.662581658))))))))),r=1+e*(45+e*(870+e*(9450+e*(63273+e*(269325+e*(723680+e*(1172700+e*(1026576+e*(362880+e*0)))))))))),n/r)}var vcn=ycn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/lanczos.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var bcn=vcn,_cn=bcn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wcn=_cn,kj=wcn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* Copyright John Maddock 2006-7, 2013-14.
* Copyright Paul A. Bristow 2007, 2013-14.
* Copyright Nikhar Agrawal 2013-14.
* Copyright Christopher Kormanyos 2013-14.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var xcn=kj,Ecn=fue,Tcn=JUe,Scn=r1,Acn=ph,Ccn=ss,D1=ca,jI=Xl,RG=lue,$G=lN,CTe=of,L8=U2,UI=o3,NG=fN,Icn=s3;function kcn(e,t){var n,r,i,s,o,a,u;return i=e+NG-.5,u=(t-e-NG+.5)/i,e<1?t<=UI?D1(e*CTe(t)-t-Ecn(e)):jI(t,e)*D1(-t)/Tcn(e):(Ccn(u*u*e)<=100&&e>150?(n=e*(Scn(u)-u)+t*(.5-NG)/i,n=D1(n)):(s=e*CTe(t/i),o=e-t,$G(s,o)<=UI||RG(s,o)>=L8?(r=o/e,$G(s,o)/2>UI&&RG(s,o)/2<L8?(a=jI(t/i,e/2)*D1(o/2),n=a*a):$G(s,o)/4>UI&&RG(s,o)/4<L8&&t>e?(a=jI(t/i,e/4)*D1(o/4),n=a*a,n*=n):r>UI&&r<L8?n=jI(t*D1(r)/i,e):n=D1(s+o)):n=jI(t/i,e)*D1(o)),n*=Acn(i/Icn)/xcn(e),n)}var Rcn=kcn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_85_0/boost/math/special_functions/powm1.hpp}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var PG=Ai,$cn=B2,ITe=ss,Ncn=vj,Pcn=of,Ocn=Xl,Dcn=iue;function Lcn(e,t){var n,r;if(PG(e)||PG(t))return NaN;if(t===0)return 0;if(e===0)return-1;if(e<0&&t%2===0&&(e=-e),e>0){if((ITe(t*(e-1))<.5||ITe(t)<.2)&&(r=Pcn(e)*t,r<.5))return Ncn(r)}else if(Dcn(t)!==t)return NaN;return n=Ocn(e,t)-1,$cn(n)||PG(n)?NaN:n}var Mcn=Lcn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Fcn=Mcn,Bcn=Fcn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jcn(e){var t,n,r;return e===0?-.01803556856784494:(e<0?t=-e:t=e,t<=1?(n=-.01803556856784494+e*(.02512664961998968+e*(.049410315156753225+e*(.0172491608709614+e*(-.0002594535632054381+e*(-.0005410098692152044+e*(-3245886498259485e-20+e*0)))))),r=1+e*(1.962029871977952+e*(1.4801966942423133+e*(.5413914320717209+e*(.09885042511280101+e*(.008213096746488934+e*(.00022493629192211576+e*-22335276320861708e-23))))))):(e=1/e,n=0+e*(-3245886498259485e-20+e*(-.0005410098692152044+e*(-.0002594535632054381+e*(.0172491608709614+e*(.049410315156753225+e*(.02512664961998968+e*-.01803556856784494)))))),r=-22335276320861708e-23+e*(.00022493629192211576+e*(.008213096746488934+e*(.09885042511280101+e*(.5413914320717209+e*(1.4801966942423133+e*(1.962029871977952+e*1))))))),n/r)}var Ucn=jcn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zcn(e){var t,n,r;return e===0?.04906224540690395:(e<0?t=-e:t=e,t<=1?(n=.04906224540690395+e*(-.09691175301595212+e*(-.4149833583594954+e*(-.4065671242119384+e*(-.1584135863906922+e*(-.024014982064857155+e*-.0010034668769627955))))),r=1+e*(3.0234982984646304+e*(3.4873958536072385+e*(1.9141558827442668+e*(.5071377386143635+e*(.05770397226904519+e*.001957681026011072)))))):(e=1/e,n=-.0010034668769627955+e*(-.024014982064857155+e*(-.1584135863906922+e*(-.4065671242119384+e*(-.4149833583594954+e*(-.09691175301595212+e*.04906224540690395))))),r=.001957681026011072+e*(.05770397226904519+e*(.5071377386143635+e*(1.9141558827442668+e*(3.4873958536072385+e*(3.0234982984646304+e*1)))))),n/r)}var Vcn=zcn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Hcn(e){var t,n,r;return e===0?-.029232972183027003:(e<0?t=-e:t=e,t<=1?(n=-.029232972183027003+e*(.14421626775719232+e*(-.14244039073863127+e*(.05428096940550536+e*(-.008505359768683364+e*(.0004311713426792973+e*0))))),r=1+e*(-1.5016935605448505+e*(.846973248876495+e*(-.22009515181499575+e*(.02558279715597587+e*(-.0010066679553914337+e*-8271935218912905e-22)))))):(e=1/e,n=0+e*(.0004311713426792973+e*(-.008505359768683364+e*(.05428096940550536+e*(-.14244039073863127+e*(.14421626775719232+e*-.029232972183027003))))),r=-8271935218912905e-22+e*(-.0010066679553914337+e*(.02558279715597587+e*(-.22009515181499575+e*(.846973248876495+e*(-1.5016935605448505+e*1)))))),n/r)}var qcn=Hcn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/detail/lgamma_small.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006-7, 2013-14.
* (C) Copyright Paul A. Bristow 2007, 2013-14.
* (C) Copyright Nikhar Agrawal 2013-14.
* (C) Copyright Christopher Kormanyos 2013-14.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var OG=of,Wcn=o1,Gcn=Ucn,Ycn=Vcn,Kcn=qcn,Xcn=.15896368026733398,Qcn=.5281534194946289,Jcn=.45201730728149414;function Zcn(e,t,n){var r,i,s,o;if(e<Wcn)return-OG(e);if(t===0||n===0)return 0;if(i=0,e>2){if(e>=3){do e-=1,n-=1,i+=OG(e);while(e>=3);n=e-2}return s=n*(e+1),o=Gcn(n),i+=s*Xcn+s*o,i}return e<1&&(i+=-OG(e),n=t,t=e,e+=1),e<=1.5?(s=Ycn(t),r=t*n,i+=r*Qcn+r*s,i):(s=n*t,o=Kcn(-n),i+=s*Jcn+s*o,i)}var efn=Zcn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006-7, 2013-14.
* (C) Copyright Paul A. Bristow 2007, 2013-14.
* (C) Copyright Nikhar Agrawal 2013-14.
* (C) Copyright Christopher Kormanyos 2013-14.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var kTe=cN,RTe=vj,tfn=r1,nfn=Ai,$Te=efn;function rfn(e){return nfn(e)?NaN:e<0?e<-.5?kTe(1+e)-1:RTe(-tfn(e)+$Te(e+2,e+1,e)):e<2?RTe($Te(e+1,e,e-1)):kTe(1+e)-1}var ifn=rfn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var sfn=ifn,ofn=sfn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/function afn(e,t){var n,r,i,s;return n=-t,t=-t,r=e+1,i=1,o;function o(){return s=n/r,n*=t,i+=1,n/=i,r+=1,s}}var ufn=afn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var lfn=Bcn,cfn=Ij,ffn=ofn,dfn=ufn;function hfn(e,t,n){var r,i,s,o,a;return i=ffn(e),s=(i+1)/e,o=lfn(t,e),i-=o,i/=e,a=dfn(e,t),o+=1,r=n?s:0,i=-o*cfn(a,{initialValue:(r-i)/o}),n&&(i=-i),[i,s]}var pfn=hfn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mfn=11754943508222875e-54,rze=mfn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var OM=ss,P0=rze,gfn=o1,yfn=1e6;function vfn(e,t,n){var r,i,s,o,a,u,l;if(r=typeof e.next=="function",l=r?e.next().value:e(),o=l[1],s=l[0],o===0&&(o=P0),a=o,u=0,r===!0)do l=e.next().value,l&&(u=l[1]+l[0]*u,u===0&&(u=P0),a=l[1]+l[0]/a,a===0&&(a=P0),u=1/u,i=a*u,o*=i);while(OM(i-1)>t&&--n);else do l=e(),l&&(u=l[1]+l[0]*u,u===0&&(u=P0),a=l[1]+l[0]/a,a===0&&(a=P0),u=1/u,i=a*u,o*=i);while(l&&OM(i-1)>t&&--n);return s/o}function bfn(e,t,n){var r,i,s,o,a,u;if(r=typeof e.next=="function",u=r?e.next().value:e(),s=u[1],s===0&&(s=P0),o=s,a=0,r===!0)do u=e.next().value,u&&(a=u[1]+u[0]*a,a===0&&(a=P0),o=u[1]+u[0]/o,o===0&&(o=P0),a=1/a,i=o*a,s*=i);while(u&&OM(i-1)>t&&--n);else do u=e(),u&&(a=u[1]+u[0]*a,a===0&&(a=P0),o=u[1]+u[0]/o,o===0&&(o=P0),a=1/a,i=o*a,s*=i);while(u&&OM(i-1)>t&&--n);return s}function _fn(e,t){var n,r,i;return r={},arguments.length>1&&(r=t),n=r.maxIter||yfn,i=r.tolerance||gfn,r.keep?bfn(e,i,n):vfn(e,i,n)}var wfn=_fn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ize=ss,xfn=o1,IS=rze,Efn=1e6;function Tfn(e,t,n){var r,i,s,o,a,u;u=e(),a=u[1],i=u[0],a===0&&(a=IS),s=a,o=0;do u=e(),u&&(o=u[1]+u[0]*o,o===0&&(o=IS),s=u[1]+u[0]/s,s===0&&(s=IS),o=1/o,r=s*o,a*=r);while(u&&ize(r-1)>t&&--n);return i/a}function Sfn(e,t,n){var r,i,s,o,a;a=e(),o=a[1],o===0&&(o=IS),i=o,s=0;do a=e(),a&&(s=a[1]+a[0]*s,s===0&&(s=IS),i=a[1]+a[0]/i,i===0&&(i=IS),s=1/s,r=i*s,o*=r);while(a&&ize(r-1)>t&&--n);return o}function Afn(e,t){var n,r,i;return r={},arguments.length>1&&(r=t),i=r.tolerance||xfn,n=r.maxIter||Efn,r.keep?Sfn(e,i,n):Tfn(e,i,n)}var Cfn=Afn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ifn=nze,kfn=wfn,Rfn=Cfn,yZ;Ifn()?yZ=kfn:yZ=Rfn;var sze=yZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/function $fn(e,t){var n=t-e+1,r=e,i=0;return s;function s(){return i+=1,n+=2,[i*(r-i),n]}}var Nfn=$fn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var Pfn=sze,Ofn=Nfn;function Dfn(e,t){var n=Ofn(e,t);return 1/(t-e+1+Pfn(n))}var Lfn=Dfn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_62_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006-7, 2013-14.
* (C) Copyright Paul A. Bristow 2007, 2013-14.
* (C) Copyright Nikhar Agrawal 2013-14.
* (C) Christopher Kormanyos 2013-14.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var Mfn=fue,Ffn=Yl,zI=JUe,NTe=ss,Bfn=ca,PTe=Xl,$h=of,jfn=Van,OTe=UUe,Ufn=Cj,DTe=U2,zfn=is,Vfn=Gan,Hfn=Fun,LTe=zun,qfn=ccn,DG=gcn,MTe=Rcn,Wfn=pfn,FTe=Lfn,Gfn=170;function oze(e,t,n,r){var i,s,o,a,u,l,c,f,d,h,p,m,g,y,v;if(e<0||t<=0)return NaN;if(s=n===void 0?!0:n,f=r,d=0,t>=Gfn&&!s)return f&&t*4<e?(d=t*$h(e)-e,d+=$h(FTe(t,e))):!f&&t>4*e?(d=t*$h(e)-e,a=0,d+=$h(DG(t,e,a)/t)):(d=oze(t,e,!0,f),d===0?f?(d=1+1/(12*t)+1/(288*t*t),d=$h(d)-t+(t-.5)*$h(t),d+=$h(Ufn)):(d=t*$h(e)-e,a=0,d+=$h(DG(t,e,a)/t)):d=$h(d)+Mfn(t)),d>DTe?zfn:Bfn(d);switch(c=t<30&&t<=e+1&&e<DTe,c?(y=Ffn(t),h=y===t,u=h?!1:NTe(y-t)===.5):h=u=!1,h&&e>.6?(f=!f,o=0):u&&e>.2?(f=!f,o=1):e<jfn&&t>1?o=6:e<.5?-.4/$h(e)<t?o=2:o=3:e<1.1?e*.75<t?o=2:o=3:(l=!1,s&&t>20&&(p=NTe((e-t)/t),t>200?20/t>p*p&&(l=!0):p<.4&&(l=!0)),l?o=5:e-1/(3*e)<t?o=2:(o=4,f=!f)),o){case 0:d=Vfn(t,e),s===!1&&(d*=zI(t));break;case 1:d=Hfn(t,e),s===!1&&(d*=zI(t));break;case 2:d=s?MTe(t,e):LTe(t,e),d!==0&&(a=0,i=!1,f&&(a=s?1:zI(t),s||d>=1||OTe*d>a?(a/=d,s||t<1||OTe/t>a?(a*=-t,i=!0):a=0):a=0)),d*=DG(t,e,a)/t,i&&(f=!1,d=-d);break;case 3:f=!f,g=Wfn(t,e,f),d=g[0],v=g[1],f=!1,s&&(d/=v);break;case 4:d=s?MTe(t,e):LTe(t,e),d!==0&&(d*=FTe(t,e));break;case 5:d=qfn(t,e),e>=t&&(f=!f);break;case 6:d=s?PTe(e,t)/zI(t+1):PTe(e,t)/t,d*=1-t*e/(t+1);break}return s&&d>1&&(d=1),f&&(m=s?1:zI(t),d=m-d),d}var Yfn=oze;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Kfn=Yfn,Xfn=Kfn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
* (C) Copyright Paul A. Bristow 2007.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var XE=ca,M8=Xl,Qfn=of,BTe=U2,jTe=o3;function Jfn(e,t){var n,r;return r=e*Qfn(t),t>=1?r<BTe&&-t>jTe?n=M8(t,e)*XE(-t):e>=1?n=M8(t/XE(t/e),e):n=XE(r-t):r>jTe?n=M8(t,e)*XE(-t):t/e<BTe?n=M8(t/XE(t/e),e):n=XE(r-t),n}var Zfn=Jfn;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function edn(e){return e===0?.08333333333334822:.08333333333334822+e*(.0034722222160545866+e*(-.0026813261780578124+e*(-.00022954996161337813+e*.0007873113957930937)))}var tdn=edn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C code, copyright, license, and constants are from [Cephes]{@link http://www.netlib.org/cephes}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright 1984, 1987, 1989, 1992, 2000 by Stephen L. Moshier
*
* Some software in this archive may be from the book _Methods and Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster International, 1989) or from the Cephes Mathematical Library, a commercial product. In either event, it is copyrighted by the author. What you see here may be used freely but it comes with no support or guarantee.
*
* Stephen L. Moshier
* moshier@na-net.ornl.gov
* ```
*/var ndn=Cj,UTe=Xl,rdn=ca,idn=tdn,sdn=143.01608;function odn(e){var t,n,r;return t=1/e,t=1+t*idn(t),n=rdn(e),e>sdn?(r=UTe(e,.5*e-.25),n=r*(r/n)):n=UTe(e,e-.5)/n,ndn*n*t}var adn=odn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C code, copyright, license, and constants are from [Cephes]{@link http://www.netlib.org/cephes}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright 1984, 1987, 1989, 1992, 2000 by Stephen L. Moshier
*
* Some software in this archive may be from the book _Methods and Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster International, 1989) or from the Cephes Mathematical Library, a commercial product. In either event, it is copyrighted by the author. What you see here may be used freely but it comes with no support or guarantee.
*
* Stephen L. Moshier
* moshier@na-net.ornl.gov
* ```
*/var udn=cue;function ldn(e,t){return t/((1+udn*e)*e)}var cdn=ldn;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fdn(e){var t,n,r;return e===0?1:(e<0?t=-e:t=e,t<=1?(n=1+e*(.4942148268014971+e*(.20744822764843598+e*(.04763678004571372+e*(.010421379756176158+e*(.0011913514700658638+e*(.00016011952247675185+e*0)))))),r=1+e*(.0714304917030273+e*(-.23459179571824335+e*(.035823639860549865+e*(.011813978522206043+e*(-.004456419138517973+e*(.0005396055804933034+e*-23158187332412014e-21))))))):(e=1/e,n=0+e*(.00016011952247675185+e*(.0011913514700658638+e*(.010421379756176158+e*(.04763678004571372+e*(.20744822764843598+e*(.4942148268014971+e*1)))))),r=-23158187332412014e-21+e*(.0005396055804933034+e*(-.004456419138517973+e*(.011813978522206043+e*(.035823639860549865+e*(-.23459179571824335+e*(.0714304917030273+e*1))))))),n/r)}var ddn=fdn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C code, long comment, copyright, license, and constants are from [Cephes]{@link http://www.netlib.org/cephes}. The implementation follows the original, but has been modified for JavaScript.
*
* ```text
* Copyright 1984, 1987, 1989, 1992, 2000 by Stephen L. Moshier
*
* Some software in this archive may be from the book _Methods and Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster International, 1989) or from the Cephes Mathematical Library, a commercial product. In either event, it is copyrighted by the author. What you see here may be used freely but it comes with no support or guarantee.
*
* Stephen L. Moshier
* moshier@na-net.ornl.gov
* ```
*/var hdn=Ai,pdn=Kl,mdn=Tj,zTe=ss,gdn=Yl,ydn=Aj,VTe=is,HTe=Ma,qTe=j2,WTe=adn,GTe=cdn,vdn=ddn;function bdn(e){var t,n,r,i;if(pdn(e)&&e<0||e===HTe||hdn(e))return NaN;if(e===0)return mdn(e)?HTe:VTe;if(e>171.61447887182297)return VTe;if(e<-170.5674972726612)return 0;if(n=zTe(e),n>33)return e>=0?WTe(e):(r=gdn(n),r&1?t=1:t=-1,i=n-r,i>.5&&(r+=1,i=n-r),i=n*ydn(qTe*i),t*qTe/(zTe(i)*WTe(n)));for(i=1;e>=3;)e-=1,i*=e;for(;e<0;){if(e>-1e-9)return GTe(e,i);i/=e,e+=1}for(;e<2;){if(e<1e-9)return GTe(e,i);i/=e,e+=1}return e===2?i:(e-=2,i*vdn(e))}var _dn=bdn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wdn=_dn,xdn=wdn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* Copyright John Maddock 2006-7, 2013-14.
* Copyright Paul A. Bristow 2007, 2013-14.
* Copyright Nikhar Agrawal 2013-14.
* Copyright Christopher Kormanyos 2013-14.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var Edn=kj,Tdn=fue,Sdn=xdn,Adn=r1,Cdn=ph,Idn=ss,L1=ca,VI=Xl,LG=lue,MG=lN,YTe=of,F8=U2,HI=o3,FG=fN,kdn=s3;function Rdn(e,t){var n,r,i,s,o,a,u;return i=e+FG-.5,u=(t-e-FG+.5)/i,e<1?t<=HI?L1(e*YTe(t)-t-Tdn(e)):VI(t,e)*L1(-t)/Sdn(e):(Idn(u*u*e)<=100&&e>150?(n=e*(Adn(u)-u)+t*(.5-FG)/i,n=L1(n)):(s=e*YTe(t/i),o=e-t,MG(s,o)<=HI||LG(s,o)>=F8?(r=o/e,MG(s,o)/2>HI&&LG(s,o)/2<F8?(a=VI(t/i,e/2)*L1(o/2),n=a*a):MG(s,o)/4>HI&&LG(s,o)/4<F8&&t>e?(a=VI(t/i,e/4)*L1(o/4),n=a*a,n*=n):r>HI&&r<F8?n=VI(t*L1(r)/i,e):n=L1(s+o)):n=VI(t/i,e)*L1(o)),n*=Cdn(i/kdn)/Edn(e),n)}var $dn=Rdn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_61_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var Ndn=Ssn,KTe=Fsn,Pdn=Xfn,Odn=r1,B8=ss,XTe=Xl,Ddn=of,Ldn=uN,QTe=o1,Mdn=Zfn,Fdn=$dn,M1=new Array(30);function Bdn(e,t,n,r,i,s,o){var a,u,l,c,f,d,h,p,m,g,y,v,b,w,x,S,A,C;if(d=t-1,A=e+d/2,r<.35?g=Odn(-r):g=Ddn(n),C=-A*g,v=Fdn(t,C),v<=Ldn)return i;for(o?(a=v/Ndn(e,t),a/=XTe(A,t)):a=Mdn(t,C)/XTe(A,t),a*=s,M1[0]=1,b=Pdn(C,t,!0,!0),b/=v,c=i+a*b,l=1,h=g/2,h*=h,p=1,y=4*A*A,f=t,x=1;x<M1.length;++x){for(l+=2,M1[x]=0,m=t-x,u=3,w=1;w<x;++w)m=w*t-x,M1[x]+=m*M1[x-w]/KTe(u),u+=2;if(M1[x]/=x,M1[x]+=d/KTe(l),b=(f*(f+1)*b+(C+f+1)*p)/y,p*=h,f+=2,S=a*M1[x]*b,c+=S,S>1){if(B8(S)<B8(QTe*c))break}else if(B8(S/QTe)<B8(c))break}return c}var jdn=Bdn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/function Udn(e,t,n){var r,i;if(n===0)return 1;for(r=1,i=0;i<n;i++)r*=(e+i)/(t+i);return r}var zdn=Udn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Vdn=uue,JTe=Ai,BG=is;function Hdn(e,t){return JTe(e)||JTe(t)?NaN:e===BG||t===BG?BG:e===t&&e===0?Vdn(e)?e:t:e>t?e:t}var qdn=Hdn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Wdn=qdn,Gdn=Wdn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ZTe=ss,Ydn=Gdn;function Kdn(e,t){return Ydn(ZTe(e),ZTe(t))}var Xdn=Kdn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Qdn=Xdn,Jdn=Qdn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var eSe=ss,Zdn=lN;function ehn(e,t){return Zdn(eSe(e),eSe(t))}var thn=ehn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var nhn=thn,rhn=nhn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_62_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var jG=kj,ihn=Jdn,shn=rhn,tSe=vj,F1=r1,nSe=ph,j8=ss,r0=ca,i0=Xl,ohn=lN,bd=of,s0=U2,QE=o3,UG=fN,ahn=s3;function uhn(e,t,n,r,i){var s,o,a,u,l,c,f,d,h,p,m,g,y,v;if(!i)return i0(n,e)*i0(r,t);if(y=e+t,u=e+UG-.5,l=t+UG-.5,c=y+UG-.5,s=jG(y),s/=jG(e)*jG(t),s*=nSe(l/ahn),s*=nSe(u/c),f=(n*t-r*u)/u,d=(r*e-n*l)/l,shn(f,d)<.2)if(f*d>0||ohn(e,t)<1)j8(f)<.1?s*=r0(e*F1(f)):s*=i0(n*c/u,e),j8(d)<.1?s*=r0(t*F1(d)):s*=i0(r*c/l,t);else if(ihn(f,d)<.5)o=e<t,a=t/e,o&&a*d<.1||!o&&f/a>.1?(h=tSe(a*F1(d)),h=f+h+h*f,h=e*F1(h),s*=r0(h)):(h=tSe(F1(f)/a),h=d+h+h*d,h=t*F1(h),s*=r0(h));else if(j8(f)<j8(d))if(v=e*F1(f)+t*bd(r*c/l),v<=QE||v>=s0){if(v+=bd(s),v>=s0)return NaN;s=r0(v)}else s*=r0(v);else if(v=t*F1(d)+e*bd(n*c/u),v<=QE||v>=s0){if(v+=bd(s),v>=s0)return NaN;s=r0(v)}else s*=r0(v);else if(m=n*c/u,g=r*c/l,f=e*bd(m),d=t*bd(g),f>=s0||f<=QE||d>=s0||d<=QE)if(e<t)if(p=i0(g,t/e),h=e*(bd(m)+bd(p)),h<s0&&h>QE)s*=i0(p*m,e);else{if(d+=f+bd(s),d>=s0)return NaN;s=r0(d)}else if(p=i0(m,e/t),h=(bd(p)+bd(g))*t,h<s0&&h>QE)s*=i0(p*g,t);else{if(d+=f+bd(s),d>=s0)return NaN;s=r0(d)}else s*=i0(m,e)*i0(g,t);return s}var due=uhn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_61_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var lhn=sze,chn=due,fhn={keep:!0,maxIter:1e3};function dhn(e,t,n,r){var i=0;return s;function s(){var o,a,u;return a=(e+i-1)*(e+t+i-1)*i*(t-i)*n*n,o=e+2*i-1,a/=o*o,u=i,u+=i*(t-i)*n/(e+2*i-1),u+=(e+i)*(e*r-t*n+1+i*(2-n))/(e+2*i+1),i+=1,[a,u]}}function hhn(e,t,n,r,i,s){var o,a,u;return o=chn(e,t,n,r,i),s&&(s[1]=o),o===0?o:(u=dhn(e,t,n,r),a=lhn(u,fhn),o/a)}var phn=hhn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mhn=9007199254740991,aze=mhn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ghn=2147483647,yhn=ghn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vhn(e,t){var n=0,r;if(e===0)return t;if(t===0)return e;for(;!(e&1)&&!(t&1);)e>>>=1,t>>>=1,n+=1;for(;!(e&1);)e>>>=1;for(;t;){for(;!(t&1);)t>>>=1;e>t&&(r=t,t=e,e=r),t-=e}return e<<n}var bhn=vhn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _hn(e,t){var n=1,r;if(e===0)return t;if(t===0)return e;for(;e%2===0&&t%2===0;)e/=2,t/=2,n*=2;for(;e%2===0;)e/=2;for(;t;){for(;t%2===0;)t/=2;e>t&&(r=t,t=e,e=r),t-=e}return n*e}var whn=_hn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var rSe=Ai,iSe=Kl,sSe=is,oSe=Ma,aSe=yhn,xhn=bhn,Ehn=whn;function Thn(e,t){return rSe(e)||rSe(t)?NaN:e===sSe||t===sSe||e===oSe||t===oSe?NaN:iSe(e)&&iSe(t)?(e<0&&(e=-e),t<0&&(t=-t),e<=aSe&&t<=aSe?xhn(e,t):Ehn(e,t)):NaN}var Shn=Thn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ahn=Shn,Chn=Ahn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ihn=aze,khn=is,uSe=Kl,lSe=Ai,Rhn=oue,$hn=Yl,Nhn=Chn;function vZ(e,t){var n,r,i,s,o,a,u;if(lSe(e)||lSe(t))return NaN;if(!uSe(e)||!uSe(t))return NaN;if(t<0||(r=1,e<0&&(e=-e+t-1,Rhn(t)&&(r*=-1)),t>e))return 0;if(t===0||t===e)return r;if(t===1||t===e-1)return r*e;for(e-t<t&&(t=e-t),u=$hn(Ihn/e),n=1,o=1;o<=t&&!(n>u);o++)n*=e,n/=o,e-=1;return o>t?r*n:(i=vZ(e,t-o+1),i===khn?r*i:(s=vZ(t,t-o+1),a=Nhn(i,s),i/=a,s/=a,n/=s,r*n*i))}var Phn=vZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ohn=Phn,Dhn=Ohn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_61_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var cSe=Dhn,Q_=Yl,qI=Xl,Lhn=uN;function Mhn(e,t,n,r){var i,s,o,a,u;if(s=qI(n,e),s>Lhn)for(a=s,u=Q_(e-1);u>t;u--)a*=(u+1)*r/((e-u)*n),s+=a;else if(o=Q_(e*n),o<=t+1&&(o=Q_(t+2)),s=qI(n,o)*qI(r,e-o),s*=cSe(Q_(e),Q_(o)),s===0)for(u=o-1;u>t;u--)s+=qI(n,u)*qI(r,e-u),s*=cSe(Q_(e),Q_(u));else{for(a=s,i=s,u=o-1;u>t;u--)a*=(u+1)*r/((e-u)*n),s+=a;for(a=i,u=o+1;u<=e;u++)a*=(e-u+1)*n/(u*r),s+=a}return s}var Fhn=Mhn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_61_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var Bhn=due;function jhn(e,t,n,r,i,s,o){var a,u,l,c;if(a=Bhn(e,t,n,r,s),o&&(o[1]=a),a/=e,a===0)return a;for(l=1,u=1,c=0;c<i-1;++c)u*=(e+t+c)*n/(e+c+1),l+=u;return a*=l,a}var Uhn=jhn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*
* ## Notice
*
* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.
*
* ```text
* (C) Copyright John Maddock 2006.
*
* Use, modification and distribution are subject to the
* Boost Software License, Version 1.0. (See accompanying file
* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)
* ```
*/var zG=kj,zhn=Ij,Vhn=r1,Hhn=ph,VG=ca,U8=Xl,WI=of,qhn=uN,fSe=U2,dSe=o3,HG=fN,Whn=s3,hSe={maxTerms:100};function Ghn(e,t,n,r){var i=1-t,s=1;return o;function o(){var a=r/e;return e+=1,r*=i*n/s,s+=1,i+=1,a}}function Yhn(e,t,n,r,i,s,o){var a,u,l,c,f,d,h,p;return i?(h=e+t,u=e+HG-.5,l=t+HG-.5,c=h+HG-.5,a=zG(h)/(zG(e)*zG(t)),f=WI(c/l)*(t-.5),d=WI(n*c/u)*e,f>dSe&&f<fSe&&d>dSe&&d<fSe?(e*t<l*10?a*=VG((t-.5)*Vhn(e/l)):a*=U8(c/l,t-.5),a*=U8(n*c/u,e),a*=Hhn(u/Whn),s&&(s[1]=a*U8(o,t))):(a=WI(a)+f+d+(WI(u)-1)/2,s&&(s[1]=VG(a+t*WI(o))),a=VG(a))):a=U8(n,e),a<qhn?r:(p=Ghn(e,t,n,a),hSe.initialValue=r,zhn(p,hSe))}var Khn=Yhn,Xhn=Ai,Qhn=vj,z8=Yl,pSe=r1,mSe=uQt,_d=jUe,qG=ph,Jhn=ca,GI=Xl,Zhn=lue,gSe=lN,V8=UUe,ySe=uN,epn=zUe,tpn=Stn,uze=j2,B1=jdn,WG=zdn,npn=due,vSe=phn,rpn=Fhn,YI=Uhn,o0=Khn,ipn=1/uze;function spn(e,t,n,r,i,s,o,a){var u,l,c,f,d,h,p,m,g,y,v,b;if(b=1-e,p=a,m=a+o,s[m]=-1,Xhn(e)||e<0||e>1)return s[p]=NaN,s[m]=NaN,s;if(r){if(t<0||n<0)return s[p]=NaN,s[m]=NaN,s;if(t===0){if(n===0)return s[p]=NaN,s[m]=NaN,s;if(n>0)return s[p]=i?0:1,s}else if(n===0&&t>0)return s[p]=i?1:0,s}else if(t<=0||n<=0)return s[p]=NaN,s[m]=NaN,s;return e===0?(t===1?s[m]=1:s[m]=t<1?V8/2:ySe*2,i?(s[p]=r?1:_d(t,n),s):(s[p]=0,s)):e===1?(n===1?s[m]=1:s[m]=n<1?V8/2:ySe*2,i?s[p]=0:s[p]=r?1:_d(t,n),s):t===.5&&n===.5?(s[m]=ipn*qG(b*e),v=mSe(qG(i?b:e)),v/=tpn,r||(v*=uze),s[p]=v,s):(t===1&&(h=n,n=t,t=h,h=b,b=e,e=h,i=!i),n===1?t===1?(s[p]=i?b:e,s[m]=1,s):(s[m]=t*GI(e,t-1),b<.5?v=i?-Qhn(t*pSe(-b)):Jhn(t*pSe(-b)):v=i?-(GI(e,t)-1):GI(e,t),r||(v/=t),s[p]=v,s):(gSe(t,n)<=1?(e>.5&&(h=n,n=t,t=h,h=b,b=e,e=h,i=!i),Zhn(t,n)<=1?t>=gSe(.2,n)||GI(e,t)<=.9?i?(c=-(r?1:_d(t,n)),i=!1,c=-o0(t,n,e,c,r,s,b)):c=o0(t,n,e,0,r,s,b):(h=n,n=t,t=h,h=b,b=e,e=h,i=!i,b>=.3?i?(c=-(r?1:_d(t,n)),i=!1,c=-o0(t,n,e,c,r,s,b)):c=o0(t,n,e,0,r,s,b):(r?l=1:l=WG(t+n,t,20),c=YI(t,n,e,b,20,r,s),i?(c-=r?1:_d(t,n),i=!1,c=-B1(t+20,n,e,b,c,l,r)):c=B1(t+20,n,e,b,c,l,r))):n<=1||e<.1&&GI(n*e,t)<=.7?i?(c=-(r?1:_d(t,n)),i=!1,c=-o0(t,n,e,c,r,s,b)):c=o0(t,n,e,0,r,s,b):(h=n,n=t,t=h,h=b,b=e,e=h,i=!i,b>=.3?i?(c=-(r?1:_d(t,n)),i=!1,c=-o0(t,n,e,c,r,s,b)):c=o0(t,n,e,0,r,s,b):t>=15?i?(c=-(r?1:_d(t,n)),i=!1,c=-B1(t,n,e,b,c,1,r)):c=B1(t,n,e,b,0,1,r):(r?l=1:l=WG(t+n,t,20),c=YI(t,n,e,b,20,r,s),i?(c-=r?1:_d(t,n),i=!1,c=-B1(t+20,n,e,b,c,l,r)):c=B1(t+20,n,e,b,c,l,r)))):(t<n?u=t-(t+n)*e:u=(t+n)*b-n,u<0&&(h=n,n=t,t=h,h=b,b=e,e=h,i=!i),n<40?z8(t)===t&&z8(n)===n&&t<epn-100?(g=t-1,y=n+g,c=rpn(y,g,e,b),r||(c*=_d(t,n))):n*e<=.7?i?(c=-(r?1:_d(t,n)),i=!1,c=-o0(t,n,e,c,r,s,b)):c=o0(t,n,e,0,r,s,b):t>15?(y=z8(n),y===n&&(y-=1),f=n-y,r?l=1:l=WG(t+f,f,y),c=YI(f,t,b,e,y,r),c=B1(t,f,e,b,c,1,r),c/=l):r?(y=z8(n),f=n-y,f<=0&&(y-=1,f+=1),c=YI(f,t,b,e,y,r),c+=YI(t,f,e,b,20,r),i&&(c-=1),c=B1(t+20,f,e,b,c,1,r),i&&(c=-c,i=!1)):c=vSe(t,n,e,b,r,s):c=vSe(t,n,e,b,r,s)),s[m]<0&&(s[m]=npn(t,n,e,b,!0)),d=b*e,s[m]!==0&&(V8*d<s[m]?s[m]=V8/2:s[m]/=d),s[p]=i?(r?1:_d(t,n))-c:c,s))}var lze=spn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var opn=lze;function apn(e,t,n,r,i){return opn(e,t,n,r,i,[0,0],1,0)}var upn=apn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var lpn=rs,cze=upn,cpn=lze;lpn(cze,"assign",cpn);var fpn=cze;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var dpn=fpn.assign;function hpn(e,t,n,r,i){var s=[0,0];return r=r!==!1,i=i===!0,dpn(e,t,n,r,i,s,1,0),s[0]}var ppn=hpn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mpn=ppn,gpn=mpn;const ypn=tf(gpn);/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var vpn=M2;function bpn(e,t,n){vpn(e,t,{configurable:!1,enumerable:!1,get:n})}var _pn=bpn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wpn=_pn,dN=wpn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var xpn=M2;function Epn(e,t,n,r){xpn(e,t,{configurable:!1,enumerable:!1,get:n,set:r})}var Tpn=Epn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Spn=Tpn,hue=Spn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Apn=pu,bZ;function Cpn(e){return Apn(e)==="[object Array]"}Array.isArray?bZ=Array.isArray:bZ=Cpn;var Ipn=bZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var kpn=Ipn,hN=kpn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Rpn=hN;function $pn(e){return typeof e=="object"&&e!==null&&!Rpn(e)}var Npn=$pn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ppn=Npn,pue=Ppn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Opn=/./,Dpn=Opn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lpn(e){return typeof e=="boolean"}var fze=Lpn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Mpn=Boolean,Fpn=Mpn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Bpn=Fpn,jpn=Bpn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Upn=Boolean.prototype.toString,zpn=Upn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Vpn=zpn;function Hpn(e){try{return Vpn.call(e),!0}catch{return!1}}var qpn=Hpn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Wpn=hj,Gpn=pu,Ypn=jpn,Kpn=qpn,Xpn=Wpn();function Qpn(e){return typeof e=="object"?e instanceof Ypn?!0:Xpn?Kpn(e):Gpn(e)==="[object Boolean]":!1}var dze=Qpn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Jpn=fze,Zpn=dze;function e0n(e){return Jpn(e)||Zpn(e)}var t0n=e0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var hze=rs,mue=t0n,n0n=fze,r0n=dze;hze(mue,"isPrimitive",n0n);hze(mue,"isObject",r0n);var gue=mue;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function i0n(){return new Function("return this;")()}var s0n=i0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var o0n=typeof self=="object"?self:null,a0n=o0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var u0n=typeof window=="object"?window:null,l0n=u0n;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var c0n=typeof globalThis=="object"?globalThis:null,f0n=c0n;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var d0n=gue.isPrimitive,h0n=Fo,p0n=s0n,bSe=a0n,_Se=l0n,wSe=f0n;function m0n(e){if(arguments.length){if(!d0n(e))throw new TypeError(h0n("invalid argument. Must provide a boolean. Value: `%s`.",e));if(e)return p0n()}if(wSe)return wSe;if(bSe)return bSe;if(_Se)return _Se;throw new Error("unexpected error. Unable to resolve global object.")}var g0n=m0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var y0n=g0n,xSe=y0n(),v0n=xSe.document&&xSe.document.childNodes,b0n=v0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _0n=Int8Array,w0n=_0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var x0n=Dpn,E0n=b0n,T0n=w0n;function S0n(){return typeof x0n=="function"||typeof T0n=="object"||typeof E0n=="function"}var A0n=S0n;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function C0n(){return/^\s*function\s*([^(]*)/i}var pze=C0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var I0n=pze,k0n=I0n(),R0n=k0n;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var $0n=rs,mze=pze,N0n=R0n;$0n(mze,"REGEXP",N0n);var gze=mze;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var P0n=hN,O0n=Fo;function D0n(e){if(typeof e!="function")throw new TypeError(O0n("invalid argument. Must provide a function. Value: `%s`.",e));return t;function t(n){var r,i;if(!P0n(n)||(r=n.length,r===0))return!1;for(i=0;i<r;i++)if(e(n[i])===!1)return!1;return!0}}var L0n=D0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var M0n=L0n,F0n=M0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function B0n(e){return e!==null&&typeof e=="object"}var j0n=B0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var U0n=rs,z0n=F0n,yue=j0n,V0n=z0n(yue);U0n(yue,"isObjectLikeArray",V0n);var H0n=yue;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var q0n=H0n;function W0n(e){return q0n(e)&&(e._isBuffer||e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))}var G0n=W0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Y0n=G0n,yze=Y0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var K0n=pu,X0n=gze.REGEXP,Q0n=yze;function J0n(e){var t,n,r;if(n=K0n(e).slice(8,-1),(n==="Object"||n==="Error")&&e.constructor){if(r=e.constructor,typeof r.name=="string")return r.name;if(t=X0n.exec(r.toString()),t)return t[1]}return Q0n(e)?"Buffer":n}var Z0n=J0n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var emn=Z0n,a3=emn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var tmn=a3;function nmn(e){var t;return e===null?"null":(t=typeof e,t==="object"?tmn(e).toLowerCase():t)}var rmn=nmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var imn=a3;function smn(e){return imn(e).toLowerCase()}var omn=smn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var amn=A0n,umn=rmn,lmn=omn,cmn=amn()?lmn:umn,fmn=cmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var dmn=fmn;function hmn(e){return dmn(e)==="function"}var pmn=hmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mmn=pmn,z2=mmn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var gmn=Object,ymn=gmn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var vmn=ymn,bmn=vmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _mn=Object.getPrototypeOf,wmn=_mn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xmn(e){return e.__proto__}var Emn=xmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Tmn=pu,Smn=Emn;function Amn(e){var t=Smn(e);return t||t===null?t:Tmn(e.constructor)==="[object Function]"?e.constructor.prototype:e instanceof Object?Object.prototype:null}var Cmn=Amn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Imn=z2,kmn=wmn,Rmn=Cmn,_Z;Imn(Object.getPrototypeOf)?_Z=kmn:_Z=Rmn;var $mn=_Z;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Nmn=bmn,Pmn=$mn;function Omn(e){return e==null?null:(e=Nmn(e),Pmn(e))}var Dmn=Omn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Lmn=Dmn,Rj=Lmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Mmn=pue,ESe=z2,Fmn=Rj,ID=r3,Bmn=pu,jmn=Object.prototype;function Umn(e){var t;for(t in e)if(!ID(e,t))return!1;return!0}function zmn(e){var t;return Mmn(e)?(t=Fmn(e),t?!ID(e,"constructor")&&ID(t,"constructor")&&ESe(t.constructor)&&Bmn(t.constructor)==="[object Function]"&&ID(t,"isPrototypeOf")&&ESe(t.isPrototypeOf)&&(t===jmn||Umn(e)):!0):!1}var Vmn=zmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Hmn=Vmn,vue=Hmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qmn(e){return t;function t(){return e}}var Wmn=qmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Gmn=Wmn,vze=Gmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ymn(){}var Kmn=Ymn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Xmn=Kmn,bze=Xmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Qmn=9007199254740991,Jmn=Qmn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Zmn=Kl,egn=Jmn;function tgn(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&Zmn(e.length)&&e.length>=0&&e.length<=egn}var ngn=tgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var rgn=ngn,bue=rgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ign(e){return typeof e=="number"}var _ze=ign;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var sgn=rue,ogn=sgn.prototype.toString,agn=ogn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ugn=agn;function lgn(e){try{return ugn.call(e),!0}catch{return!1}}var cgn=lgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var fgn=hj,dgn=pu,hgn=rue,pgn=cgn,mgn=fgn();function ggn(e){return typeof e=="object"?e instanceof hgn?!0:mgn?pgn(e):dgn(e)==="[object Number]":!1}var wze=ggn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ygn=_ze,vgn=wze;function bgn(e){return ygn(e)||vgn(e)}var _gn=bgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var xze=rs,_ue=_gn,wgn=_ze,xgn=wze;xze(_ue,"isPrimitive",wgn);xze(_ue,"isObject",xgn);var Up=_ue;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Egn=is,Tgn=Ma,Sgn=Kl;function Agn(e){return e<Egn&&e>Tgn&&Sgn(e)}var Eze=Agn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Cgn=Up.isPrimitive,Ign=Eze;function kgn(e){return Cgn(e)&&Ign(e)}var Tze=kgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Rgn=Up.isObject,$gn=Eze;function Ngn(e){return Rgn(e)&&$gn(e.valueOf())}var Sze=Ngn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Pgn=Tze,Ogn=Sze;function Dgn(e){return Pgn(e)||Ogn(e)}var Lgn=Dgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Aze=rs,wue=Lgn,Mgn=Tze,Fgn=Sze;Aze(wue,"isPrimitive",Mgn);Aze(wue,"isObject",Fgn);var $j=wue;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Bgn=$j.isPrimitive;function jgn(e){return Bgn(e)&&e>0}var Cze=jgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ugn=$j.isObject;function zgn(e){return Ugn(e)&&e.valueOf()>0}var Ize=zgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Vgn=Cze,Hgn=Ize;function qgn(e){return Vgn(e)||Hgn(e)}var Wgn=qgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var kze=rs,xue=Wgn,Ggn=Cze,Ygn=Ize;kze(xue,"isPrimitive",Ggn);kze(xue,"isObject",Ygn);var Kgn=xue;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Xgn=uue,TSe=Ai,GG=is;function Qgn(e,t){return TSe(e)||TSe(t)?NaN:e===GG||t===GG?GG:e===t&&e===0?Xgn(e)?e:t:e>t?e:t}var Jgn=Qgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Zgn=Jgn,eyn=Zgn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var SSe=65535;function tyn(e,t){var n,r,i,s,o,a;return e>>>=0,t>>>=0,i=e>>>16>>>0,s=t>>>16>>>0,o=(e&SSe)>>>0,a=(t&SSe)>>>0,n=o*a>>>0,r=i*a+o*s<<16>>>0,n+r>>>0}var nyn=tyn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ryn=nyn,iyn=ryn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ASe="function";function syn(e){return typeof e.get===ASe&&typeof e.set===ASe}var oyn=syn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ayn=oyn,uyn=ayn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var CSe={float64:lyn,float32:cyn,int32:fyn,int16:dyn,int8:hyn,uint32:pyn,uint16:myn,uint8:gyn,uint8c:yyn,generic:vyn,default:byn};function lyn(e,t){return e[t]}function cyn(e,t){return e[t]}function fyn(e,t){return e[t]}function dyn(e,t){return e[t]}function hyn(e,t){return e[t]}function pyn(e,t){return e[t]}function myn(e,t){return e[t]}function gyn(e,t){return e[t]}function yyn(e,t){return e[t]}function vyn(e,t){return e[t]}function byn(e,t){return e[t]}function _yn(e){var t=CSe[e];return typeof t=="function"?t:CSe.default}var wyn=_yn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var xyn=wyn,Eue=xyn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ISe={float64:Eyn,float32:Tyn,int32:Syn,int16:Ayn,int8:Cyn,uint32:Iyn,uint16:kyn,uint8:Ryn,uint8c:$yn,generic:Nyn,default:Pyn};function Eyn(e,t,n){e[t]=n}function Tyn(e,t,n){e[t]=n}function Syn(e,t,n){e[t]=n}function Ayn(e,t,n){e[t]=n}function Cyn(e,t,n){e[t]=n}function Iyn(e,t,n){e[t]=n}function kyn(e,t,n){e[t]=n}function Ryn(e,t,n){e[t]=n}function $yn(e,t,n){e[t]=n}function Nyn(e,t,n){e[t]=n}function Pyn(e,t,n){e[t]=n}function Oyn(e){var t=ISe[e];return typeof t=="function"?t:ISe.default}var Dyn=Oyn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Lyn=Dyn,Myn=Lyn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var kSe={complex128:Fyn,complex64:Byn,default:jyn};function Fyn(e,t){return e.get(t)}function Byn(e,t){return e.get(t)}function jyn(e,t){return e.get(t)}function Uyn(e){var t=kSe[e];return typeof t=="function"?t:kSe.default}var zyn=Uyn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Vyn=zyn,Tue=Vyn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var RSe={complex128:Hyn,complex64:qyn,default:Wyn};function Hyn(e,t,n){e.set(n,t)}function qyn(e,t,n){e.set(n,t)}function Wyn(e,t,n){e.set(n,t)}function Gyn(e){var t=RSe[e];return typeof t=="function"?t:RSe.default}var Yyn=Gyn;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Kyn=Yyn,Xyn=Kyn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Qyn={Float32Array:"float32",Float64Array:"float64",Array:"generic",Int16Array:"int16",Int32Array:"int32",Int8Array:"int8",Uint16Array:"uint16",Uint32Array:"uint32",Uint8Array:"uint8",Uint8ClampedArray:"uint8c",Complex64Array:"complex64",Complex128Array:"complex128"},Jyn=Qyn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Zyn=pu,e1n=typeof Float32Array=="function";function t1n(e){return e1n&&e instanceof Float32Array||Zyn(e)==="[object Float32Array]"}var n1n=t1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var r1n=n1n,i1n=r1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var s1n=typeof Float32Array=="function"?Float32Array:null,o1n=s1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var a1n=i1n,u1n=is,$Se=o1n;function l1n(){var e,t;if(typeof $Se!="function")return!1;try{t=new $Se([1,3.14,-3.14,5e40]),e=a1n(t)&&t[0]===1&&t[1]===3.140000104904175&&t[2]===-3.140000104904175&&t[3]===u1n}catch{e=!1}return e}var c1n=l1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var f1n=c1n,d1n=f1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var h1n=typeof Float32Array=="function"?Float32Array:void 0,p1n=h1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m1n(){throw new Error("not implemented")}var g1n=m1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var y1n=d1n,v1n=p1n,b1n=g1n,wZ;y1n()?wZ=v1n:wZ=b1n;var u3=wZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _1n=pu,w1n=typeof Int32Array=="function";function x1n(e){return w1n&&e instanceof Int32Array||_1n(e)==="[object Int32Array]"}var E1n=x1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var T1n=E1n,S1n=T1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var A1n=-2147483648,C1n=A1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var I1n=typeof Int32Array=="function"?Int32Array:null,k1n=I1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var R1n=S1n,$1n=zUe,N1n=C1n,NSe=k1n;function P1n(){var e,t;if(typeof NSe!="function")return!1;try{t=new NSe([1,3.14,-3.14,$1n+1]),e=R1n(t)&&t[0]===1&&t[1]===3&&t[2]===-3&&t[3]===N1n}catch{e=!1}return e}var O1n=P1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var D1n=O1n,L1n=D1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var M1n=typeof Int32Array=="function"?Int32Array:void 0,F1n=M1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function B1n(){throw new Error("not implemented")}var j1n=B1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var U1n=L1n,z1n=F1n,V1n=j1n,xZ;U1n()?xZ=z1n:xZ=V1n;var Sue=xZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var H1n=pu,q1n=typeof Int16Array=="function";function W1n(e){return q1n&&e instanceof Int16Array||H1n(e)==="[object Int16Array]"}var G1n=W1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Y1n=G1n,K1n=Y1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var X1n=32767,Q1n=X1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var J1n=-32768,Z1n=J1n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var evn=typeof Int16Array=="function"?Int16Array:null,tvn=evn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var nvn=K1n,rvn=Q1n,ivn=Z1n,PSe=tvn;function svn(){var e,t;if(typeof PSe!="function")return!1;try{t=new PSe([1,3.14,-3.14,rvn+1]),e=nvn(t)&&t[0]===1&&t[1]===3&&t[2]===-3&&t[3]===ivn}catch{e=!1}return e}var ovn=svn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var avn=ovn,uvn=avn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var lvn=typeof Int16Array=="function"?Int16Array:void 0,cvn=lvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fvn(){throw new Error("not implemented")}var dvn=fvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var hvn=uvn,pvn=cvn,mvn=dvn,EZ;hvn()?EZ=pvn:EZ=mvn;var Aue=EZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var gvn=pu,yvn=typeof Uint8ClampedArray=="function";function vvn(e){return yvn&&e instanceof Uint8ClampedArray||gvn(e)==="[object Uint8ClampedArray]"}var bvn=vvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _vn=bvn,wvn=_vn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var xvn=typeof Uint8ClampedArray=="function"?Uint8ClampedArray:null,Evn=xvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Tvn=wvn,OSe=Evn;function Svn(){var e,t;if(typeof OSe!="function")return!1;try{t=new OSe([-1,0,1,3.14,4.99,255,256]),e=Tvn(t)&&t[0]===0&&t[1]===0&&t[2]===1&&t[3]===3&&t[4]===5&&t[5]===255&&t[6]===255}catch{e=!1}return e}var Avn=Svn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Cvn=Avn,Ivn=Cvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var kvn=typeof Uint8ClampedArray=="function"?Uint8ClampedArray:void 0,Rvn=kvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $vn(){throw new Error("not implemented")}var Nvn=$vn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Pvn=Ivn,Ovn=Rvn,Dvn=Nvn,TZ;Pvn()?TZ=Ovn:TZ=Dvn;var Cue=TZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Lvn=pu,Mvn=typeof Int8Array=="function";function Fvn(e){return Mvn&&e instanceof Int8Array||Lvn(e)==="[object Int8Array]"}var Bvn=Fvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var jvn=Bvn,Uvn=jvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var zvn=127,Vvn=zvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Hvn=-128,qvn=Hvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Wvn=typeof Int8Array=="function"?Int8Array:null,Gvn=Wvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Yvn=Uvn,Kvn=Vvn,Xvn=qvn,DSe=Gvn;function Qvn(){var e,t;if(typeof DSe!="function")return!1;try{t=new DSe([1,3.14,-3.14,Kvn+1]),e=Yvn(t)&&t[0]===1&&t[1]===3&&t[2]===-3&&t[3]===Xvn}catch{e=!1}return e}var Jvn=Qvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Zvn=Jvn,ebn=Zvn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var tbn=typeof Int8Array=="function"?Int8Array:void 0,nbn=tbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rbn(){throw new Error("not implemented")}var ibn=rbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var sbn=ebn,obn=nbn,abn=ibn,SZ;sbn()?SZ=obn:SZ=abn;var Iue=SZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ubn=$j.isPrimitive;function lbn(e){return ubn(e)&&e>=0}var Rze=lbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var cbn=$j.isObject;function fbn(e){return cbn(e)&&e.valueOf()>=0}var $ze=fbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var dbn=Rze,hbn=$ze;function pbn(e){return dbn(e)||hbn(e)}var mbn=pbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Nze=rs,kue=mbn,gbn=Rze,ybn=$ze;Nze(kue,"isPrimitive",gbn);Nze(kue,"isObject",ybn);var Pze=kue;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var vbn=4294967295,bbn=vbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _bn=Kl,wbn=bbn;function xbn(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&_bn(e.length)&&e.length>=0&&e.length<=wbn}var Ebn=xbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Tbn=Ebn,l3=Tbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Sbn=pu,Abn=typeof ArrayBuffer=="function";function Cbn(e){return Abn&&e instanceof ArrayBuffer||Sbn(e)==="[object ArrayBuffer]"}var Ibn=Cbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var kbn=Ibn,Oze=kbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Rbn(e){return typeof e=="string"}var Dze=Rbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var $bn=String.prototype.valueOf,Nbn=$bn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Pbn=Nbn;function Obn(e){try{return Pbn.call(e),!0}catch{return!1}}var Dbn=Obn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Lbn=hj,Mbn=pu,Fbn=Dbn,Bbn=Lbn();function jbn(e){return typeof e=="object"?e instanceof String?!0:Bbn?Fbn(e):Mbn(e)==="[object String]":!1}var Lze=jbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ubn=Dze,zbn=Lze;function Vbn(e){return Ubn(e)||zbn(e)}var Hbn=Vbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Mze=rs,Rue=Hbn,qbn=Dze,Wbn=Lze;Mze(Rue,"isPrimitive",qbn);Mze(Rue,"isObject",Wbn);var Fze=Rue;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gbn(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i",e}var Ybn=Gbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Kbn(){var e={};return e.type="Complex128",e.re=this.re,e.im=this.im,e}var Xbn=Kbn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var LSe=Up.isPrimitive,MSe=M2,pN=rs,FSe=Fo,Qbn=Ybn,Jbn=Xbn;function V2(e,t){if(!(this instanceof V2))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!LSe(e))throw new TypeError(FSe("invalid argument. Real component must be a number. Value: `%s`.",e));if(!LSe(t))throw new TypeError(FSe("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return MSe(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),MSe(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:t}),this}pN(V2,"BYTES_PER_ELEMENT",8);pN(V2.prototype,"BYTES_PER_ELEMENT",8);pN(V2.prototype,"byteLength",16);pN(V2.prototype,"toString",Qbn);pN(V2.prototype,"toJSON",Jbn);var Zbn=V2;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e_n=Zbn,t_n=e_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var n_n=typeof Math.fround=="function"?Math.fround:null,r_n=n_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var i_n=u3,BSe=new i_n(1);function s_n(e){return BSe[0]=e,BSe[0]}var o_n=s_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var jSe=r_n,a_n=o_n,AZ;typeof jSe=="function"?AZ=jSe:AZ=a_n;var Bze=AZ;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function u_n(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i",e}var l_n=u_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function c_n(){var e={};return e.type="Complex64",e.re=this.re,e.im=this.im,e}var f_n=c_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var USe=Up.isPrimitive,zSe=M2,mN=rs,VSe=Bze,HSe=Fo,d_n=l_n,h_n=f_n;function H2(e,t){if(!(this instanceof H2))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!USe(e))throw new TypeError(HSe("invalid argument. Real component must be a number. Value: `%s`.",e));if(!USe(t))throw new TypeError(HSe("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return zSe(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:VSe(e)}),zSe(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:VSe(t)}),this}mN(H2,"BYTES_PER_ELEMENT",4);mN(H2.prototype,"BYTES_PER_ELEMENT",4);mN(H2.prototype,"byteLength",8);mN(H2.prototype,"toString",d_n);mN(H2.prototype,"toJSON",h_n);var p_n=H2;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var m_n=p_n,g_n=m_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var y_n=t_n,v_n=g_n;function b_n(e){return e instanceof y_n||e instanceof v_n?!0:typeof e=="object"&&e!==null&&typeof e.re=="number"&&typeof e.im=="number"}var __n=b_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var w_n=__n,__=w_n;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var x_n=8;function E_n(e){return typeof e=="object"&&e!==null&&e.constructor.name==="Complex64Array"&&e.BYTES_PER_ELEMENT===x_n}var T_n=E_n;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var S_n=T_n,jze=S_n;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var A_n=16;function C_n(e){return typeof e=="object"&&e!==null&&e.constructor.name==="Complex128Array"&&e.BYTES_PER_ELEMENT===A_n}var I_n=C_n;/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var k_n=I_n,Uze=k_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var R_n=r3,H8=TUe;function $_n(){return typeof H8=="function"&&typeof H8("foo")=="symbol"&&R_n(H8,"iterator")&&typeof H8.iterator=="symbol"}var N_n=$_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var P_n=N_n,$ue=P_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var O_n=$ue,D_n=O_n()?Symbol.iterator:null,L_n=D_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var M_n=L_n,zze=M_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function F_n(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i",e}var B_n=F_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function j_n(){var e={};return e.type="Complex64",e.re=this.re,e.im=this.im,e}var U_n=j_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var qSe=Up.isPrimitive,WSe=M2,gN=rs,GSe=Bze,YSe=Fo,z_n=B_n,V_n=U_n;function q2(e,t){if(!(this instanceof q2))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!qSe(e))throw new TypeError(YSe("invalid argument. Real component must be a number. Value: `%s`.",e));if(!qSe(t))throw new TypeError(YSe("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return WSe(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:GSe(e)}),WSe(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:GSe(t)}),this}gN(q2,"BYTES_PER_ELEMENT",4);gN(q2.prototype,"BYTES_PER_ELEMENT",4);gN(q2.prototype,"byteLength",8);gN(q2.prototype,"toString",z_n);gN(q2.prototype,"toJSON",V_n);var H_n=q2;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var q_n=H_n,W_n=q_n;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G_n(e){return e.re}var Y_n=G_n;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var K_n=Y_n,Nj=K_n;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function X_n(e){return e.im}var Q_n=X_n;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var J_n=Q_n,Pj=J_n;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Z_n=u3;function ewn(e,t){return new Z_n(e.buffer,e.byteOffset+e.BYTES_PER_ELEMENT*t,2*(e.length-t))}var twn=ewn;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var nwn=twn,Nue=nwn;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var rwn=hh;function iwn(e,t){return new rwn(e.buffer,e.byteOffset+e.BYTES_PER_ELEMENT*t,2*(e.length-t))}var swn=iwn;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var own=swn,Pue=own;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var awn=l3,uwn=__,lwn=Nj,cwn=Pj,fwn=Fo;function dwn(e){var t,n,r;for(t=[];n=e.next(),!n.done;)if(r=n.value,awn(r)&&r.length>=2)t.push(r[0],r[1]);else if(uwn(r))t.push(lwn(r),cwn(r));else return new TypeError(fwn("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",r));return t}var hwn=dwn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var pwn=l3,mwn=__,gwn=Nj,ywn=Pj,vwn=Fo;function bwn(e,t,n){var r,i,s,o;for(r=[],o=-1;i=e.next(),!i.done;)if(o+=1,s=t.call(n,i.value,o),pwn(s)&&s.length>=2)r.push(s[0],s[1]);else if(mwn(s))r.push(gwn(s),ywn(s));else return new TypeError(vwn("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",s));return r}var _wn=bwn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wwn=__,xwn=Nj,Ewn=Pj;function Twn(e,t){var n,r,i,s;for(n=t.length,s=0,i=0;i<n;i++){if(r=t[i],!wwn(r))return null;e[s]=xwn(r),e[s+1]=Ewn(r),s+=2}return e}var Swn=Twn,W6=Pze.isPrimitive,CZ=l3,Oue=bue,KSe=Oze,Vze=pue,Awn=hN,Cwn=Fze.isPrimitive,eu=z2,Vd=__,DM=xj,Bc=Kl,Iwn=jze,kwn=Uze,Rwn=$ue,NA=zze,Ar=rs,Oj=dN,Sd=u3,Hze=W_n,fn=Fo,mm=Nj,gm=Pj,$wn=Yl,Nwn=Nue,Pwn=Pue,Own=Eue,Dwn=Tue,qze=hwn,Lwn=_wn,Mwn=Swn,wf=Sd.BYTES_PER_ELEMENT*2,Wze=Rwn();function Gi(e){return e instanceof zn||typeof e=="object"&&e!==null&&(e.constructor.name==="Complex64Array"||e.constructor.name==="Complex128Array")&&typeof e._length=="number"&&typeof e._buffer=="object"}function Gze(e){return e===zn||e.name==="Complex128Array"}function Bl(e,t){return t*=2,new Hze(e[t],e[t+1])}function zn(){var e,t,n,r;if(t=arguments.length,!(this instanceof zn))return t===0?new zn:t===1?new zn(arguments[0]):t===2?new zn(arguments[0],arguments[1]):new zn(arguments[0],arguments[1],arguments[2]);if(t===0)n=new Sd(0);else if(t===1)if(W6(arguments[0]))n=new Sd(arguments[0]*2);else if(Oue(arguments[0]))if(n=arguments[0],r=n.length,r&&Awn(n)&&Vd(n[0])){if(n=Mwn(new Sd(r*2),n),n===null){if(!DM(r))throw new RangeError(fn("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",r));n=new Sd(arguments[0])}}else{if(Iwn(n))n=Nwn(n,0);else if(kwn(n))n=Pwn(n,0);else if(!DM(r))throw new RangeError(fn("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",r));n=new Sd(n)}else if(KSe(arguments[0])){if(n=arguments[0],!Bc(n.byteLength/wf))throw new RangeError(fn("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",wf,n.byteLength));n=new Sd(n)}else if(Vze(arguments[0])){if(n=arguments[0],Wze===!1)throw new TypeError(fn("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",n));if(!eu(n[NA]))throw new TypeError(fn("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",n));if(n=n[NA](),!eu(n.next))throw new TypeError(fn("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",n));if(n=qze(n),n instanceof Error)throw n;n=new Sd(n)}else throw new TypeError(fn("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));else{if(n=arguments[0],!KSe(n))throw new TypeError(fn("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",n));if(e=arguments[1],!W6(e))throw new TypeError(fn("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",e));if(!Bc(e/wf))throw new RangeError(fn("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",wf,e));if(t===2){if(r=n.byteLength-e,!Bc(r/wf))throw new RangeError(fn("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",wf,r));n=new Sd(n,e)}else{if(r=arguments[2],!W6(r))throw new TypeError(fn("invalid argument. Length must be a nonnegative integer. Value: `%s`.",r));if(r*wf>n.byteLength-e)throw new RangeError(fn("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",r*wf));n=new Sd(n,e,r*2)}}return Ar(this,"_buffer",n),Ar(this,"_length",n.length/2),this}Ar(zn,"BYTES_PER_ELEMENT",wf);Ar(zn,"name","Complex64Array");Ar(zn,"from",function(t){var n,r,i,s,o,a,u,l,c,f,d,h;if(!eu(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Gze(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(r=arguments.length,r>1){if(i=arguments[1],!eu(i))throw new TypeError(fn("invalid argument. Second argument must be a function. Value: `%s`.",i));r>2&&(n=arguments[2])}if(Gi(t)){if(l=t.length,i){for(s=new this(l),o=s._buffer,h=0,d=0;d<l;d++){if(f=i.call(n,t.get(d),d),Vd(f))o[h]=mm(f),o[h+1]=gm(f);else if(CZ(f)&&f.length>=2)o[h]=f[0],o[h+1]=f[1];else throw new TypeError(fn("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",f));h+=2}return s}return new this(t)}if(Oue(t)){if(i){for(l=t.length,t.get&&t.set?u=Dwn("default"):u=Own("default"),d=0;d<l;d++)if(!Vd(u(t,d))){c=!0;break}if(c){if(!DM(l))throw new RangeError(fn("invalid argument. First argument must have a length which is a multiple of %u. Length: `%u`.",2,l));for(s=new this(l/2),o=s._buffer,d=0;d<l;d++)o[d]=i.call(n,u(t,d),d);return s}for(s=new this(l),o=s._buffer,h=0,d=0;d<l;d++){if(f=i.call(n,u(t,d),d),Vd(f))o[h]=mm(f),o[h+1]=gm(f);else if(CZ(f)&&f.length>=2)o[h]=f[0],o[h+1]=f[1];else throw new TypeError(fn("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",f));h+=2}return s}return new this(t)}if(Vze(t)&&Wze&&eu(t[NA])){if(o=t[NA](),!eu(o.next))throw new TypeError(fn("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t));if(i?a=Lwn(o,i,n):a=qze(o),a instanceof Error)throw a;for(l=a.length/2,s=new this(l),o=s._buffer,d=0;d<l;d++)o[d]=a[d];return s}throw new TypeError(fn("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t))});Ar(zn,"of",function(){var t,n;if(!eu(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Gze(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);return new this(t)});Ar(zn.prototype,"at",function(t){if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Bc(t))throw new TypeError(fn("invalid argument. Must provide an integer. Value: `%s`.",t));if(t<0&&(t+=this._length),!(t<0||t>=this._length))return Bl(this._buffer,t)});Oj(zn.prototype,"buffer",function(){return this._buffer.buffer});Oj(zn.prototype,"byteLength",function(){return this._buffer.byteLength});Oj(zn.prototype,"byteOffset",function(){return this._buffer.byteOffset});Ar(zn.prototype,"BYTES_PER_ELEMENT",zn.BYTES_PER_ELEMENT);Ar(zn.prototype,"copyWithin",function(t,n){if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return arguments.length===2?this._buffer.copyWithin(t*2,n*2):this._buffer.copyWithin(t*2,n*2,arguments[2]*2),this});Ar(zn.prototype,"entries",function(){var t,n,r,i,s,o,a;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return n=this,t=this._buffer,i=this._length,o=-1,a=-2,r={},Ar(r,"next",u),Ar(r,"return",l),NA&&Ar(r,NA,c),r;function u(){var f;return o+=1,s||o>=i?{done:!0}:(a+=2,f=new Hze(t[a],t[a+1]),{value:[o,f],done:!1})}function l(f){return s=!0,arguments.length?{value:f,done:!0}:{done:!0}}function c(){return n.entries()}});Ar(zn.prototype,"every",function(t,n){var r,i;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!eu(t))throw new TypeError(fn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(!t.call(n,Bl(r,i),i,this))return!1;return!0});Ar(zn.prototype,"fill",function(t,n,r){var i,s,o,a,u,l;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Vd(t))throw new TypeError(fn("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(i=this._buffer,s=this._length,arguments.length>1){if(!Bc(n))throw new TypeError(fn("invalid argument. Second argument must be an integer. Value: `%s`.",n));if(n<0&&(n+=s,n<0&&(n=0)),arguments.length>2){if(!Bc(r))throw new TypeError(fn("invalid argument. Third argument must be an integer. Value: `%s`.",r));r<0&&(r+=s,r<0&&(r=0)),r>s&&(r=s)}else r=s}else n=0,r=s;for(a=mm(t),u=gm(t),l=n;l<r;l++)o=2*l,i[o]=a,i[o+1]=u;return this});Ar(zn.prototype,"filter",function(t,n){var r,i,s,o;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!eu(t))throw new TypeError(fn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=[],s=0;s<this._length;s++)o=Bl(r,s),t.call(n,o,s,this)&&i.push(o);return new this.constructor(i)});Ar(zn.prototype,"find",function(t,n){var r,i,s;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!eu(t))throw new TypeError(fn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(s=Bl(r,i),t.call(n,s,i,this))return s});Ar(zn.prototype,"findIndex",function(t,n){var r,i,s;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!eu(t))throw new TypeError(fn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(s=Bl(r,i),t.call(n,s,i,this))return i;return-1});Ar(zn.prototype,"findLast",function(t,n){var r,i,s;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!eu(t))throw new TypeError(fn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=this._length-1;i>=0;i--)if(s=Bl(r,i),t.call(n,s,i,this))return s});Ar(zn.prototype,"findLastIndex",function(t,n){var r,i,s;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!eu(t))throw new TypeError(fn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=this._length-1;i>=0;i--)if(s=Bl(r,i),t.call(n,s,i,this))return i;return-1});Ar(zn.prototype,"forEach",function(t,n){var r,i,s;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!eu(t))throw new TypeError(fn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)s=Bl(r,i),t.call(n,s,i,this)});Ar(zn.prototype,"get",function(t){if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!W6(t))throw new TypeError(fn("invalid argument. Must provide a nonnegative integer. Value: `%s`.",t));if(!(t>=this._length))return Bl(this._buffer,t)});Ar(zn.prototype,"includes",function(t,n){var r,i,s,o,a;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Vd(t))throw new TypeError(fn("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!Bc(n))throw new TypeError(fn("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length,n<0&&(n=0))}else n=0;for(s=mm(t),o=gm(t),r=this._buffer,a=n;a<this._length;a++)if(i=2*a,s===r[i]&&o===r[i+1])return!0;return!1});Ar(zn.prototype,"indexOf",function(t,n){var r,i,s,o,a;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Vd(t))throw new TypeError(fn("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!Bc(n))throw new TypeError(fn("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length,n<0&&(n=0))}else n=0;for(s=mm(t),o=gm(t),r=this._buffer,a=n;a<this._length;a++)if(i=2*a,s===r[i]&&o===r[i+1])return a;return-1});Ar(zn.prototype,"join",function(t){var n,r,i,s;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(arguments.length===0)i=",";else if(Cwn(t))i=t;else throw new TypeError(fn("invalid argument. First argument must be a string. Value: `%s`.",t));for(n=[],r=this._buffer,s=0;s<this._length;s++)n.push(Bl(r,s).toString());return n.join(i)});Ar(zn.prototype,"lastIndexOf",function(t,n){var r,i,s,o,a;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Vd(t))throw new TypeError(fn("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!Bc(n))throw new TypeError(fn("invalid argument. Second argument must be an integer. Value: `%s`.",n));n>=this._length?n=this._length-1:n<0&&(n+=this._length)}else n=this._length-1;for(s=mm(t),o=gm(t),r=this._buffer,a=n;a>=0;a--)if(i=2*a,s===r[i]&&o===r[i+1])return a;return-1});Oj(zn.prototype,"length",function(){return this._length});Ar(zn.prototype,"map",function(t,n){var r,i,s,o,a;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!eu(t))throw new TypeError(fn("invalid argument. First argument must be a function. Value: `%s`.",t));for(i=this._buffer,s=new this.constructor(this._length),r=s._buffer,o=0;o<this._length;o++)if(a=t.call(n,Bl(i,o),o,this),Vd(a))r[2*o]=mm(a),r[2*o+1]=gm(a);else if(CZ(a)&&a.length===2)r[2*o]=a[0],r[2*o+1]=a[1];else throw new TypeError(fn("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));return s});Ar(zn.prototype,"reduce",function(t,n){var r,i,s,o,a;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!eu(t))throw new TypeError(fn("invalid argument. First argument must be a function. Value: `%s`.",t));if(r=this._buffer,s=this._length,arguments.length>1)i=n,a=0;else{if(s===0)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");i=Bl(r,0),a=1}for(;a<s;a++)o=Bl(r,a),i=t(i,o,a,this);return i});Ar(zn.prototype,"reverse",function(){var t,n,r,i,s,o;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,t=this._buffer,i=$wn(r/2),s=0;s<i;s++)o=r-s-1,n=t[2*s],t[2*s]=t[2*o],t[2*o]=n,n=t[2*s+1],t[2*s+1]=t[2*o+1],t[2*o+1]=n;return this});Ar(zn.prototype,"set",function(t){var n,r,i,s,o,a,u,l,c;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(i=this._buffer,arguments.length>1){if(r=arguments[1],!W6(r))throw new TypeError(fn("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(Vd(t)){if(r>=this._length)throw new RangeError(fn("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));r*=2,i[r]=mm(t),i[r+1]=gm(t);return}if(Gi(t)){if(a=t._length,r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=t._buffer,c=i.byteOffset+r*wf,n.buffer===i.buffer&&n.byteOffset<c&&n.byteOffset+n.byteLength>c){for(s=new Sd(n.length),l=0;l<n.length;l++)s[l]=n[l];n=s}for(r*=2,c=0,l=0;l<a;l++)i[r]=n[c],i[r+1]=n[c+1],r+=2,c+=2;return}if(Oue(t)){for(a=t.length,l=0;l<a;l++)if(!Vd(t[l])){o=!0;break}if(o){if(!DM(a))throw new RangeError(fn("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=t,c=i.byteOffset+r*wf,n.buffer===i.buffer&&n.byteOffset<c&&n.byteOffset+n.byteLength>c){for(s=new Sd(a),l=0;l<a;l++)s[l]=n[l];n=s}for(r*=2,a/=2,c=0,l=0;l<a;l++)i[r]=n[c],i[r+1]=n[c+1],r+=2,c+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,l=0;l<a;l++)u=t[l],i[r]=mm(u),i[r+1]=gm(u),r+=2;return}throw new TypeError(fn("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",t))});Ar(zn.prototype,"slice",function(t,n){var r,i,s,o,a,u,l;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(a=this._buffer,u=this._length,arguments.length===0)t=0,n=u;else{if(!Bc(t))throw new TypeError(fn("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=u,t<0&&(t=0)),arguments.length===1)n=u;else{if(!Bc(n))throw new TypeError(fn("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=u,n<0&&(n=0)):n>u&&(n=u)}}for(t<n?r=n-t:r=0,s=new this.constructor(r),i=s._buffer,l=0;l<r;l++)o=2*(l+t),i[2*l]=a[o],i[2*l+1]=a[o+1];return s});Ar(zn.prototype,"some",function(t,n){var r,i;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!eu(t))throw new TypeError(fn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(t.call(n,Bl(r,i),i,this))return!0;return!1});Ar(zn.prototype,"subarray",function(t,n){var r,i,s;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(i=this._buffer,s=this._length,arguments.length===0)t=0,n=s;else{if(!Bc(t))throw new TypeError(fn("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=s,t<0&&(t=0)),arguments.length===1)n=s;else{if(!Bc(n))throw new TypeError(fn("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=s,n<0&&(n=0)):n>s&&(n=s)}}return t>=s?(s=0,r=i.byteLength):t>=n?(s=0,r=i.byteOffset+t*wf):(s=n-t,r=i.byteOffset+t*wf),new this.constructor(i.buffer,r,s<0?0:s)});Ar(zn.prototype,"toReversed",function(){var t,n,r,i,s,o;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,n=new this.constructor(r),i=this._buffer,t=n._buffer,s=0;s<r;s++)o=r-s-1,t[2*s]=i[2*o],t[2*s+1]=i[2*o+1];return n});Ar(zn.prototype,"toString",function(){var t,n,r;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],n=this._buffer,r=0;r<this._length;r++)t.push(Bl(n,r).toString());return t.join(",")});Ar(zn.prototype,"with",function(t,n){var r,i,s;if(!Gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Bc(t))throw new TypeError(fn("invalid argument. First argument must be an integer. Value: `%s`.",t));if(s=this._length,t<0&&(t+=s),t<0||t>=s)throw new RangeError(fn("invalid argument. Index argument is out-of-bounds. Value: `%s`.",t));if(!Vd(n))throw new TypeError(fn("invalid argument. Second argument must be a complex number. Value: `%s`.",n));return i=new this.constructor(this._buffer),r=i._buffer,r[2*t]=mm(n),r[2*t+1]=gm(n),i});var Fwn=zn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Bwn=Fwn,Due=Bwn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jwn(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i",e}var Uwn=jwn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zwn(){var e={};return e.type="Complex128",e.re=this.re,e.im=this.im,e}var Vwn=zwn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var XSe=Up.isPrimitive,QSe=M2,yN=rs,JSe=Fo,Hwn=Uwn,qwn=Vwn;function W2(e,t){if(!(this instanceof W2))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!XSe(e))throw new TypeError(JSe("invalid argument. Real component must be a number. Value: `%s`.",e));if(!XSe(t))throw new TypeError(JSe("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return QSe(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),QSe(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:t}),this}yN(W2,"BYTES_PER_ELEMENT",8);yN(W2.prototype,"BYTES_PER_ELEMENT",8);yN(W2.prototype,"byteLength",16);yN(W2.prototype,"toString",Hwn);yN(W2.prototype,"toJSON",qwn);var Wwn=W2;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Gwn=Wwn,Ywn=Gwn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Kwn(e){return e.re}var Xwn=Kwn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Qwn=Xwn,Dj=Qwn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jwn(e){return e.im}var Zwn=Jwn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var exn=Zwn,Lj=exn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var txn=l3,nxn=__,rxn=Fo,ixn=Dj,sxn=Lj;function oxn(e){var t,n,r;for(t=[];n=e.next(),!n.done;)if(r=n.value,txn(r)&&r.length>=2)t.push(r[0],r[1]);else if(nxn(r))t.push(ixn(r),sxn(r));else return new TypeError(rxn("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",r));return t}var axn=oxn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var uxn=l3,lxn=__,cxn=Fo,fxn=Dj,dxn=Lj;function hxn(e,t,n){var r,i,s,o;for(r=[],o=-1;i=e.next(),!i.done;)if(o+=1,s=t.call(n,i.value,o),uxn(s)&&s.length>=2)r.push(s[0],s[1]);else if(lxn(s))r.push(fxn(s),dxn(s));else return new TypeError(cxn("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",s));return r}var pxn=hxn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mxn=__,gxn=Dj,yxn=Lj;function vxn(e,t){var n,r,i,s;for(n=t.length,s=0,i=0;i<n;i++){if(r=t[i],!mxn(r))return null;e[s]=gxn(r),e[s+1]=yxn(r),s+=2}return e}var bxn=vxn,G6=Pze.isPrimitive,IZ=l3,Lue=bue,ZSe=Oze,Yze=pue,_xn=hN,wxn=Fze,tu=z2,Hd=__,LM=xj,jc=Kl,xxn=jze,Exn=Uze,Txn=$ue,PA=zze,Cr=rs,Mj=dN,Ad=hh,Kze=Ywn,ym=Dj,vm=Lj,Sxn=Yl,Axn=Nue,Cxn=Pue,Ixn=Eue,kxn=Tue,dn=Fo,Xze=axn,Rxn=pxn,$xn=bxn,xf=Ad.BYTES_PER_ELEMENT*2,Qze=Txn();function Yi(e){return e instanceof Vn||typeof e=="object"&&e!==null&&(e.constructor.name==="Complex64Array"||e.constructor.name==="Complex128Array")&&typeof e._length=="number"&&typeof e._buffer=="object"}function Jze(e){return e===Vn||e.name==="Complex64Array"}function jl(e,t){return t*=2,new Kze(e[t],e[t+1])}function Vn(){var e,t,n,r;if(t=arguments.length,!(this instanceof Vn))return t===0?new Vn:t===1?new Vn(arguments[0]):t===2?new Vn(arguments[0],arguments[1]):new Vn(arguments[0],arguments[1],arguments[2]);if(t===0)n=new Ad(0);else if(t===1)if(G6(arguments[0]))n=new Ad(arguments[0]*2);else if(Lue(arguments[0]))if(n=arguments[0],r=n.length,r&&_xn(n)&&Hd(n[0])){if(n=$xn(new Ad(r*2),n),n===null){if(!LM(r))throw new RangeError(dn("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",r));n=new Ad(arguments[0])}}else{if(xxn(n))n=Axn(n,0);else if(Exn(n))n=Cxn(n,0);else if(!LM(r))throw new RangeError(dn("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",r));n=new Ad(n)}else if(ZSe(arguments[0])){if(n=arguments[0],!jc(n.byteLength/xf))throw new RangeError(dn("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",xf,n.byteLength));n=new Ad(n)}else if(Yze(arguments[0])){if(n=arguments[0],Qze===!1)throw new TypeError(dn("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",n));if(!tu(n[PA]))throw new TypeError(dn("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",n));if(n=n[PA](),!tu(n.next))throw new TypeError(dn("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",n));if(n=Xze(n),n instanceof Error)throw n;n=new Ad(n)}else throw new TypeError(dn("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));else{if(n=arguments[0],!ZSe(n))throw new TypeError(dn("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",n));if(e=arguments[1],!G6(e))throw new TypeError(dn("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",e));if(!jc(e/xf))throw new RangeError(dn("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",xf,e));if(t===2){if(r=n.byteLength-e,!jc(r/xf))throw new RangeError(dn("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",xf,r));n=new Ad(n,e)}else{if(r=arguments[2],!G6(r))throw new TypeError(dn("invalid argument. Length must be a nonnegative integer. Value: `%s`.",r));if(r*xf>n.byteLength-e)throw new RangeError(dn("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",r*xf));n=new Ad(n,e,r*2)}}return Cr(this,"_buffer",n),Cr(this,"_length",n.length/2),this}Cr(Vn,"BYTES_PER_ELEMENT",xf);Cr(Vn,"name","Complex128Array");Cr(Vn,"from",function(t){var n,r,i,s,o,a,u,l,c,f,d,h;if(!tu(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Jze(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(r=arguments.length,r>1){if(i=arguments[1],!tu(i))throw new TypeError(dn("invalid argument. Second argument must be a function. Value: `%s`.",i));r>2&&(n=arguments[2])}if(Yi(t)){if(l=t.length,i){for(s=new this(l),o=s._buffer,h=0,d=0;d<l;d++){if(f=i.call(n,t.get(d),d),Hd(f))o[h]=ym(f),o[h+1]=vm(f);else if(IZ(f)&&f.length>=2)o[h]=f[0],o[h+1]=f[1];else throw new TypeError(dn("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",f));h+=2}return s}return new this(t)}if(Lue(t)){if(i){for(l=t.length,t.get&&t.set?u=kxn("default"):u=Ixn("default"),d=0;d<l;d++)if(!Hd(u(t,d))){c=!0;break}if(c){if(!LM(l))throw new RangeError(dn("invalid argument. First argument must have a length which is a multiple of two. Length: `%u`.",l));for(s=new this(l/2),o=s._buffer,d=0;d<l;d++)o[d]=i.call(n,u(t,d),d);return s}for(s=new this(l),o=s._buffer,h=0,d=0;d<l;d++){if(f=i.call(n,u(t,d),d),Hd(f))o[h]=ym(f),o[h+1]=vm(f);else if(IZ(f)&&f.length>=2)o[h]=f[0],o[h+1]=f[1];else throw new TypeError(dn("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",f));h+=2}return s}return new this(t)}if(Yze(t)&&Qze&&tu(t[PA])){if(o=t[PA](),!tu(o.next))throw new TypeError(dn("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t));if(i?a=Rxn(o,i,n):a=Xze(o),a instanceof Error)throw a;for(l=a.length/2,s=new this(l),o=s._buffer,d=0;d<l;d++)o[d]=a[d];return s}throw new TypeError(dn("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t))});Cr(Vn,"of",function(){var t,n;if(!tu(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Jze(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);return new this(t)});Cr(Vn.prototype,"at",function(t){if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!jc(t))throw new TypeError(dn("invalid argument. Must provide an integer. Value: `%s`.",t));if(t<0&&(t+=this._length),!(t<0||t>=this._length))return jl(this._buffer,t)});Mj(Vn.prototype,"buffer",function(){return this._buffer.buffer});Mj(Vn.prototype,"byteLength",function(){return this._buffer.byteLength});Mj(Vn.prototype,"byteOffset",function(){return this._buffer.byteOffset});Cr(Vn.prototype,"BYTES_PER_ELEMENT",Vn.BYTES_PER_ELEMENT);Cr(Vn.prototype,"copyWithin",function(t,n){if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return arguments.length===2?this._buffer.copyWithin(t*2,n*2):this._buffer.copyWithin(t*2,n*2,arguments[2]*2),this});Cr(Vn.prototype,"entries",function(){var t,n,r,i,s,o,a;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return n=this,t=this._buffer,i=this._length,o=-1,a=-2,r={},Cr(r,"next",u),Cr(r,"return",l),PA&&Cr(r,PA,c),r;function u(){var f;return o+=1,s||o>=i?{done:!0}:(a+=2,f=new Kze(t[a],t[a+1]),{value:[o,f],done:!1})}function l(f){return s=!0,arguments.length?{value:f,done:!0}:{done:!0}}function c(){return n.entries()}});Cr(Vn.prototype,"every",function(t,n){var r,i;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tu(t))throw new TypeError(dn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(!t.call(n,jl(r,i),i,this))return!1;return!0});Cr(Vn.prototype,"fill",function(t,n,r){var i,s,o,a,u,l;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hd(t))throw new TypeError(dn("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(i=this._buffer,s=this._length,arguments.length>1){if(!jc(n))throw new TypeError(dn("invalid argument. Second argument must be an integer. Value: `%s`.",n));if(n<0&&(n+=s,n<0&&(n=0)),arguments.length>2){if(!jc(r))throw new TypeError(dn("invalid argument. Third argument must be an integer. Value: `%s`.",r));r<0&&(r+=s,r<0&&(r=0)),r>s&&(r=s)}else r=s}else n=0,r=s;for(a=ym(t),u=vm(t),l=n;l<r;l++)o=2*l,i[o]=a,i[o+1]=u;return this});Cr(Vn.prototype,"filter",function(t,n){var r,i,s,o;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tu(t))throw new TypeError(dn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=[],s=0;s<this._length;s++)o=jl(r,s),t.call(n,o,s,this)&&i.push(o);return new this.constructor(i)});Cr(Vn.prototype,"find",function(t,n){var r,i,s;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tu(t))throw new TypeError(dn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(s=jl(r,i),t.call(n,s,i,this))return s});Cr(Vn.prototype,"findIndex",function(t,n){var r,i,s;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tu(t))throw new TypeError(dn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(s=jl(r,i),t.call(n,s,i,this))return i;return-1});Cr(Vn.prototype,"findLast",function(t,n){var r,i,s;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tu(t))throw new TypeError(dn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=this._length-1;i>=0;i--)if(s=jl(r,i),t.call(n,s,i,this))return s});Cr(Vn.prototype,"findLastIndex",function(t,n){var r,i,s;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tu(t))throw new TypeError(dn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=this._length-1;i>=0;i--)if(s=jl(r,i),t.call(n,s,i,this))return i;return-1});Cr(Vn.prototype,"forEach",function(t,n){var r,i,s;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tu(t))throw new TypeError(dn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)s=jl(r,i),t.call(n,s,i,this)});Cr(Vn.prototype,"get",function(t){if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!G6(t))throw new TypeError(dn("invalid argument. Must provide a nonnegative integer. Value: `%s`.",t));if(!(t>=this._length))return jl(this._buffer,t)});Mj(Vn.prototype,"length",function(){return this._length});Cr(Vn.prototype,"includes",function(t,n){var r,i,s,o,a;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hd(t))throw new TypeError(dn("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!jc(n))throw new TypeError(dn("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length,n<0&&(n=0))}else n=0;for(s=ym(t),o=vm(t),r=this._buffer,a=n;a<this._length;a++)if(i=2*a,s===r[i]&&o===r[i+1])return!0;return!1});Cr(Vn.prototype,"indexOf",function(t,n){var r,i,s,o,a;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hd(t))throw new TypeError(dn("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!jc(n))throw new TypeError(dn("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length,n<0&&(n=0))}else n=0;for(s=ym(t),o=vm(t),r=this._buffer,a=n;a<this._length;a++)if(i=2*a,s===r[i]&&o===r[i+1])return a;return-1});Cr(Vn.prototype,"join",function(t){var n,r,i,s;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(arguments.length===0)i=",";else if(wxn(t))i=t;else throw new TypeError(dn("invalid argument. First argument must be a string. Value: `%s`.",t));for(n=[],r=this._buffer,s=0;s<this._length;s++)n.push(jl(r,s).toString());return n.join(i)});Cr(Vn.prototype,"lastIndexOf",function(t,n){var r,i,s,o,a;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hd(t))throw new TypeError(dn("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!jc(n))throw new TypeError(dn("invalid argument. Second argument must be an integer. Value: `%s`.",n));n>=this._length?n=this._length-1:n<0&&(n+=this._length)}else n=this._length-1;for(s=ym(t),o=vm(t),r=this._buffer,a=n;a>=0;a--)if(i=2*a,s===r[i]&&o===r[i+1])return a;return-1});Cr(Vn.prototype,"map",function(t,n){var r,i,s,o,a;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tu(t))throw new TypeError(dn("invalid argument. First argument must be a function. Value: `%s`.",t));for(i=this._buffer,s=new this.constructor(this._length),r=s._buffer,o=0;o<this._length;o++)if(a=t.call(n,jl(i,o),o,this),Hd(a))r[2*o]=ym(a),r[2*o+1]=vm(a);else if(IZ(a)&&a.length===2)r[2*o]=a[0],r[2*o+1]=a[1];else throw new TypeError(dn("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));return s});Cr(Vn.prototype,"reduce",function(t,n){var r,i,s,o,a;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tu(t))throw new TypeError(dn("invalid argument. First argument must be a function. Value: `%s`.",t));if(r=this._buffer,s=this._length,arguments.length>1)i=n,a=0;else{if(s===0)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");i=jl(r,0),a=1}for(;a<s;a++)o=jl(r,a),i=t(i,o,a,this);return i});Cr(Vn.prototype,"reverse",function(){var t,n,r,i,s,o;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,t=this._buffer,i=Sxn(r/2),s=0;s<i;s++)o=r-s-1,n=t[2*s],t[2*s]=t[2*o],t[2*o]=n,n=t[2*s+1],t[2*s+1]=t[2*o+1],t[2*o+1]=n;return this});Cr(Vn.prototype,"set",function(t){var n,r,i,s,o,a,u,l,c;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(i=this._buffer,arguments.length>1){if(r=arguments[1],!G6(r))throw new TypeError(dn("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(Hd(t)){if(r>=this._length)throw new RangeError(dn("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));r*=2,i[r]=ym(t),i[r+1]=vm(t);return}if(Yi(t)){if(a=t._length,r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=t._buffer,c=i.byteOffset+r*xf,n.buffer===i.buffer&&n.byteOffset<c&&n.byteOffset+n.byteLength>c){for(s=new Ad(n.length),l=0;l<n.length;l++)s[l]=n[l];n=s}for(r*=2,c=0,l=0;l<a;l++)i[r]=n[c],i[r+1]=n[c+1],r+=2,c+=2;return}if(Lue(t)){for(a=t.length,l=0;l<a;l++)if(!Hd(t[l])){o=!0;break}if(o){if(!LM(a))throw new RangeError(dn("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=t,c=i.byteOffset+r*xf,n.buffer===i.buffer&&n.byteOffset<c&&n.byteOffset+n.byteLength>c){for(s=new Ad(a),l=0;l<a;l++)s[l]=n[l];n=s}for(r*=2,a/=2,c=0,l=0;l<a;l++)i[r]=n[c],i[r+1]=n[c+1],r+=2,c+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,l=0;l<a;l++)u=t[l],i[r]=ym(u),i[r+1]=vm(u),r+=2;return}throw new TypeError(dn("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",t))});Cr(Vn.prototype,"slice",function(t,n){var r,i,s,o,a,u,l;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(a=this._buffer,u=this._length,arguments.length===0)t=0,n=u;else{if(!jc(t))throw new TypeError(dn("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=u,t<0&&(t=0)),arguments.length===1)n=u;else{if(!jc(n))throw new TypeError(dn("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=u,n<0&&(n=0)):n>u&&(n=u)}}for(t<n?r=n-t:r=0,s=new this.constructor(r),i=s._buffer,l=0;l<r;l++)o=2*(l+t),i[2*l]=a[o],i[2*l+1]=a[o+1];return s});Cr(Vn.prototype,"some",function(t,n){var r,i;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tu(t))throw new TypeError(dn("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(t.call(n,jl(r,i),i,this))return!0;return!1});Cr(Vn.prototype,"subarray",function(t,n){var r,i,s;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(i=this._buffer,s=this._length,arguments.length===0)t=0,n=s;else{if(!jc(t))throw new TypeError(dn("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=s,t<0&&(t=0)),arguments.length===1)n=s;else{if(!jc(n))throw new TypeError(dn("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=s,n<0&&(n=0)):n>s&&(n=s)}}return t>=s?(s=0,r=i.byteLength):t>=n?(s=0,r=i.byteOffset+t*xf):(s=n-t,r=i.byteOffset+t*xf),new this.constructor(i.buffer,r,s<0?0:s)});Cr(Vn.prototype,"toReversed",function(){var t,n,r,i,s,o;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,n=new this.constructor(r),i=this._buffer,t=n._buffer,s=0;s<r;s++)o=r-s-1,t[2*s]=i[2*o],t[2*s+1]=i[2*o+1];return n});Cr(Vn.prototype,"toString",function(){var t,n,r;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],n=this._buffer,r=0;r<this._length;r++)t.push(jl(n,r).toString());return t.join(",")});Cr(Vn.prototype,"with",function(t,n){var r,i,s;if(!Yi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!jc(t))throw new TypeError(dn("invalid argument. First argument must be an integer. Value: `%s`.",t));if(s=this._length,t<0&&(t+=s),t<0||t>=s)throw new RangeError(dn("invalid argument. Index argument is out-of-bounds. Value: `%s`.",t));if(!Hd(n))throw new TypeError(dn("invalid argument. Second argument must be a complex number. Value: `%s`.",n));return i=new this.constructor(this._buffer),r=i._buffer,r[2*t]=ym(n),r[2*t+1]=vm(n),i});var Nxn=Vn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Pxn=Nxn,Mue=Pxn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Oxn=hh,Dxn=u3,Lxn=Lm,Mxn=Sue,Fxn=gj,Bxn=Aue,jxn=mj,Uxn=Cue,zxn=Iue,Vxn=Due,Hxn=Mue,qxn=[Oxn,Dxn,Mxn,Lxn,Bxn,Fxn,zxn,jxn,Uxn,Vxn,Hxn],Wxn=qxn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Gxn=["float64","float32","int32","uint32","int16","uint16","int8","uint8","uint8c","complex64","complex128"],Yxn=Gxn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Kxn=yze,Xxn=hN,Qxn=a3,Jxn=Jyn,Zxn=Wxn,Zze=Yxn,e2n=Zze.length;function t2n(e){var t;if(Xxn(e))return"generic";if(Kxn(e))return null;for(t=0;t<e2n;t++)if(e instanceof Zxn[t])return Zze[t];return Jxn[Qxn(e)]||null}var n2n=t2n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var r2n=n2n,i2n=r2n;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var s2n=uyn,o2n=Eue,a2n=Myn,u2n=Tue,l2n=Xyn,c2n=i2n;function f2n(e){var t=c2n(e);return s2n(e)?{data:e,dtype:t,accessorProtocol:!0,accessors:[u2n(t),l2n(t)]}:{data:e,dtype:t,accessorProtocol:!1,accessors:[o2n(t),a2n(t)]}}var d2n=f2n;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var h2n=d2n,eVe=h2n;/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function p2n(e,t,n,r,i,s,o){var a,u,l,c,f,d,h;for(a=t.data,u=i.data,c=t.accessors[0],l=i.accessors[1],f=r,d=o,h=0;h<e;h++)l(u,d,c(a,f)),f+=n,d+=s;return t}var tVe=p2n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var eAe=eVe,m2n=tVe,YG=8;function g2n(e,t,n,r,i){var s,o,a,u,l,c;if(e<=0)return r;if(a=eAe(t),u=eAe(r),a.accessorProtocol||u.accessorProtocol)return n<0?s=(1-e)*n:s=0,i<0?o=(1-e)*i:o=0,m2n(e,a,n,s,u,i,o),u.data;if(n===1&&i===1){if(l=e%YG,l>0)for(c=0;c<l;c++)r[c]=t[c];if(e<YG)return r;for(c=l;c<e;c+=YG)r[c]=t[c],r[c+1]=t[c+1],r[c+2]=t[c+2],r[c+3]=t[c+3],r[c+4]=t[c+4],r[c+5]=t[c+5],r[c+6]=t[c+6],r[c+7]=t[c+7];return r}for(n<0?s=(1-e)*n:s=0,i<0?o=(1-e)*i:o=0,c=0;c<e;c++)r[o]=t[s],s+=n,o+=i;return r}var y2n=g2n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var tAe=eVe,v2n=tVe,KI=8;function b2n(e,t,n,r,i,s,o){var a,u,l,c,f,d;if(e<=0)return i;if(l=tAe(t),c=tAe(i),l.accessorProtocol||c.accessorProtocol)return v2n(e,l,n,r,c,s,o),c.data;if(a=r,u=o,n===1&&s===1){if(f=e%KI,f>0)for(d=0;d<f;d++)i[u]=t[a],a+=n,u+=s;if(e<KI)return i;for(d=f;d<e;d+=KI)i[u]=t[a],i[u+1]=t[a+1],i[u+2]=t[a+2],i[u+3]=t[a+3],i[u+4]=t[a+4],i[u+5]=t[a+5],i[u+6]=t[a+6],i[u+7]=t[a+7],a+=KI,u+=KI;return i}for(d=0;d<e;d++)i[u]=t[a],a+=n,u+=s;return i}var _2n=b2n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var w2n=rs,nVe=y2n,x2n=_2n;w2n(nVe,"ndarray",x2n);var E2n=nVe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function T2n(){}var S2n=T2n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var A2n=S2n;function C2n(){return A2n.name==="foo"}var I2n=C2n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var k2n=I2n,R2n=k2n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var $2n=z2,N2n=R2n,P2n=Fo,O2n=gze.REGEXP,D2n=N2n();function L2n(e){if($2n(e)===!1)throw new TypeError(P2n("invalid argument. Must provide a function. Value: `%s`.",e));return D2n?e.name:O2n.exec(e.toString())[1]}var M2n=L2n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var F2n=M2n,B2n=F2n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var j2n=Iue,U2n=mj,z2n=Cue,V2n=Aue,H2n=gj,q2n=Sue,W2n=Lm,G2n=u3,Y2n=hh,K2n=[Y2n,G2n,q2n,W2n,V2n,H2n,j2n,U2n,z2n],X2n=K2n;const Q2n=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"];/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var J2n=a3,Z2n=B2n,rVe=Rj,eEn=SUe,tEn=hh,nAe=X2n,rAe=Q2n,kD=eEn()?rVe(tEn):iVe;kD=Z2n(kD)==="TypedArray"?kD:iVe;function iVe(){}function nEn(e){var t,n;if(typeof e!="object"||e===null)return!1;if(e instanceof kD)return!0;for(n=0;n<nAe.length;n++)if(e instanceof nAe[n])return!0;for(;e;){for(t=J2n(e),n=0;n<rAe.length;n++)if(rAe[n]===t)return!0;e=rVe(e)}return!1}var rEn=nEn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var iEn=rEn,sEn=iEn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var oEn=Due,aEn=Mue,uEn=[aEn,oEn],lEn=uEn;const cEn=["Complex64Array","Complex128Array"];/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var fEn=a3,dEn=Rj,iAe=lEn,sAe=cEn;function hEn(e){var t,n;if(typeof e!="object"||e===null)return!1;for(n=0;n<iAe.length;n++)if(e instanceof iAe[n])return!0;for(;e;){for(t=fEn(e),n=0;n<sAe.length;n++)if(sAe[n]===t)return!0;e=dEn(e)}return!1}var pEn=hEn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mEn=pEn,gEn=mEn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var yEn=Fo;function vEn(e,t){if(typeof t!="function")throw new TypeError(yEn("invalid argument. Second argument must be callable. Value: `%s`.",t));return e instanceof t}var bEn=vEn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _En=bEn,wEn=_En;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var xEn=Iue,EEn=mj,TEn=Cue,SEn=Aue,AEn=gj,CEn=Sue,IEn=Lm,kEn=u3,REn=hh,$En=Due,NEn=Mue,PEn=[[REn,"Float64Array"],[kEn,"Float32Array"],[CEn,"Int32Array"],[IEn,"Uint32Array"],[SEn,"Int16Array"],[AEn,"Uint16Array"],[xEn,"Int8Array"],[EEn,"Uint8Array"],[TEn,"Uint8ClampedArray"],[$En,"Complex64Array"],[NEn,"Complex128Array"]],OEn=PEn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var DEn=wEn,LEn=a3,MEn=Rj,JE=OEn;function FEn(e){var t,n;for(n=0;n<JE.length;n++)if(DEn(e,JE[n][0]))return JE[n][1];for(;e;){for(t=LEn(e),n=0;n<JE.length;n++)if(t===JE[n][1])return JE[n][1];e=MEn(e)}}var BEn=FEn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var jEn=sEn,UEn=gEn,zEn=Nue,VEn=Pue,HEn=Fo,qEn=BEn;function WEn(e){var t,n,r;if(jEn(e))t=e;else if(UEn(e))e.BYTES_PER_ELEMENT===8?t=zEn(e,0):t=VEn(e,0);else throw new TypeError(HEn("invalid argument. Must provide a typed array. Value: `%s`.",e));for(n={type:qEn(e),data:[]},r=0;r<t.length;r++)n.data.push(t[r]);return n}var GEn=WEn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var YEn=GEn,Fue=YEn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var KEn=pj,XEn=Yl,QEn=KEn-1;function JEn(){var e=XEn(1+QEn*Math.random());return e>>>0}var sVe=JEn,mg=rs,j1=dN,oAe=hue,KG=r3,ZEn=vue,eTn=bue,aAe=nue,tTn=gue.isPrimitive,uAe=Kgn.isPrimitive,oVe=aze,aVe=pj,oc=Lm,nTn=eyn,kZ=iyn,ZE=E2n,rTn=Fue,dc=Fo,lAe=sVe,Go=624,XG=397,cAe=aVe>>>0,iTn=19650218,QG=2147483648,JG=2147483647,sTn=1812433253,oTn=1664525,aTn=1566083941,uTn=2636928640,lTn=4022730752,cTn=2567483615,ZG=[0,cTn>>>0],uVe=1/(oVe+1),fTn=67108864,dTn=2147483648,eY=1,hTn=oVe*uVe,MM=1,FM=3,sv=2,ov=Go+3,lc=Go+5,Y6=Go+6;function fAe(e,t){var n;return t?n="option":n="argument",e.length<Y6+1?new RangeError(dc("invalid %s. `state` array has insufficient length.",n)):e[0]!==MM?new RangeError(dc("invalid %s. `state` array has an incompatible schema version. Expected: `%s`. Actual: `%s.`",n,MM,e[0])):e[1]!==FM?new RangeError(dc("invalid %s. `state` array has an incompatible number of sections. Expected: `%s`. Actual: `%s`.",n,FM,e[1])):e[sv]!==Go?new RangeError(dc("invalid %s. `state` array has an incompatible state length. Expected: `%u`. Actual: `%u`.",n,Go,e[sv])):e[ov]!==1?new RangeError(dc("invalid %s. `state` array has an incompatible section length. Expected: `%u`. Actual: `%u`.",n,1,e[ov])):e[lc]!==e.length-Y6?new RangeError(dc("invalid %s. `state` array length is incompatible with seed section length. Expected: `%u`. Actual: `%u`.",n,e.length-Y6,e[lc])):null}function dAe(e,t,n){var r;for(e[0]=n>>>0,r=1;r<t;r++)n=e[r-1]>>>0,n=(n^n>>>30)>>>0,e[r]=kZ(n,sTn)+r>>>0;return e}function pTn(e,t,n,r){var i,s,o,a;for(s=1,o=0,a=nTn(t,r);a>0;a--)i=e[s-1]>>>0,i=(i^i>>>30)>>>0,i=kZ(i,oTn)>>>0,e[s]=(e[s]>>>0^i)+n[o]+o>>>0,s+=1,o+=1,s>=t&&(e[0]=e[t-1],s=1),o>=r&&(o=0);for(a=t-1;a>0;a--)i=e[s-1]>>>0,i=(i^i>>>30)>>>0,i=kZ(i,aTn)>>>0,e[s]=(e[s]>>>0^i)-s>>>0,s+=1,s>=t&&(e[0]=e[t-1],s=1);return e[0]=dTn,e}function mTn(e){var t,n,r,i;for(i=Go-XG,n=0;n<i;n++)t=e[n]&QG|e[n+1]&JG,e[n]=e[n+XG]^t>>>1^ZG[t&eY];for(r=Go-1;n<r;n++)t=e[n]&QG|e[n+1]&JG,e[n]=e[n-i]^t>>>1^ZG[t&eY];return t=e[r]&QG|e[0]&JG,e[r]=e[XG-1]^t>>>1^ZG[t&eY],e}function gTn(e){var t,n,r,i,s,o;if(r={},arguments.length){if(!ZEn(e))throw new TypeError(dc("invalid argument. Options argument must be an object. Value: `%s`.",e));if(KG(e,"copy")&&(r.copy=e.copy,!tTn(e.copy)))throw new TypeError(dc("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",e.copy));if(KG(e,"state")){if(n=e.state,r.state=!0,!aAe(n))throw new TypeError(dc("invalid option. `%s` option must be a Uint32Array. Option: `%s`.","state",n));if(o=fAe(n,!0),o)throw o;r.copy===!1?t=n:(t=new oc(n.length),ZE(n.length,n,1,t,1)),n=new oc(t.buffer,t.byteOffset+(sv+1)*t.BYTES_PER_ELEMENT,Go),i=new oc(t.buffer,t.byteOffset+(lc+1)*t.BYTES_PER_ELEMENT,n[lc])}if(i===void 0)if(KG(e,"seed"))if(i=e.seed,r.seed=!0,uAe(i)){if(i>cAe)throw new RangeError(dc("invalid option. `%s` option must be a positive integer less than or equal to the maximum unsigned 32-bit integer. Option: `%u`.","seed",i));i>>>=0}else{if(eTn(i)===!1||i.length<1)throw new TypeError(dc("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.","seed",i));if(i.length===1){if(i=i[0],!uAe(i))throw new TypeError(dc("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.","seed",i));if(i>cAe)throw new RangeError(dc("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%u`.","seed",i));i>>>=0}else s=i.length,t=new oc(Y6+s),t[0]=MM,t[1]=FM,t[sv]=Go,t[ov]=1,t[ov+1]=Go,t[lc]=s,ZE.ndarray(s,i,1,0,t,1,lc+1),n=new oc(t.buffer,t.byteOffset+(sv+1)*t.BYTES_PER_ELEMENT,Go),i=new oc(t.buffer,t.byteOffset+(lc+1)*t.BYTES_PER_ELEMENT,s),n=dAe(n,Go,iTn),n=pTn(n,Go,i,s)}else i=lAe()>>>0}else i=lAe()>>>0;return n===void 0&&(t=new oc(Y6+1),t[0]=MM,t[1]=FM,t[sv]=Go,t[ov]=1,t[ov+1]=Go,t[lc]=1,t[lc+1]=i,n=new oc(t.buffer,t.byteOffset+(sv+1)*t.BYTES_PER_ELEMENT,Go),i=new oc(t.buffer,t.byteOffset+(lc+1)*t.BYTES_PER_ELEMENT,1),n=dAe(n,Go,i)),mg(p,"NAME","mt19937"),j1(p,"seed",a),j1(p,"seedLength",u),oAe(p,"state",f,d),j1(p,"stateLength",l),j1(p,"byteLength",c),mg(p,"toJSON",h),mg(p,"MIN",0),mg(p,"MAX",aVe),mg(p,"normalized",m),mg(m,"NAME",p.NAME),j1(m,"seed",a),j1(m,"seedLength",u),oAe(m,"state",f,d),j1(m,"stateLength",l),j1(m,"byteLength",c),mg(m,"toJSON",h),mg(m,"MIN",0),mg(m,"MAX",hTn),p;function a(){var g=t[lc];return ZE(g,i,1,new oc(g),1)}function u(){return t[lc]}function l(){return t.length}function c(){return t.byteLength}function f(){var g=t.length;return ZE(g,t,1,new oc(g),1)}function d(g){var y;if(!aAe(g))throw new TypeError(dc("invalid argument. Must provide a Uint32Array. Value: `%s`.",g));if(y=fAe(g,!1),y)throw y;r.copy===!1?r.state&&g.length===t.length?ZE(g.length,g,1,t,1):(t=g,r.state=!0):(g.length!==t.length&&(t=new oc(g.length)),ZE(g.length,g,1,t,1)),n=new oc(t.buffer,t.byteOffset+(sv+1)*t.BYTES_PER_ELEMENT,Go),i=new oc(t.buffer,t.byteOffset+(lc+1)*t.BYTES_PER_ELEMENT,t[lc])}function h(){var g={};return g.type="PRNG",g.name=p.NAME,g.state=rTn(t),g.params=[],g}function p(){var g,y;return y=t[ov+1],y>=Go&&(n=mTn(n),y=0),g=n[y],t[ov+1]=y+1,g^=g>>>11,g^=g<<7&uTn,g^=g<<15&lTn,g^=g>>>18,g>>>0}function m(){var g=p()>>>5,y=p()>>>6;return(g*fTn+y)*uVe}}var lVe=gTn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var yTn=lVe,vTn=sVe,bTn=yTn({seed:vTn()}),_Tn=bTn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wTn=rs,cVe=_Tn,xTn=lVe;wTn(cVe,"factory",xTn);var ETn=cVe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var TTn=ph,hAe=ca,STn=of,pAe=.00991256303526217;function ATn(e,t){var n,r,i;for(r=hAe(-.5*t*t),n=[],n.push(pAe/r),n.push(t),i=2;i<e;i++)n[i]=TTn(-2*STn(pAe/n[i-1]+r)),r=hAe(-.5*n[i]*n[i]);return n.push(0),n}var CTn=ATn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ITn(e){var t,n;for(t=[],n=0;n<e.length-1;n++)t.push(e[n+1]/e[n]);return t}var kTn=ITn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mAe=of;function RTn(e,t,n){var r,i;do r=mAe(e())/t,i=mAe(e());while(-2*i<r*r);return n?r-t:t-r}var $Tn=RTn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var NTn=ss,gAe=ca,PTn=CTn,OTn=kTn,DTn=$Tn,LTn=128,fVe=3.442619855899,Tw=PTn(LTn,fVe),MTn=OTn(Tw),FTn=127;function BTn(e,t){return n;function n(){for(var r,i,s,o,a,u,l;;){if(a=2*e()-1,u=t()&FTn,NTn(a)<MTn[u])return a*Tw[u];if(u===0)return DTn(e,fVe,a<0);if(o=a*Tw[u],s=o*o,l=u+1,r=gAe(-.5*(Tw[u]*Tw[u]-s)),i=gAe(-.5*(Tw[l]*Tw[l]-s)),i+e()*(r-i)<1)return o}}}var jTn=BTn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var U1=rs,q8=dN,yAe=hue,UTn=z2,zTn=vue,VTn=gue.isPrimitive,W8=r3,HTn=nue,tY=ETn.factory,vAe=vze,qTn=bze,WTn=Yl,GTn=pj,YTn=Fue,XI=Fo,KTn=jTn;function XTn(e){var t,n,r,i;if(i={copy:!0},arguments.length){if(!zTn(e))throw new TypeError(XI("invalid argument. Must provide an object. Value: `%s`.",e));if(W8(e,"copy")&&(i.copy=e.copy,!VTn(e.copy)))throw new TypeError(XI("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",e.copy));if(W8(e,"prng")){if(!UTn(e.prng))throw new TypeError(XI("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",e.prng));t=e.prng}else if(W8(e,"state")){if(i.state=e.state,!HTn(e.state))throw new TypeError(XI("invalid option. `%s` option must be a Uint32Array. Option: `%s`.","state",e.state))}else if(W8(e,"seed")&&(i.seed=e.seed,e.seed===void 0))throw new TypeError(XI("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.","seed",e.seed))}return i.state===void 0?t===void 0?(n=tY(i),t=n.normalized):(n=tY({seed:WTn(1+GTn*t()),copy:i.copy}),i.seed=null):(n=tY(i),t=n.normalized),r=KTn(t,n),U1(r,"NAME","improved-ziggurat"),i.seed===null?(U1(r,"seed",null),U1(r,"seedLength",null)):(q8(r,"seed",s),q8(r,"seedLength",o)),e&&e.prng?(yAe(r,"state",vAe(null),qTn),U1(r,"stateLength",null),U1(r,"byteLength",null),U1(r,"toJSON",vAe(null))):(yAe(r,"state",l,c),q8(r,"stateLength",a),q8(r,"byteLength",u),U1(r,"toJSON",f)),U1(r,"PRNG",t),r;function s(){return n.seed}function o(){return n.seedLength}function a(){return n.stateLength}function u(){return n.byteLength}function l(){return n.state}function c(d){n.state=d}function f(){var d={};return d.type="PRNG",d.name=r.NAME,d.state=YTn(n.state),d.params=[],d}}var dVe=XTn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var QTn=dVe,JTn=QTn(),ZTn=JTn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var eSn=rs,hVe=ZTn,tSn=dVe;eSn(hVe,"factory",tSn);var nSn=hVe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var rSn=Up.isPrimitive;function iSn(e){return rSn(e)&&e>0}var pVe=iSn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var sSn=Up.isObject;function oSn(e){return sSn(e)&&e.valueOf()>0}var mVe=oSn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var aSn=pVe,uSn=mVe;function lSn(e){return aSn(e)||uSn(e)}var cSn=lSn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var gVe=rs,Bue=cSn,fSn=pVe,dSn=mVe;gVe(Bue,"isPrimitive",fSn);gVe(Bue,"isObject",dSn);var hSn=Bue;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var pSn=Up.isPrimitive,mSn=Ai;function gSn(e){return pSn(e)&&mSn(e)}var yVe=gSn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ySn=Up.isObject,vSn=Ai;function bSn(e){return ySn(e)&&vSn(e.valueOf())}var vVe=bSn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _Sn=yVe,wSn=vVe;function xSn(e){return _Sn(e)||wSn(e)}var ESn=xSn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var bVe=rs,jue=ESn,TSn=yVe,SSn=vVe;bVe(jue,"isPrimitive",TSn);bVe(jue,"isObject",SSn);var ASn=jue;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var CSn=Up.isPrimitive,ISn=hSn.isPrimitive,bAe=Fo,kSn=ASn;function RSn(e,t){return!CSn(e)||kSn(e)?new TypeError(bAe("invalid argument. First argument must be a number and not NaN. Value: `%s`.",e)):ISn(t)?null:new TypeError(bAe("invalid argument. Second argument must be a positive number. Value: `%s`.",t))}var $Sn=RSn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function NSn(e,t,n){return t+n*e()}var PSn=NSn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var z1=rs,G8=dN,_Ae=hue,wAe=vue,xAe=z2,EAe=r3,TAe=vze,OSn=bze,eT=nSn.factory,SAe=Ai,DSn=Fue,Y8=Fo,LSn=$Sn,AAe=PSn;function MSn(){var e,t,n,r,i,s,o;if(arguments.length===0)t=eT();else if(arguments.length===1){if(n=arguments[0],!wAe(n))throw new TypeError(Y8("invalid argument. Options argument must be an object. Value: `%s`.",n));if(EAe(n,"prng")){if(!xAe(n.prng))throw new TypeError(Y8("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",n.prng));t=eT({prng:n.prng})}else t=eT(n)}else{if(o=arguments[0],e=arguments[1],s=LSn(o,e),s)throw s;if(arguments.length>2){if(n=arguments[2],!wAe(n))throw new TypeError(Y8("invalid argument. Options argument must be an object. Value: `%s`.",n));if(EAe(n,"prng")){if(!xAe(n.prng))throw new TypeError(Y8("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",n.prng));t=eT({prng:n.prng})}else t=eT(n)}else t=eT()}return o===void 0?i=m:i=p,r=t.PRNG,z1(i,"NAME","normal"),n&&n.prng?(z1(i,"seed",null),z1(i,"seedLength",null),_Ae(i,"state",TAe(null),OSn),z1(i,"stateLength",null),z1(i,"byteLength",null),z1(i,"toJSON",TAe(null))):(G8(i,"seed",a),G8(i,"seedLength",u),_Ae(i,"state",f,d),G8(i,"stateLength",l),G8(i,"byteLength",c),z1(i,"toJSON",h)),z1(i,"PRNG",r),i;function a(){return r.seed}function u(){return r.seedLength}function l(){return r.stateLength}function c(){return r.byteLength}function f(){return r.state}function d(g){r.state=g}function h(){var g={};return g.type="PRNG",g.name=i.NAME,g.state=DSn(r.state),o===void 0?g.params=[]:g.params=[o,e],g}function p(){return AAe(t,o,e)}function m(g,y){return SAe(g)||SAe(y)||y<=0?NaN:AAe(t,g,y)}}var _Ve=MSn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var FSn=_Ve,BSn=FSn(),jSn=BSn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var USn=rs,wVe=jSn,zSn=_Ve;USn(wVe,"factory",zSn);var VSn=wVe;const HSn=tf(VSn);function qSn(e){return e>0?1:e===0?0:-1}function WSn(e,t,n){return t<=0||n<=0?NaN:e<=0?0:e>=1?1:ypn(e,t,n,!0)}function xVe(e,t){const{mu:n,sigma:r,lambda:i,p:s,q:o}=t,a=nx(1/s,o),u=o**(-1/s)*((3*i**2+1)*(nx(3/s,o-2/s)/a)-4*i**2*(nx(2/s,o-1/s)/a)**2)**(-1/2),l=0,c=2*u*r*o**(1/s)*a,f=(1+Math.abs(e-n+l)**s/(o*(u*r)**s*(1+i*qSn(e-n+l))**s))**(o+1/s);return s/(c*f)}function EVe(e,t){const{mu:n,sigma:r,lambda:i,p:s,q:o}=t,a=nx(1/s,o),u=o**(-1/s)*Math.sqrt(1/((3*i**2+1)*(nx(3/s,o-2/s)/a)-4*i**2*(nx(2/s,o-1/s)/a)**2)),l=r/u,c=2*r*i*o**(1/s)*nx(2/s,o-1/s)/a;let f=e-n+c;const d=f>0;let h=i;d&&(h=-h,f=-f);let p=(1-h)/2+(h-1)/2*WSn(1/(1+o*(l*(1-h)/-f)**s),1/s,o);return d&&(p=1-p),p}function Uue(){const e=HSn.factory();let t=Number(e(0,.33).toFixed(1));return t>=1?t=.9:t<=-1&&(t=-.9),{mu:Number((Math.random()*4-2).toFixed(1)),sigma:Number((.5+Math.random()*2).toFixed(1)),lambda:t,p:Number((2+Math.random()*3).toFixed(1)),q:Number((1+Math.random()*49).toFixed(1))}}function RZ(e,t=[-5,5],n=.01){const{mu:r,sigma:i,lambda:s,p:o,q:a}=e;if(s<-1||s>1)throw new Error("lambda should be bewteen -1 and 1");if(o<=0||a<=0)throw new Error("p and/or q should be positive values");if(i<=0)throw new Error("sigma should be positive");const u=[],l=Math.floor(t[0]/n)*n,c=Math.ceil(t[1]/n)*n;for(let h=l;h<=c;h+=n){const p=Number(h.toFixed(10));u.push(p)}const f=u.map(h=>{try{return xVe(h,e)}catch(p){return console.warn(`Error calculating PDF at x=${h}:`,p),0}}),d=u.map(h=>{try{return EVe(h,e)}catch(p){return console.warn(`Error calculating CDF at x=${h}:`,p),0}});return{xVals:u,pdfVals:f,cdfVals:d}}function TVe(e,t=.001,n=20){let r={...e},i=0;for(;i<n;){const o=RZ(r),a=o.pdfVals[0],u=o.pdfVals[o.pdfVals.length-1];if(a<=t&&u<=t)return{data:o,params:r};r=Uue(),i+=1}return{data:RZ(r),params:r}}const GSn=Object.freeze(Object.defineProperty({__proto__:null,generateDistributionData:RZ,generateRandomParams:Uue,generateValidDistribution:TVe,skewGeneralizedTCDF:EVe,skewGeneralizedTPDF:xVe},Symbol.toStringTag,{value:"Module"}));function SVe({value:e,onChange:t,onChangeEnd:n,distributionData:r,width:i="100%"}){var u;if(!((u=r==null?void 0:r.xVals)!=null&&u.length))return null;const[s,o]=R.useState(!1),a=l=>{o(!0),n(l)};return E.jsx("div",{style:{width:i},children:E.jsx(s_,{value:s?e:-5,onChange:t,onChangeEnd:a,min:r.xVals[0],max:r.xVals[r.xVals.length-1],step:.01,label:l=>l.toFixed(2),styles:{root:{width:"100%"},track:{width:"100%",backgroundColor:"#e9ecef"},bar:{backgroundColor:"#e9ecef"},thumb:{display:s?"block":"none"}},"data-source":"slider-check"})})}const YSn=Object.freeze(Object.defineProperty({__proto__:null,default:SVe},Symbol.toStringTag,{value:"Module"})),kS={margin:{top:15,right:15,bottom:40,left:50},height:450,width:600};function KSn({sliderValue:e,setSliderValue:t,hasInteracted:n,setHasInteracted:r,distributionData:i,showPDF:s,training:o,taskType:a,currentParams:u,setAnswer:l}){const c=L2(),f=R.useMemo(()=>{if(e===null||o===!1)return null;const m=pp(g=>g).left(i.xVals,e);switch(a){case"pdf_median":return{x:e,y:null,tangentLine:null};case"pdf_mode":return{x:null,y:Math.max(...i.pdfVals),tangentLine:null};case"cdf_median":return{x:null,y:.5,tangentLine:null};case"cdf_mode":{const g={x:e,y:i.cdfVals[m]},y=i.pdfVals[m];return{x:null,y:null,tangentLine:{point:g,slope:y}}}default:return null}},[e,o,a,i]),d=R.useMemo(()=>{if(e===null||!i)return null;const m=pp(y=>y).left(i.xVals,e),g=s?i.pdfVals:i.cdfVals;return{x:i.xVals[m]===0?0:i.xVals[m],y:Number(g[m].toFixed(3))}},[e,i,s]),h=R.useCallback(m=>{n||r(!0),t(m)},[t,n,r]),p=R.useCallback(m=>{const g=pp(x=>x).left(i.xVals,m),y=s?i.pdfVals:i.cdfVals,v={x:i.xVals[g],y:y[g]},b=c.xScale(v.x),w=c.yScale(v.y);l({status:!0,answers:{"location-x":v.x,"location-y":v.y,"pixel-x":b,"pixel-y":w,"param-mu":u.mu,"param-sigma":u.sigma,"param-lambda":u.lambda,"param-p":u.p,"param-q":u.q}})},[i,s,l,u,c]);return E.jsxs(E.Fragment,{children:[E.jsx(SVe,{value:e!==null?e:0,onChange:h,onChangeEnd:p,distributionData:i,width:kS.width-kS.margin.left-kS.margin.right}),E.jsx(iu,{h:"lg"}),E.jsx(bUe,{distributionData:i,showPDF:s,isTraining:o,selectedPoint:d,guidelines:f,axisLabels:{x:"Value",y:s?"Density":"Cumulative Probability"}})]})}function XSn({parameters:e,setAnswer:t}){const{params:n,showPDF:r,training:i,taskType:s}=e,[o,a]=R.useState(null),[u,l]=R.useState(!1),[c,f]=R.useState(()=>n||Uue()),{distributionData:d,adjustedParam:h}=R.useMemo(()=>{const p=TVe(c);return{distributionData:p.data,adjustedParam:p.params}},[c]);return R.useEffect(()=>{t({status:!1,answers:{"location-x":null,"location-y":null,"pixel-x":null,"pixel-y":null,"param-mu":h.mu,"param-sigma":h.sigma,"param-lambda":h.lambda,"param-p":h.p,"param-q":h.q}})},[t,h]),d?E.jsx($l,{p:"md",children:E.jsxs("div",{className:"mt-4",children:[E.jsx(eue,{width:kS.width,height:kS.height,margin:kS.margin,xDomain:[-5,5],yDomain:[0,1],children:E.jsx(KSn,{sliderValue:o,setSliderValue:a,hasInteracted:u,setHasInteracted:l,distributionData:d,showPDF:r||!1,training:i||!1,taskType:s||"pdf_median",currentParams:h,setAnswer:t})}),E.jsx(iu,{h:"xl"}),E.jsxs(Ue,{size:"md",c:"dimmed",children:["Debug - Random Parameters: mu=",h.mu,", sigma=",h.sigma,", lambda=",h.lambda,", p=",h.p,", q=",h.q]})]})}):null}const QSn=Object.freeze(Object.defineProperty({__proto__:null,default:XSn},Symbol.toStringTag,{value:"Module"}));var AVe=(e=>(e.PDF_MEDIAN="pdf_median",e.PDF_MODE="pdf_mode",e.CDF_MEDIAN="cdf_median",e.CDF_MODE="cdf_mode",e))(AVe||{});const JSn=Object.freeze(Object.defineProperty({__proto__:null,TaskType:AVe},Symbol.toStringTag,{value:"Module"})),ZSn=e=>e*Math.PI/180;function eAn({parameters:e,setAnswer:t}){var w;const n=R.useRef(null),r=R.useRef(null),i=R.useRef(null),{blindspotAngle:s}=e,o=Kr(x=>x.answers),a=Number((w=o.calibration_3.answer)==null?void 0:w.pixelsPerMM),[u,l]=R.useState([]),[c,f]=R.useState(!1),[d,h]=R.useState(null),[p,m]=R.useState(5),g=R.useCallback(x=>{if(!x.length||!a||!r.current)return;const S=x.reduce((P,L)=>P+L,0)/x.length,C=r.current.getBoundingClientRect().left,k=Math.abs(S-C)/a/Math.tan(ZSn(s));h(k),f(!1)},[s,a]),y=R.useCallback(()=>{n.current&&(n.current.style.left="740px")},[]),v=R.useCallback(()=>{if(!n.current||!r.current||!a||u.length>=5)return;f(!0);let x=!1,S=0;const A=1e3,C=$=>{if(!n.current)return;if(x){$-S>=A&&(x=!1,n.current.style.left="740px"),i.current=requestAnimationFrame(C);return}const P=parseInt(n.current.style.left||"740",10)-2;P<=0?(x=!0,S=$):n.current.style.left=`${P}px`,i.current=requestAnimationFrame(C)};i.current=requestAnimationFrame(C)},[u,a]),b=()=>{i.current&&cancelAnimationFrame(i.current),f(!1)};return R.useEffect(()=>{d!==null&&u.length===5&&t({status:!0,answers:{"dist-calibration-MM":d,"dist-calibration-CM":d/10,"ball-positions":JSON.stringify(u)}})},[d,u,t]),R.useEffect(()=>{const x=S=>{if(S.code==="Space"){if(S.preventDefault(),!c)v();else if(n.current){b();const C=n.current.getBoundingClientRect().left;l($=>{const k=[...$,C];return k.length>=5&&g(k),k}),m($=>$-1),y()}}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[c,g,v,y]),R.useEffect(()=>(h(null),f(!1),l([]),m(5),y(),()=>{h(null),f(!1),l([]),m(5)}),[y]),R.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[]),a?E.jsx($l,{size:"md",children:E.jsxs(zi,{gap:"md",children:[E.jsx(Ue,{children:"Now we will quickly measure how far away you are sitting. "}),E.jsxs(zi,{gap:"xs",children:[E.jsxs(yo,{children:[E.jsxs(yo.Item,{children:["Put your left hand on the ",E.jsx("b",{children:"space bar"}),"."]}),E.jsx(yo.Item,{children:"Cover your right eye with your right hand."}),E.jsx(yo.Item,{children:"Using your left eye, focus on the black square. Keep your focus on the black square."}),E.jsxs(yo.Item,{children:["The ",E.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"red ball"})," will disappear as it moves from right to left. Press the space bar as soon as the ball disappears."]})]}),E.jsx(Ue,{ta:"center",children:u.length>=5?"All measurements completed!":"Press the space bar when you are ready to begin."})]}),E.jsxs("div",{style:{position:"relative",width:"900px",height:"100px",backgroundColor:"#ffffff"},children:[E.jsx("div",{ref:n,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(255, 0, 0)",borderRadius:"30px",left:"740px"}}),E.jsx("div",{ref:r,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(0, 0, 0)",left:"870px"}})]}),E.jsxs(Ue,{ta:"center",children:["Remaining measurements: ",5-u.length]}),d&&E.jsxs(zi,{gap:"xs",children:[E.jsx(Ue,{fw:700,size:"lg",children:"Viewing Distance Results"}),E.jsxs(Ue,{children:["Estimated Viewing Distance: ",(d/10).toFixed(1)," cm"]}),E.jsxs(Ue,{children:["Number of measurements: ",u.length]})]})]})}):E.jsx("div",{children:"Please complete card calibration first."})}const tAn=Object.freeze(Object.defineProperty({__proto__:null,default:eAn},Symbol.toStringTag,{value:"Module"})),nAn="/vis-decode/assets/costco_card-B3j7PHjO.png";function rAn({parameters:e,setAnswer:t,itemWidthMM:n=85,itemHeightMM:r=54}){const[i,s]=R.useState(300),[o,a]=R.useState(null),[u,l]=R.useState(!1),[c,f]=R.useState({min:100,max:500}),{taskid:d}=e,h=R.useRef(null),p=r/n;R.useEffect(()=>{const b=()=>{const w=window.innerWidth;f({min:Math.round(w*.1),max:Math.round(w*.8)})};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const m=b=>Math.round(b*p),g=b=>b/n,y=b=>{s(b)},v=()=>{if(!h.current)return;const b=g(i);a(b),t({status:!0,answers:{[d]:b}}),l(!0)};return E.jsx($l,{size:"md",children:E.jsxs(zi,{gap:"lg",children:[E.jsx(Ue,{size:"md",children:" Drag the slider until the image is the same size as a credit card held up to the screen."}),E.jsx(Ue,{size:"md",children:" You can use any card this is the same size as a credit card, like a membership card or driver's license."}),E.jsx(Ue,{size:"md",children:" If you do not have access to a real card, you can use a ruler to measure the image width to 3.37 inches or 85.6mm. "}),E.jsx(Ue,{size:"md",children:" Once you are finished, click 'Confirm Size' and then 'Next'. "}),E.jsx(on,{onClick:v,size:"lg",variant:"transparent",children:"Confirm Size"}),E.jsx(s_,{min:c.min,max:c.max,value:i,label:null,onChange:y,styles:{root:{width:"100%"},track:{cursor:"pointer"},thumb:{cursor:"grab"},bar:{cursor:"pointer"}}}),E.jsx("div",{ref:h,style:{width:`${i}px`,height:`${m(i)}px`,margin:"20px auto",overflow:"hidden"},children:E.jsx("img",{src:nAn,alt:"Credit Card",style:{width:"100%",height:"100%",objectFit:"contain"}})}),u&&E.jsxs("div",{style:{textAlign:"center",color:"green"},children:["Calibration Complete - Pixels per MM: ",o==null?void 0:o.toFixed(2)]})]})})}const iAn=Object.freeze(Object.defineProperty({__proto__:null,default:rAn},Symbol.toStringTag,{value:"Module"}));function sAn({position:e,isNearCurve:t}){return e?E.jsx("circle",{cx:e.x,cy:e.y,r:t?5:20,fill:t?"#2563eb":"#666",stroke:t?"#2563eb":"#666",strokeWidth:1,opacity:.8,pointerEvents:"none","data-source":"Cursor"}):null}const oAn=Object.freeze(Object.defineProperty({__proto__:null,default:sAn},Symbol.toStringTag,{value:"Module"}));class aAn extends ui.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?E.jsx(Ue,{children:this.state.error.toString()}):this.props.children}}const CAe=Object.assign({"../public/demo-click-accuracy-test/assets/ClickAccuracyTest.tsx":nMt,"../public/example-brush-interactions/assets/Bar.tsx":sMt,"../public/example-brush-interactions/assets/BrushPlot.tsx":kHt,"../public/example-brush-interactions/assets/Paintbrush.tsx":CHt,"../public/example-brush-interactions/assets/Scatter.tsx":IHt,"../public/example-brush-interactions/assets/XAxisBar.tsx":rMt,"../public/example-brush-interactions/assets/YAxis.tsx":AHt,"../public/example-brush-interactions/assets/YAxisBar.tsx":iMt,"../public/example-brush-interactions/assets/types.ts":RHt,"../public/example-cleveland/assets/BarChart.tsx":LHt,"../public/example-cleveland/assets/BubbleChart.tsx":VHt,"../public/example-cleveland/assets/PieChart.tsx":KHt,"../public/example-cleveland/assets/StackedBarChart.tsx":eqt,"../public/example-cleveland/assets/chartcomponents/Bars.tsx":$Ht,"../public/example-cleveland/assets/chartcomponents/Bubbles.tsx":MHt,"../public/example-cleveland/assets/chartcomponents/DotMarks.tsx":FHt,"../public/example-cleveland/assets/chartcomponents/NumericAxisH.tsx":XHt,"../public/example-cleveland/assets/chartcomponents/NumericAxisV.tsx":NHt,"../public/example-cleveland/assets/chartcomponents/OrdinalAxisHWithDotMarks.tsx":PHt,"../public/example-cleveland/assets/chartcomponents/Slices.tsx":HHt,"../public/example-cleveland/assets/chartcomponents/SlicesDotMarks.tsx":qHt,"../public/example-cleveland/assets/chartcomponents/StackedBars.tsx":QHt,"../public/example-cleveland/assets/hooks/useChartDimensions.tsx":ZLt,"../public/example-fairness-jnd/assets/FairnessJND.tsx":nqt,"../public/libraries/mic-check/assets/AudioTest.tsx":gqt,"../public/libraries/test/assets/test.tsx":vqt,"../public/tutorial/advanced-react-component/assets/ClickCircle.tsx":_qt,"../public/tutorial/react-and-randomization/assets/Bar.tsx":Eqt,"../public/tutorial/react-and-randomization/assets/BrushPlot.tsx":Cqt,"../public/tutorial/react-and-randomization/assets/Paintbrush.tsx":Sqt,"../public/tutorial/react-and-randomization/assets/Scatter.tsx":Aqt,"../public/tutorial/react-and-randomization/assets/XAxisBar.tsx":wqt,"../public/tutorial/react-and-randomization/assets/YAxis.tsx":Tqt,"../public/tutorial/react-and-randomization/assets/YAxisBar.tsx":xqt,"../public/tutorial/react-and-randomization/assets/some.tsx":Iqt,"../public/tutorial/react-and-randomization/assets/types.ts":kqt,"../public/vis-decode-click/assets/Plot.tsx":Lqt,"../public/vis-decode-click/assets/Stimuli.tsx":Hqt,"../public/vis-decode-click/assets/TaskTypes.ts":qqt,"../public/vis-decode-click/assets/ViewingDistanceCalibration.tsx":Yqt,"../public/vis-decode-click/assets/VirtualChinrestCalibration.tsx":Qqt,"../public/vis-decode-click/assets/chartComponents/ClickMarker.tsx":Pqt,"../public/vis-decode-click/assets/chartComponents/Cursor.tsx":Nqt,"../public/vis-decode-click/assets/chartComponents/Guidelines.tsx":Dqt,"../public/vis-decode-click/assets/chartComponents/Line.tsx":$qt,"../public/vis-decode-click/assets/chartComponents/NearestPointMarker.tsx":Oqt,"../public/vis-decode-click/assets/chartComponents/ScalesContext.tsx":Rqt,"../public/vis-decode-click/assets/dataGeneration/jstat.d.ts":Jqt,"../public/vis-decode-click/assets/dataGeneration/jstatDistributionCalculations.ts":Bqt,"../public/vis-decode-click/assets/hooks/useChartInteractions.tsx":jqt,"../public/vis-decode-slider/assets/Block5.tsx":sWt,"../public/vis-decode-slider/assets/Plot.tsx":uWt,"../public/vis-decode-slider/assets/Stimuli.tsx":QSn,"../public/vis-decode-slider/assets/TaskTypes.ts":JSn,"../public/vis-decode-slider/assets/ViewingDistanceCalibration.tsx":tAn,"../public/vis-decode-slider/assets/VirtualChinrestCalibration.tsx":iAn,"../public/vis-decode-slider/assets/chartComponents/Block5Slider.tsx":tWt,"../public/vis-decode-slider/assets/chartComponents/ClickMarker.tsx":nWt,"../public/vis-decode-slider/assets/chartComponents/Cursor.tsx":oAn,"../public/vis-decode-slider/assets/chartComponents/DistributionSlider.tsx":YSn,"../public/vis-decode-slider/assets/chartComponents/Guidelines.tsx":aWt,"../public/vis-decode-slider/assets/chartComponents/Line.tsx":oWt,"../public/vis-decode-slider/assets/chartComponents/ScalesContext.tsx":eWt,"../public/vis-decode-slider/assets/dataGeneration/DistributionCalculations.tsx":GSn});function uAn({currentConfig:e,provState:t}){const n=lh(),r=ch(),i=`../public/${e.path}`,s=i in CAe?CAe[i].default:null,o=rf(),{updateResponseBlockValidation:a,setIframeAnswers:u}=Pl(),l=R.useCallback(({status:c,provenanceGraph:f,answers:d})=>{o(a({location:"sidebar",identifier:`${r}_${n}`,status:c,values:d,provenanceGraph:f})),o(u(d))},[r,n,u,o,a]);return E.jsx(R.Suspense,{fallback:E.jsx("div",{children:"Loading..."}),children:s?E.jsx(aAn,{children:E.jsx(s,{parameters:e.parameters,setAnswer:l,provenanceState:t})}):E.jsx(hb,{path:e.path})})}function lAn({currentConfig:e}){const[t,n]=R.useState(""),[r,i]=R.useState(!0);return R.useEffect(()=>{async function s(){const o=await vse(e.path);o!==void 0&&n(o),i(!1)}s()},[e.path]),r||t?E.jsx(Ku,{text:t}):E.jsx(hb,{path:e.path})}function c3(e){return e.baseComponent!==void 0}function CVe(){const e=lh(),{setAlertModal:t}=Pl(),n=rf();R.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))}},[e,t,n])}var IAe=Object.prototype.hasOwnProperty;function kAe(e,t,n){for(n of e.keys())if(K6(n,t))return n}function K6(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&K6(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=kAe(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=kAe(t,i),!i)||!K6(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(IAe.call(e,n)&&++r&&!IAe.call(t,n)||!(n in t)||!K6(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function cAn(e){var t=R.useRef(e),n=R.useRef(0);return K6(e,t.current)||(t.current=e,n.current+=1),R.useMemo(function(){return t.current},[n.current])}function fAn(e,t){return R.useEffect(e,cAn(t))}const BM=(e,t=null)=>{const[n,r]=R.useState("idle"),[i,s]=R.useState(null),[o,a]=R.useState(null),u=R.useRef(),l=R.useRef(!1);R.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]);const c=R.useCallback((...f)=>{r("pending"),a(null);const d=Promise.resolve(e(...f)).then(h=>(l.current&&d===u.current&&(s(h),r("success")),h)).catch(h=>{throw l.current&&d===u.current&&(s(null),a(h),r("error")),h});return u.current=d,d},[e]);return fAn(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}};function IVe(e){const t=e.endTime===-1?void 0:e.endTime-e.startTime,n=(e.windowEvents||[]).filter(o=>o!==void 0).filter(([o,a,u])=>a==="visibility");let r=0,i=0;for(;i<n.length-1;){if(n[i][2]==="hidden"){for(let o=i+1;o<n.length;o+=1)if(n[o][2]==="visible"){r+=n[o][0]-n[i][0],i=o;break}}i+=1}return t?t-r:void 0}const dAn="_root_1spq0_1",hAn="_description_1spq0_9",pAn="_title_1spq0_10",mAn="_closeButton_1spq0_14",gAn={root:dAn,description:hAn,title:pAn,closeButton:mAn},CR=e=>{const{title:t,message:n,color:r}=e;x2.show({title:t,message:n,position:"top-center",classNames:gAn,color:r||"blue",autoClose:r==="red"||r==="yellow"?!1:5e3})},RAe=["status","rejectReason","rejectTime","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","responseMin","responseMax","startTime","endTime","duration","cleanedDuration","meta","configHash"],kVe=["participantId","trialId","trialOrder","responseId"];function zue(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function yAn(e,t,n){const r=(Object.entries(e.answers).filter(([i,s])=>s.endTime!==-1).length/(Tp(e.sequence).length-1)*100).toFixed(2);return[{participantId:e.participantId,trialId:"participantTags",trialOrder:null,responseId:"participantTags",answer:JSON.stringify(e.participantTags)},...Object.entries(e.answers).map(([i,s])=>{const o=i.split("_").slice(0,-1).join("_"),a=parseInt(`${i.split("_").at(-1)}`,10),u=n.components[o],l=c3(u)&&u.baseComponent&&n.baseComponents?mse({},n.baseComponents[u.baseComponent],u):u,c=s.endTime===-1?void 0:s.endTime-s.startTime,f=IVe(s);return Object.entries(s.answer).map(([h,p])=>{var y,v;const m={participantId:e.participantId,trialId:o,trialOrder:a,responseId:h},g=l.response.find(b=>b.id===h);if(t.includes("status")&&(m.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("rejectReason")&&(m.rejectReason=e.rejected?e.rejected.reason:void 0),t.includes("rejectTime")&&(m.rejectTime=e.rejected?new Date(e.rejected.timestamp).toISOString():void 0),t.includes("configHash")&&(m.configHash=e.participantConfigHash),t.includes("percentComplete")&&(m.percentComplete=r),t.includes("description")&&(m.description=l.description),t.includes("instruction")&&(m.instruction=l.instruction),t.includes("responsePrompt")&&(m.responsePrompt=g==null?void 0:g.prompt),t.includes("answer")&&(m.answer=p),t.includes("correctAnswer")){const b=(v=(y=l.correctAnswer)==null?void 0:y.find(w=>w.id===h))==null?void 0:v.answer;m.correctAnswer=typeof b=="object"?JSON.stringify(b):b}return t.includes("responseMin")&&(m.responseMin=(g==null?void 0:g.type)==="numerical"?g.min:void 0),t.includes("responseMax")&&(m.responseMax=(g==null?void 0:g.type)==="numerical"?g.max:void 0),t.includes("startTime")&&(m.startTime=new Date(s.startTime).toISOString()),t.includes("endTime")&&(m.endTime=new Date(s.endTime).toISOString()),t.includes("duration")&&(m.duration=c),t.includes("cleanedDuration")&&(m.cleanedDuration=f),t.includes("meta")&&(m.meta=JSON.stringify(l.meta,null,2)),m}).flat()}).flat()]}async function vAn(e,t,n,r){if(!n)return{header:[],rows:[]};const i=[...kVe,...e],s=[...new Set(t.map(c=>c.participantConfigHash))],o=await n.getAllConfigsFromHash(s,r),a=i,l=(await Promise.all(t.map(async c=>await yAn(c,i,o[c.participantConfigHash])))).flat().sort((c,f)=>c!==f?c.participantId.localeCompare(f.participantId):c.trialOrder-f.trialOrder);return{header:a,rows:l}}function bAn({opened:e,close:t,filename:n,data:r,studyId:i}){const[s,o]=R.useState([...RAe].filter(p=>p!=="meta")),a=Ao(),{value:u,status:l,error:c}=BM(vAn,[s,r,a.storageEngine,i]),f=R.useCallback(()=>{if(!u)return;const p=[u.header.join(","),...u.rows.map(m=>u.header.map(g=>`"${`${m[g]}`.replace(/"/g,'""')}"`).join(","))].join(`
`);zue(p,n)},[n,u]),d=R.useCallback(()=>{u&&(window.parent.postMessage({type:"revisitWidget/PYTHON_EXPORT_TIDY",payload:u},"*"),CR({title:"Success",message:"Data sent to python notebook",color:"green"}))},[u]),h=R.useMemo(()=>{if(!u)return"";const p=u.rows.length>5?5:u.rows.length,m=p===1?"":"s";return`This is a preview of the first ${m?p:""} row${m} of the CSV. The full CSV contains ${u.rows.length} row${m}.`},[u]);return E.jsxs(io,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,children:[E.jsx(cie,{searchable:!0,nothingFoundMessage:"Property not found",data:[...RAe],value:s,onChange:p=>o(p),label:"Included optional columns:",leftSection:E.jsx(Ewt,{}),variant:"filled"}),E.jsx(iu,{h:"md"}),E.jsxs(ke,{mih:300,style:{width:"100%",overflow:"scroll"},children:[l==="success"&&u?E.jsxs(ln,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[E.jsx(ln.Thead,{children:E.jsx(ln.Tr,{children:u.header.map(p=>E.jsx(ln.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(p)?200:void 0},children:E.jsxs(qt,{direction:"row",justify:"space-between",align:"center",children:[p,!kVe.includes(p)&&E.jsx(b2,{onClick:()=>o(s.filter(m=>m!==p)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:E.jsx(Fie,{size:16})})]})},p))})}),E.jsx(ln.Tbody,{children:u.rows.slice(0,5).map((p,m)=>E.jsx(ln.Tr,{children:u.header.map(g=>E.jsx(ln.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(g)?"normal":"nowrap"},children:p[g]},`${m}-${g}`))},m))})]}):l==="error"&&c?E.jsx(ey,{variant:"light",children:c.message}):null,E.jsx(qf,{visible:l==="pending"||l==="idle"})]}),E.jsx(iu,{h:"sm"}),E.jsx(qt,{justify:"center",fz:"sm",c:"dimmed",children:E.jsx(Ue,{children:h})}),E.jsx(iu,{h:"md"}),E.jsxs(Si,{justify:"right",children:[E.jsx(on,{onClick:t,color:"dark",variant:"subtle",children:"Close"}),E.jsx(on,{leftSection:E.jsx(u8e,{}),onClick:f,"data-autofocus":!0,children:"Download"}),i==="__revisit-widget"&&E.jsx(on,{onClick:d,children:E.jsx(hwt,{})})]})]})}function _An(){const e=Ey(),{storageEngine:t}=Ao(),n=Kr(b=>b.answers),r=MC(),[i,s]=R.useState(!1);R.useEffect(()=>{if(r){s(!0);return}const b=setInterval(async()=>{await t.verifyCompletion(n)&&(s(!0),clearInterval(b))},1e3)},[]),CVe();const[o,a]=R.useState(),[u,l]=R.useState(""),c=e.studyMetadata.title.replace(" ","_");R.useEffect(()=>{async function b(){if(t){const w=await t.getCurrentParticipantId(),x=await t.getParticipantData();l(w),a(x)}}b()},[t]);const f=R.useCallback(async()=>{zue(JSON.stringify(o,null,2),`${c}_${u}.json`)},[c,o,u]),d=e.uiConfig.autoDownloadStudy||!1,h=d&&e.uiConfig.autoDownloadTime||-1,[p,m]=R.useState(Math.floor(h/1e3));R.useEffect(()=>{if(i){const b=setInterval(()=>{m(w=>w-1)},1e3);return p<=0?(d&&f(),clearInterval(b),()=>clearInterval(b)):()=>clearInterval(b)}return()=>{}},[d,i,p,f]);const g=I2(),[y,v]=R.useState(!1);return R.useEffect(()=>{(async()=>{if(t){const w=await t.getModes(g);v(w.dataCollectionEnabled)}})()},[t,g]),E.jsx(oa,{style:{height:"100%"},children:E.jsx(qt,{direction:"column",children:i||!y?E.jsx(Ue,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?E.jsx(Ku,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):E.jsxs(E.Fragment,{children:[E.jsx(Ue,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),E.jsx(iu,{h:"lg"}),E.jsx(oa,{children:E.jsx(nf,{color:"blue"})})]})})})}function wAn(){return E.jsx(Ue,{children:"Thank you for participating. Unfortunately you have didn't answer the training correctly, which means you are not eligible to participate in the study. You may close this window now."})}function xAn(){return E.jsx(Ue,{children:"Thank you for participating. Unfortunately, you have not answered the questions within the given time limit. Because of this, you are no longer eligible to participate in the study. You may close this window now."})}const $Ae={};function $Z(e,t){e===void 0&&(e=$Ae),t===void 0&&(t=$Ae);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var EAn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TAn=Object.prototype.hasOwnProperty;function NZ(e,t){return TAn.call(e,t)}function PZ(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)NZ(e,i)&&r.push(i);return r}function Pf(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function OZ(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Sw(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function RVe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function DZ(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(DZ(e[t]))return!0}else if(typeof e=="object"){for(var r=PZ(e),i=r.length,s=0;s<i;s++)if(DZ(e[r[s]]))return!0}}return!1}function NAe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var $Ve=function(e){EAn(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,NAe(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=NAe(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),Xs=$Ve,SAn=Pf,XT={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=jM(n,this.path);r&&(r=Pf(r));var i=px(n,{op:"remove",path:this.from}).removed;return px(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=jM(n,this.from);return px(n,{op:"add",path:this.path,value:Pf(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:IR(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},AAn={add:function(e,t,n){return OZ(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:XT.move,copy:XT.copy,test:XT.test,_get:XT._get};function jM(e,t){if(t=="")return e;var n={op:"_get",path:t};return px(e,n),n.value}function px(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):UM(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=jM(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=IR(e,t.value),o.test===!1)throw new Xs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Xs("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Pf(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=UM;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=RVe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!OZ(h))throw new Xs("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);OZ(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new Xs("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=AAn[t.op].call(t,l,h,e);if(o.test===!1)throw new Xs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=XT[t.op].call(t,l,h,e);if(o.test===!1)throw new Xs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new Xs("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function Fj(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Xs("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Pf(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=px(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function CAn(e,t,n){var r=px(e,t);if(r.test===!1)throw new Xs("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function UM(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Xs("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(XT[e.op]){if(typeof e.path!="string")throw new Xs("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Xs('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Xs("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Xs("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&DZ(e.value))throw new Xs("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Xs("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Xs("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=NVe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Xs("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Xs("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function NVe(e,t,n){try{if(!Array.isArray(e))throw new Xs("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Fj(Pf(t),Pf(e),n||!0);else{n=n||UM;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Xs)return i;throw i}}function IR(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!IR(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!IR(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const IAn=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Xs,_areEquals:IR,applyOperation:px,applyPatch:Fj,applyReducer:CAn,deepClone:SAn,getValueByPointer:jM,validate:NVe,validator:UM},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Vue=new WeakMap,kAn=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),RAn=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function $An(e){return Vue.get(e)}function NAn(e,t){return e.observers.get(t)}function PAn(e,t){e.observers.delete(t.callback)}function OAn(e,t){t.unobserve()}function DAn(e,t){var n=[],r,i=$An(e);if(!i)i=new kAn(e),Vue.set(e,i);else{var s=NAn(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Pf(e),t){r.callback=t,r.next=null;var o=function(){LZ(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){LZ(r),clearTimeout(r.next),PAn(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new RAn(t,r)),r}function LZ(e,t){t===void 0&&(t=!1);var n=Vue.get(e.object);Hue(n.value,e.object,e.patches,"",t),e.patches.length&&Fj(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Hue(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=PZ(t),o=PZ(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(NZ(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?Hue(c,f,n,r+"/"+Sw(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+Sw(l),value:Pf(c)}),n.push({op:"replace",path:r+"/"+Sw(l),value:Pf(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Sw(l),value:Pf(c)}),n.push({op:"remove",path:r+"/"+Sw(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!NZ(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+Sw(l),value:Pf(t[l])})}}}function LAn(e,t,n){n===void 0&&(n=!1);var r=[];return Hue(e,t,r,"",n),r}const MAn=Object.freeze(Object.defineProperty({__proto__:null,compare:LAn,generate:LZ,observe:DAn,unobserve:OAn},Symbol.toStringTag,{value:"Module"}));Object.assign({},IAn,MAn,{JsonPatchError:$Ve,deepClone:Pf,escapePathComponent:Sw,unescapePathComponent:RVe});var FAn=/("(?:[^\\"]|\\.)*")|[:,]/g,BAn=function(t,n){var r,i,s;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,s=n.replacer,function o(a,u,l){var c,f,d,h,p,m,g,y,v,b,w,x;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),w=JSON.stringify(a,s),w===void 0)return w;if(g=i-u.length-l,w.length<=g&&(v=w.replace(FAn,function(S,A){return A||S+" "}),v.length<=g))return v;if(s!=null&&(a=JSON.parse(w),s=void 0),typeof a=="object"&&a!==null){if(y=u+r,d=[],f=0,Array.isArray(a))for(b="[",c="]",g=a.length;f<g;f++)d.push(o(a[f],y,f===g-1?0:1)||"null");else for(b="{",c="}",m=Object.keys(a),g=m.length;f<g;f++)h=m[f],p=JSON.stringify(h)+": ",x=o(a[h],y,p.length+(f===g-1?0:1)),x!==void 0&&d.push(p+x);if(d.length>0)return[b,r+d.join(`,
`+y),c].join(`
`+u)}return w}(t,"",0)};const nY=tf(BAn);function af(e,t,n){return e.fields=t||[],e.fname=n,e}function so(e){return e==null?null:e.fname}function Hu(e){return e==null?null:e.fields}function PVe(e){return e.length===1?jAn(e[0]):UAn(e)}const jAn=e=>function(t){return t[e]},UAn=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Ke(e){throw Error(e)}function Mm(e){const t=[],n=e.length;let r=null,i=0,s="",o,a,u;e=e+"";function l(){t.push(s+e.substring(o,a)),s="",o=a+1}for(o=a=0;a<n;++a)if(u=e[a],u==="\\")s+=e.substring(o,a++),o=a;else if(u===r)l(),r=null,i=-1;else{if(r)continue;o===i&&u==='"'||o===i&&u==="'"?(o=a+1,r=u):u==="."&&!i?a>o?l():o=a+1:u==="["?(a>o&&l(),i=o=a+1):u==="]"&&(i||Ke("Access path missing open bracket: "+e),i>0&&l(),i=0,o=a+1)}return i&&Ke("Access path missing closing bracket: "+e),r&&Ke("Access path missing closing quote: "+e),a>o&&(a++,l()),t}function Jd(e,t,n){const r=Mm(e);return e=r.length===1?r[0]:e,af((n&&n.get||PVe)(r),[e],t||e)}const vN=Jd("id"),Qu=af(e=>e,[],"identity"),yv=af(()=>0,[],"zero"),f3=af(()=>1,[],"one"),Zd=af(()=>!0,[],"true"),X1=af(()=>!1,[],"false");function zAn(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const OVe=0,que=1,Wue=2,DVe=3,LVe=4;function Gue(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zAn,r=e||OVe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=que&&n(t||"error","ERROR",arguments),this},warn(){return r>=Wue&&n(t||"warn","WARN",arguments),this},info(){return r>=DVe&&n(t||"log","INFO",arguments),this},debug(){return r>=LVe&&n(t||"log","DEBUG",arguments),this}}}var Qe=Array.isArray;function Ot(e){return e===Object(e)}const PAe=e=>e!=="__proto__";function d3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const s in i)if(s==="signals")r.signals=VAn(r.signals,i.signals);else{const o=s==="legend"?{layout:1}:s==="style"?!0:null;h3(r,s,i[s],o)}return r},{})}function h3(e,t,n,r){if(!PAe(t))return;let i,s;if(Ot(n)&&!Qe(n)){s=Ot(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?h3(s,i,n[i]):PAe(i)&&(s[i]=n[i])}else e[t]=n}function VAn(e,t){if(e==null)return t;const n={},r=[];function i(s){n[s.name]||(n[s.name]=1,r.push(s))}return t.forEach(i),e.forEach(i),r}function Vr(e){return e[e.length-1]}function Uu(e){return e==null||e===""?null:+e}const MVe=e=>t=>e*Math.exp(t),FVe=e=>t=>Math.log(e*t),BVe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),jVe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,zM=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function Bj(e,t,n,r){const i=n(e[0]),s=n(Vr(e)),o=(s-i)*t;return[r(i-o),r(s-o)]}function UVe(e,t){return Bj(e,t,Uu,Qu)}function zVe(e,t){var n=Math.sign(e[0]);return Bj(e,t,FVe(n),MVe(n))}function VVe(e,t,n){return Bj(e,t,zM(n),zM(1/n))}function HVe(e,t,n){return Bj(e,t,BVe(n),jVe(n))}function jj(e,t,n,r,i){const s=r(e[0]),o=r(Vr(e)),a=t!=null?r(t):(s+o)/2;return[i(a+(s-a)*n),i(a+(o-a)*n)]}function Yue(e,t,n){return jj(e,t,n,Uu,Qu)}function Kue(e,t,n){const r=Math.sign(e[0]);return jj(e,t,n,FVe(r),MVe(r))}function VM(e,t,n,r){return jj(e,t,n,zM(r),zM(1/r))}function Xue(e,t,n,r){return jj(e,t,n,BVe(r),jVe(r))}function qVe(e){return 1+~~(new Date(e).getMonth()/3)}function WVe(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Nt(e){return e!=null?Qe(e)?e:[e]:[]}function GVe(e,t,n){let r=e[0],i=e[1],s;return i<r&&(s=i,i=r,r=s),s=i-r,s>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-s),r+s]}function Jn(e){return typeof e=="function"}const HAn="descending";function Que(e,t,n){n=n||{},t=Nt(t)||[];const r=[],i=[],s={},o=n.comparator||qAn;return Nt(e).forEach((a,u)=>{a!=null&&(r.push(t[u]===HAn?-1:1),i.push(a=Jn(a)?a:Jd(a,null,n)),(Hu(a)||[]).forEach(l=>s[l]=1))}),i.length===0?null:af(o(i,r),Object.keys(s))}const Uj=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),qAn=(e,t)=>e.length===1?WAn(e[0],t[0]):GAn(e,t,e.length),WAn=(e,t)=>function(n,r){return Uj(e(n),e(r))*t},GAn=(e,t,n)=>(t.push(0),function(r,i){let s,o=0,a=-1;for(;o===0&&++a<n;)s=e[a],o=Uj(s(r),s(i));return o*t[a]});function Ju(e){return Jn(e)?e:()=>e}function Jue(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Qn(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function bm(e,t){let n=0,r,i,s,o;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(s=o=i;n<r;++n)i=e[n],i!=null&&(i<s&&(s=i),i>o&&(o=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(s=o=i;n<r;++n)i=t(e[n]),i!=null&&(i<s&&(s=i),i>o&&(o=i))}return[s,o]}function YVe(e,t){const n=e.length;let r=-1,i,s,o,a,u;if(t==null){for(;++r<n;)if(s=e[r],s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=u=r;++r<n;)s=e[r],s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,u=r))}else{for(;++r<n;)if(s=t(e[r],r,e),s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=u=r;++r<n;)s=t(e[r],r,e),s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,u=r))}return[a,u]}const YAn=Object.prototype.hasOwnProperty;function sn(e,t){return YAn.call(e,t)}const K8={};function p3(e){let t={},n;function r(s){return sn(t,s)&&t[s]!==K8}const i={size:0,empty:0,object:t,has:r,get(s){return r(s)?t[s]:void 0},set(s,o){return r(s)||(++i.size,t[s]===K8&&--i.empty),t[s]=o,this},delete(s){return r(s)&&(--i.size,++i.empty,t[s]=K8),this},clear(){i.size=i.empty=0,i.object=t={}},test(s){return arguments.length?(n=s,i):n},clean(){const s={};let o=0;for(const a in t){const u=t[a];u!==K8&&(!n||!n(u))&&(s[a]=u,++o)}i.size=o,i.empty=0,i.object=t=s}};return e&&Object.keys(e).forEach(s=>{i.set(s,e[s])}),i}function KVe(e,t,n,r,i,s){if(!n&&n!==0)return s;const o=+n;let a=e[0],u=Vr(e),l;u<a&&(l=a,a=u,u=l),l=Math.abs(t-a);const c=Math.abs(u-t);return l<c&&l<=o?r:c<=o?i:s}function At(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Qn(r,n)}function QT(e,t,n,r){let i=t[0],s=t[t.length-1],o;return i>s&&(o=i,i=s,s=o),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=s:e<s)}function w_(e){return typeof e=="boolean"}function Qv(e){return Object.prototype.toString.call(e)==="[object Date]"}function XVe(e){return e&&Jn(e[Symbol.iterator])}function ri(e){return typeof e=="number"}function QVe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Pt(e){return typeof e=="string"}function Zue(e,t,n){e&&(e=t?Nt(e).map(a=>a.replace(/\\(.)/g,"$1")):Nt(e));const r=e&&e.length,i=n&&n.get||PVe,s=a=>i(t?[a]:Mm(a));let o;if(!r)o=function(){return""};else if(r===1){const a=s(e[0]);o=function(u){return""+a(u)}}else{const a=e.map(s);o=function(u){let l=""+a[0](u),c=0;for(;++c<r;)l+="|"+a[c](u);return l}}return af(o,e,"key")}function JVe(e,t){const n=e[0],r=Vr(e),i=+t;return i?i===1?r:n+i*(r-n):n}const KAn=1e4;function ZVe(e){e=+e||KAn;let t,n,r;const i=()=>{t={},n={},r=0},s=(o,a)=>(++r>e&&(n=t,t={},r=1),t[o]=a);return i(),{clear:i,has:o=>sn(t,o)||sn(n,o),get:o=>sn(t,o)?t[o]:sn(n,o)?s(o,n[o]):void 0,set:(o,a)=>sn(t,o)?t[o]=a:s(o,a)}}function eHe(e,t,n,r){const i=t.length,s=n.length;if(!s)return t;if(!i)return n;const o=r||new t.constructor(i+s);let a=0,u=0,l=0;for(;a<i&&u<s;++l)o[l]=e(t[a],n[u])>0?n[u++]:t[a++];for(;a<i;++a,++l)o[l]=t[a];for(;u<s;++u,++l)o[l]=n[u];return o}function X4(e,t){let n="";for(;--t>=0;)n+=e;return n}function tHe(e,t,n,r){const i=n||" ",s=e+"",o=t-s.length;return o<=0?s:r==="left"?X4(i,o)+s:r==="center"?X4(i,~~(o/2))+s+X4(i,Math.ceil(o/2)):s+X4(i,o)}function bN(e){return e&&Vr(e)-e[0]||0}function Et(e){return Qe(e)?"["+e.map(Et)+"]":Ot(e)||Pt(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function ele(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const XAn=e=>ri(e)||Qv(e)?e:Date.parse(e);function tle(e,t){return t=t||XAn,e==null||e===""?null:t(e)}function nle(e){return e==null||e===""?null:e+""}function Ip(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function nHe(e,t,n,r){const i=r??"",s=e+"",o=s.length,a=Math.max(0,t-i.length);return o<=t?s:n==="left"?i+s.slice(o-a):n==="center"?s.slice(0,Math.ceil(a/2))+i+s.slice(o-~~(a/2)):s.slice(0,a)+i}function av(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const s=t(e[i]);s&&n(s,i,e)}}else e.forEach(n)}function QAn(e){return e}function JAn(e){if(e==null)return QAn;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],o=e.translate[1];return function(a,u){u||(t=n=0);var l=2,c=a.length,f=new Array(c);for(f[0]=(t+=a[0])*r+s,f[1]=(n+=a[1])*i+o;l<c;)f[l]=a[l],++l;return f}}function ZAn(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function eCn(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return OAe(e,n)})}:OAe(e,t)}function OAe(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=rHe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function rHe(e,t){var n=JAn(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));c<0&&ZAn(f,p)}function s(c){return n(c)}function o(c){for(var f=[],d=0,h=c.length;d<h;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=o(c);f.length<4;)f.push(f[0]);return f}function u(c){return c.map(a)}function l(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(l)};case"Point":d=s(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(s);break;case"LineString":d=o(c.arcs);break;case"MultiLineString":d=c.arcs.map(o);break;case"Polygon":d=u(c.arcs);break;case"MultiPolygon":d=c.arcs.map(u);break;default:return null}return{type:f,coordinates:d}}return l(t)}function tCn(e,t){var n={},r={},i={},s=[],o=-1;t.forEach(function(l,c){var f=e.arcs[l<0?~l:l],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++o],t[o]=l,t[c]=d)}),t.forEach(function(l){var c=a(l),f=c[0],d=c[1],h,p;if(h=i[f])if(delete i[h.end],h.push(l),h.end=d,p=r[d]){delete r[p.start];var m=p===h?h:h.concat(p);r[m.start=h.start]=i[m.end=p.end]=m}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(l),h.start=f,p=i[f]){delete i[p.end];var g=p===h?h:p.concat(h);r[g.start=p.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[l],r[h.start=f]=i[h.end=d]=h});function a(l){var c=e.arcs[l<0?~l:l],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=c[c.length-1],l<0?[d,f]:[f,d]}function u(l,c){for(var f in l){var d=l[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),s.push(d)}}return u(i,r),u(r,i),t.forEach(function(l){n[l<0?~l:l]||s.push([l])}),s}function nCn(e){return rHe(e,rCn.apply(this,arguments))}function rCn(e,t,n){var r,i,s;if(arguments.length>1)r=iCn(e,t,n);else for(i=0,r=new Array(s=e.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:tCn(e,r)}}function iCn(e,t,n){var r=[],i=[],s;function o(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:s})}function a(f){f.forEach(o)}function u(f){f.forEach(a)}function l(f){f.forEach(u)}function c(f){switch(s=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":u(f.arcs);break;case"MultiPolygon":l(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}const ou="year",Xc="quarter",qu="month",ta="week",Qc="date",ju="day",_m="dayofyear",Jf="hours",Zf="minutes",eh="seconds",kp="milliseconds",rle=[ou,Xc,qu,ta,Qc,ju,_m,Jf,Zf,eh,kp],rY=rle.reduce((e,t,n)=>(e[t]=1+n,e),{});function ile(e){const t=Nt(e).slice(),n={};return t.length||Ke("Missing time unit."),t.forEach(i=>{sn(rY,i)?n[i]=1:Ke(`Invalid time unit: ${i}.`)}),(n[ta]||n[ju]?1:0)+(n[Xc]||n[qu]||n[Qc]?1:0)+(n[_m]?1:0)>1&&Ke(`Incompatible time units: ${e}`),t.sort((i,s)=>rY[i]-rY[s]),t}const sCn={[ou]:"%Y ",[Xc]:"Q%q ",[qu]:"%b ",[Qc]:"%d ",[ta]:"W%U ",[ju]:"%a ",[_m]:"%j ",[Jf]:"%H:00",[Zf]:"00:%M",[eh]:":%S",[kp]:".%L",[`${ou}-${qu}`]:"%Y-%m ",[`${ou}-${qu}-${Qc}`]:"%Y-%m-%d ",[`${Jf}-${Zf}`]:"%H:%M"};function iHe(e,t){const n=Qn({},sCn,t),r=ile(e),i=r.length;let s="",o=0,a,u;for(o=0;o<i;)for(a=r.length;a>o;--a)if(u=r.slice(o,a).join("-"),n[u]!=null){s+=n[u],o=a;break}return s.trim()}const Nw=new Date;function sle(e){return Nw.setFullYear(e),Nw.setMonth(0),Nw.setDate(1),Nw.setHours(0,0,0,0),Nw}function sHe(e){return aHe(new Date(e))}function oHe(e){return MZ(new Date(e))}function aHe(e){return sy.count(sle(e.getFullYear())-1,e)}function MZ(e){return UC.count(sle(e.getFullYear())-1,e)}function FZ(e){return sle(e).getDay()}function oCn(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,s,o);return a.setFullYear(e),a}return new Date(e,t,n,r,i,s,o)}function uHe(e){return cHe(new Date(e))}function lHe(e){return BZ(new Date(e))}function cHe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Yv.count(t-1,e)}function BZ(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return zC.count(t-1,e)}function jZ(e){return Nw.setTime(Date.UTC(e,0,1)),Nw.getUTCDay()}function aCn(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,s,o));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,s,o))}function fHe(e,t,n,r,i){const s=t||1,o=Vr(e),a=(y,v,b)=>(b=b||y,uCn(n[b],r[b],y===o&&s,v)),u=new Date,l=Ip(e),c=l[ou]?a(ou):Ju(2012),f=l[qu]?a(qu):l[Xc]?a(Xc):yv,d=l[ta]&&l[ju]?a(ju,1,ta+ju):l[ta]?a(ta,1):l[ju]?a(ju,1):l[Qc]?a(Qc,1):l[_m]?a(_m,1):f3,h=l[Jf]?a(Jf):yv,p=l[Zf]?a(Zf):yv,m=l[eh]?a(eh):yv,g=l[kp]?a(kp):yv;return function(y){u.setTime(+y);const v=c(u);return i(v,f(u),d(u,v),h(u),p(u),m(u),g(u))}}function uCn(e,t,n,r){const i=n<=1?e:r?(s,o)=>r+n*Math.floor((e(s,o)-r)/n):(s,o)=>n*Math.floor(e(s,o)/n);return t?(s,o)=>t(i(s,o),o):i}function OA(e,t,n){return t+e*7-(n+6)%7}const lCn={[ou]:e=>e.getFullYear(),[Xc]:e=>Math.floor(e.getMonth()/3),[qu]:e=>e.getMonth(),[Qc]:e=>e.getDate(),[Jf]:e=>e.getHours(),[Zf]:e=>e.getMinutes(),[eh]:e=>e.getSeconds(),[kp]:e=>e.getMilliseconds(),[_m]:e=>aHe(e),[ta]:e=>MZ(e),[ta+ju]:(e,t)=>OA(MZ(e),e.getDay(),FZ(t)),[ju]:(e,t)=>OA(1,e.getDay(),FZ(t))},cCn={[Xc]:e=>3*e,[ta]:(e,t)=>OA(e,0,FZ(t))};function dHe(e,t){return fHe(e,t||1,lCn,cCn,oCn)}const fCn={[ou]:e=>e.getUTCFullYear(),[Xc]:e=>Math.floor(e.getUTCMonth()/3),[qu]:e=>e.getUTCMonth(),[Qc]:e=>e.getUTCDate(),[Jf]:e=>e.getUTCHours(),[Zf]:e=>e.getUTCMinutes(),[eh]:e=>e.getUTCSeconds(),[kp]:e=>e.getUTCMilliseconds(),[_m]:e=>cHe(e),[ta]:e=>BZ(e),[ju]:(e,t)=>OA(1,e.getUTCDay(),jZ(t)),[ta+ju]:(e,t)=>OA(BZ(e),e.getUTCDay(),jZ(t))},dCn={[Xc]:e=>3*e,[ta]:(e,t)=>OA(e,0,jZ(t))};function hHe(e,t){return fHe(e,t||1,fCn,dCn,aCn)}const hCn={[ou]:am,[Xc]:uR.every(3),[qu]:uR,[ta]:UC,[Qc]:sy,[ju]:sy,[_m]:sy,[Jf]:NB,[Zf]:RB,[eh]:Wg,[kp]:mA},pCn={[ou]:um,[Xc]:lR.every(3),[qu]:lR,[ta]:zC,[Qc]:Yv,[ju]:Yv,[_m]:Yv,[Jf]:PB,[Zf]:$B,[eh]:Wg,[kp]:mA};function m3(e){return hCn[e]}function g3(e){return pCn[e]}function pHe(e,t,n){return e?e.offset(t,n):void 0}function mHe(e,t,n){return pHe(m3(e),t,n)}function gHe(e,t,n){return pHe(g3(e),t,n)}function yHe(e,t,n,r){return e?e.range(t,n,r):void 0}function vHe(e,t,n,r){return yHe(m3(e),t,n,r)}function bHe(e,t,n,r){return yHe(g3(e),t,n,r)}const Q4=1e3,J4=Q4*60,Z4=J4*60,zj=Z4*24,mCn=zj*7,DAe=zj*30,UZ=zj*365,_He=[ou,qu,Qc,Jf,Zf,eh,kp],e6=_He.slice(0,-1),t6=e6.slice(0,-1),n6=t6.slice(0,-1),gCn=n6.slice(0,-1),yCn=[ou,ta],LAe=[ou,qu],wHe=[ou],QI=[[e6,1,Q4],[e6,5,5*Q4],[e6,15,15*Q4],[e6,30,30*Q4],[t6,1,J4],[t6,5,5*J4],[t6,15,15*J4],[t6,30,30*J4],[n6,1,Z4],[n6,3,3*Z4],[n6,6,6*Z4],[n6,12,12*Z4],[gCn,1,zj],[yCn,1,mCn],[LAe,1,DAe],[LAe,3,3*DAe],[wHe,1,UZ]];function xHe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(bN(t))/n;let i=pp(a=>a[2]).right(QI,r),s,o;return i===QI.length?(s=wHe,o=mb(t[0]/UZ,t[1]/UZ,n)):i?(i=QI[r/QI[i-1][2]<QI[i][2]/r?i-1:i],s=i[0],o=i[1]):(s=_He,o=Math.max(mb(t[0],t[1],n),1)),{units:s,step:o}}function r6(e){const t={};return n=>t[n]||(t[n]=e(n))}function vCn(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let s=bCn(r,i);const o=s<r.length?r.slice(s):"";for(;--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+o}}function bCn(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function EHe(e){const t=r6(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Px(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return vCn(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,s,o){o=Px(o??",f");const a=mb(r,i,s),u=Math.max(Math.abs(r),Math.abs(i));let l;if(o.precision==null)switch(o.type){case"s":return isNaN(l=O9e(a,u))||(o.precision=l),n(o,u);case"":case"e":case"g":case"p":case"r":{isNaN(l=D9e(a,u))||(o.precision=l-(o.type==="e"));break}case"f":case"%":{isNaN(l=P9e(a))||(o.precision=l-(o.type==="%")*2);break}}return t(o)}}}let zZ;THe();function THe(){return zZ=EHe({format:d_,formatPrefix:Bse})}function SHe(e){return EHe(N9e(e))}function HM(e){return arguments.length?zZ=SHe(e):zZ}function MAe(e,t,n){n=n||{},Ot(n)||Ke(`Invalid time multi-format specifier: ${n}`);const r=t(eh),i=t(Zf),s=t(Jf),o=t(Qc),a=t(ta),u=t(qu),l=t(Xc),c=t(ou),f=e(n[kp]||".%L"),d=e(n[eh]||":%S"),h=e(n[Zf]||"%I:%M"),p=e(n[Jf]||"%I %p"),m=e(n[Qc]||n[ju]||"%a %d"),g=e(n[ta]||"%b %d"),y=e(n[qu]||"%B"),v=e(n[Xc]||"%B"),b=e(n[ou]||"%Y");return w=>(r(w)<w?f:i(w)<w?d:s(w)<w?h:o(w)<w?p:u(w)<w?a(w)<w?m:g:c(w)<w?l(w)<w?y:v:b)(w)}function AHe(e){const t=r6(e.format),n=r6(e.utcFormat);return{timeFormat:r=>Pt(r)?t(r):MAe(t,m3,r),utcFormat:r=>Pt(r)?n(r):MAe(n,g3,r),timeParse:r6(e.parse),utcParse:r6(e.utcParse)}}let VZ;CHe();function CHe(){return VZ=AHe({format:Jse,parse:YLe,utcFormat:q$,utcParse:KLe})}function IHe(e){return AHe(VLe(e))}function kR(e){return arguments.length?VZ=IHe(e):VZ}const HZ=(e,t)=>Qn({},e,t);function kHe(e,t){const n=e?SHe(e):HM(),r=t?IHe(t):kR();return HZ(n,r)}function ole(e,t){const n=arguments.length;return n&&n!==2&&Ke("defaultLocale expects either zero or two arguments."),n?HZ(HM(e),kR(t)):HZ(HM(),kR())}function _Cn(){return THe(),CHe(),ole()}const wCn=/^(data:|([A-Za-z]+:)?\/\/)/,xCn=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ECn=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,FAe="file://";function TCn(e,t){return n=>({options:n||{},sanitize:ACn,load:SCn,fileAccess:!1,file:CCn(t),http:kCn(e)})}async function SCn(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function ACn(e,t){t=Qn({},this.options,t);const n=this.fileAccess,r={href:null};let i,s,o;const a=xCn.test(e.replace(ECn,""));(e==null||typeof e!="string"||!a)&&Ke("Sanitize failure, invalid URI: "+Et(e));const u=wCn.test(e);return(o=t.baseURL)&&!u&&(!e.startsWith("/")&&!o.endsWith("/")&&(e="/"+e),e=o+e),s=(i=e.startsWith(FAe))||t.mode==="file"||t.mode!=="http"&&!u&&n,i?e=e.slice(FAe.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!s}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function CCn(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,s)=>{i?r(i):n(s)})}):ICn}async function ICn(){Ke("No file system access.")}function kCn(e){return e?async function(t,n){const r=Qn({},this.options.http,n),i=n&&n.response,s=await e(t,r);return s.ok?Jn(s[i])?s[i]():s.text():Ke(s.status+""+s.statusText)}:RCn}async function RCn(){Ke("No HTTP fetch method available.")}const $Cn=e=>e!=null&&e===e,NCn=e=>e==="true"||e==="false"||e===!0||e===!1,PCn=e=>!Number.isNaN(Date.parse(e)),RHe=e=>!Number.isNaN(+e)&&!(e instanceof Date),OCn=e=>RHe(e)&&Number.isInteger(+e),qZ={boolean:ele,integer:Uu,number:Uu,date:tle,string:nle,unknown:Qu},X8=[NCn,OCn,RHe,PCn],DCn=["boolean","integer","number","date"];function $He(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=X8.length,i=X8.map((s,o)=>o+1);for(let s=0,o=0,a,u;s<n;++s)for(u=t?e[s][t]:e[s],a=0;a<r;++a)if(i[a]&&$Cn(u)&&!X8[a](u)&&(i[a]=0,++o,o===X8.length))return"string";return DCn[i.reduce((s,o)=>s===0?o:s,0)-1]}function NHe(e,t){return t.reduce((n,r)=>(n[r]=$He(e,r),n),{})}function BAe(e){const t=function(n,r){const i={delimiter:e};return ale(n,r?Qn(r,i):i)};return t.responseType="text",t}function ale(e,t){return t.header&&(e=t.header.map(Et).join(t.delimiter)+`
`+e),I9e(t.delimiter).parse(e+"")}ale.responseType="text";function LCn(e){return typeof Buffer=="function"&&Jn(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function ule(e,t){const n=t&&t.property?Jd(t.property):Qu;return Ot(e)&&!LCn(e)?MCn(n(e),t):n(JSON.parse(e))}ule.responseType="json";function MCn(e,t){return!Qe(e)&&XVe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const FCn={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function PHe(e,t){let n,r,i,s;return e=ule(e,t),t&&t.feature?(n=eCn,i=t.feature):t&&t.mesh?(n=nCn,i=t.mesh,s=FCn[t.filter]):Ke("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,s):Ke("Invalid TopoJSON object: "+i),r&&r.features||[r]}PHe.responseType="json";const RD={dsv:ale,csv:BAe(","),tsv:BAe("	"),json:ule,topojson:PHe};function lle(e,t){return arguments.length>1?(RD[e]=t,this):sn(RD,e)?RD[e]:null}function OHe(e){const t=lle(e);return t&&t.responseType||"text"}function DHe(e,t,n,r){t=t||{};const i=lle(t.type||"json");return i||Ke("Unknown data format type: "+t.type),e=i(e,t),t.parse&&BCn(e,t.parse,n,r),sn(e,"columns")&&delete e.columns,e}function BCn(e,t,n,r){if(!e.length)return;const i=kR();n=n||i.timeParse,r=r||i.utcParse;let s=e.columns||Object.keys(e[0]),o,a,u,l,c,f;t==="auto"&&(t=NHe(e,s)),s=Object.keys(t);const d=s.map(h=>{const p=t[h];let m,g;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),g=m[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(m[0]==="utc"?r:n)(g);if(!qZ[p])throw Error("Illegal format pattern: "+h+":"+p);return qZ[p]});for(u=0,c=e.length,f=s.length;u<c;++u)for(o=e[u],l=0;l<f;++l)a=s[l],o[a]=d[l](o[a])}const Vj=TCn(typeof fetch<"u"&&fetch,null);function Hj(e){const t=e||Qu,n=[],r={};return n.add=i=>{const s=t(i);return r[s]||(r[s]=1,n.push(i)),n},n.remove=i=>{const s=t(i);if(r[s]){r[s]=0;const o=n.indexOf(i);o>=0&&n.splice(o,1)}return n},n}async function $D(e,t){try{await t(e)}catch(n){e.error(n)}}const LHe=Symbol("vega_id");let jCn=1;function qj(e){return!!(e&&nn(e))}function nn(e){return e[LHe]}function MHe(e,t){return e[LHe]=t,e}function _i(e){const t=e===Object(e)?e:{data:e};return nn(t)?t:MHe(t,jCn++)}function cle(e){return Wj(e,_i({}))}function Wj(e,t){for(const n in e)t[n]=e[n];return t}function FHe(e,t){return MHe(t,nn(e))}function G2(e,t){return e?t?(n,r)=>e(n,r)||nn(t(n))-nn(t(r)):(n,r)=>e(n,r)||nn(n)-nn(r):null}function BHe(e){return e&&e.constructor===Y2}function Y2(){const e=[],t=[],n=[],r=[],i=[];let s=null,o=!1;return{constructor:Y2,insert(a){const u=Nt(a),l=u.length;for(let c=0;c<l;++c)e.push(u[c]);return this},remove(a){const u=Jn(a)?r:t,l=Nt(a),c=l.length;for(let f=0;f<c;++f)u.push(l[f]);return this},modify(a,u,l){const c={field:u,value:Ju(l)};return Jn(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,u){return Jn(a)?i.push({filter:a,field:u}):n.push({tuple:a,field:u}),this},clean(a){return s=a,this},reflow(){return o=!0,this},pulse(a,u){const l={},c={};let f,d,h,p,m,g;for(f=0,d=u.length;f<d;++f)l[nn(u[f])]=1;for(f=0,d=t.length;f<d;++f)m=t[f],l[nn(m)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],u.forEach(v=>{p(v)&&(l[nn(v)]=-1)});for(f=0,d=e.length;f<d;++f)m=e[f],g=nn(m),l[g]?l[g]=1:a.add.push(_i(e[f]));for(f=0,d=u.length;f<d;++f)m=u[f],l[nn(m)]<0&&a.rem.push(m);function y(v,b,w){w?v[b]=w(v):a.encode=b,o||(c[nn(v)]=v)}for(f=0,d=n.length;f<d;++f)h=n[f],m=h.tuple,p=h.field,g=l[nn(m)],g>0&&(y(m,p,h.value),a.modifies(p));for(f=0,d=i.length;f<d;++f)h=i[f],p=h.filter,u.forEach(v=>{p(v)&&l[nn(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(o)a.mod=t.length||r.length?u.filter(v=>l[nn(v)]>0):u.slice();else for(g in c)a.mod.push(c[g]);return(s||s==null&&(t.length||r.length))&&a.clean(!0),a}}}const ND="_:mod:_";function Gj(){Object.defineProperty(this,ND,{writable:!0,value:{}})}Gj.prototype={set(e,t,n,r){const i=this,s=i[e],o=i[ND];return t!=null&&t>=0?(s[t]!==n||r)&&(s[t]=n,o[t+":"+e]=-1,o[e]=-1):(s!==n||r)&&(i[e]=n,o[e]=Qe(n)?1+n.length:-1),i},modified(e,t){const n=this[ND];if(arguments.length){if(Qe(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[ND]={},this}};let UCn=0;const zCn="pulse",VCn=new Gj,HCn=1,qCn=2;function ts(e,t,n,r){this.id=++UCn,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function jAe(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}ts.prototype={targets(){return this._targets||(this._targets=Hj(vN))},set(e){return this.value!==e?(this.value=e,1):0},skip:jAe(HCn),modified:jAe(qCn),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new Gj,i=this._argops=this._argops||[],s=[];let o,a,u,l;const c=(f,d,h)=>{h instanceof ts?(h!==this&&(t&&h.targets().add(this),s.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(o in e)if(a=e[o],o===zCn)Nt(a).forEach(f=>{f instanceof ts?f!==this&&(f.targets().add(this),s.push(f)):Ke("Pulse parameters must be operator instances.")}),this.source=a;else if(Qe(a))for(r.set(o,-1,Array(u=a.length)),l=0;l<u;++l)c(o,l,a[l]);else c(o,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),s},marshall(e){const t=this._argval||VCn,n=this._argops;let r,i,s,o;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],s=r.op,o=s.modified()&&s.stamp===e,t.set(r.name,r.index,s.value,o);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function WCn(e,t,n,r){let i=1,s;return e instanceof ts?s=e:e&&e.prototype instanceof ts?s=new e:Jn(e)?s=new ts(null,e):(i=0,s=new ts(e,t)),this.rank(s),i&&(r=n,n=t),n&&this.connect(s,s.parameters(n,r)),this.touch(s),s}function GCn(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let YCn=0;function Yj(e,t,n){this.id=++YCn,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Q1(e,t,n){return new Yj(e,t,n)}Yj.prototype={_filter:Zd,_apply:Qu,targets(){return this._targets||(this._targets=Hj(vN))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Q1(e);return this.targets().add(t),t},apply(e){const t=Q1(null,e);return this.targets().add(t),t},merge(){const e=Q1();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Q1();return this.targets().add(Q1(null,null,Jue(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Q1(null,null,()=>n=!0)),t.targets().add(Q1(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Zd,this._targets=null}};function KCn(e,t,n,r){const i=this,s=Q1(n,r),o=function(l){l.dataflow=i;try{s.receive(l)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=Nt(e);const u=a.length;for(let l=0;l<u;++l)a[l].addEventListener(t,o);return s}function XCn(e,t){const n=this.locale();return DHe(e,t,n.timeParse,n.utcParse)}function QCn(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function JCn(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:OHe(t&&t.type)});try{i=n.parse(i,t)}catch(s){r=-2,n.warn("Data ingestion failed",e,s)}}catch(s){r=-1,n.warn("Loading failed",e,s)}return{data:i,status:r}}async function ZCn(e,t,n){const r=this,i=r._pending||e3n(r);i.requests+=1;const s=await r.request(t,n);return r.pulse(e,r.changeset().remove(Zd).insert(s.data||[])),i.done(),s}function e3n(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const t3n={skip:!0};function n3n(e,t,n,r,i){return(e instanceof ts?i3n:r3n)(this,e,t,n,r,i),this}function r3n(e,t,n,r,i,s){const o=Qn({},s,t3n);let a,u;Jn(n)||(n=Ju(n)),r===void 0?a=l=>e.touch(n(l)):Jn(r)?(u=new ts(null,r,i,!1),a=l=>{u.evaluate(l);const c=n(l),f=u.value;BHe(f)?e.pulse(c,f,s):e.update(c,f,o)}):a=l=>e.update(n(l),r,o),t.apply(a)}function i3n(e,t,n,r,i,s){if(r===void 0)t.targets().add(n);else{const o=s||{},a=new ts(null,s3n(n,r),i,!1);a.modified(o.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function s3n(e,t){return t=Jn(t)?t:Ju(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function o3n(e){e.rank=++this._rank}function a3n(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&Ke("Cycle detected in dataflow graph.")}const qM={},v0=1,uv=2,Tg=4,u3n=v0|uv,UAe=v0|Tg,tT=v0|uv|Tg,zAe=8,JI=16,VAe=32,HAe=64;function Jv(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function iY(e,t){const n=[];return av(e,t,r=>n.push(r)),n}function qAe(e,t){const n={};return e.visit(t,r=>{n[nn(r)]=1}),r=>n[nn(r)]?null:r}function Q8(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Jv.prototype={StopPropagation:qM,ADD:v0,REM:uv,MOD:Tg,ADD_REM:u3n,ADD_MOD:UAe,ALL:tT,REFLOW:zAe,SOURCE:JI,NO_SOURCE:VAe,NO_FIELDS:HAe,fork(e){return new Jv(this.dataflow).init(this,e)},clone(){const e=this.fork(tT);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(tT|JI)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Jv(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&HAe)&&(n.fields=e.fields),t&v0?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&uv?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Tg?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&VAe?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||tT;return t&v0&&this.add.length||t&uv&&this.rem.length||t&Tg&&this.mod.length},reflow(e){if(e)return this.fork(tT).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Tg,qAe(this,v0))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Qe(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?Qe(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&v0&&(n.addF=Q8(n.addF,t)),e&uv&&(n.remF=Q8(n.remF,t)),e&Tg&&(n.modF=Q8(n.modF,t)),e&JI&&(n.srcF=Q8(n.srcF,t)),n},materialize(e){e=e||tT;const t=this;return e&v0&&t.addF&&(t.add=iY(t.add,t.addF),t.addF=null),e&uv&&t.remF&&(t.rem=iY(t.rem,t.remF),t.remF=null),e&Tg&&t.modF&&(t.mod=iY(t.mod,t.modF),t.modF=null),e&JI&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&JI)return av(n.source,n.srcF,r),n;e&v0&&av(n.add,n.addF,r),e&uv&&av(n.rem,n.remF,r),e&Tg&&av(n.mod,n.modF,r);const i=n.source;if(e&zAe&&i){const s=n.add.length+n.mod.length;s===i.length||(s?av(i,qAe(n,UAe),r):av(i,n.srcF,r))}return n}};function fle(e,t,n,r){const i=this;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const o of n)if(o.stamp===t){if(o.fields){const a=i.fields||(i.fields={});for(const u in o.fields)a[u]=1}o.changed(i.ADD)&&(s|=i.ADD),o.changed(i.REM)&&(s|=i.REM),o.changed(i.MOD)&&(s|=i.MOD)}this.changes=s}At(fle,Jv,{fork(e){const t=new Jv(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?Qe(e)?e.some(r=>n[r]):n[e]:0},filter(){Ke("MultiPulse does not support filtering.")},materialize(){Ke("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let s=0;if(e&n.SOURCE)for(;s<i;++s)r[s].visit(e,t);else for(;s<i;++s)r[s].stamp===n.stamp&&r[s].visit(e,t);return n}});async function l3n(e,t,n){const r=this,i=[];if(r._pulse)return jHe(r);if(r._pending&&await r._pending,t&&await $D(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const s=++r._clock;r._pulse=new Jv(r,s,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=Hj(vN);let o=0,a,u,l;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}u=a.run(r._getPulse(a,e)),u.then?u=await u:u.async&&(i.push(u.async),u=qM),u!==qM&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++o}}catch(c){r._heap.clear(),l=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${s}: ${o} operators`),l&&(r._postrun=[],r.error(l)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await $D(r,c[f].callback)}return n&&await $D(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function c3n(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function f3n(e,t,n){return this._pulse?jHe(this):(this.evaluate(e,t,n),this)}function d3n(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function jHe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function h3n(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function p3n(e,t){const n=e.source,r=this._clock;return n&&Qe(n)?new fle(this,r,n.map(i=>i.pulse),t):this._input[e.id]||m3n(this._pulse,n&&n.pulse)}function m3n(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==qM&&(e.source=t.source),e)}const dle={skip:!1,force:!1};function g3n(e,t){const n=t||dle;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function y3n(e,t,n){const r=n||dle;return(e.set(t)||r.force)&&this.touch(e,r),this}function v3n(e,t,n){this.touch(e,n||dle);const r=new Jv(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function b3n(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),UHe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,_3n(t,0,e)):r=n,r}}}function UHe(e,t,n,r){let i,s;const o=e[n];for(;n>t;){if(s=n-1>>1,i=e[s],r(o,i)<0){e[n]=i,n=s;continue}break}return e[n]=o}function _3n(e,t,n){const r=t,i=e.length,s=e[t];let o=(t<<1)+1,a;for(;o<i;)a=o+1,a<i&&n(e[o],e[a])>=0&&(o=a),e[t]=e[o],t=o,o=(t<<1)+1;return e[t]=s,UHe(e,r,t,n)}function RS(){this.logger(Gue()),this.logLevel(que),this._clock=0,this._rank=0,this._locale=ole();try{this._loader=Vj()}catch{}this._touched=Hj(vN),this._input={},this._pulse=null,this._heap=b3n((e,t)=>e.qrank-t.qrank),this._postrun=[]}function ZI(e){return function(){return this._log[e].apply(this,arguments)}}RS.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:ZI("error"),warn:ZI("warn"),info:ZI("info"),debug:ZI("debug"),logLevel:ZI("level"),cleanThreshold:1e4,add:WCn,connect:GCn,rank:o3n,rerank:a3n,pulse:v3n,touch:g3n,update:y3n,changeset:Y2,ingest:QCn,parse:XCn,preload:ZCn,request:JCn,events:KCn,on:n3n,evaluate:l3n,run:f3n,runAsync:c3n,runAfter:d3n,_enqueue:h3n,_getPulse:p3n};function He(e,t){ts.call(this,e,null,t)}At(He,ts,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const DA={};function zHe(e){const t=VHe(e);return t&&t.Definition||null}function VHe(e){return e=e&&e.toLowerCase(),sn(DA,e)?DA[e]:null}function*HHe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function hle(e,t,n){const r=Float64Array.from(HHe(e,n));return r.sort(ny),t.map(i=>ADe(r,i))}function ple(e,t){return hle(e,[.25,.5,.75],t)}function mle(e,t){const n=e.length,r=v6t(e,t),i=ple(e,t),s=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,s)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function qHe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let s=e.extent[0],o=e.extent[1],a,u,l,c,f,d;const h=e.span||o-s||Math.abs(s)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);a=e.steps[Math.max(0,f-1)]}else{for(u=Math.ceil(Math.log(t)/r),l=e.minstep||0,a=Math.max(l,Math.pow(n,Math.round(Math.log(h)/r)-u));Math.ceil(h/a)>t;)a*=n;for(f=0,d=i.length;f<d;++f)c=a/i[f],c>=l&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(s/a+m)*a,s=s<c?c-a:c,o=Math.ceil(o/a)*a),{start:s,stop:o===s?s+a:o,step:a}}var th=Math.random;function w3n(e){th=e}function WHe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(HHe(e,r)),s=i.length,o=t;let a,u,l,c;for(l=0,c=Array(o);l<o;++l){for(a=0,u=0;u<s;++u)a+=i[~~(th()*s)];c[l]=a/s}return c.sort(ny),[gQ(c,n/2),gQ(c,1-n/2)]}function GHe(e,t,n,r){r=r||(d=>d);const i=e.length,s=new Float64Array(i);let o=0,a=1,u=r(e[0]),l=u,c=u+t,f;for(;a<i;++a){if(f=r(e[a]),f>=c){for(l=(u+l)/2;o<a;++o)s[o]=l;c=f+t,u=f}l=f}for(l=(u+l)/2;o<a;++o)s[o]=l;return n?x3n(s,t+t/4):s}function x3n(e,t){const n=e.length;let r=0,i=1,s,o;for(;e[r]===e[i];)++i;for(;i<n;){for(s=i+1;e[i]===e[s];)++s;if(e[i]-e[i-1]<t){for(o=i+(r+s-i-i>>1);o<i;)e[o++]=e[i];for(;o>i;)e[o--]=e[r]}r=i,i=s}return e}function E3n(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function T3n(e,t){t==null&&(t=e,e=0);let n,r,i;const s={min(o){return arguments.length?(n=o||0,i=r-n,s):n},max(o){return arguments.length?(r=o||0,i=r-n,s):r},sample(){return n+Math.floor(i*th())},pdf(o){return o===Math.floor(o)&&o>=n&&o<r?1/i:0},cdf(o){const a=Math.floor(o);return a<n?0:a>=r?1:(a-n+1)/i},icdf(o){return o>=0&&o<=1?n-1+Math.floor(o*i):NaN}};return s.min(e).max(t)}const YHe=Math.sqrt(2*Math.PI),S3n=Math.SQRT2;let e4=NaN;function Kj(e,t){e=e||0,t=t??1;let n=0,r=0,i,s;if(e4===e4)n=e4,e4=NaN;else{do n=th()*2-1,r=th()*2-1,i=n*n+r*r;while(i===0||i>1);s=Math.sqrt(-2*Math.log(i)/i),n*=s,e4=r*s}return e+n*t}function gle(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*YHe)}function Xj(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let s;if(i>37)s=0;else{const o=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,s=o*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,s=s/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,s=o/a/2.506628274631)}return r>0?1-s:s}function Qj(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*S3n*A3n(2*e-1)}function A3n(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function yle(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>Kj(n,r),pdf:s=>gle(s,n,r),cdf:s=>Xj(s,n,r),icdf:s=>Qj(s,n,r)};return i.mean(e).stdev(t)}function vle(e,t){const n=yle();let r=0;const i={data(s){return arguments.length?(e=s,r=s?s.length:0,i.bandwidth(t)):e},bandwidth(s){return arguments.length?(t=s,!t&&e&&(t=mle(e)),i):t},sample(){return e[~~(th()*r)]+t*n.sample()},pdf(s){let o=0,a=0;for(;a<r;++a)o+=n.pdf((s-e[a])/t);return o/t/r},cdf(s){let o=0,a=0;for(;a<r;++a)o+=n.cdf((s-e[a])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function ble(e,t){return e=e||0,t=t??1,Math.exp(e+Kj()*t)}function _le(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*YHe*e)}function wle(e,t,n){return Xj(Math.log(e),t,n)}function xle(e,t,n){return Math.exp(Qj(e,t,n))}function KHe(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>ble(n,r),pdf:s=>_le(s,n,r),cdf:s=>wle(s,n,r),icdf:s=>xle(s,n,r)};return i.mean(e).stdev(t)}function XHe(e,t){let n=0,r;function i(o){const a=[];let u=0,l;for(l=0;l<n;++l)u+=a[l]=o[l]==null?1:+o[l];for(l=0;l<n;++l)a[l]/=u;return a}const s={weights(o){return arguments.length?(r=i(t=o||[]),s):t},distributions(o){return arguments.length?(o?(n=o.length,e=o):(n=0,e=[]),s.weights(t)):e},sample(){const o=th();let a=e[n-1],u=r[0],l=0;for(;l<n-1;u+=r[++l])if(o<u){a=e[l];break}return a.sample()},pdf(o){let a=0,u=0;for(;u<n;++u)a+=r[u]*e[u].pdf(o);return a},cdf(o){let a=0,u=0;for(;u<n;++u)a+=r[u]*e[u].cdf(o);return a},icdf(){throw Error("Mixture icdf not supported.")}};return s.distributions(e).weights(t)}function Ele(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*th()}function Tle(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function Sle(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Ale(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function QHe(e,t){let n,r;const i={min(s){return arguments.length?(n=s||0,i):n},max(s){return arguments.length?(r=s??1,i):r},sample:()=>Ele(n,r),pdf:s=>Tle(s,n,r),cdf:s=>Sle(s,n,r),icdf:s=>Ale(s,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function Cle(e,t,n){let r=0,i=0;for(const s of e){const o=n(s);t(s)==null||o==null||isNaN(o)||(r+=(o-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function _N(e,t,n,r){const i=r-e*e,s=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-s*e,s]}function Jj(e,t,n,r){e=e.filter(h=>{let p=t(h),m=n(h);return p!=null&&(p=+p)>=p&&m!=null&&(m=+m)>=m}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,s=new Float64Array(i),o=new Float64Array(i);let a=0,u=0,l=0,c,f,d;for(d of e)s[a]=c=+t(d),o[a]=f=+n(d),++a,u+=(c-u)/a,l+=(f-l)/a;for(a=0;a<i;++a)s[a]-=u,o[a]-=l;return[s,o,u,l]}function wN(e,t,n,r){let i=-1,s,o;for(const a of e)s=t(a),o=n(a),s!=null&&(s=+s)>=s&&o!=null&&(o=+o)>=o&&r(s,o,++i)}function y3(e,t,n,r,i){let s=0,o=0;return wN(e,t,n,(a,u)=>{const l=u-i(a),c=u-r;s+=l*l,o+=c*c}),1-s/o}function Ile(e,t,n){let r=0,i=0,s=0,o=0,a=0;wN(e,t,n,(c,f)=>{++a,r+=(c-r)/a,i+=(f-i)/a,s+=(c*f-s)/a,o+=(c*c-o)/a});const u=_N(r,i,s,o),l=c=>u[0]+u[1]*c;return{coef:u,predict:l,rSquared:y3(e,t,n,i,l)}}function JHe(e,t,n){let r=0,i=0,s=0,o=0,a=0;wN(e,t,n,(c,f)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(f-i)/a,s+=(c*f-s)/a,o+=(c*c-o)/a});const u=_N(r,i,s,o),l=c=>u[0]+u[1]*Math.log(c);return{coef:u,predict:l,rSquared:y3(e,t,n,i,l)}}function ZHe(e,t,n){const[r,i,s,o]=Jj(e,t,n);let a=0,u=0,l=0,c=0,f=0,d,h,p;wN(e,t,n,(v,b)=>{d=r[f++],h=Math.log(b),p=d*b,a+=(b*h-a)/f,u+=(p-u)/f,l+=(p*h-l)/f,c+=(d*p-c)/f});const[m,g]=_N(u/o,a/o,l/o,c/o),y=v=>Math.exp(m+g*(v-s));return{coef:[Math.exp(m-g*s),g],predict:y,rSquared:y3(e,t,n,o,y)}}function eqe(e,t,n){let r=0,i=0,s=0,o=0,a=0,u=0;wN(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++u,r+=(h-r)/u,i+=(p-i)/u,s+=(h*p-s)/u,o+=(h*h-o)/u,a+=(d-a)/u});const l=_N(r,i,s,o),c=f=>l[0]*Math.pow(f,l[1]);return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:y3(e,t,n,a,c)}}function kle(e,t,n){const[r,i,s,o]=Jj(e,t,n),a=r.length;let u=0,l=0,c=0,f=0,d=0,h,p,m,g;for(h=0;h<a;)p=r[h],m=i[h++],g=p*p,u+=(g-u)/h,l+=(g*p-l)/h,c+=(g*g-c)/h,f+=(p*m-f)/h,d+=(g*m-d)/h;const y=c-u*u,v=u*y-l*l,b=(d*u-f*l)/v,w=(f*y-d*l)/v,x=-b*u,S=A=>(A=A-s,b*A*A+w*A+x+o);return{coef:[x-w*s+b*s*s+o,w-2*b*s,b],predict:S,rSquared:y3(e,t,n,o,S)}}function tqe(e,t,n,r){if(r===0)return Cle(e,t,n);if(r===1)return Ile(e,t,n);if(r===2)return kle(e,t,n);const[i,s,o,a]=Jj(e,t,n),u=i.length,l=[],c=[],f=r+1;let d,h,p,m,g;for(d=0;d<f;++d){for(p=0,m=0;p<u;++p)m+=Math.pow(i[p],d)*s[p];for(l.push(m),g=new Float64Array(f),h=0;h<f;++h){for(p=0,m=0;p<u;++p)m+=Math.pow(i[p],d+h);g[h]=m}c.push(g)}c.push(l);const y=I3n(c),v=b=>{b-=o;let w=a+y[0]+y[1]*b+y[2]*b*b;for(d=3;d<f;++d)w+=y[d]*Math.pow(b,d);return w};return{coef:C3n(f,y,-o,a),predict:v,rSquared:y3(e,t,n,a,v)}}function C3n(e,t,n,r){const i=Array(e);let s,o,a,u;for(s=0;s<e;++s)i[s]=0;for(s=e-1;s>=0;--s)for(a=t[s],u=1,i[s]+=a,o=1;o<=s;++o)u*=(s+1-o)/o,i[s-o]+=a*Math.pow(n,o)*u;return i[0]+=r,i}function I3n(e){const t=e.length-1,n=[];let r,i,s,o,a;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(s=r;s<t+1;++s)a=e[s][r],e[s][r]=e[s][o],e[s][o]=a;for(i=r+1;i<t;++i)for(s=t;s>=r;s--)e[s][i]-=e[s][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,s=i+1;s<t;++s)a+=e[s][i]*n[s];n[i]=(e[t][i]-a)/e[i][i]}return n}const WAe=2,GAe=1e-12;function nqe(e,t,n,r){const[i,s,o,a]=Jj(e,t,n,!0),u=i.length,l=Math.max(2,~~(r*u)),c=new Float64Array(u),f=new Float64Array(u),d=new Float64Array(u).fill(1);for(let h=-1;++h<=WAe;){const p=[0,l-1];for(let g=0;g<u;++g){const y=i[g],v=p[0],b=p[1],w=y-i[v]>i[b]-y?v:b;let x=0,S=0,A=0,C=0,$=0;const k=1/Math.abs(i[w]-y||1);for(let O=v;O<=b;++O){const B=i[O],q=s[O],H=k3n(Math.abs(y-B)*k)*d[O],G=B*H;x+=H,S+=G,A+=q*H,C+=q*G,$+=B*G}const[P,L]=_N(S/x,A/x,C/x,$/x);c[g]=P+L*y,f[g]=Math.abs(s[g]-c[g]),R3n(i,g+1,p)}if(h===WAe)break;const m=CDe(f);if(Math.abs(m)<GAe)break;for(let g=0,y,v;g<u;++g)y=f[g]/(6*m),d[g]=y>=1?GAe:(v=1-y*y)*v}return $3n(i,c,o,a)}function k3n(e){return(e=1-e*e*e)*e*e}function R3n(e,t,n){const r=e[t];let i=n[0],s=n[1]+1;if(!(s>=e.length))for(;t>i&&e[s]-r<=r-e[i];)n[0]=++i,n[1]=s,++s}function $3n(e,t,n,r){const i=e.length,s=[];let o=0,a=0,u=[],l;for(;o<i;++o)l=e[o]+n,u[0]===l?u[1]+=(t[o]-u[1])/++a:(a=0,u[1]+=r,u=[l,t[o]],s.push(u));return u[1]+=r,s}const N3n=.5*Math.PI/180;function Zj(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],s=t[0],o=t[1],a=o-s,u=a/r,l=[i(s)],c=[];if(n===r){for(let m=1;m<r;++m)l.push(i(s+m/n*a));return l.push(i(o)),l}else{c.push(i(o));for(let m=n;--m>0;)c.push(i(s+m/n*a))}let f=l[0],d=c[c.length-1];const h=1/a,p=P3n(f[1],c);for(;d;){const m=i((f[0]+d[0])/2);m[0]-f[0]>=u&&O3n(f,m,d,h,p)>N3n?c.push(m):(f=d,l.push(d),c.pop()),d=c[c.length-1]}return l}function P3n(e,t){let n=e,r=e;const i=t.length;for(let s=0;s<i;++s){const o=t[s][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}function O3n(e,t,n,r,i){const s=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(s-o)}function D3n(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function WZ(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:D3n(e)}function rqe(e,t,n){return n||e+(t?"_"+t:"")}const sY=()=>{},L3n={init:sY,add:sY,rem:sY,idx:0},RR={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},xN=Object.keys(RR).filter(e=>e!=="__count__");function M3n(e,t){return(n,r)=>Qn({name:e,aggregate_param:r,out:n||e},L3n,t)}[...xN,"__count__"].forEach(e=>{RR[e]=M3n(e,RR[e])});function iqe(e,t,n){return RR[e](n,t)}function sqe(e,t){return e.idx-t.idx}function F3n(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=RR[i]())})};return e.forEach(n),Object.values(t).sort(sqe)}function B3n(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function j3n(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function U3n(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function z3n(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function oqe(e,t){const n=t||Qu,r=F3n(e),i=e.slice().sort(sqe);function s(o){this._ops=r,this._out=i,this.cell=o,this.init()}return s.prototype.init=B3n,s.prototype.add=j3n,s.prototype.rem=U3n,s.prototype.set=z3n,s.prototype.get=n,s.fields=e.map(o=>o.out),s}function Rle(e){this._key=e?Jd(e):nn,this.reset()}const mu=Rle.prototype;mu.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};mu.add=function(e){this._add.push(e)};mu.rem=function(e){this._rem.push(e)};mu.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,s=Array(r-i),o={};let a,u,l;for(a=0;a<i;++a)o[n(t[a])]=1;for(a=0,u=0;a<r;++a)o[n(l=e[a])]?o[n(l)]=0:s[u++]=l;return this._rem=[],this._add=s};mu.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,s;for(;--r>=0;)s=e(t[r])+"",sn(n,s)||(n[s]=1,++i);return i};mu.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=YVe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};mu.argmin=function(e){return this.extent(e)[0]||{}};mu.argmax=function(e){return this.extent(e)[1]||{}};mu.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};mu.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};mu.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=ple(this.values(),e),this._get=e),this._q};mu.q1=function(e){return this.quartile(e)[0]};mu.q2=function(e){return this.quartile(e)[1]};mu.q3=function(e){return this.quartile(e)[2]};mu.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=WHe(this.values(),1e3,.05,e),this._get=e),this._ci};mu.ci0=function(e){return this.ci(e)[0]};mu.ci1=function(e){return this.ci(e)[1]};function $b(e){He.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}$b.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:xN},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};At($b,He,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,s=>n.add(s))):(n.value=n.value||n.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function s(a){let u,l,c,f;for(u in a)for(c=a[u].tuple,l=0;l<i;++l)r[l][f=c[n[l]]]=f}s(e._prev),s(t);function o(a,u,l){const c=n[l],f=r[l++];for(const d in f){const h=a?a+"|"+d:d;u[c]=f[d],l<i?o(h,u,l):t[h]||e.cell(h,u)}}o("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const b=Nt(Hu(v)),w=b.length;let x=0,S;for(;x<w;++x)r[S=b[x]]||(r[S]=1,t.push(S))}this._dims=Nt(e.groupby),this._dnames=this._dims.map(v=>{const b=so(v);return i(v),n.push(b),b}),this.cellkey=e.key?e.key:WZ(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=e.fields||[null],o=e.ops||["count"],a=e.aggregate_params||[null],u=e.as||[],l=s.length,c={};let f,d,h,p,m,g,y;for(l!==o.length&&Ke("Unmatched number of fields and aggregate ops."),y=0;y<l;++y){if(f=s[y],d=o[y],h=a[y]||null,f==null&&d!=="count"&&Ke("Null aggregate field specified."),m=so(f),g=rqe(d,m,u[y]),n.push(g),d==="count"){this._counts.push(g);continue}p=c[m],p||(i(f),p=c[m]=[],p.field=f,this._measures.push(p)),d!=="count"&&(this._countOnly=!1),p.push(iqe(d,h,g))}return this._measures=this._measures.map(v=>oqe(v,v.field)),Object.create(null)},cellkey:WZ(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let s=0;s<i;++s)n.agg[s]=new r[s](n)}return n.store&&(n.data=new Rle),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,s={};for(let o=0;o<i;++o)s[n[o]]=r[o](e);return t?FHe(t.tuple,s):_i(s)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,s=r.length;i<s;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,s=e.add,o=e.rem,a=e.mod;let u,l,c,f;if(r)for(l in r)u=r[l],(!i||u.num)&&o.push(u.tuple);for(c=0,f=this._alen;c<f;++c)s.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)u=n[c],(u.num===0&&i?o:a).push(this.celltuple(u)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const V3n=1e-14;function $le(e){He.call(this,null,e)}$le.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};At($le,He,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,s=r.step,o=e.as||["bin0","bin1"],a=o[0],u=o[1];let l;return e.modified()?(t=t.reflow(!0),l=t.SOURCE):l=t.modified(Hu(e.field))?t.ADD_MOD:t.ADD,t.visit(l,n?c=>{const f=r(c);c[a]=f,c[u]=f==null?null:i+s*(1+(f-i)/s)}:c=>c[a]=r(c)),t.modifies(n?o:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=qHe(e),r=n.step;let i=n.start,s=i+Math.ceil((n.stop-i)/r)*r,o,a;(o=e.anchor)!=null&&(a=o-(i+r*Math.floor((o-i)/r)),i+=a,s+=a);const u=function(l){let c=Uu(t(l));return c==null?null:c<i?-1/0:c>s?1/0:(c=Math.max(i,Math.min(c,s-r)),i+r*Math.floor(V3n+(c-i)/r))};return u.start=i,u.stop=n.stop,u.step=r,this.value=af(u,Hu(t),e.name||"bin_"+so(t))}});function aqe(e,t,n){const r=e;let i=t||[],s=n||[],o={},a=0;return{add:u=>s.push(u),remove:u=>o[r(u)]=++a,size:()=>i.length,data:(u,l)=>(a&&(i=i.filter(c=>!o[r(c)]),o={},a=0),l&&u&&i.sort(u),s.length&&(i=u?eHe(u,i,s.sort(u)):i.concat(s),s=[]),i)}}function Nle(e){He.call(this,[],e)}Nle.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};At(Nle,He,{transform(e,t){const n=t.fork(t.ALL),r=aqe(nn,this.value,n.materialize(n.ADD).add),i=e.sort,s=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(s),this.value=n.source=r.data(G2(i),s),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function uqe(e){ts.call(this,null,H3n,e)}At(uqe,ts);function H3n(e){return this.value&&!e.modified()?this.value:Que(e.fields,e.orders)}function Ple(e){He.call(this,null,e)}Ple.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function q3n(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}At(Ple,He,{transform(e,t){const n=f=>d=>{for(var h=q3n(a(d),e.case,s)||[],p,m=0,g=h.length;m<g;++m)o.test(p=h[m])||f(p)},r=this._parameterCheck(e,t),i=this._counts,s=this._match,o=this._stop,a=e.field,u=e.as||["text","count"],l=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,c)),this._finish(t,u)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],s=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,u,l;for(a in n)u=r[a],l=n[a]||0,!u&&l?(r[a]=u=_i({}),u[i]=a,u[s]=l,o.add.push(u)):l===0?(u&&o.rem.push(u),n[a]=null,r[a]=null):u[s]!==l&&(u[s]=l,o.mod.push(u));return o.modifies(t)}});function Ole(e){He.call(this,null,e)}Ole.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};At(Ole,He,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],s=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return o?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=W3n(a,i,s,e.filter||Zd)):n.mod=a,n.source=this.value,n.modifies(r)}});function W3n(e,t,n,r){for(var i=[],s={},o=e.length,a=0,u,l;a<o;++a)for(s[t]=l=e[a],u=0;u<o;++u)s[n]=e[u],r(s)&&(i.push(_i(s)),s={},s[t]=l);return i}const YAe={kde:vle,mixture:XHe,normal:yle,lognormal:KHe,uniform:QHe},G3n="distributions",KAe="function",Y3n="field";function lqe(e,t){const n=e[KAe];sn(YAe,n)||Ke("Unknown distribution function: "+n);const r=YAe[n]();for(const i in e)i===Y3n?r.data((e.from||t()).map(e[i])):i===G3n?r[i](e[i].map(s=>lqe(s,t))):typeof r[i]===KAe&&r[i](e[i]);return r}function Dle(e){He.call(this,null,e)}const cqe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],K3n={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:cqe},{name:"weights",type:"number",array:!0}]};Dle.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:cqe.concat(K3n)},{name:"as",type:"string",array:!0,default:["value","density"]}]};At(Dle,He,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=lqe(e.distribution,X3n(t)),i=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200;let o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&Ke("Invalid density method: "+o),!e.extent&&!r.data&&Ke("Missing density extent parameter."),o=r[o];const a=e.as||["value","density"],u=e.extent||bm(r.data()),l=Zj(o,u,i,s).map(c=>{const f={};return f[a[0]]=c[0],f[a[1]]=c[1],_i(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function X3n(e){return()=>e.materialize(e.SOURCE).source}function fqe(e,t){return e?e.map((n,r)=>t[r]||so(n)):null}function Lle(e,t,n){const r=[],i=f=>f(u);let s,o,a,u,l,c;if(t==null)r.push(e.map(n));else for(s={},o=0,a=e.length;o<a;++o)u=e[o],l=t.map(i),c=s[l],c||(s[l]=c=[],c.dims=l,r.push(c)),c.push(n(u));return r}const dqe="bin";function Mle(e){He.call(this,null,e)}Mle.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:dqe}]};const Q3n=(e,t)=>bN(bm(e,t))/30;At(Mle,He,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=Lle(t.source,e.groupby,Qu),i=e.smooth||!1,s=e.field,o=e.step||Q3n(n,s),a=G2((p,m)=>s(p)-s(m)),u=e.as||dqe,l=r.length;let c=1/0,f=-1/0,d=0,h;for(;d<l;++d){const p=r[d].sort(a);h=-1;for(const m of GHe(p,o,i,s))m<c&&(c=m),m>f&&(f=m),p[++h][u]=m}return this.value={start:c,stop:f,step:o},t.reflow(!0).modifies(u)}});function hqe(e){ts.call(this,null,J3n,e),this.modified(!0)}At(hqe,ts);function J3n(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:af(n=>t(n,e),Hu(t),so(t))}function Fle(e){He.call(this,[void 0,void 0],e)}Fle.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};At(Fle,He,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let s=n[0],o=n[1];if((i||s==null)&&(s=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const u=Uu(r(a));u!=null&&(u<s&&(s=u),u>o&&(o=u))}),!Number.isFinite(s)||!Number.isFinite(o)){let a=so(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${s}, ${o}]`),s=o=void 0}this.value=[s,o]}});function Ble(e,t){ts.call(this,e),this.parent=t,this.count=0}At(Ble,ts,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function eU(e){He.call(this,{},e),this._keys=p3();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}At(eU,He,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let s=sn(i,e)&&i[e],o,a;return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,o=n.dataflow,s=new Ble(n.fork(n.NO_SOURCE),this),o.add(s).connect(t(o,e,a)),i[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,s=this._keys,o=e.modified("key"),a=u=>this.subflow(u,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,u=>{const l=nn(u),c=s.get(l);c!==void 0&&(s.delete(l),a(c).rem(u))}),t.visit(t.ADD,u=>{const l=r(u);s.set(nn(u),l),a(l).add(u)}),o||t.modified(r.fields)?t.visit(t.MOD,u=>{const l=nn(u),c=s.get(l),f=r(u);c===f?a(f).mod(u):(s.set(l,f),a(c).rem(u),a(f).add(u))}):t.changed(t.MOD)&&t.visit(t.MOD,u=>{a(s.get(nn(u))).mod(u)}),o&&t.visit(t.REFLOW,u=>{const l=nn(u),c=s.get(l),f=r(u);c!==f&&(s.set(l,f),a(c).rem(u),a(f).add(u))}),t.clean()?n.runAfter(()=>{this.clean(),s.clean()}):s.empty>n.cleanThreshold&&n.runAfter(s.clean),t}});function pqe(e){ts.call(this,null,Z3n,e)}At(pqe,ts);function Z3n(e){return this.value&&!e.modified()?this.value:Qe(e.name)?Nt(e.name).map(t=>Jd(t)):Jd(e.name,e.as)}function jle(e){He.call(this,p3(),e)}jle.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};At(jle,He,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),s=i.add,o=i.rem,a=i.mod,u=e.expr;let l=!0;t.visit(t.REM,f=>{const d=nn(f);r.has(d)?r.delete(d):o.push(f)}),t.visit(t.ADD,f=>{u(f,e)?s.push(f):r.set(nn(f),1)});function c(f){const d=nn(f),h=u(f,e),p=r.get(d);h&&p?(r.delete(d),s.push(f)):!h&&!p?(r.set(d,1),o.push(f)):l&&h&&!p&&a.push(f)}return t.visit(t.MOD,c),e.modified()&&(l=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function Ule(e){He.call(this,[],e)}Ule.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};At(Ule,He,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=fqe(r,e.as||[]),s=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const u=r.map(p=>p(a)),l=u.reduce((p,m)=>Math.max(p,m.length),0);let c=0,f,d,h;for(;c<l;++c){for(d=cle(a),f=0;f<o;++f)d[i[f]]=(h=u[f][c])==null?null:h;s&&(d[s]=c),n.add.push(d)}}),this.value=n.source=n.add,s&&n.modifies(s),n.modifies(i)}});function zle(e){He.call(this,[],e)}zle.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};At(zle,He,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(so),s=e.as||["key","value"],o=s[0],a=s[1],u=r.length;return n.rem=this.value,t.visit(t.SOURCE,l=>{for(let c=0,f;c<u;++c)f=cle(l),f[o]=i[c],f[a]=r[c](l),n.add.push(f)}),this.value=n.source=n.add,n.modifies(s)}});function Vle(e){He.call(this,null,e)}Vle.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};At(Vle,He,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),s=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(s,o=>o[r]=n(o,e))}});function mqe(e){He.call(this,[],e)}At(mqe,He,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,s=e.size-i.length,o,a,u;if(s>0){for(o=[];--s>=0;)o.push(u=_i(r(e))),i.push(u);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else a=i.slice(0,-s),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-s);return n.source=this.value=i,n}});const J8={value:"value",median:CDe,mean:T6t,min:mQ,max:ry},eIn=[];function Hle(e){He.call(this,[],e)}Hle.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function tIn(e){var t=e.method||J8.value,n;if(J8[t]==null)Ke("Unrecognized imputation method: "+t);else return t===J8.value?(n=e.value!==void 0?e.value:0,()=>n):J8[t]}function nIn(e){const t=e.field;return n=>n?t(n):NaN}At(Hle,He,{transform(e,t){var n=t.fork(t.ALL),r=tIn(e),i=nIn(e),s=so(e.field),o=so(e.key),a=(e.groupby||[]).map(so),u=rIn(t.source,e.groupby,e.key,e.keyvals),l=[],c=this.value,f=u.domain.length,d,h,p,m,g,y,v,b,w,x;for(g=0,b=u.length;g<b;++g)for(d=u[g],p=d.values,h=NaN,v=0;v<f;++v)if(d[v]==null){for(m=u.domain[v],x={_impute:!0},y=0,w=p.length;y<w;++y)x[a[y]]=p[y];x[o]=m,x[s]=Number.isNaN(h)?h=r(d,i):h,l.push(_i(x))}return l.length&&(n.add=n.materialize(n.ADD).add.concat(l)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=l,n}});function rIn(e,t,n,r){var i=y=>y(g),s=[],o=r?r.slice():[],a={},u={},l,c,f,d,h,p,m,g;for(o.forEach((y,v)=>a[y]=v+1),d=0,m=e.length;d<m;++d)g=e[d],p=n(g),h=a[p]||(a[p]=o.push(p)),c=(l=t?t.map(i):eIn)+"",(f=u[c])||(f=u[c]=[],s.push(f),f.values=l),f[h-1]=g;return s.domain=o,s}function qle(e){$b.call(this,e)}qle.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:xN},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};At(qle,$b,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,s=>n.add(s))):(i=n.value=n.value||this.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),n.changes(),t.visit(t.SOURCE,s=>{Qn(s,i[n.cellkey(s)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function Wle(e){He.call(this,null,e)}Wle.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};At(Wle,He,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Lle(r,e.groupby,e.field),s=(e.groupby||[]).map(so),o=e.bandwidth,a=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],l=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&Ke("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=bm(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const p=vle(h,o)[a],m=e.counts?h.length:1,g=c||bm(h);Zj(p,g,f,d).forEach(y=>{const v={};for(let b=0;b<s.length;++b)v[s[b]]=h.dims[b];v[u[0]]=y[0],v[u[1]]=y[1]*m,l.push(_i(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function gqe(e){ts.call(this,null,iIn,e)}At(gqe,ts);function iIn(e){return this.value&&!e.modified()?this.value:Zue(e.fields,e.flat)}function yqe(e){He.call(this,[],e),this._pending=null}At(yqe,He,{transform(e,t){const n=t.dataflow;return this._pending?oY(this,t,this._pending):sIn(e)?t.StopPropagation:e.values?oY(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Nt(i.data),s=>s.touch(this)))}:n.request(e.url,e.format).then(r=>oY(this,t,Nt(r.data)))}});function sIn(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function oY(e,t,n){n.forEach(_i);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function Gle(e){He.call(this,{},e)}Gle.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};At(Gle,He,{transform(e,t){const n=e.fields,r=e.index,i=e.values,s=e.default==null?null:e.default,o=e.modified(),a=n.length;let u=o?t.SOURCE:t.ADD,l=t,c=e.as,f,d,h;return i?(d=i.length,a>1&&!c&&Ke('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*d&&Ke('The "as" parameter has too few output field names.'),c=c||i.map(so),f=function(p){for(var m=0,g=0,y,v;m<a;++m)if(v=r.get(n[m](p)),v==null)for(y=0;y<d;++y,++g)p[c[g]]=s;else for(y=0;y<d;++y,++g)p[c[g]]=i[y](v)}):(c||Ke("Missing output field names."),f=function(p){for(var m=0,g;m<a;++m)g=r.get(n[m](p)),p[c[m]]=g??s}),o?l=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),u|=h?t.MOD:0),t.visit(u,f),l.modifies(c)}});function vqe(e){ts.call(this,null,oIn,e)}At(vqe,ts);function oIn(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,s,o;for(s=0;s<n;++s)o=t[s],o[0]<r&&(r=o[0]),o[1]>i&&(i=o[1]);return[r,i]}function bqe(e){ts.call(this,null,aIn,e)}At(bqe,ts);function aIn(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function _qe(e){He.call(this,null,e)}At(_qe,He,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Yle(e){$b.call(this,e)}Yle.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:xN,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};At(Yle,$b,{_transform:$b.prototype.transform,transform(e,t){return this._transform(uIn(e,t),t)}});function uIn(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",s=Hu(n).concat(Hu(r)),o=cIn(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:o.map(()=>i),fields:o.map(a=>lIn(a,n,r,s)),as:o.map(a=>a+""),modified:e.modified.bind(e)}}function lIn(e,t,n,r){return af(i=>t(i)===e?n(i):NaN,r,e+"")}function cIn(e,t,n){const r={},i=[];return n.visit(n.SOURCE,s=>{const o=e(s);r[o]||(r[o]=1,i.push(o))}),i.sort(Uj),t?i.slice(0,t):i}function wqe(e){eU.call(this,e)}At(wqe,eU,{transform(e,t){const n=e.subflow,r=e.field,i=s=>this.subflow(nn(s),n,t,s);return(e.modified("field")||r&&t.modified(Hu(r)))&&Ke("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,s=>{const o=i(s);r(s).forEach(a=>o.mod(a))}),t.visit(t.ADD,s=>{const o=i(s);r(s).forEach(a=>o.add(_i(a)))}),t.visit(t.REM,s=>{const o=i(s);r(s).forEach(a=>o.rem(a))})):(t.visit(t.MOD,s=>i(s).mod(s)),t.visit(t.ADD,s=>i(s).add(s)),t.visit(t.REM,s=>i(s).rem(s))),t.clean()&&t.runAfter(()=>this.clean()),t}});function Kle(e){He.call(this,null,e)}Kle.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};At(Kle,He,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=fqe(e.fields,e.as||[]),s=r?(a,u)=>fIn(a,u,r,i):Wj;let o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,a=>{const u=nn(a);n.rem.push(o[u]),o[u]=null}),t.visit(t.ADD,a=>{const u=s(a,_i({}));o[nn(a)]=u,n.add.push(u)}),t.visit(t.MOD,a=>{n.mod.push(s(a,o[nn(a)]))}),n}});function fIn(e,t,n,r){for(let i=0,s=n.length;i<s;++i)t[r[i]]=n[i](e);return t}function xqe(e){He.call(this,null,e)}At(xqe,He,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function Xle(e){He.call(this,null,e)}Xle.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const dIn=1e-14;At(Xle,He,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,s=Lle(i,e.groupby,e.field),o=(e.groupby||[]).map(so),a=[],u=e.step||.01,l=e.probs||Ic(u/2,1-dIn,u),c=l.length;return s.forEach(f=>{const d=hle(f,l);for(let h=0;h<c;++h){const p={};for(let m=0;m<o.length;++m)p[o[m]]=f.dims[m];p[r[0]]=l[h],p[r[1]]=d[h],a.push(_i(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function Eqe(e){He.call(this,null,e)}At(Eqe,He,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const s=nn(i);n.rem.push(r[s]),r[s]=null}),t.visit(t.ADD,i=>{const s=cle(i);r[nn(i)]=s,n.add.push(s)}),t.visit(t.MOD,i=>{const s=r[nn(i)];for(const o in i)s[o]=i[o],n.modifies(o);n.mod.push(s)})),n}});function Qle(e){He.call(this,[],e),this.count=0}Qle.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};At(Qle,He,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,s=this.value.reduce((c,f)=>(c[nn(f)]=1,c),{});let o=this.value,a=this.count,u=0;function l(c){let f,d;o.length<i?o.push(c):(d=~~((a+1)*th()),d<o.length&&d>=u&&(f=o[d],s[nn(f)]&&n.rem.push(f),o[d]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const f=nn(c);s[f]&&(s[f]=-1,n.rem.push(c)),--a}),o=o.filter(c=>s[nn(c)]!==-1)),(t.rem.length||r)&&o.length<i&&t.source&&(u=a=o.length,t.visit(t.SOURCE,c=>{s[nn(c)]||l(c)}),u=-1),r&&o.length>i){const c=o.length-i;for(let f=0;f<c;++f)s[nn(o[f])]=-1,n.rem.push(o[f]);o=o.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{s[nn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,l),(t.add.length||u<0)&&(n.add=o.filter(c=>!s[nn(c)])),this.count=a,this.value=n.source=o,n}});function Jle(e){He.call(this,null,e)}Jle.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};At(Jle,He,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ic(e.start,e.stop,e.step||1).map(i=>{const s={};return s[r]=i,_i(s)}),n.add=t.add.concat(this.value),n}});function Tqe(e){He.call(this,null,e),this.modified(!0)}At(Tqe,He,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function Zle(e){He.call(this,null,e)}const Sqe=["unit0","unit1"];Zle.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:rle,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Sqe}]};At(Zle,He,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",s=this._floor(e,t),o=(i?g3:m3)(s.unit).offset,a=e.as||Sqe,u=a[0],l=a[1],c=s.step;let f=s.start||1/0,d=s.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Hu(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const m=n(p);let g,y;m==null?(p[u]=null,r&&(p[l]=null)):(p[u]=g=y=s(m),r&&(p[l]=y=o(g,c)),g<f&&(f=g),y>d&&(d=y))}),s.start=f,s.stop=d,t.modifies(r?a:u)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:xHe({extent:e.extent||bm(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=ile(r),o=this.value||{},a=(n?hHe:dHe)(s,i);return a.unit=Vr(s),a.units=s,a.step=i,a.start=o.start,a.stop=o.stop,this.value=a}});function Aqe(e){He.call(this,p3(),e)}At(Aqe,He,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,s=a=>i.set(r(a),a);let o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,s)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,s)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function Cqe(e){He.call(this,null,e)}At(Cqe,He,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(G2(e.sort)):t.source).map(e.field))}});function hIn(e,t,n,r){const i=$R[e](t,n);return{init:i.init||yv,update:function(s,o){o[r]=i.next(s)}}}const $R={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=$R.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||Ke("ntile num must be greater than zero.");const n=$R.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||Ke("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=pIn(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function pIn(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const mIn=Object.keys($R);function Iqe(e){const t=Nt(e.ops),n=Nt(e.fields),r=Nt(e.params),i=Nt(e.aggregate_params),s=Nt(e.as),o=this.outputs=[],a=this.windows=[],u={},l={},c=[],f=[];let d=!0;function h(p){Nt(Hu(p)).forEach(m=>u[m]=1)}h(e.sort),t.forEach((p,m)=>{const g=n[m],y=r[m],v=i[m]||null,b=so(g),w=rqe(p,b,s[m]);if(h(g),o.push(w),sn($R,p))a.push(hIn(p,g,y,w));else{if(g==null&&p!=="count"&&Ke("Null aggregate field specified."),p==="count"){c.push(w);return}d=!1;let x=l[b];x||(x=l[b]=[],x.field=g,f.push(x)),x.push(iqe(p,v,w))}}),(c.length||f.length)&&(this.cell=gIn(f,c,d)),this.inputs=Object.keys(u)}const kqe=Iqe.prototype;kqe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};kqe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,s=r&&r.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(i[o]);for(o=e.p1;o<e.i1;++o)n.add(i[o]);n.set(t)}for(o=0;o<s;++o)r[o].update(e,t)};function gIn(e,t,n){e=e.map(u=>oqe(u,u.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,s=r.agg=Array(i),o=0;o<i;++o)s[o]=new e[o](r);if(r.store)var a=r.data=new Rle;return r.add=function(u){if(r.num+=1,!n){a&&a.add(u);for(let l=0;l<i;++l)s[l].add(s[l].get(u),u)}},r.rem=function(u){if(r.num-=1,!n){a&&a.rem(u);for(let l=0;l<i;++l)s[l].rem(s[l].get(u),u)}},r.set=function(u){let l,c;for(a&&a.values(),l=0,c=t.length;l<c;++l)u[t[l]]=r.num;if(!n)for(l=0,c=s.length;l<c;++l)s[l].set(u)},r.init=function(){r.num=0,a&&a.reset();for(let u=0;u<i;++u)s[u].init()},r}function ece(e){He.call(this,{},e),this._mlen=0,this._mods=[]}ece.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:mIn.concat(xN)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};At(ece,He,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=G2(e.sort),i=WZ(e.groupby),s=a=>this.group(i(a));let o=this.state;(!o||n)&&(o=this.state=new Iqe(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,a=>s(a).add(a))):(t.visit(t.REM,a=>s(a).remove(a)),t.visit(t.ADD,a=>s(a).add(a)));for(let a=0,u=this._mlen;a<u;++a)yIn(this._mods[a],o,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=aqe(nn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function yIn(e,t,n,r){const i=r.sort,s=i&&!r.ignorePeers,o=r.frame||[null,0],a=e.data(n),u=a.length,l=s?pp(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||Ju(-1)};t.init();for(let f=0;f<u;++f)vIn(c,o,f,u),s&&bIn(c,l),t.update(c,a[f])}function vIn(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function bIn(e,t){const n=e.i0,r=e.i1-1,i=e.compare,s=e.data,o=s.length-1;n>0&&!i(s[n],s[n-1])&&(e.i0=t.left(s,s[n])),r<o&&!i(s[r],s[r+1])&&(e.i1=t.right(s,s[r]))}const _In=Object.freeze(Object.defineProperty({__proto__:null,aggregate:$b,bin:$le,collect:Nle,compare:uqe,countpattern:Ple,cross:Ole,density:Dle,dotbin:Mle,expression:hqe,extent:Fle,facet:eU,field:pqe,filter:jle,flatten:Ule,fold:zle,formula:Vle,generate:mqe,impute:Hle,joinaggregate:qle,kde:Wle,key:gqe,load:yqe,lookup:Gle,multiextent:vqe,multivalues:bqe,params:_qe,pivot:Yle,prefacet:wqe,project:Kle,proxy:xqe,quantile:Xle,relay:Eqe,sample:Qle,sequence:Jle,sieve:Tqe,subflow:Ble,timeunit:Zle,tupleindex:Aqe,values:Cqe,window:ece},Symbol.toStringTag,{value:"Module"}));function Zv(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const wIn=()=>typeof Image<"u"?Image:null;function tce(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const xIn="identity",LA="linear",Oy="log",EN="pow",TN="sqrt",tU="symlog",Ux="time",zx="utc",Q0="sequential",v3="diverging",MA="quantile",nU="quantize",rU="threshold",nce="ordinal",GZ="point",Rqe="band",rce="bin-ordinal",fa="continuous",SN="discrete",AN="discretizing",mh="interpolating",ice="temporal";function EIn(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function TIn(e){return function(t){const n=e.range();let r=t[0],i=t[1],s=-1,o,a,u,l;for(i<r&&(a=r,r=i,i=a),u=0,l=n.length;u<l;++u)n[u]>=r&&n[u]<=i&&(s<0&&(s=u),o=u);if(!(s<0))return r=e.invertExtent(n[s]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function sce(){const e=p_().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,s,o=!1,a=0,u=0,l=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=tce(f,a,u);let m=r[d-0];i=(h-m)/(p||1),o&&(i=Math.floor(i)),m+=(h-m-i*(f-a))*l,s=i*(1-a),o&&(m=Math.round(m),s=Math.round(s));const g=Ic(f).map(y=>m+i*y);return n(d?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,c()):o},e.padding=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),a=u,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let m=+f[0],g=+f[1],y,v,b;if(!(m!==m||g!==g)&&(g<m&&(b=m,m=g,g=b),!(g<h[0]||m>r[1-d])))return y=Math.max(0,pb(h,m)-1),v=m===g?y:pb(h,g)-1,m-h[y]>s+1e-10&&++y,d&&(b=y,y=p-v,v=p-b),y>v?void 0:t().slice(y,v+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return sce().domain(t()).range(r).round(o).paddingInner(a).paddingOuter(u).align(l)},c()}function $qe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return $qe(t())},e}function SIn(){return $qe(sce().paddingInner(1))}var AIn=Array.prototype.map;function CIn(e){return AIn.call(e,Uu)}const IIn=Array.prototype.slice;function Nqe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(pb(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=CIn(r),n):e.slice()},n.range=function(r){return arguments.length?(t=IIn.call(r),n):t.slice()},n.tickFormat=function(r,i){return PLe(e[0],Vr(e),r??10,i)},n.copy=function(){return Nqe().domain(n.domain()).range(n.range())},n}const WM=new Map,Pqe=Symbol("vega_scale");function Oqe(e){return e[Pqe]=!0,e}function kIn(e){return e&&e[Pqe]===!0}function RIn(e,t,n){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?EIn(s):s.invertExtent?TIn(s):void 0),s.type=e,Oqe(s)};return r.metadata=Ip(Nt(n)),r}function ci(e,t,n){return arguments.length>1?(WM.set(e,RIn(e,t,n)),this):Dqe(e)?WM.get(e):void 0}ci(xIn,OLe);ci(LA,Pa,fa);ci(Oy,LLe,[fa,Oy]);ci(EN,Xse,fa);ci(TN,rOt,fa);ci(tU,MLe,fa);ci(Ux,eoe,[fa,ice]);ci(zx,vDt,[fa,ice]);ci(Q0,toe,[fa,mh]);ci(`${Q0}-${LA}`,toe,[fa,mh]);ci(`${Q0}-${Oy}`,XLe,[fa,mh,Oy]);ci(`${Q0}-${EN}`,noe,[fa,mh]);ci(`${Q0}-${TN}`,bDt,[fa,mh]);ci(`${Q0}-${tU}`,QLe,[fa,mh]);ci(`${v3}-${LA}`,JLe,[fa,mh]);ci(`${v3}-${Oy}`,ZLe,[fa,mh,Oy]);ci(`${v3}-${EN}`,roe,[fa,mh]);ci(`${v3}-${TN}`,_Dt,[fa,mh]);ci(`${v3}-${tU}`,eMe,[fa,mh]);ci(MA,FLe,[AN,MA]);ci(nU,BLe,AN);ci(rU,jLe,AN);ci(rce,Nqe,[SN,AN]);ci(nce,p_,SN);ci(Rqe,sce,SN);ci(GZ,SIn,SN);function Dqe(e){return WM.has(e)}function K2(e,t){const n=WM.get(e);return n&&n.metadata[t]}function oce(e){return K2(e,fa)}function FA(e){return K2(e,SN)}function YZ(e){return K2(e,AN)}function Lqe(e){return K2(e,Oy)}function $In(e){return K2(e,ice)}function Mqe(e){return K2(e,mh)}function Fqe(e){return K2(e,MA)}const NIn=["clamp","base","constant","exponent"];function Bqe(e,t){const n=t[0],r=Vr(t)-n;return function(i){return e(n+i*r)}}function iU(e,t,n){return kse(ace(t||"rgb",n),e)}function jqe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Uqe(e,t,n){const r=n-t;let i,s,o;return!r||!Number.isFinite(r)?Ju(.5):(i=(s=e.type).indexOf("-"),s=i<0?s:s.slice(i+1),o=ci(s)().domain([t,n]).range([0,1]),NIn.forEach(a=>e[a]?o[a](e[a]()):0),o)}function ace(e,t){const n=e$t[PIn(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function PIn(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const OIn={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},DIn={accent:xDt,category10:wDt,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:EDt,observable10:TDt,paired:SDt,pastel1:ADt,pastel2:CDt,set1:IDt,set2:kDt,set3:RDt,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function zqe(e){if(Qe(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Vqe(e,t){for(const n in e)uce(n,t(e[n]))}const XAe={};Vqe(DIn,zqe);Vqe(OIn,e=>iU(zqe(e)));function uce(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(XAe[e]=t,this):XAe[e]}const PD="symbol",LIn="discrete",MIn="gradient",FIn=e=>Qe(e)?e.map(t=>String(t)):String(e),BIn=(e,t)=>e[1]-t[1],jIn=(e,t)=>t[1]-e[1];function lce(e,t,n){let r;return ri(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(bN(e.domain())/n||1)+1))),Ot(t)&&(r=t.step,t=t.interval),Pt(t)&&(t=e.type===Ux?m3(t):e.type==zx?g3(t):Ke("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function Hqe(e,t,n){let r=e.range(),i=r[0],s=Vr(r),o=BIn;if(i>s&&(r=s,s=i,i=r,o=jIn),i=Math.floor(i),s=Math.ceil(s),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=s).sort(o).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],Vr(t)];for(;t.length>n&&t.length>=3;)t=t.filter((u,l)=>!(l%2));t.length<3&&(t=a)}return t}function cce(e,t){return e.bins?Hqe(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function qqe(e,t,n,r,i,s){const o=t.type;let a=FIn;if(o===Ux||i===Ux)a=e.timeFormat(r);else if(o===zx||i===zx)a=e.utcFormat(r);else if(Lqe(o)){const u=e.formatFloat(r);if(s||t.bins)a=u;else{const l=Wqe(t,n,!1);a=c=>l(c)?u(c):""}}else if(t.tickFormat){const u=t.domain();a=e.formatSpan(u[0],u[u.length-1],n,r)}else r&&(a=e.format(r));return a}function Wqe(e,t,n){const r=cce(e,t),i=e.base(),s=Math.log(i),o=Math.max(1,i*t/r.length),a=u=>{let l=u/Math.pow(i,Math.round(Math.log(u)/s));return l*i<i-.5&&(l*=i),l<=o};return n?r.filter(a):a}const KZ={[MA]:"quantiles",[nU]:"thresholds",[rU]:"domain"},Gqe={[MA]:"quantiles",[nU]:"domain"};function Yqe(e,t){return e.bins?VIn(e.bins):e.type===Oy?Wqe(e,t,!0):KZ[e.type]?zIn(e[KZ[e.type]]()):cce(e,t)}function UIn(e,t,n){const r=t[Gqe[t.type]](),i=r.length;let s=i>1?r[1]-r[0]:r[0],o;for(o=1;o<i;++o)s=Math.min(s,r[o]-r[o-1]);return e.formatSpan(0,s,3*10,n)}function zIn(e){const t=[-1/0].concat(e);return t.max=1/0,t}function VIn(e){const t=e.slice(0,-1);return t.max=Vr(e),t}const HIn=e=>KZ[e.type]||e.bins;function Kqe(e,t,n,r,i,s,o){const a=Gqe[t.type]&&s!==Ux&&s!==zx?UIn(e,t,i):qqe(e,t,n,i,s,o);return r===PD&&HIn(t)?qIn(a):r===LIn?WIn(a):GIn(a)}const qIn=e=>(t,n,r)=>{const i=QAe(r[n+1],QAe(r.max,1/0)),s=JAe(t,e),o=JAe(i,e);return s&&o?s+"  "+o:o?"< "+o:" "+s},QAe=(e,t)=>e??t,WIn=e=>(t,n)=>n?e(t):null,GIn=e=>t=>e(t),JAe=(e,t)=>Number.isFinite(e)?t(e):null;function YIn(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Vr(t),s=i-r;if(e.type===rU){const o=n?s/n:.1;r-=o,i+=o,s=i-r}return o=>(o-r)/s}function KIn(e,t,n,r){const i=r||t.type;return Pt(n)&&$In(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===Ux?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===zx?e.utcFormat("%A, %d %B %Y, %X UTC"):Kqe(e,t,5,null,n,r,!0)}function Xqe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=KIn(e,t,n.format,n.formatType);if(YZ(t.type)){const s=Yqe(t).slice(1).map(i),o=s.length;return`${o} boundar${o===1?"y":"ies"}: ${s.join(", ")}`}else if(FA(t.type)){const s=t.domain(),o=s.length,a=o>r?s.slice(0,r-2).map(i).join(", ")+", ending with "+s.slice(-1).map(i):s.map(i).join(", ");return`${o} value${o===1?"":"s"}: ${a}`}else{const s=t.domain();return`values from ${i(s[0])} to ${i(Vr(s))}`}}let Qqe=0;function XIn(){Qqe=0}const GM="p_";function fce(e){return e&&e.gradient}function Jqe(e,t,n){const r=e.gradient;let i=e.id,s=r==="radial"?GM:"";return i||(i=e.id="gradient_"+Qqe++,r==="radial"?(e.x1=a0(e.x1,.5),e.y1=a0(e.y1,.5),e.r1=a0(e.r1,0),e.x2=a0(e.x2,.5),e.y2=a0(e.y2,.5),e.r2=a0(e.r2,.5),s=GM):(e.x1=a0(e.x1,0),e.y1=a0(e.y1,0),e.x2=a0(e.x2,1),e.y2=a0(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+s+i+")"}function a0(e,t){return e??t}function Zqe(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,s){return n.push({offset:i,color:s}),r}}}const ZAe={basis:{curve:HDt},"basis-closed":{curve:qDt},"basis-open":{curve:WDt},bundle:{curve:GDt,tension:"beta",value:.85},cardinal:{curve:YDt,tension:"tension",value:0},"cardinal-open":{curve:XDt,tension:"tension",value:0},"cardinal-closed":{curve:KDt,tension:"tension",value:0},"catmull-rom":{curve:QDt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:JDt,tension:"alpha",value:.5},"catmull-rom-open":{curve:ZDt,tension:"alpha",value:.5},linear:{curve:ioe},"linear-closed":{curve:e9t},monotone:{horizontal:n9t,vertical:t9t},natural:{curve:r9t},step:{curve:i9t},"step-after":{curve:o9t},"step-before":{curve:s9t}};function dce(e,t,n){var r=sn(ZAe,e)&&ZAe[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const QIn={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},JIn=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,ZIn=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,e4n=/^((\s+,?\s*)|(,\s*))/,t4n=/^[01]/;function BA(e){const t=[];return(e.match(JIn)||[]).forEach(r=>{let i=r[0];const s=i.toLowerCase(),o=QIn[s],a=n4n(s,o,r.slice(1).trim()),u=a.length;if(u<o||u&&u%o!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,o)]),u!==o){s==="m"&&(i=i==="M"?"L":"l");for(let l=o;l<u;l+=o)t.push([i,...a.slice(l,l+o)])}}),t}function n4n(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let s=0;s<t;++s){const o=e==="a"&&(s===3||s===4)?t4n:ZIn,a=n.slice(i).match(o);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const u=n.slice(i).match(e4n);u!==null&&(i+=u[0].length)}return r}const Nb=Math.PI/180,r4n=1e-14,Pw=Math.PI/2,O0=Math.PI*2,nT=Math.sqrt(3)/2;var aY={},uY={},eWe=[].join;function i4n(e,t,n,r,i,s,o,a,u){const l=eWe.call(arguments);if(aY[l])return aY[l];const c=o*Nb,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(u-t)*.5,p=d*(u-t)*.5-f*(a-e)*.5;let m=h*h/(n*n)+p*p/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=d/n,y=f/n,v=-f/r,b=d/r,w=g*a+y*u,x=v*a+b*u,S=g*e+y*t,A=v*e+b*t;let $=1/((S-w)*(S-w)+(A-x)*(A-x))-.25;$<0&&($=0);let k=Math.sqrt($);s==i&&(k=-k);const P=.5*(w+S)-k*(A-x),L=.5*(x+A)+k*(S-w),O=Math.atan2(x-L,w-P);let q=Math.atan2(A-L,S-P)-O;q<0&&s===1?q+=O0:q>0&&s===0&&(q-=O0);const H=Math.ceil(Math.abs(q/(Pw+.001))),G=[];for(let K=0;K<H;++K){const J=O+K*q/H,F=O+(K+1)*q/H;G[K]=[P,L,J,F,n,r,f,d]}return aY[l]=G}function s4n(e){const t=eWe.call(e);if(uY[t])return uY[t];var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7];const c=l*o,f=-u*a,d=u*o,h=l*a,p=Math.cos(i),m=Math.sin(i),g=Math.cos(s),y=Math.sin(s),v=.5*(s-i),b=Math.sin(v*.5),w=8/3*b*b/Math.sin(v),x=n+p-w*m,S=r+m+w*p,A=n+g,C=r+y,$=A+w*y,k=C-w*g;return uY[t]=[c*x+f*S,d*x+h*S,c*$+f*k,d*$+h*k,c*A+f*C,d*A+h*C]}const wd=["l",0,0,0,0,0,0,0];function o4n(e,t,n){const r=wd[0]=e[0];if(r==="a"||r==="A")wd[1]=t*e[1],wd[2]=n*e[2],wd[3]=e[3],wd[4]=e[4],wd[5]=e[5],wd[6]=t*e[6],wd[7]=n*e[7];else if(r==="h"||r==="H")wd[1]=t*e[1];else if(r==="v"||r==="V")wd[1]=n*e[1];else for(var i=1,s=e.length;i<s;++i)wd[i]=(i%2==1?t:n)*e[i];return wd}function NR(e,t,n,r,i,s){var o,a=null,u=0,l=0,c=0,f=0,d,h,p,m,g=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),s==null&&(s=i),e.beginPath&&e.beginPath();for(var v=0,b=t.length;v<b;++v){switch(o=t[v],(i!==1||s!==1)&&(o=o4n(o,i,s)),o[0]){case"l":u+=o[1],l+=o[2],e.lineTo(u+n,l+r);break;case"L":u=o[1],l=o[2],e.lineTo(u+n,l+r);break;case"h":u+=o[1],e.lineTo(u+n,l+r);break;case"H":u=o[1],e.lineTo(u+n,l+r);break;case"v":l+=o[1],e.lineTo(u+n,l+r);break;case"V":l=o[1],e.lineTo(u+n,l+r);break;case"m":u+=o[1],l+=o[2],g=u,y=l,e.moveTo(u+n,l+r);break;case"M":u=o[1],l=o[2],g=u,y=l,e.moveTo(u+n,l+r);break;case"c":d=u+o[5],h=l+o[6],c=u+o[3],f=l+o[4],e.bezierCurveTo(u+o[1]+n,l+o[2]+r,c+n,f+r,d+n,h+r),u=d,l=h;break;case"C":u=o[5],l=o[6],c=o[3],f=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,c+n,f+r,u+n,l+r);break;case"s":d=u+o[3],h=l+o[4],c=2*u-c,f=2*l-f,e.bezierCurveTo(c+n,f+r,u+o[1]+n,l+o[2]+r,d+n,h+r),c=u+o[1],f=l+o[2],u=d,l=h;break;case"S":d=o[3],h=o[4],c=2*u-c,f=2*l-f,e.bezierCurveTo(c+n,f+r,o[1]+n,o[2]+r,d+n,h+r),u=d,l=h,c=o[1],f=o[2];break;case"q":d=u+o[3],h=l+o[4],c=u+o[1],f=l+o[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),u=d,l=h;break;case"Q":d=o[3],h=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,d+n,h+r),u=d,l=h,c=o[1],f=o[2];break;case"t":d=u+o[1],h=l+o[2],a[0].match(/[QqTt]/)===null?(c=u,f=l):a[0]==="t"?(c=2*u-p,f=2*l-m):a[0]==="q"&&(c=2*u-c,f=2*l-f),p=c,m=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),u=d,l=h,c=u+o[1],f=l+o[2];break;case"T":d=o[1],h=o[2],c=2*u-c,f=2*l-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),u=d,l=h;break;case"a":eCe(e,u+n,l+r,[o[1],o[2],o[3],o[4],o[5],o[6]+u+n,o[7]+l+r]),u+=o[6],l+=o[7];break;case"A":eCe(e,u+n,l+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),u=o[6],l=o[7];break;case"z":case"Z":u=g,l=y,e.closePath();break}a=o}}function eCe(e,t,n,r){const i=i4n(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let s=0;s<i.length;++s){const o=s4n(i[s]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const tCe=.5773502691896257,nCe={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,O0)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,s=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-s),e.lineTo(i,-s),e.lineTo(0,-n),e.lineTo(-i,-s),e.lineTo(-r,-s),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=nT*n,i=r-n*tCe,s=n/4;e.moveTo(0,-r-i),e.lineTo(-s,r-i),e.lineTo(s,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=nT*n,i=r-n*tCe;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=nT*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=nT*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=nT*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=nT*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function tWe(e){return sn(nCe,e)?nCe[e]:a4n(e)}var lY={};function a4n(e){if(!sn(lY,e)){const t=BA(e);lY[e]={draw:function(n,r){NR(n,t,0,0,Math.sqrt(r)/2)}}}return lY[e]}const V1=.448084975506;function u4n(e){return e.x}function l4n(e){return e.y}function c4n(e){return e.width}function f4n(e){return e.height}function gg(e){return typeof e=="function"?e:()=>+e}function Z8(e,t,n){return Math.max(t,Math.min(e,n))}function nWe(){var e=u4n,t=l4n,n=c4n,r=f4n,i=gg(0),s=i,o=i,a=i,u=null;function l(c,f,d){var h,p=f??+e.call(this,c),m=d??+t.call(this,c),g=+n.call(this,c),y=+r.call(this,c),v=Math.min(g,y)/2,b=Z8(+i.call(this,c),0,v),w=Z8(+s.call(this,c),0,v),x=Z8(+o.call(this,c),0,v),S=Z8(+a.call(this,c),0,v);if(u||(u=h=EB()),b<=0&&w<=0&&x<=0&&S<=0)u.rect(p,m,g,y);else{var A=p+g,C=m+y;u.moveTo(p+b,m),u.lineTo(A-w,m),u.bezierCurveTo(A-V1*w,m,A,m+V1*w,A,m+w),u.lineTo(A,C-S),u.bezierCurveTo(A,C-V1*S,A-V1*S,C,A-S,C),u.lineTo(p+x,C),u.bezierCurveTo(p+V1*x,C,p,C-V1*x,p,C-x),u.lineTo(p,m+b),u.bezierCurveTo(p,m+V1*b,p+V1*b,m,p+b,m),u.closePath()}if(h)return u=null,h+""||null}return l.x=function(c){return arguments.length?(e=gg(c),l):e},l.y=function(c){return arguments.length?(t=gg(c),l):t},l.width=function(c){return arguments.length?(n=gg(c),l):n},l.height=function(c){return arguments.length?(r=gg(c),l):r},l.cornerRadius=function(c,f,d,h){return arguments.length?(i=gg(c),s=f!=null?gg(f):i,a=d!=null?gg(d):i,o=h!=null?gg(h):s,l):i},l.context=function(c){return arguments.length?(u=c??null,l):u},l}function rWe(){var e,t,n,r,i=null,s,o,a,u;function l(f,d,h){const p=h/2;if(s){var m=a-d,g=f-o;if(m||g){var y=Math.hypot(m,g),v=(m/=y)*u,b=(g/=y)*u,w=Math.atan2(g,m);i.moveTo(o-v,a-b),i.lineTo(f-m*p,d-g*p),i.arc(f,d,p,w-Math.PI,w),i.lineTo(o+v,a+b),i.arc(o,a,u,w,w+Math.PI)}else i.arc(f,d,p,0,O0);i.closePath()}else s=1;o=f,a=d,u=p}function c(f){var d,h=f.length,p,m=!1,g;for(i==null&&(i=g=EB()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===m&&(m=!m)&&(s=0),m&&l(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(g)return i=null,g+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function CN(e,t){return e??t}const IN=e=>e.x||0,kN=e=>e.y||0,d4n=e=>e.width||0,h4n=e=>e.height||0,p4n=e=>(e.x||0)+(e.width||0),m4n=e=>(e.y||0)+(e.height||0),g4n=e=>e.startAngle||0,y4n=e=>e.endAngle||0,v4n=e=>e.padAngle||0,b4n=e=>e.innerRadius||0,_4n=e=>e.outerRadius||0,w4n=e=>e.cornerRadius||0,x4n=e=>CN(e.cornerRadiusTopLeft,e.cornerRadius)||0,E4n=e=>CN(e.cornerRadiusTopRight,e.cornerRadius)||0,T4n=e=>CN(e.cornerRadiusBottomRight,e.cornerRadius)||0,S4n=e=>CN(e.cornerRadiusBottomLeft,e.cornerRadius)||0,A4n=e=>CN(e.size,64),C4n=e=>e.size||1,sU=e=>e.defined!==!1,I4n=e=>tWe(e.shape||"circle"),k4n=rJ().startAngle(g4n).endAngle(y4n).padAngle(v4n).innerRadius(b4n).outerRadius(_4n).cornerRadius(w4n),R4n=iMe().x(IN).y1(kN).y0(m4n).defined(sU),$4n=iMe().y(kN).x1(IN).x0(p4n).defined(sU),N4n=BB().x(IN).y(kN).defined(sU),P4n=nWe().x(IN).y(kN).width(d4n).height(h4n).cornerRadius(x4n,E4n,T4n,S4n),O4n=VDt().type(I4n).size(A4n),D4n=rWe().x(IN).y(kN).defined(sU).size(C4n);function hce(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function L4n(e,t){return k4n.context(e)(t)}function M4n(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?$4n:R4n).curve(dce(r,n.orient,n.tension)).context(e)(t)}function F4n(e,t){const n=t[0],r=n.interpolate||"linear";return N4n.curve(dce(r,n.orient,n.tension)).context(e)(t)}function b3(e,t,n,r){return P4n.context(e)(t,n,r)}function B4n(e,t){return(t.mark.shape||t.shape).context(e)(t)}function j4n(e,t){return O4n.context(e)(t)}function U4n(e,t){return D4n.context(e)(t)}var iWe=1;function sWe(){iWe=1}function pce(e,t,n){var r=t.clip,i=e._defs,s=t.clip_id||(t.clip_id="clip"+iWe++),o=i.clipping[s]||(i.clipping[s]={id:s});return Jn(r)?o.path=r(null):hce(n)?o.path=b3(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+s+")"}function Mo(e){this.clear(),e&&this.union(e)}Mo.prototype={clone(){return new Mo(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:s,y2:o}=this,a=Math.cos(e),u=Math.sin(e),l=t-t*a+n*u,c=n-t*u-n*a;return[a*r-u*i+l,u*r+a*i+c,a*r-u*o+l,u*r+a*o+c,a*s-u*i+l,u*s+a*i+c,a*s-u*o+l,u*s+a*o+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function oU(e){this.mark=e,this.bounds=this.bounds||new Mo}function aU(e){oU.call(this,e),this.items=this.items||[]}At(aU,oU);class oWe{constructor(t){this._pending=0,this._loader=t||Vj()}pending(){return this._pending}sanitizeURL(t){const n=this;return rCe(n),n._loader.sanitize(t,{context:"href"}).then(r=>(t4(n),r)).catch(()=>(t4(n),null))}loadImage(t){const n=this,r=wIn();return rCe(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const s=i.href;if(!s||!r)throw{url:s};const o=new r,a=sn(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(o.crossOrigin=a),o.onload=()=>t4(n),o.onerror=()=>t4(n),o.src=s,o}).catch(i=>(t4(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function rCe(e){e._pending+=1}function t4(e){e._pending-=1}function a1(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?z4n(t,r):0))}return e}function z4n(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const V4n=O0-1e-8;let uU,OD,DD,ix,XZ,LD,QZ,JZ;const Cv=(e,t)=>uU.add(e,t),MD=(e,t)=>Cv(OD=e,DD=t),iCe=e=>Cv(e,uU.y1),sCe=e=>Cv(uU.x1,e),Ow=(e,t)=>XZ*e+QZ*t,Dw=(e,t)=>LD*e+JZ*t,cY=(e,t)=>Cv(Ow(e,t),Dw(e,t)),fY=(e,t)=>MD(Ow(e,t),Dw(e,t));function RN(e,t){return uU=e,t?(ix=t*Nb,XZ=JZ=Math.cos(ix),LD=Math.sin(ix),QZ=-LD):(XZ=JZ=1,ix=LD=QZ=0),H4n}const H4n={beginPath(){},closePath(){},moveTo:fY,lineTo:fY,rect(e,t,n,r){ix?(cY(e+n,t),cY(e+n,t+r),cY(e,t+r),fY(e,t)):(Cv(e+n,t+r),MD(e,t))},quadraticCurveTo(e,t,n,r){const i=Ow(e,t),s=Dw(e,t),o=Ow(n,r),a=Dw(n,r);oCe(OD,i,o,iCe),oCe(DD,s,a,sCe),MD(o,a)},bezierCurveTo(e,t,n,r,i,s){const o=Ow(e,t),a=Dw(e,t),u=Ow(n,r),l=Dw(n,r),c=Ow(i,s),f=Dw(i,s);aCe(OD,o,u,c,iCe),aCe(DD,a,l,f,sCe),MD(c,f)},arc(e,t,n,r,i,s){if(r+=ix,i+=ix,OD=n*Math.cos(i)+e,DD=n*Math.sin(i)+t,Math.abs(i-r)>V4n)Cv(e-n,t-n),Cv(e+n,t+n);else{const o=l=>Cv(n*Math.cos(l)+e,n*Math.sin(l)+t);let a,u;if(o(r),o(i),i!==r)if(r=r%O0,r<0&&(r+=O0),i=i%O0,i<0&&(i+=O0),i<r&&(s=!s,a=r,r=i,i=a),s)for(i-=O0,a=r-r%Pw,u=0;u<4&&a>i;++u,a-=Pw)o(a);else for(a=r-r%Pw+Pw,u=0;u<4&&a<i;++u,a=a+Pw)o(a)}}};function oCe(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function aCe(e,t,n,r,i){const s=r-e+3*t-3*n,o=e+n-2*t,a=e-t;let u=0,l=0,c;Math.abs(s)>r4n?(c=o*o+a*s,c>=0&&(c=Math.sqrt(c),u=(-o+c)/s,l=(-o-c)/s)):u=.5*a/o,0<u&&u<1&&i(uCe(u,e,t,n,r)),0<l&&l<1&&i(uCe(l,e,t,n,r))}function uCe(e,t,n,r,i){const s=1-e,o=s*s,a=e*e;return o*s*t+3*o*e*n+3*s*a*r+a*e*i}var eb=(eb=Zv(1,1))?eb.getContext("2d"):null;const ZZ=new Mo;function mce(e){return function(t,n){if(!eb)return!0;e(eb,t),ZZ.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:s,y2:o}=ZZ;for(let a=i;a<=o;++a)for(let u=r;u<=s;++u)if(eb.isPointInPath(u,a))return!0;return!1}}function gce(e,t){return t.contains(e.x||0,e.y||0)}function aWe(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,s=e.height||0;return t.intersects(ZZ.set(n,r,n+i,r+s))}function uWe(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,s=e.y2!=null?e.y2:r;return JT(t,n,r,i,s)}function JT(e,t,n,r,i){const{x1:s,y1:o,x2:a,y2:u}=e,l=r-t,c=i-n;let f=0,d=1,h,p,m,g;for(g=0;g<4;++g){if(g===0&&(h=-l,p=-(s-t)),g===1&&(h=l,p=a-t),g===2&&(h=-c,p=-(o-n)),g===3&&(h=c,p=u-n),Math.abs(h)<1e-10&&p<0)return!1;if(m=p/h,h<0){if(m>d)return!1;m>f&&(f=m)}else if(h>0){if(m<f)return!1;m<d&&(d=m)}}return!0}function jA(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Lh(e,t){return e??t}function lCe(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function q4n(e,t,n){const r=n.width(),i=n.height();let s;if(t.gradient==="radial")s=e.createRadialGradient(n.x1+Lh(t.x1,.5)*r,n.y1+Lh(t.y1,.5)*i,Math.max(r,i)*Lh(t.r1,0),n.x1+Lh(t.x2,.5)*r,n.y1+Lh(t.y2,.5)*i,Math.max(r,i)*Lh(t.r2,.5));else{const o=Lh(t.x1,0),a=Lh(t.y1,0),u=Lh(t.x2,1),l=Lh(t.y2,0);if(o===u||a===l||r===i)s=e.createLinearGradient(n.x1+o*r,n.y1+a*i,n.x1+u*r,n.y1+l*i);else{const c=Zv(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=lCe(f.createLinearGradient(o,a,u,l),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return lCe(s,t.stops)}function lWe(e,t,n){return fce(n)?q4n(e,n,t.bounds):n}function YM(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=lWe(e,t,t.fill),!0):!1}var W4n=[];function UA(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=lWe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||W4n),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function G4n(e,t){return e.zindex-t.zindex||e.index-t.index}function yce(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,s;for(i=0,s=t.length;i<s;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(G4n)}function Rp(e,t){var n=e.items,r,i;if(!n||!n.length)return;const s=yce(e);if(s&&s.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=s}for(r=0,i=n.length;r<i;++r)t(n[r])}function KM(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const s=yce(e);for(s&&s.length&&(n=s),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===s){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function vce(e){return function(t,n,r){Rp(n,i=>{(!r||r.intersects(i.bounds))&&cWe(e,t,i,i)})}}function Y4n(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&cWe(e,t,n.items[0],n.items)}}function cWe(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(jA(t,n),n.fill&&YM(t,n,i)&&t.fill(),n.stroke&&UA(t,n,i)&&t.stroke()))}function lU(e){return e=e||Zd,function(t,n,r,i,s,o){return r*=t.pixelRatio,i*=t.pixelRatio,KM(n,a=>{const u=a.bounds;if(!(u&&!u.contains(s,o)||!u)&&e(t,a,r,i,s,o))return a})}}function $N(e,t){return function(n,r,i,s){var o=Array.isArray(r)?r[0]:r,a=t??o.fill,u=o.stroke&&n.isPointInStroke,l,c;return u&&(l=o.strokeWidth,c=o.strokeCap,n.lineWidth=l??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,s)||u&&n.isPointInStroke(i,s)}}function bce(e){return lU($N(e))}function mx(e,t){return"translate("+e+","+t+")"}function _ce(e){return"rotate("+e+")"}function K4n(e,t){return"scale("+e+","+t+")"}function fWe(e){return mx(e.x||0,e.y||0)}function X4n(e){return mx(e.x||0,e.y||0)+(e.angle?" "+_ce(e.angle):"")}function Q4n(e){return mx(e.x||0,e.y||0)+(e.angle?" "+_ce(e.angle):"")+(e.scaleX||e.scaleY?" "+K4n(e.scaleX||1,e.scaleY||1):"")}function wce(e,t,n){function r(o,a){o("transform",X4n(a)),o("d",t(null,a))}function i(o,a){return t(RN(o,a.angle),a),a1(o,a).translate(a.x||0,a.y||0)}function s(o,a){var u=a.x||0,l=a.y||0,c=a.angle||0;o.translate(u,l),c&&o.rotate(c*=Nb),o.beginPath(),t(o,a),c&&o.rotate(-c),o.translate(-u,-l)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:vce(s),pick:bce(s),isect:n||mce(s)}}var J4n=wce("arc",L4n);function Z4n(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,s=1/0,o,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<s&&(s=a,o=e[i]));return o}function e6n(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,s,o;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],s=e[r].y-t[1],o=i*i+s*s,o<n))return e[r];return null}function t6n(e,t){for(var n=e.length,r,i,s;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],s=r*r+i*i,r=e[n].size||1,s<r*r))return e[n];return null}function xce(e,t,n){function r(u,l){var c=l.mark.items;c.length&&u("d",t(null,c))}function i(u,l){var c=l.items;return c.length===0?u:(t(RN(u),c),a1(u,c[0]))}function s(u,l){u.beginPath(),t(u,l)}const o=$N(s);function a(u,l,c,f,d,h){var p=l.items,m=l.bounds;return!p||!p.length||m&&!m.contains(d,h)?null:(c*=u.pixelRatio,f*=u.pixelRatio,o(u,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:Y4n(s),pick:a,isect:gce,tip:n}}var n6n=xce("area",M4n,Z4n);function r6n(e,t){var n=t.clip;e.save(),Jn(n)?(e.beginPath(),n(e),e.clip()):dWe(e,t.group)}function dWe(e,t){e.beginPath(),hce(t)?b3(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function hWe(e){const t=Lh(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function i6n(e,t){e("transform",fWe(t))}function pWe(e,t){const n=hWe(t);e("d",b3(null,t,n,n))}function s6n(e,t){e("class","background"),e("aria-hidden",!0),pWe(e,t)}function o6n(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?pWe(e,t):e("d","")}function a6n(e,t,n){const r=t.clip?pce(n,t,t):null;e("clip-path",r)}function u6n(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),a1(e,t),e.translate(t.x||0,t.y||0)}function PR(e,t,n,r){const i=hWe(t);e.beginPath(),b3(e,t,(n||0)+i,(r||0)+i)}const l6n=$N(PR),c6n=$N(PR,!1),f6n=$N(PR,!0);function d6n(e,t,n,r){Rp(t,i=>{const s=i.x||0,o=i.y||0,a=i.strokeForeground,u=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&u&&(PR(e,i,s,o),jA(e,i),i.fill&&YM(e,i,u)&&e.fill(),i.stroke&&!a&&UA(e,i,u)&&e.stroke()),e.save(),e.translate(s,o),i.clip&&dWe(e,i),n&&n.translate(-s,-o),Rp(i,l=>{(l.marktype==="group"||r==null||r.includes(l.marktype))&&this.draw(e,l,n,r)}),n&&n.translate(s,o),e.restore(),a&&i.stroke&&u&&(PR(e,i,s,o),jA(e,i),UA(e,i,u)&&e.stroke())})}function h6n(e,t,n,r,i,s){if(t.bounds&&!t.bounds.contains(i,s)||!t.items)return null;const o=n*e.pixelRatio,a=r*e.pixelRatio;return KM(t,u=>{let l,c,f;const d=u.bounds;if(d&&!d.contains(i,s))return;c=u.x||0,f=u.y||0;const h=c+(u.width||0),p=f+(u.height||0),m=u.clip;if(m&&(i<c||i>h||s<f||s>p))return;if(e.save(),e.translate(c,f),c=i-c,f=s-f,m&&hce(u)&&!f6n(e,u,o,a))return e.restore(),null;const g=u.strokeForeground,y=t.interactive!==!1;return y&&g&&u.stroke&&c6n(e,u,o,a)?(e.restore(),u):(l=KM(u,v=>p6n(v,c,f)?this.pick(v,n,r,c,f):null),!l&&y&&(u.fill||!g&&u.stroke)&&l6n(e,u,o,a)&&(l=u),e.restore(),l||null)})}function p6n(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var m6n={type:"group",tag:"g",nested:!1,attr:i6n,bound:u6n,draw:d6n,pick:h6n,isect:aWe,content:a6n,background:s6n,foreground:o6n},OR={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Ece(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function Tce(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function Sce(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function cU(e,t){return e==="center"?t/2:e==="right"?t:0}function fU(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function g6n(e,t,n){const r=Ece(t,n),i=Tce(t,r),s=Sce(t,r),o=(t.x||0)-cU(t.align,i),a=(t.y||0)-fU(t.baseline,s),u=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",u,OR["xmlns:xlink"],"xlink:href"),e("transform",mx(o,a)),e("width",i),e("height",s),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function y6n(e,t){const n=t.image,r=Tce(t,n),i=Sce(t,n),s=(t.x||0)-cU(t.align,r),o=(t.y||0)-fU(t.baseline,i);return e.set(s,o,s+r,o+i)}function v6n(e,t,n){Rp(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=Ece(r,this);let s=Tce(r,i),o=Sce(r,i);if(s===0||o===0)return;let a=(r.x||0)-cU(r.align,s),u=(r.y||0)-fU(r.baseline,o),l,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=s/c,u+=(o-d)/2,o=d):(d=o*c,a+=(s-d)/2,s=d))),(i.complete||i.toDataURL)&&(jA(e,r),e.globalAlpha=(l=r.opacity)!=null?l:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,u,s,o))})}var b6n={type:"image",tag:"image",nested:!1,attr:g6n,bound:y6n,draw:v6n,pick:lU(),isect:Zd,get:Ece,xOffset:cU,yOffset:fU},_6n=xce("line",F4n,e6n);function w6n(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",Q4n(t)),e("d",t.path)}function FD(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,s=t.scaleX||1,o=t.scaleY||1,a=(t.angle||0)*Nb,u=t.pathCache;(!u||u.path!==n)&&((t.pathCache=u=BA(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),NR(e,u,0,0,s,o),e.rotate(-a),e.translate(-r,-i)):NR(e,u,r,i,s,o)}function x6n(e,t){return FD(RN(e,t.angle),t)?e.set(0,0,0,0):a1(e,t,!0)}var E6n={type:"path",tag:"path",nested:!1,attr:w6n,bound:x6n,draw:vce(FD),pick:bce(FD),isect:mce(FD)};function T6n(e,t){e("d",b3(null,t))}function S6n(e,t){var n,r;return a1(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function cCe(e,t){e.beginPath(),b3(e,t)}var A6n={type:"rect",tag:"path",nested:!1,attr:T6n,bound:S6n,draw:vce(cCe),pick:bce(cCe),isect:aWe};function C6n(e,t){e("transform",fWe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function I6n(e,t){var n,r;return a1(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function mWe(e,t,n){var r,i,s,o;return t.stroke&&UA(e,t,n)?(r=t.x||0,i=t.y||0,s=t.x2!=null?t.x2:r,o=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(s,o),!0):!1}function k6n(e,t,n){Rp(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&mWe(e,r,i)&&(jA(e,r),e.stroke())}})}function R6n(e,t,n,r){return e.isPointInStroke?mWe(e,t,1)&&e.isPointInStroke(n,r):!1}var $6n={type:"rule",tag:"line",nested:!1,attr:C6n,bound:I6n,draw:k6n,pick:lU(R6n),isect:uWe},N6n=wce("shape",B4n),P6n=wce("symbol",j4n,gce);const fCe=ZVe();var Ff={height:Fm,measureWidth:Ace,estimateWidth:XM,width:XM,canvas:gWe};gWe(!0);function gWe(e){Ff.width=e&&eb?Ace:XM}function XM(e,t){return yWe(Ob(e,t),Fm(e))}function yWe(e,t){return~~(.8*e.length*t)}function Ace(e,t){return Fm(e)<=0||!(t=Ob(e,t))?0:vWe(t,dU(e))}function vWe(e,t){const n=`(${t}) ${e}`;let r=fCe.get(n);return r===void 0&&(eb.font=t,r=eb.measureText(e).width,fCe.set(n,r)),r}function Fm(e){return e.fontSize!=null?+e.fontSize||0:11}function Pb(e){return e.lineHeight!=null?e.lineHeight:Fm(e)+2}function O6n(e){return Qe(e)?e.length>1?e:e[0]:e}function NN(e){return O6n(e.lineBreak&&e.text&&!Qe(e.text)?e.text.split(e.lineBreak):e.text)}function Cce(e){const t=NN(e);return(Qe(t)?t.length-1:0)*Pb(e)}function Ob(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?L6n(e,n):n}function D6n(e){if(Ff.width===Ace){const t=dU(e);return n=>vWe(n,t)}else if(Ff.width===XM){const t=Fm(e);return n=>yWe(n,t)}else return t=>Ff.width(e,t)}function L6n(e,t){var n=+e.limit,r=D6n(e);if(r(t)<n)return t;var i=e.ellipsis||"",s=e.dir==="rtl",o=0,a=t.length,u;if(n-=r(i),s){for(;o<a;)u=o+a>>>1,r(t.slice(u))>n?o=u+1:a=u;return i+t.slice(o)}else{for(;o<a;)u=1+(o+a>>>1),r(t.slice(0,u))<n?o=u:a=u-1;return t.slice(0,o)+i}}function PN(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function dU(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Fm(e)+"px "+PN(e,t)}function Ice(e){var t=e.baseline,n=Fm(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Pb(e):t==="line-bottom"?.29*n-.5*Pb(e):0)}const M6n={left:"start",center:"middle",right:"end"},X6=new Mo;function hU(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Pw,t+=r*Math.cos(i),n+=r*Math.sin(i)),X6.x1=t,X6.y1=n,X6}function F6n(e,t){var n=t.dx||0,r=(t.dy||0)+Ice(t),i=hU(t),s=i.x1,o=i.y1,a=t.angle||0,u;e("text-anchor",M6n[t.align]||"start"),a?(u=mx(s,o)+" "+_ce(a),(n||r)&&(u+=" "+mx(n,r))):u=mx(s+n,o+r),e("transform",u)}function kce(e,t,n){var r=Ff.height(t),i=t.align,s=hU(t),o=s.x1,a=s.y1,u=t.dx||0,l=(t.dy||0)+Ice(t)-Math.round(.8*r),c=NN(t),f;if(Qe(c)?(r+=Pb(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,Ff.width(t,h)),0)):f=Ff.width(t,c),i==="center"?u-=f/2:i==="right"&&(u-=f),e.set(u+=o,l+=a,u+f,l+r),t.angle&&!n)e.rotate(t.angle*Nb,o,a);else if(n===2)return e.rotatedPoints(t.angle*Nb,o,a);return e}function B6n(e,t,n){Rp(t,r=>{var i=r.opacity==null?1:r.opacity,s,o,a,u,l,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=dU(r),e.textAlign=r.align||"left",s=hU(r),o=s.x1,a=s.y1,r.angle&&(e.save(),e.translate(o,a),e.rotate(r.angle*Nb),o=a=0),o+=r.dx||0,a+=(r.dy||0)+Ice(r),c=NN(r),jA(e,r),Qe(c))for(l=Pb(r),u=0;u<c.length;++u)f=Ob(r,c[u]),r.fill&&YM(e,r,i)&&e.fillText(f,o,a),r.stroke&&UA(e,r,i)&&e.strokeText(f,o,a),a+=l;else f=Ob(r,c),r.fill&&YM(e,r,i)&&e.fillText(f,o,a),r.stroke&&UA(e,r,i)&&e.strokeText(f,o,a);r.angle&&e.restore()}})}function j6n(e,t,n,r,i,s){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=hU(t),a=o.x1,u=o.y1,l=kce(X6,t,1),c=-t.angle*Nb,f=Math.cos(c),d=Math.sin(c),h=f*i-d*s+(a-f*a+d*u),p=d*i+f*s+(u-d*a-f*u);return l.contains(h,p)}function U6n(e,t){const n=kce(X6,e,2);return JT(t,n[0],n[1],n[2],n[3])||JT(t,n[0],n[1],n[4],n[5])||JT(t,n[4],n[5],n[6],n[7])||JT(t,n[2],n[3],n[6],n[7])}var z6n={type:"text",tag:"text",nested:!1,attr:F6n,bound:kce,draw:B6n,pick:lU(j6n),isect:U6n},V6n=xce("trail",U4n,t6n),ed={arc:J4n,area:n6n,group:m6n,image:b6n,line:_6n,path:E6n,rect:A6n,rule:$6n,shape:N6n,symbol:P6n,text:z6n,trail:V6n};function eee(e,t,n){var r=ed[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Mo),e,n)}var dCe={mark:null};function bWe(e,t,n){var r=ed[e.marktype],i=r.bound,s=e.items,o=s&&s.length,a,u,l,c;if(r.nested)return o?l=s[0]:(dCe.mark=e,l=dCe),c=eee(l,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new Mo,o)for(a=0,u=s.length;a<u;++a)t.union(eee(s[a],i,n));return e.bounds=t}const H6n=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function _We(e,t){return JSON.stringify(e,H6n,t)}function wWe(e){const t=typeof e=="string"?JSON.parse(e):e;return xWe(t)}function xWe(e){var t=e.marktype,n=e.items,r,i,s;if(n)for(i=0,s=n.length;i<s;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&xWe(n[i]);return t&&bWe(e),e}class EWe{constructor(t){arguments.length?this.root=wWe(t):(this.root=hCe({marktype:"group",name:"root",role:"frame"}),this.root.items=[new aU(this.root)])}toJSON(t){return _We(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=hCe(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function hCe(e,t){const n={bounds:new Mo,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Iv(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Rce(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Zo(e,t,n,r){var i=e.childNodes[t],s;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(s=i||null,i=Iv(e.ownerDocument,n,r),e.insertBefore(i,s)),i}function Od(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function TWe(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function pU(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function q6n(e,t,n,r){var i=e&&e.mark,s,o;if(i&&(s=ed[i.marktype]).tip){for(o=pU(t,n),o[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=s.tip(i.items,o)}return e}let $ce=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||Vj(),this._tooltip=n||W6n}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const s=new MouseEvent(t.type,t),o=Iv(null,"a");for(const a in i)o.setAttribute(a,i[a]);o.dispatchEvent(s)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=q6n(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,s=t.bounds,o=s.width(),a=s.height();let u=s.x1+i[0]+r.left,l=s.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)u+=t.x||0,l+=t.y||0;return{x:u,y:l,width:o,height:a,left:u,top:l,right:u+o,bottom:l+a}}};function W6n(e,t,n,r){e.element().setAttribute("title",r||"")}class ON{constructor(t){this._el=null,this._bgcolor=null,this._loader=new oWe(t)}initialize(t,n,r,i,s){return this._el=t,this.resize(n,r,i,s)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const s=r._call;r._ready=r._loader.ready().then(o=>{o&&s(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const G6n="keydown",Y6n="keypress",K6n="keyup",SWe="dragenter",BD="dragleave",AWe="dragover",tee="pointerdown",X6n="pointerup",QM="pointermove",jD="pointerout",CWe="pointerover",nee="mousedown",Q6n="mouseup",IWe="mousemove",JM="mouseout",kWe="mouseover",ZM="click",J6n="dblclick",Z6n="wheel",RWe="mousewheel",eF="touchstart",tF="touchmove",nF="touchend",ekn=[G6n,Y6n,K6n,SWe,BD,AWe,tee,X6n,QM,jD,CWe,nee,Q6n,IWe,JM,kWe,ZM,J6n,Z6n,RWe,eF,tF,nF],ree=QM,Q6=JM,iee=ZM;class DN extends $ce{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=ekn,this.pointermove=mCe([QM,IWe],[CWe,kWe],[jD,JM]),this.dragover=mCe([AWe],[SWe],[BD]),this.pointerout=gCe([jD,JM]),this.dragleave=gCe([BD])}initialize(t,n,r){return this._canvas=t&&Rce(t,"canvas"),[ZM,nee,tee,QM,jD,BD].forEach(i=>pCe(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(RWe,t)}pointerdown(t){this._down=this._active,this.fire(tee,t)}mousedown(t){this._down=this._active,this.fire(nee,t)}click(t){this._down===this._active&&(this.fire(ZM,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(eF,t,!0)}touchmove(t){this.fire(tF,t,!0)}touchend(t){this.fire(nF,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,s=this._handlers[t];if(n.vegaType=t,t===iee&&i&&i.href?this.handleHref(n,i,i.href):(t===ree||t===Q6)&&this.handleTooltip(n,i,t!==Q6),s)for(let o=0,a=s.length;o<a;++o)s[o].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(pCe(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&i.splice(s,1),this}pickEvent(t){const n=pU(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,s){const o=this.context();return ed[t.marktype].pick.call(this,o,t,n,r,i,s)}}const tkn=e=>e===eF||e===tF||e===nF?[eF,tF,nF]:[e];function pCe(e,t){tkn(t).forEach(n=>nkn(e,n))}function nkn(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function i6(e,t,n){t.forEach(r=>e.fire(r,n))}function mCe(e,t,n){return function(r){const i=this._active,s=this.pickEvent(r);s===i?i6(this,e,r):((!i||!i.exit)&&i6(this,n,r),this._active=s,i6(this,t,r),i6(this,e,r))}}function gCe(e){return function(t){i6(this,e,t),this._active=null}}function rkn(){return typeof window<"u"&&window.devicePixelRatio||1}function ikn(e,t,n,r,i,s){const o=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),u=o?rkn():i;e.width=t*u,e.height=n*u;for(const l in s)a[l]=s[l];return o&&u!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=u,a.setTransform(u,0,0,u,u*r[0],u*r[1]),e}class rF extends ON{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Mo,this._tempb=new Mo}initialize(t,n,r,i,s,o){return this._options=o||{},this._canvas=this._options.externalContext?null:Zv(1,1,this._options.type),t&&this._canvas&&(Od(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,s)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)ikn(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||Ke("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,s=this._width,o=this._height,a=this._dirty,u=skn(i,s,o);r.save();const l=this._redraw||a.empty()?(this._redraw=!1,u.expand(1)):okn(r,u.intersect(a),i);return this.clear(-i[0],-i[1],s,o),this.draw(r,t,l,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const s=ed[n.marktype];n.clip&&r6n(t,n),s.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const s=this._options,o=this.context();s.type!=="pdf"&&!s.externalContext&&o.clearRect(t,n,r,i),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(t,n,r,i))}}const skn=(e,t,n)=>new Mo().set(0,0,t,n).translate(-e[0],-e[1]);function okn(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class $We extends $ce{constructor(t,n){super(t,n);const r=this;r._hrefHandler=dY(r,(i,s)=>{s&&s.href&&r.handleHref(i,s,s.href)}),r._tooltipHandler=dY(r,(i,s)=>{r.handleTooltip(i,s,i.type!==Q6)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(iee,this._hrefHandler),i.removeEventListener(ree,this._tooltipHandler),i.removeEventListener(Q6,this._tooltipHandler)),this._svg=i=t&&Rce(t,"svg"),i&&(i.addEventListener(iee,this._hrefHandler),i.addEventListener(ree,this._tooltipHandler),i.addEventListener(Q6,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const o={type:t,handler:n,listener:dY(this,n)};(i[r]||(i[r]=[])).push(o),this._svg&&this._svg.addEventListener(r,o.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&(this._svg&&this._svg.removeEventListener(r,i[s].listener),i.splice(s,1)),this}}const dY=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},NWe="aria-hidden",Nce="aria-label",Pce="role",Oce="aria-roledescription",PWe="graphics-object",Dce="graphics-symbol",OWe=(e,t,n)=>({[Pce]:e,[Oce]:t,[Nce]:n||void 0}),akn=Ip(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),yCe={axis:{desc:"axis",caption:ckn},legend:{desc:"legend",caption:fkn},"title-text":{desc:"title",caption:e=>`Title text '${bCe(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${bCe(e)}'`}},vCe={ariaRole:Pce,ariaRoleDescription:Oce,description:Nce};function DWe(e,t){const n=t.aria===!1;if(e(NWe,n||void 0),n||t.description==null)for(const r in vCe)e(vCe[r],void 0);else{const r=t.mark.marktype;e(Nce,t.description),e(Pce,t.ariaRole||(r==="group"?PWe:Dce)),e(Oce,t.ariaRoleDescription||`${r} mark`)}}function LWe(e){return e.aria===!1?{[NWe]:!0}:akn[e.role]?null:yCe[e.role]?lkn(e,yCe[e.role]):ukn(e)}function ukn(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return OWe(n?PWe:Dce,`${t} mark container`,e.description)}function lkn(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return OWe(t.role||Dce,t.desc,n.description||r(n))}catch{return null}}function bCe(e){return Nt(e.text).join(" ")}function ckn(e){const t=e.datum,n=e.orient,r=t.title?MWe(e):null,i=e.context,s=i.scales[t.scale].value,o=i.dataflow.locale(),a=s.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${FA(a)?"discrete":a} scale with ${Xqe(o,s,e)}`}function fkn(e){const t=e.datum,n=t.title?MWe(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,s=Object.keys(i),o=e.context,a=o.scales[i[s[0]]].value,u=o.dataflow.locale();return hkn(r)+(n?` titled '${n}'`:"")+` for ${dkn(s)} with ${Xqe(u,a,e)}`}function MWe(e){try{return Nt(Vr(e.items).items[0].text).join(" ")}catch{return null}}function dkn(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Vr(e)}function hkn(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const FWe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),pkn=e=>FWe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function Lce(){let e="",t="",n="";const r=[],i=()=>t=n="",s=u=>{t&&(e+=`${t}>${n}`,i()),r.push(u)},o=(u,l)=>(l!=null&&(t+=` ${u}="${pkn(l)}"`),a),a={open(u){s(u),t="<"+u;for(var l=arguments.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=arguments[f];for(const d of c)for(const h in d)o(h,d[h]);return a},close(){const u=r.pop();return t?e+=t+(n?`>${n}</${u}>`:"/>"):e+=`</${u}>`,i(),a},attr:o,text:u=>(n+=FWe(u),a),toString:()=>e};return a}const BWe=e=>jWe(Lce(),e)+"";function jWe(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):jWe(e,r)}return e.close()}const iF={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},sF={blend:"mix-blend-mode"},UWe={fill:"none","stroke-miterlimit":10},n4=0,_Ce="http://www.w3.org/2000/xmlns/",Qo=OR.xmlns;class Mce extends ON{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,s){return this._defs={},this._clearDefs(),t&&(this._svg=Zo(t,0,"svg",Qo),this._svg.setAttributeNS(_Ce,"xmlns",Qo),this._svg.setAttributeNS(_Ce,"xmlns:xlink",OR["xmlns:xlink"]),this._svg.setAttribute("version",OR.version),this._svg.setAttribute("class","marks"),Od(t,1),this._root=Zo(this._svg,n4,"g",Qo),kv(this._root,UWe),Od(this._svg,n4+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,s)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(kv(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=Zo(t,n4,"rect",Qo),kv(r,{width:this._width,height:this._height,fill:n}));const i=BWe(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),Od(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,s,o,a,u,l;for(a=0,u=t.length;a<u;++a)if(r=t[a],i=r.mark,i.marktype!==s&&(s=i.marktype,o=ed[s]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,wCe(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){o.nested&&i.items.length?(l=i.items[0],l._svg&&this._update(o,l._svg,l)):r._svg&&(l=r._svg.parentNode,l&&l.removeChild(r._svg)),r._svg=null;continue}r=o.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,wCe(r,n)):this._update(o,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const s=this._svg,o=n.marktype,a=ed[o],u=n.interactive===!1?"none":null,l=a.tag==="g",c=xCe(n,t,r,"g",s);if(o!=="group"&&i!=null&&!i.includes(o))return Od(c,0),n._svg;c.setAttribute("class",TWe(n));const f=LWe(n);for(const m in f)pl(c,m,f[m]);l||pl(c,"pointer-events",u),pl(c,"clip-path",n.clip?pce(this,n,n.group):null);let d=null,h=0;const p=m=>{const g=this.isDirty(m),y=xCe(m,c,d,a.tag,s);g&&(this._update(a,y,m),l&&ykn(this,y,m,i)),d=y,++h};return a.nested?n.items.length&&p(n.items[0]):Rp(n,p),Od(c,h),c}_update(t,n,r){Gg=n,Pu=n.__values__,DWe(J6,r),t.attr(J6,r,this);const i=bkn[t.type];i&&i.call(this,t,n,r),Gg&&this.style(Gg,r)}style(t,n){if(n!=null){for(const r in iF){let i=r==="font"?PN(n):n[r];if(i===Pu[r])continue;const s=iF[r];i==null?t.removeAttribute(s):(fce(i)&&(i=Jqe(i,this._defs.gradient,zWe())),t.setAttribute(s,i+"")),Pu[r]=i}for(const r in sF)UD(t,sF[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const s in n.gradient)r||(n.el=r=Zo(t,n4+1,"defs",Qo)),i=mkn(r,n.gradient[s],i);for(const s in n.clipping)r||(n.el=r=Zo(t,n4+1,"defs",Qo)),i=gkn(r,n.clipping[s],i);r&&(i===0?(t.removeChild(r),n.el=null):Od(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function wCe(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function mkn(e,t,n){let r,i,s;if(t.gradient==="radial"){let o=Zo(e,n++,"pattern",Qo);kv(o,{id:GM+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=Zo(o,0,"rect",Qo),kv(o,{width:1,height:1,fill:`url(${zWe()}#${t.id})`}),e=Zo(e,n++,"radialGradient",Qo),kv(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Zo(e,n++,"linearGradient",Qo),kv(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)s=Zo(e,r,"stop",Qo),s.setAttribute("offset",t.stops[r].offset),s.setAttribute("stop-color",t.stops[r].color);return Od(e,r),n}function gkn(e,t,n){let r;return e=Zo(e,n,"clipPath",Qo),e.setAttribute("id",t.id),t.path?(r=Zo(e,0,"path",Qo),r.setAttribute("d",t.path)):(r=Zo(e,0,"rect",Qo),kv(r,{x:0,y:0,width:t.width,height:t.height})),Od(e,1),n+1}function ykn(e,t,n,r){t=t.lastChild.previousSibling;let i,s=0;Rp(n,o=>{i=e.mark(t,o,i,r),++s}),Od(t,1+s)}function xCe(e,t,n,r,i){let s=e._svg,o;if(!s&&(o=t.ownerDocument,s=Iv(o,r,Qo),e._svg=s,e.mark&&(s.__data__=e,s.__values__={fill:"default"},r==="g"))){const a=Iv(o,"path",Qo);s.appendChild(a),a.__data__=e;const u=Iv(o,"g",Qo);s.appendChild(u),u.__data__=e;const l=Iv(o,"path",Qo);s.appendChild(l),l.__data__=e,l.__values__={fill:"default"}}return(s.ownerSVGElement!==i||vkn(s,n))&&t.insertBefore(s,n?n.nextSibling:t.firstChild),s}function vkn(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Gg=null,Pu=null;const bkn={group(e,t,n){const r=Gg=t.childNodes[2];Pu=r.__values__,e.foreground(J6,n,this),Pu=t.__values__,Gg=t.childNodes[1],e.content(J6,n,this);const i=Gg=t.childNodes[0];e.background(J6,n,this);const s=n.mark.interactive===!1?"none":null;if(s!==Pu.events&&(pl(r,"pointer-events",s),pl(i,"pointer-events",s),Pu.events=s),n.strokeForeground&&n.stroke){const o=n.fill;pl(r,"display",null),this.style(i,n),pl(i,"stroke",null),o&&(n.fill=null),Pu=r.__values__,this.style(r,n),o&&(n.fill=o),Gg=null}else pl(r,"display","none")},image(e,t,n){n.smooth===!1?(UD(t,"image-rendering","optimizeSpeed"),UD(t,"image-rendering","pixelated")):UD(t,"image-rendering",null)},text(e,t,n){const r=NN(n);let i,s,o,a;Qe(r)?(s=r.map(u=>Ob(n,u)),i=s.join(`
`),i!==Pu.text&&(Od(t,0),o=t.ownerDocument,a=Pb(n),s.forEach((u,l)=>{const c=Iv(o,"tspan",Qo);c.__data__=n,c.textContent=u,l&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Pu.text=i)):(s=Ob(n,r),s!==Pu.text&&(t.textContent=s,Pu.text=s)),pl(t,"font-family",PN(n)),pl(t,"font-size",Fm(n)+"px"),pl(t,"font-style",n.fontStyle),pl(t,"font-variant",n.fontVariant),pl(t,"font-weight",n.fontWeight)}};function J6(e,t,n){t!==Pu[e]&&(n?_kn(Gg,e,t,n):pl(Gg,e,t),Pu[e]=t)}function UD(e,t,n){n!==Pu[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Pu[t]=n)}function kv(e,t){for(const n in t)pl(e,n,t[n])}function pl(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function _kn(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function zWe(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class VWe extends ON{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=Lce();n.open("svg",Qn({},OR,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",UWe,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=ed[n.marktype],i=r.tag,s=[DWe,r.attr];t.open("g",{class:TWe(n),"clip-path":n.clip?pce(this,n,n.group):null},LWe(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const o=a=>{const u=this.href(a);if(u&&t.open("a",u),t.open(i,this.attr(n,a,s,i!=="g"?i:null)),i==="text"){const l=NN(a);if(Qe(l)){const c={x:0,dy:Pb(a)};for(let f=0;f<l.length;++f)t.open("tspan",f?c:null).text(Ob(a,l[f])).close()}else t.text(Ob(a,l))}else if(i==="g"){const l=a.strokeForeground,c=a.fill,f=a.stroke;l&&f&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),Rp(a,d=>this.mark(t,d)),t.close(),l&&f?(c&&(a.fill=null),a.stroke=f,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),u&&t.close()};return r.nested?n.items&&n.items.length&&o(n.items[0]):Rp(n,o),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const s={},o=(a,u,l,c)=>{s[c||a]=u};return Array.isArray(r)?r.forEach(a=>a(o,n,this)):r(o,n,this),i&&wkn(s,n,t,i,this._defs),s}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const s in n){const o=n[s],a=o.stops;o.gradient==="radial"?(t.open("pattern",{id:GM+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):t.open("linearGradient",{id:s,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let u=0;u<a.length;++u)t.open("stop",{offset:a[u].offset,"stop-color":a[u].color}).close();t.close()}for(const s in r){const o=r[s];t.open("clipPath",{id:s}),o.path?t.open("path",{d:o.path}).close():t.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),t.close()}t.close()}}}function wkn(e,t,n,r,i){let s;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(s=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=PN(t),e["font-size"]=Fm(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in iF){let a=t[o];const u=iF[o];a==="transparent"&&(u==="fill"||u==="stroke")||a!=null&&(fce(a)&&(a=Jqe(a,i.gradient,"")),e[u]=a)}for(const o in sF){const a=t[o];a!=null&&(s=s||[],s.push(`${sF[o]}: ${a};`))}return s&&(e.style=s.join(" ")),e}const qh={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function xkn(e){qh.svgMarkTypes=e.svgMarkTypes??["text"],qh.svgOnTop=e.svgOnTop??!0,qh.debug=e.debug??!1}class see extends ON{constructor(t){super(t),this._svgRenderer=new Mce(t),this._canvasRenderer=new rF(t)}initialize(t,n,r,i,s){this._root_el=Zo(t,0,"div");const o=Zo(this._root_el,0,"div"),a=Zo(this._root_el,1,"div");return this._root_el.style.position="relative",qh.debug||(o.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=qh.svgOnTop?a:o,this._canvasEl=qh.svgOnTop?o:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,s),this._svgRenderer.initialize(this._svgEl,n,r,i,s),super.initialize(t,n,r,i,s)}dirty(t){return qh.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(s=>!qh.svgMarkTypes.includes(s));this._svgRenderer.render(t,qh.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return qh.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class HWe extends DN{constructor(t,n){super(t,n)}initialize(t,n,r){const i=Zo(Zo(t,0,"div"),qh.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const qWe="canvas",WWe="hybrid",GWe="png",YWe="svg",KWe="none",Rv={Canvas:qWe,PNG:GWe,SVG:YWe,Hybrid:WWe,None:KWe},Vx={};Vx[qWe]=Vx[GWe]={renderer:rF,headless:rF,handler:DN};Vx[YWe]={renderer:Mce,headless:VWe,handler:$We};Vx[WWe]={renderer:see,headless:see,handler:HWe};Vx[KWe]={};function mU(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Vx[e]=t,this):Vx[e]}function XWe(e,t,n){const r=[],i=new Mo().union(t),s=e.marktype;return s?QWe(e,i,n,r):s==="group"?JWe(e,i,n,r):Ke("Intersect scene must be mark node or group item.")}function QWe(e,t,n,r){if(Ekn(e,t,n)){const i=e.items,s=e.marktype,o=i.length;let a=0;if(s==="group")for(;a<o;++a)JWe(i[a],t,n,r);else for(const u=ed[s].isect;a<o;++a){const l=i[a];ZWe(l,t,u)&&r.push(l)}}return r}function Ekn(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function JWe(e,t,n,r){n&&n(e.mark)&&ZWe(e,t,ed.group.isect)&&r.push(e);const i=e.items,s=i&&i.length;if(s){const o=e.x||0,a=e.y||0;t.translate(-o,-a);for(let u=0;u<s;++u)QWe(i[u],t,n,r);t.translate(o,a)}return r}function ZWe(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const hY=new Mo;function eGe(e){const t=e.clip;if(Jn(t))t(RN(hY.clear()));else if(t)hY.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(hY)}const Tkn=1e-9;function Fce(e,t,n){return e===t?!0:n==="path"?tGe(e,t):e instanceof Date&&t instanceof Date?+e==+t:ri(e)&&ri(t)?Math.abs(e-t)<=Tkn:!e||!t||!Ot(e)&&!Ot(t)?e==t:Skn(e,t)}function tGe(e,t){return Fce(BA(e),BA(t))}function Skn(e,t){var n=Object.keys(e),r=Object.keys(t),i,s;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!Fce(e[i],t[i],i))return!1;return typeof e==typeof t}function Akn(){sWe(),XIn()}const zA="top",np="left",up="right",Db="bottom",Ckn="top-left",Ikn="top-right",kkn="bottom-left",Rkn="bottom-right",Bce="start",oee="middle",vl="end",$kn="x",Nkn="y",gU="group",jce="axis",Uce="title",Pkn="frame",Okn="scope",zce="legend",nGe="row-header",rGe="row-footer",iGe="row-title",sGe="column-header",oGe="column-footer",aGe="column-title",Dkn="padding",Lkn="symbol",uGe="fit",lGe="fit-x",cGe="fit-y",Mkn="pad",Vce="none",eO="all",aee="each",Hce="flush",$v="column",Nv="row";function fGe(e){He.call(this,null,e)}At(fGe,He,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,s=ed[i],o=s.bound;let a=r.bounds,u;if(s.nested)r.items.length&&n.dirty(r.items[0]),a=tO(r,o),r.items.forEach(l=>{l.bounds.clear().union(a)});else if(i===gU||e.modified())switch(t.visit(t.MOD,l=>n.dirty(l)),a.clear(),r.items.forEach(l=>a.union(tO(l,o))),r.role){case jce:case zce:case Uce:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,l=>{a.union(tO(l,o))}),t.visit(t.MOD,l=>{u=u||a.alignsWith(l.bounds),n.dirty(l),a.union(tO(l,o))}),u&&(a.clear(),r.items.forEach(l=>a.union(l.bounds)));return eGe(r),t.modifies("bounds")}});function tO(e,t,n){return t(e.bounds.clear(),e,n)}const ECe=":vega_identifier:";function qce(e){He.call(this,0,e)}qce.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};At(qce,He,{transform(e,t){const n=Fkn(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,s=>s[r]=s[r]||++i),n.set(this.value=i),t}});function Fkn(e){return e._signals[ECe]||(e._signals[ECe]=e.add(0))}function dGe(e){He.call(this,null,e)}At(dGe,He,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,Bkn(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===gU?aU:oU;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function Bkn(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function hGe(e){He.call(this,null,e)}const TCe={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!pGe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},pGe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),SCe=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,s;n<r;i=s,++n)if(pGe(i,s=e[n].bounds,t))return!0},jkn=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},Ukn=(e,t,n)=>{var r=e.range(),i=new Mo;return t===zA||t===Db?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),s=>i.encloses(s.bounds)},ACe=e=>(e.forEach(t=>t.opacity=1),e),CCe=(e,t)=>e.reflow(t.modified()).modifies("opacity");At(hGe,He,{transform(e,t){const n=TCe[e.method]||TCe.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,s,o;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(ACe(i),t=CCe(t,e)),t;if(i=i.filter(jkn),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),s=ACe(i),t=CCe(t,e),s.length>=3&&SCe(s,r)){do s=n(s,r);while(s.length>=3&&SCe(s,r));s.length<3&&!Vr(i).opacity&&(s.length>1&&(Vr(s).opacity=0),Vr(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=Ukn(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(u=>{o(u)||(u.opacity=0)}));const a=s[0].mark.bounds.clear();return i.forEach(u=>{u.opacity&&a.union(u.bounds)}),t}});function mGe(e){He.call(this,null,e)}At(mGe,He,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const $u=new Mo;function ZT(e,t,n){return e[t]===n?0:(e[t]=n,1)}function zkn(e){var t=e.items[0].orient;return t===np||t===up}function Vkn(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function Hkn(e,t,n,r){var i=t.items[0],s=i.datum,o=i.translate!=null?i.translate:.5,a=i.orient,u=Vkn(s),l=i.range,c=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,p=s.title&&i.items[u[2]].items[0],m=i.titlePadding,g=i.bounds,y=p&&Cce(p),v=0,b=0,w,x;switch($u.clear().union(g),g.clear(),(w=u[0])>-1&&g.union(i.items[w].bounds),(w=u[1])>-1&&g.union(i.items[w].bounds),a){case zA:v=f||0,b=-c,x=Math.max(d,Math.min(h,-g.y1)),g.add(0,-x).add(l,0),p&&nO(e,p,x,m,y,0,-1,g);break;case np:v=-c,b=f||0,x=Math.max(d,Math.min(h,-g.x1)),g.add(-x,0).add(0,l),p&&nO(e,p,x,m,y,1,-1,g);break;case up:v=n+c,b=f||0,x=Math.max(d,Math.min(h,g.x2)),g.add(0,0).add(x,l),p&&nO(e,p,x,m,y,1,1,g);break;case Db:v=f||0,b=r+c,x=Math.max(d,Math.min(h,g.y2)),g.add(0,0).add(l,x),p&&nO(e,p,x,m,0,0,1,g);break;default:v=i.x,b=i.y}return a1(g.translate(v,b),i),ZT(i,"x",v+o)|ZT(i,"y",b+o)&&(i.bounds=$u,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function nO(e,t,n,r,i,s,o,a){const u=t.bounds;if(t.auto){const l=o*(n+i+r);let c=0,f=0;e.dirty(t),s?c=(t.x||0)-(t.x=l):f=(t.y||0)-(t.y=l),t.mark.bounds.clear().union(u.translate(-c,-f)),e.dirty(t)}a.union(u)}const ICe=(e,t)=>Math.floor(Math.min(e,t)),kCe=(e,t)=>Math.ceil(Math.max(e,t));function qkn(e){var t=e.items,n=t.length,r=0,i,s;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],s=i.items,i.marktype===gU)switch(i.role){case jce:case zce:case Uce:break;case nGe:o.rowheaders.push(...s);break;case rGe:o.rowfooters.push(...s);break;case sGe:o.colheaders.push(...s);break;case oGe:o.colfooters.push(...s);break;case iGe:o.rowtitle=s[0];break;case aGe:o.coltitle=s[0];break;default:o.marks.push(...s)}return o}function Wkn(e){return new Mo().set(0,0,e.width||0,e.height||0)}function Gkn(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function $s(e,t,n){const r=Ot(e)?e[t]:e;return r??(n!==void 0?n:0)}function RCe(e){return e<0?Math.ceil(-e):0}function gGe(e,t,n){var r=!n.nodirty,i=n.bounds===Hce?Wkn:Gkn,s=$u.set(0,0,0,0),o=$s(n.align,$v),a=$s(n.align,Nv),u=$s(n.padding,$v),l=$s(n.padding,Nv),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,h=Array(d),p=Array(c),m=0,g=Array(d),y=Array(f),v=0,b=Array(d),w=Array(d),x=Array(d),S,A,C,$,k,P,L,O,B,q,H;for(A=0;A<c;++A)p[A]=0;for(A=0;A<f;++A)y[A]=0;for(A=0;A<d;++A)P=t[A],k=x[A]=i(P),P.x=P.x||0,b[A]=0,P.y=P.y||0,w[A]=0,C=A%c,$=~~(A/c),m=Math.max(m,L=Math.ceil(k.x2)),v=Math.max(v,O=Math.ceil(k.y2)),p[C]=Math.max(p[C],L),y[$]=Math.max(y[$],O),h[A]=u+RCe(k.x1),g[A]=l+RCe(k.y1),r&&e.dirty(t[A]);for(A=0;A<d;++A)A%c===0&&(h[A]=0),A<c&&(g[A]=0);if(o===aee)for(C=1;C<c;++C){for(H=0,A=C;A<d;A+=c)H<h[A]&&(H=h[A]);for(A=C;A<d;A+=c)h[A]=H+p[C-1]}else if(o===eO){for(H=0,A=0;A<d;++A)A%c&&H<h[A]&&(H=h[A]);for(A=0;A<d;++A)A%c&&(h[A]=H+m)}else for(o=!1,C=1;C<c;++C)for(A=C;A<d;A+=c)h[A]+=p[C-1];if(a===aee)for($=1;$<f;++$){for(H=0,A=$*c,S=A+c;A<S;++A)H<g[A]&&(H=g[A]);for(A=$*c;A<S;++A)g[A]=H+y[$-1]}else if(a===eO){for(H=0,A=c;A<d;++A)H<g[A]&&(H=g[A]);for(A=c;A<d;++A)g[A]=H+v}else for(a=!1,$=1;$<f;++$)for(A=$*c,S=A+c;A<S;++A)g[A]+=y[$-1];for(B=0,A=0;A<d;++A)B=h[A]+(A%c?B:0),b[A]+=B-t[A].x;for(C=0;C<c;++C)for(q=0,A=C;A<d;A+=c)q+=g[A],w[A]+=q-t[A].y;if(o&&$s(n.center,$v)&&f>1)for(A=0;A<d;++A)k=o===eO?m:p[A%c],B=k-x[A].x2-t[A].x-b[A],B>0&&(b[A]+=B/2);if(a&&$s(n.center,Nv)&&c!==1)for(A=0;A<d;++A)k=a===eO?v:y[~~(A/c)],q=k-x[A].y2-t[A].y-w[A],q>0&&(w[A]+=q/2);for(A=0;A<d;++A)s.union(x[A].translate(b[A],w[A]));switch(B=$s(n.anchor,$kn),q=$s(n.anchor,Nkn),$s(n.anchor,$v)){case vl:B-=s.width();break;case oee:B-=s.width()/2}switch($s(n.anchor,Nv)){case vl:q-=s.height();break;case oee:q-=s.height()/2}for(B=Math.round(B),q=Math.round(q),s.clear(),A=0;A<d;++A)t[A].mark.bounds.clear();for(A=0;A<d;++A)P=t[A],P.x+=b[A]+=B,P.y+=w[A]+=q,s.union(P.mark.bounds.union(P.bounds.translate(b[A],w[A]))),r&&e.dirty(P);return s}function Ykn(e,t,n){var r=qkn(t),i=r.marks,s=n.bounds===Hce?Kkn:Xkn,o=n.offset,a=n.columns||i.length,u=a<=0?1:Math.ceil(i.length/a),l=u*a,c,f,d,h,p,m,g;const y=gGe(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(m=$s(n.headerBand,Nv,null),c=rO(e,r.rowheaders,i,a,u,-$s(o,"rowHeader"),ICe,0,s,"x1",0,a,1,m)),r.colheaders&&(m=$s(n.headerBand,$v,null),f=rO(e,r.colheaders,i,a,a,-$s(o,"columnHeader"),ICe,1,s,"y1",0,1,a,m)),r.rowfooters&&(m=$s(n.footerBand,Nv,null),d=rO(e,r.rowfooters,i,a,u,$s(o,"rowFooter"),kCe,0,s,"x2",a-1,a,1,m)),r.colfooters&&(m=$s(n.footerBand,$v,null),h=rO(e,r.colfooters,i,a,a,$s(o,"columnFooter"),kCe,1,s,"y2",l-a,1,a,m)),r.rowtitle&&(p=$s(n.titleAnchor,Nv),g=$s(o,"rowTitle"),g=p===vl?d+g:c-g,m=$s(n.titleBand,Nv,.5),$Ce(e,r.rowtitle,g,0,y,m)),r.coltitle&&(p=$s(n.titleAnchor,$v),g=$s(o,"columnTitle"),g=p===vl?h+g:f-g,m=$s(n.titleBand,$v,.5),$Ce(e,r.coltitle,g,1,y,m))}function Kkn(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function Xkn(e,t){return e.bounds[t]}function rO(e,t,n,r,i,s,o,a,u,l,c,f,d,h){var p=n.length,m=0,g=0,y,v,b,w,x,S,A,C,$;if(!p)return m;for(y=c;y<p;y+=f)n[y]&&(m=o(m,u(n[y],l)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=s,v=0,w=t.length;v<w;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,w=t.length;v<w;++v,y+=f){for(S=t[v],x=S.mark.bounds,b=y;b>=0&&(A=n[b])==null;b-=d);a?(C=h==null?A.x:Math.round(A.bounds.x1+h*A.bounds.width()),$=m):(C=m,$=h==null?A.y:Math.round(A.bounds.y1+h*A.bounds.height())),x.union(S.bounds.translate(C-(S.x||0),$-(S.y||0))),S.x=C,S.y=$,e.dirty(S),g=o(g,x[l])}return g}function $Ce(e,t,n,r,i,s){if(t){e.dirty(t);var o=n,a=n;r?o=Math.round(i.x1+s*i.width()):a=Math.round(i.y1+s*i.height()),t.bounds.translate(o-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=a,e.dirty(t)}}function Qkn(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function Jkn(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function Zkn(e,t,n,r,i,s,o){const a=Qkn(n,t),u=Jkn(e,a("offset",0)),l=a("anchor",Bce),c=l===vl?1:l===oee?.5:0,f={align:aee,bounds:a("bounds",Hce),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case np:f.anchor={x:Math.floor(r.x1)-u,column:vl,y:c*(o||r.height()+2*r.y1),row:l};break;case up:f.anchor={x:Math.ceil(r.x2)+u,y:c*(o||r.height()+2*r.y1),row:l};break;case zA:f.anchor={y:Math.floor(i.y1)-u,row:vl,x:c*(s||i.width()+2*i.x1),column:l};break;case Db:f.anchor={y:Math.ceil(i.y2)+u,x:c*(s||i.width()+2*i.x1),column:l};break;case Ckn:f.anchor={x:u,y:u};break;case Ikn:f.anchor={x:s-u,y:u,column:vl};break;case kkn:f.anchor={x:u,y:o-u,row:vl};break;case Rkn:f.anchor={x:s-u,y:o-u,column:vl,row:vl};break}return f}function eRn(e,t){var n=t.items[0],r=n.datum,i=n.orient,s=n.bounds,o=n.x,a=n.y,u,l;return n._bounds?n._bounds.clear().union(s):n._bounds=s.clone(),s.clear(),nRn(e,n,n.items[0].items[0]),s=tRn(n,s),u=2*n.padding,l=2*n.padding,s.empty()||(u=Math.ceil(s.width()+u),l=Math.ceil(s.height()+l)),r.type===Lkn&&rRn(n.items[0].items[0].items[0].items),i!==Vce&&(n.x=o=0,n.y=a=0),n.width=u,n.height=l,a1(s.set(o,a,o+u,a+l),n),n.mark.bounds.clear().union(s),n}function tRn(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function nRn(e,t,n){var r=t.padding,i=r-n.x,s=r-n.y;if(!t.datum.title)(i||s)&&r4(e,n,i,s);else{var o=t.items[1].items[0],a=o.anchor,u=t.titlePadding||0,l=r-o.x,c=r-o.y;switch(o.orient){case np:i+=Math.ceil(o.bounds.width())+u;break;case up:case Db:break;default:s+=o.bounds.height()+u}switch((i||s)&&r4(e,n,i,s),o.orient){case np:c+=rT(t,n,o,a,1,1);break;case up:l+=rT(t,n,o,vl,0,0)+u,c+=rT(t,n,o,a,1,1);break;case Db:l+=rT(t,n,o,a,0,0),c+=rT(t,n,o,vl,-1,0,1)+u;break;default:l+=rT(t,n,o,a,0,0)}(l||c)&&r4(e,o,l,c),(l=Math.round(o.bounds.x1-r))<0&&(r4(e,n,-l,0),r4(e,o,-l,0))}}function rT(e,t,n,r,i,s,o){const a=e.datum.type!=="symbol",u=n.datum.vgrad,l=a&&(s||!u)&&!o?t.items[0]:t,c=l.bounds[i?"y2":"x2"]-e.padding,f=u&&s?c:0,d=u&&s?0:c,h=i<=0?0:Cce(n);return Math.round(r===Bce?f:r===vl?d-h:.5*(c-h))}function r4(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function rRn(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function iRn(e,t,n,r,i){var s=t.items[0],o=s.frame,a=s.orient,u=s.anchor,l=s.offset,c=s.padding,f=s.items[0].items[0],d=s.items[1]&&s.items[1].items[0],h=a===np||a===up?r:n,p=0,m=0,g=0,y=0,v=0,b;if(o!==gU?a===np?(p=i.y2,h=i.y1):a===up?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===np&&(p=r,h=0),b=u===Bce?p:u===vl?h:(p+h)/2,d&&d.text){switch(a){case zA:case Db:v=f.bounds.height()+c;break;case np:y=f.bounds.width()+c;break;case up:y=-f.bounds.width()-c;break}$u.clear().union(d.bounds),$u.translate(y-(d.x||0),v-(d.y||0)),ZT(d,"x",y)|ZT(d,"y",v)&&(e.dirty(d),d.bounds.clear().union($u),d.mark.bounds.clear().union($u),e.dirty(d)),$u.clear().union(d.bounds)}else $u.clear();switch($u.union(f.bounds),a){case zA:m=b,g=i.y1-$u.height()-l;break;case np:m=i.x1-$u.width()-l,g=b;break;case up:m=i.x2+$u.width()+l,g=b;break;case Db:m=b,g=i.y2+l;break;default:m=s.x,g=s.y}return ZT(s,"x",m)|ZT(s,"y",g)&&($u.translate(m,g),e.dirty(s),s.bounds.clear().union($u),t.bounds.clear().union($u),e.dirty(s)),s.bounds}function yGe(e){He.call(this,null,e)}At(yGe,He,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&Ykn(n,r,e.layout),oRn(n,r,e)}),sRn(e.mark.group)?t.reflow():t}});function sRn(e){return e&&e.mark.role!=="legend-entry"}function oRn(e,t,n){var r=t.items,i=Math.max(0,t.width||0),s=Math.max(0,t.height||0),o=new Mo().set(0,0,i,s),a=o.clone(),u=o.clone(),l=[],c,f,d,h,p,m;for(p=0,m=r.length;p<m;++p)switch(f=r[p],f.role){case jce:h=zkn(f)?a:u,h.union(Hkn(e,f,i,s));break;case Uce:c=f;break;case zce:l.push(eRn(e,f));break;case Pkn:case Okn:case nGe:case rGe:case iGe:case sGe:case oGe:case aGe:a.union(f.bounds),u.union(f.bounds);break;default:o.union(f.bounds)}if(l.length){const g={};l.forEach(y=>{d=y.orient||up,d!==Vce&&(g[d]||(g[d]=[])).push(y)});for(const y in g){const v=g[y];gGe(e,v,Zkn(v,y,n.legends,a,u,i,s))}l.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===uGe||n.autosize.type===lGe||n.autosize.type===cGe))switch(y.orient){case np:case up:o.add(v.x1,0).add(v.x2,0);break;case zA:case Db:o.add(0,v.y1).add(0,v.y2)}else o.union(v)})}o.union(a).union(u),c&&o.union(iRn(e,c,i,s,o)),t.clip&&o.set(0,0,t.width||0,t.height||0),aRn(e,t,o,n)}function aRn(e,t,n,r){const i=r.autosize||{},s=i.type;if(e._autosize<1||!s)return;let o=e._width,a=e._height,u=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-u)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===Dkn){const p=e.padding();o-=p.left+p.right,a-=p.top+p.bottom}s===Vce?(l=0,f=0,u=o,c=a):s===uGe?(u=Math.max(0,o-l-d),c=Math.max(0,a-f-h)):s===lGe?(u=Math.max(0,o-l-d),a=c+f+h):s===cGe?(o=u+l+d,c=Math.max(0,a-f-h)):s===Mkn&&(o=u+l+d,a=c+f+h),e._resizeView(o,a,u,c,[l,f],i.resize)}const uRn=Object.freeze(Object.defineProperty({__proto__:null,bound:fGe,identifier:qce,mark:dGe,overlap:hGe,render:mGe,viewlayout:yGe},Symbol.toStringTag,{value:"Module"}));function vGe(e){He.call(this,null,e)}At(vGe,He,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.scale,o=e.count==null?e.values?e.values.length:10:e.count,a=lce(s,o,e.minstep),u=e.format||qqe(n,s,a,e.formatSpecifier,e.formatType,!!e.values),l=e.values?Hqe(s,e.values,a):cce(s,a);return i&&(r.rem=i),i=l.map((c,f)=>_i({index:f/(l.length-1||1),value:c,label:u(c)})),e.extra&&i.length&&i.push(_i({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function bGe(e){He.call(this,null,e)}function lRn(){return _i({})}function cRn(e){const t=p3().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}At(bGe,He,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||lRn,s=e.key||nn,o=this.value;return Qe(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(s))&&Ke("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=cRn(s)),t.visit(t.ADD,a=>{const u=s(a);let l=o.get(u);l?l.exit?(o.empty--,r.add.push(l)):r.mod.push(l):(l=i(a),o.set(u,l),r.add.push(l)),l.datum=a,l.exit=!1}),t.visit(t.MOD,a=>{const u=s(a),l=o.get(u);l&&(l.datum=a,r.mod.push(l))}),t.visit(t.REM,a=>{const u=s(a),l=o.get(u);a===l.datum&&!l.exit&&(r.rem.push(l),l.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}});function _Ge(e){He.call(this,null,e)}At(_Ge,He,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,s=t.encode;if(Qe(s))if(n.changed()||s.every(f=>i[f]))s=s[0],n.encode=null;else return t.StopPropagation;var o=s==="enter",a=i.update||X1,u=i.enter||X1,l=i.exit||X1,c=(s&&!o?i[s]:a)||X1;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{u(f,e),a(f,e)}),n.modifies(u.output),n.modifies(a.output),c!==X1&&c!==a&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&l!==X1&&(t.visit(t.REM,f=>{l(f,e)}),n.modifies(l.output)),o||c!==X1){const f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,d=>{const h=u(d,e)||r;(c(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(u.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function wGe(e){He.call(this,[],e)}At(wGe,He,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.type||PD,o=e.scale,a=+e.limit,u=lce(o,e.count==null?5:e.count,e.minstep),l=!!e.values||s===PD,c=e.format||Kqe(n,o,u,s,e.formatSpecifier,e.formatType,l),f=e.values||Yqe(o,u),d,h,p,m,g;return i&&(r.rem=i),s===PD?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,a-1),g=!0):i=f,Jn(p=e.size)?(!e.values&&o(i[0])===0&&(i=i.slice(1)),m=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=Ju(m=p||8),i=i.map((y,v)=>_i({index:v,label:c(y,v,i),value:y,offset:m,size:p(y,e)})),g&&(g=f[i.length],i.push(_i({index:i.length,label:`${f.length-i.length} entries`,value:g,offset:m,size:p(g,e)})))):s===MIn?(d=o.domain(),h=Uqe(o,d[0],Vr(d)),f.length<3&&!e.values&&d[0]!==Vr(d)&&(f=[d[0],Vr(d)]),i=f.map((y,v)=>_i({index:v,label:c(y,v,f),value:y,perc:h(y)}))):(p=f.length-1,h=YIn(o),i=f.map((y,v)=>_i({index:v,label:c(y,v,f),value:y,perc:v?h(y):0,perc2:v===p?1:h(f[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const fRn=e=>e.source.x,dRn=e=>e.source.y,hRn=e=>e.target.x,pRn=e=>e.target.y;function Wce(e){He.call(this,{},e)}Wce.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};At(Wce,He,{transform(e,t){var n=e.sourceX||fRn,r=e.sourceY||dRn,i=e.targetX||hRn,s=e.targetY||pRn,o=e.as||"path",a=e.orient||"vertical",u=e.shape||"line",l=NCe.get(u+"-"+a)||NCe.get(u);return l||Ke("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[o]=l(n(c),r(c),i(c),s(c))}),t.reflow(e.modified()).modifies(o)}});const xGe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,mRn=(e,t,n,r)=>xGe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),EGe=(e,t,n,r)=>{var i=n-e,s=r-t,o=Math.hypot(i,s)/2,a=180*Math.atan2(s,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+a+" 0 1 "+n+","+r},gRn=(e,t,n,r)=>EGe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),TGe=(e,t,n,r)=>{const i=n-e,s=r-t,o=.2*(i+s),a=.2*(s-i);return"M"+e+","+t+"C"+(e+o)+","+(t+a)+" "+(n+a)+","+(r-o)+" "+n+","+r},yRn=(e,t,n,r)=>TGe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),vRn=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,bRn=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,_Rn=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),u=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*s+"A"+t+","+t+" 0 0,"+(u?1:0)+" "+t*o+","+t*a+"L"+r*o+","+r*a},wRn=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},xRn=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},ERn=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),u=(t+r)/2;return"M"+t*i+","+t*s+"C"+u*i+","+u*s+" "+u*o+","+u*a+" "+r*o+","+r*a},NCe=p3({line:xGe,"line-radial":mRn,arc:EGe,"arc-radial":gRn,curve:TGe,"curve-radial":yRn,"orthogonal-horizontal":vRn,"orthogonal-vertical":bRn,"orthogonal-radial":_Rn,"diagonal-horizontal":wRn,"diagonal-vertical":xRn,"diagonal-radial":ERn});function Gce(e){He.call(this,null,e)}Gce.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};At(Gce,He,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],s=e.field||f3,o=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,u=t.source,l=u.map(s),c=l.length,f=o,d=(a-o)/kDe(l),h=Ic(c),p,m,g;for(e.sort&&h.sort((y,v)=>l[y]-l[v]),p=0;p<c;++p)g=l[h[p]],m=u[h[p]],m[r]=f,m[i]=f+=g*d;return this.value=l,t.reflow(e.modified()).modifies(n)}});const TRn=5;function SRn(e){const t=e.type;return!e.bins&&(t===LA||t===EN||t===TN)}function SGe(e){return oce(e)&&e!==Q0}const ARn=Ip(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function AGe(e){He.call(this,null,e),this.modified(!0)}At(AGe,He,{transform(e,t){var n=t.dataflow,r=this.value,i=CRn(e);(!r||i!==r.type)&&(this.value=r=ci(i)());for(i in e)if(!ARn[i]){if(i==="padding"&&SGe(r.type))continue;Jn(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return PRn(r,e,NRn(r,e,kRn(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function CRn(e){var t=e.type,n="",r;return t===Q0?Q0+"-"+LA:(IRn(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Q0+"-":r===3?v3+"-":""),(n+t||LA).toLowerCase())}function IRn(e){const t=e.type;return oce(t)&&t!==Ux&&t!==zx&&(e.scheme||e.range&&e.range.length&&e.range.every(Pt))}function kRn(e,t,n){const r=RRn(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,s=e.type,o=t.zero||t.zero===void 0&&SRn(e),a,u;if(!i)return 0;if((o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){u=t.domainMid;const l=u>i[a]?a+1:u<i[0]?0:a;l!==a&&n.warn("Scale domainMid exceeds domain min or max.",u),i.splice(l,0,u)}return SGe(s)&&t.padding&&i[0]!==Vr(i)&&(i=$Rn(s,i,t.range,t.padding,t.exponent,t.constant)),e.domain(CGe(s,i,n)),s===nce&&e.unknown(t.domainImplicit?eJ:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&lce(e,t.nice)||null),i.length}function RRn(e,t,n){return t?(e.domain(CGe(e.type,t,n)),t.length):-1}function $Rn(e,t,n,r,i,s){var o=Math.abs(Vr(n)-n[0]),a=o/(o-2*r),u=e===Oy?Kue(t,null,a):e===TN?VM(t,null,a,.5):e===EN?VM(t,null,a,i||1):e===tU?Xue(t,null,a,s||1):Yue(t,null,a);return t=t.slice(),t[0]=u[0],t[t.length-1]=u[1],t}function CGe(e,t,n){if(Lqe(e)){var r=Math.abs(t.reduce((i,s)=>i+(s<0?-1:s>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+Et(t))}return t}function NRn(e,t,n){let r=t.bins;if(r&&!Qe(r)){const i=e.domain(),s=i[0],o=Vr(i),a=r.step;let u=r.start==null?s:r.start,l=r.stop==null?o:r.stop;a||Ke("Scale bins parameter missing step property."),u<s&&(u=a*Math.ceil(s/a)),l>o&&(l=a*Math.floor(o/a)),r=Ic(u,l+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===rce&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function PRn(e,t,n){var r=e.type,i=t.round||!1,s=t.range;if(t.rangeStep!=null)s=ORn(r,t,n);else if(t.scheme&&(s=DRn(r,t,n),Jn(s))){if(e.interpolator)return e.interpolator(s);Ke(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&Mqe(r))return e.interpolator(iU(uee(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(ace(t.interpolate,t.interpolateGamma)):Jn(e.round)?e.round(i):Jn(e.rangeRound)&&e.interpolate(i?B$:Ky),s&&e.range(uee(s,t.reverse))}function ORn(e,t,n){e!==Rqe&&e!==GZ&&Ke("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===GZ?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*tce(n,i,r)]}function DRn(e,t,n){var r=t.schemeExtent,i,s;return Qe(t.scheme)?s=iU(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),s=uce(i),s||Ke(`Unrecognized scheme name: ${t.scheme}`)),n=e===rU?n+1:e===rce?n-1:e===MA||e===nU?+t.schemeCount||TRn:n,Mqe(e)?PCe(s,r,t.reverse):Jn(s)?jqe(PCe(s,r),n):e===nce?s:s.slice(0,n)}function PCe(e,t,n){return Jn(e)&&(t||n)?Bqe(e,uee(t||[0,1],n)):e}function uee(e,t){return t?e.slice().reverse():e}function IGe(e){He.call(this,null,e)}At(IGe,He,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(G2(e.sort)),this.modified(n),t}});const OCe="zero",kGe="center",RGe="normalize",$Ge=["y0","y1"];function Yce(e){He.call(this,null,e)}Yce.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:OCe,values:[OCe,kGe,RGe]},{name:"as",type:"string",array:!0,length:2,default:$Ge}]};At(Yce,He,{transform(e,t){var n=e.as||$Ge,r=n[0],i=n[1],s=G2(e.sort),o=e.field||f3,a=e.offset===kGe?LRn:e.offset===RGe?MRn:FRn,u,l,c,f;for(u=BRn(t.source,e.groupby,s,o),l=0,c=u.length,f=u.max;l<c;++l)a(u[l],f,o,r,i);return t.reflow(e.modified()).modifies(n)}});function LRn(e,t,n,r,i){for(var s=(t-e.sum)/2,o=e.length,a=0,u;a<o;++a)u=e[a],u[r]=s,u[i]=s+=Math.abs(n(u))}function MRn(e,t,n,r,i){for(var s=1/e.sum,o=0,a=e.length,u=0,l=0,c;u<a;++u)c=e[u],c[r]=o,c[i]=o=s*(l+=Math.abs(n(c)))}function FRn(e,t,n,r,i){for(var s=0,o=0,a=e.length,u=0,l,c;u<a;++u)c=e[u],l=+n(c),l<0?(c[r]=o,c[i]=o+=l):(c[r]=s,c[i]=s+=l)}function BRn(e,t,n,r){var i=[],s=m=>m(c),o,a,u,l,c,f,d,h,p;if(t==null)i.push(e.slice());else for(o={},a=0,u=e.length;a<u;++a)c=e[a],f=t.map(s),d=o[f],d||(o[f]=d=[],i.push(d)),d.push(c);for(f=0,p=0,l=i.length;f<l;++f){for(d=i[f],a=0,h=0,u=d.length;a<u;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return i.max=p,i}const jRn=Object.freeze(Object.defineProperty({__proto__:null,axisticks:vGe,datajoin:bGe,encode:_Ge,legendentries:wGe,linkpath:Wce,pie:Gce,scale:AGe,sortitems:IGe,stack:Yce},Symbol.toStringTag,{value:"Module"}));var URn=Math.abs,lee=Math.cos,oF=Math.sin,zRn=1e-6,NGe=Math.PI,cee=NGe/2,DCe=VRn(2);function LCe(e){return e>1?cee:e<-1?-cee:Math.asin(e)}function VRn(e){return e>0?Math.sqrt(e):0}function HRn(e,t){var n=e*oF(t),r=30,i;do t-=i=(t+oF(t)-n)/(1+lee(t));while(URn(i)>zRn&&--r>0);return t/2}function qRn(e,t,n){function r(i,s){return[e*i*lee(s=HRn(n,s)),t*oF(s)]}return r.invert=function(i,s){return s=LCe(s/t),[i/(e*lee(s)),LCe((2*s+oF(2*s))/n)]},r}var WRn=qRn(DCe/cee,DCe,NGe);function GRn(){return Pm(WRn).scale(169.529)}const YRn=cLe(),fee=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function KRn(e,t){return function n(){const r=t();return r.type=e,r.path=cLe().projection(r),r.copy=r.copy||function(){const i=n();return fee.forEach(s=>{r[s]&&i[s](r[s]())}),i.path.pointRadius(r.path.pointRadius()),i},Oqe(r)}}function Kce(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(aF[e]=KRn(e,t),this):aF[e]||null}function PGe(e){return e&&e.path||YRn}const aF={albers:dLe,albersusa:RPt,azimuthalequalarea:$Pt,azimuthalequidistant:NPt,conicconformal:DPt,conicequalarea:jL,conicequidistant:FPt,equalEarth:jPt,equirectangular:LPt,gnomonic:UPt,identity:zPt,mercator:PPt,mollweide:GRn,naturalEarth1:VPt,orthographic:HPt,stereographic:qPt,transversemercator:WPt};for(const e in aF)Kce(e,aF[e]);function XRn(){}const yg=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function OGe(){var e=1,t=1,n=a;function r(u,l){return l.map(c=>i(u,c))}function i(u,l){var c=[],f=[];return s(u,l,d=>{n(d,u,l),QRn(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=c.length,m;h<p;++h)if(JRn((m=c[h])[0],d)!==-1){m.push(d);return}}),{type:"MultiPolygon",value:l,coordinates:c}}function s(u,l,c){var f=new Array,d=new Array,h,p,m,g,y,v;for(h=p=-1,g=u[0]>=l,yg[g<<1].forEach(b);++h<e-1;)m=g,g=u[h+1]>=l,yg[m|g<<1].forEach(b);for(yg[g<<0].forEach(b);++p<t-1;){for(h=-1,g=u[p*e+e]>=l,y=u[p*e]>=l,yg[g<<1|y<<2].forEach(b);++h<e-1;)m=g,g=u[p*e+e+h+1]>=l,v=y,y=u[p*e+h+1]>=l,yg[m|g<<1|y<<2|v<<3].forEach(b);yg[g|y<<3].forEach(b)}for(h=-1,y=u[p*e]>=l,yg[y<<2].forEach(b);++h<e-1;)v=y,y=u[p*e+h+1]>=l,yg[y<<2|v<<3].forEach(b);yg[y<<3].forEach(b);function b(w){var x=[w[0][0]+h,w[0][1]+p],S=[w[1][0]+h,w[1][1]+p],A=o(x),C=o(S),$,k;($=d[A])?(k=f[C])?(delete d[$.end],delete f[k.start],$===k?($.ring.push(S),c($.ring)):f[$.start]=d[k.end]={start:$.start,end:k.end,ring:$.ring.concat(k.ring)}):(delete d[$.end],$.ring.push(S),d[$.end=C]=$):($=f[C])?(k=d[A])?(delete f[$.start],delete d[k.end],$===k?($.ring.push(S),c($.ring)):f[k.start]=d[$.end]={start:k.start,end:$.end,ring:k.ring.concat($.ring)}):(delete f[$.start],$.ring.unshift(x),f[$.start=A]=$):f[A]=d[C]={start:A,end:C,ring:[x,S]}}}function o(u){return u[0]*2+u[1]*(e+1)*4}function a(u,l,c){u.forEach(f=>{var d=f[0],h=f[1],p=d|0,m=h|0,g,y=l[m*e+p];d>0&&d<e&&p===d&&(g=l[m*e+p-1],f[0]=d+(c-g)/(y-g)-.5),h>0&&h<t&&m===h&&(g=l[(m-1)*e+p],f[1]=h+(c-g)/(y-g)-.5)})}return r.contour=i,r.size=function(u){if(!arguments.length)return[e,t];var l=Math.floor(u[0]),c=Math.floor(u[1]);return l>=0&&c>=0||Ke("invalid size"),e=l,t=c,r},r.smooth=function(u){return arguments.length?(n=u?a:XRn,r):n===a},r}function QRn(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function JRn(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=ZRn(e,t[n]))return i;return 0}function ZRn(e,t){for(var n=t[0],r=t[1],i=-1,s=0,o=e.length,a=o-1;s<o;a=s++){var u=e[s],l=u[0],c=u[1],f=e[a],d=f[0],h=f[1];if(e$n(u,f,t))return 0;c>r!=h>r&&n<(d-l)*(r-c)/(h-c)+l&&(i=-i)}return i}function e$n(e,t,n){var r;return t$n(e,t,n)&&n$n(e[r=+(e[0]===t[0])],n[r],t[r])}function t$n(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function n$n(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function DGe(e,t,n){return function(r){var i=bm(r),s=n?Math.min(i[0],0):i[0],o=i[1],a=o-s,u=t?mb(s,o,e):a/(e+1);return Ic(s+u,o,u)}}function Xce(e){He.call(this,null,e)}Xce.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};At(Xce,He,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||Qu,s=OGe().smooth(e.smooth!==!1),o=e.thresholds||r$n(r,i,e),a=e.as===null?null:e.as||"contour",u=[];return r.forEach(l=>{const c=i(l),f=s.size([c.width,c.height])(c.values,Qe(o)?o:o(c.values));i$n(f,c,l,e),f.forEach(d=>{u.push(Wj(l,_i(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function r$n(e,t,n){const r=DGe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>ry(t(i).values)))}function i$n(e,t,n,r){let i=r.scale||t.scale,s=r.translate||t.translate;if(Jn(i)&&(i=i(n,r)),Jn(s)&&(s=s(n,r)),(i===1||i==null)&&!s)return;const o=(ri(i)?i:i[0])||1,a=(ri(i)?i:i[1])||1,u=s&&s[0]||0,l=s&&s[1]||0;e.forEach(LGe(t,o,a,u,l))}function LGe(e,t,n,r,i){const s=e.x1||0,o=e.y1||0,a=t*n<0;function u(f){f.forEach(l)}function l(f){a&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-s)*t+r,f[1]=(f[1]-o)*n+i}return function(f){return f.coordinates.forEach(u),f}}function MCe(e,t,n){const r=e>=0?e:mle(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function pY(e){return Jn(e)?e:Ju(+e)}function MGe(){var e=u=>u[0],t=u=>u[1],n=f3,r=[-1,-1],i=960,s=500,o=2;function a(u,l){const c=MCe(r[0],u,e)>>o,f=MCe(r[1],u,t)>>o,d=c?c+2:0,h=f?f+2:0,p=2*d+(i>>o),m=2*h+(s>>o),g=new Float32Array(p*m),y=new Float32Array(p*m);let v=g;u.forEach(w=>{const x=d+(+e(w)>>o),S=h+(+t(w)>>o);x>=0&&x<p&&S>=0&&S<m&&(g[x+S*p]+=+n(w))}),c>0&&f>0?(iT(p,m,g,y,c),sT(p,m,y,g,f),iT(p,m,g,y,c),sT(p,m,y,g,f),iT(p,m,g,y,c),sT(p,m,y,g,f)):c>0?(iT(p,m,g,y,c),iT(p,m,y,g,c),iT(p,m,g,y,c),v=y):f>0&&(sT(p,m,g,y,f),sT(p,m,y,g,f),sT(p,m,g,y,f),v=y);const b=l?Math.pow(2,-2*o):1/kDe(v);for(let w=0,x=p*m;w<x;++w)v[w]*=b;return{values:v,scale:1<<o,width:p,height:m,x1:d,y1:h,x2:d+(i>>o),y2:h+(s>>o)}}return a.x=function(u){return arguments.length?(e=pY(u),a):e},a.y=function(u){return arguments.length?(t=pY(u),a):t},a.weight=function(u){return arguments.length?(n=pY(u),a):n},a.size=function(u){if(!arguments.length)return[i,s];var l=+u[0],c=+u[1];return l>=0&&c>=0||Ke("invalid size"),i=l,s=c,a},a.cellSize=function(u){return arguments.length?((u=+u)>=1||Ke("invalid cell size"),o=Math.floor(Math.log(u)/Math.LN2),a):1<<o},a.bandwidth=function(u){return arguments.length?(u=Nt(u),u.length===1&&(u=[+u[0],+u[0]]),u.length!==2&&Ke("invalid bandwidth"),r=u,a):r},a}function iT(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<t;++o)for(let a=0,u=0;a<e+i;++a)a<e&&(u+=n[a+o*e]),a>=i&&(a>=s&&(u-=n[a-s+o*e]),r[a-i+o*e]=u/Math.min(a+1,e-1+s-a,s))}function sT(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<e;++o)for(let a=0,u=0;a<t+i;++a)a<t&&(u+=n[o+a*e]),a>=i&&(a>=s&&(u-=n[o+(a-s)*e]),r[o+(a-i)*e]=u/Math.min(a+1,t-1+s-a,s))}function Qce(e){He.call(this,null,e)}Qce.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const s$n=["x","y","weight","size","cellSize","bandwidth"];function FGe(e,t){return s$n.forEach(n=>t[n]!=null?e[n](t[n]):0),e}At(Qce,He,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=o$n(r,e.groupby),s=(e.groupby||[]).map(so),o=FGe(MGe(),e),a=e.as||"grid",u=[];function l(c,f){for(let d=0;d<s.length;++d)c[s[d]]=f[d];return c}return u=i.map(c=>_i(l({[a]:o(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function o$n(e,t){var n=[],r=c=>c(a),i,s,o,a,u,l;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],u=t.map(r),l=i[u],l||(i[u]=l=[],l.dims=u,n.push(l)),l.push(a);return n}function Jce(e){He.call(this,null,e)}Jce.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};At(Jce,He,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=OGe().smooth(e.smooth!==!1),i=e.values,s=e.thresholds||DGe(e.count||10,e.nice,!!i),o=e.size,a,u;return i||(i=t.materialize(t.SOURCE).source,a=FGe(MGe(),e)(i,!0),u=LGe(a,a.scale||1,a.scale||1,0,0),o=[a.width,a.height],i=a.values),s=Qe(s)?s:s(i),i=r.size(o)(i,s),u&&i.forEach(u),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(_i),n}});const dee="Feature",Zce="FeatureCollection",a$n="MultiPoint";function efe(e){He.call(this,null,e)}efe.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};At(efe,He,{transform(e,t){var n=this._features,r=this._points,i=e.fields,s=i&&i[0],o=i&&i[1],a=e.geojson||!i&&Qu,u=t.ADD,l;l=e.modified()||t.changed(t.REM)||t.modified(Hu(a))||s&&t.modified(Hu(s))||o&&t.modified(Hu(o)),(!this.value||l)&&(u=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(u,c=>n.push(a(c))),s&&o&&(t.visit(u,c=>{var f=s(c),d=o(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:dee,geometry:{type:a$n,coordinates:r}})),this.value={type:Zce,features:n}}});function tfe(e){He.call(this,null,e)}tfe.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};At(tfe,He,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Qu,s=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=PGe(e.projection),n.materialize().reflow()):o=i===Qu||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=u$n(r,e.pointRadius);return n.visit(o,u=>u[s]=r(i(u))),r.pointRadius(a),n.modifies(s)}});function u$n(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function nfe(e){He.call(this,null,e)}nfe.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};At(nfe,He,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],s=e.as||["x","y"],o=s[0],a=s[1],u;function l(c){const f=n([r(c),i(c)]);f?(c[o]=f[0],c[a]=f[1]):(c[o]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,l):(u=t.modified(r.fields)||t.modified(i.fields),t.visit(u?t.ADD_MOD:t.ADD,l)),t.modifies(s)}});function rfe(e){He.call(this,null,e)}rfe.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};At(rfe,He,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",s=n.ADD;return(!r||e.modified())&&(this.value=r=l$n(PGe(e.projection),e.field||Jd("datum"),e.pointRadius),n.materialize().reflow(),s=n.SOURCE),n.visit(s,o=>o[i]=r),n.modifies(i)}});function l$n(e,t,n){const r=n==null?i=>e(t(i)):i=>{var s=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(s),o};return r.context=i=>(e.context(i),r),r}function ife(e){He.call(this,[],e),this.generator=lPt()}ife.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};At(ife,He,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const s in e)Jn(r[s])&&r[s](e[s]);return i=r(),n.length?t.mod.push(FHe(n[0],i)):t.add.push(_i(i)),n[0]=i,t}});function sfe(e){He.call(this,null,e)}sfe.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};At(sfe,He,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||Qu,s=f$n(e.opacity,e),o=c$n(e.color,e),a=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?ry(n.map(l=>ry(i(l).values))):0};return n.forEach(l=>{const c=i(l),f=Qn({},l,u);r||(f.$max=ry(c.values||[])),l[a]=d$n(c,f,o.dep?o:Ju(o(f)),s.dep?s:Ju(s(f)))}),t.reflow(!0).modifies(a)}});function c$n(e,t){let n;return Jn(e)?(n=r=>gb(e(r,t)),n.dep=BGe(e)):n=Ju(gb(e||"#888")),n}function f$n(e,t){let n;return Jn(e)?(n=r=>e(r,t),n.dep=BGe(e)):e?n=Ju(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function BGe(e){if(!Jn(e))return!1;const t=Ip(Hu(e));return t.$x||t.$y||t.$value||t.$max}function d$n(e,t,n,r){const i=e.width,s=e.height,o=e.x1||0,a=e.y1||0,u=e.x2||i,l=e.y2||s,c=e.values,f=c?g=>c[g]:yv,d=Zv(u-o,l-a),h=d.getContext("2d"),p=h.getImageData(0,0,u-o,l-a),m=p.data;for(let g=a,y=0;g<l;++g){t.$y=g-a;for(let v=o,b=g*i;v<u;++v,y+=4){t.$x=v-o,t.$value=f(v+b);const w=n(t);m[y+0]=w.r,m[y+1]=w.g,m[y+2]=w.b,m[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function jGe(e){He.call(this,null,e),this.modified(!0)}At(jGe,He,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=p$n(e.type),fee.forEach(r=>{e[r]!=null&&FCe(n,r,e[r])})):fee.forEach(r=>{e.modified(r)&&FCe(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&h$n(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function h$n(e,t){const n=m$n(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function p$n(e){const t=Kce((e||"mercator").toLowerCase());return t||Ke("Unrecognized projection type: "+e),t()}function FCe(e,t,n){Jn(e[t])&&e[t](n)}function m$n(e){return e=Nt(e),e.length===1?e[0]:{type:Zce,features:e.reduce((t,n)=>t.concat(g$n(n)),[])}}function g$n(e){return e.type===Zce?e.features:Nt(e).filter(t=>t!=null).map(t=>t.type===dee?t:{type:dee,geometry:t})}const y$n=Object.freeze(Object.defineProperty({__proto__:null,contour:Jce,geojson:efe,geopath:tfe,geopoint:nfe,geoshape:rfe,graticule:ife,heatmap:sfe,isocontour:Xce,kde2d:Qce,projection:jGe},Symbol.toStringTag,{value:"Module"})),BCe={center:ZNt,collide:v5t,nbody:k5t,link:_5t,x:R5t,y:$5t},s6="forces",hee=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],v$n=["static","iterations"],UGe=["x","y","vx","vy"];function ofe(e){He.call(this,null,e)}ofe.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:UGe}]};At(ofe,He,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(hee),s=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&zGe(n,e,0,t)):(this.value=n=_$n(t.source,e),n.on("tick",b$n(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(v$n)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/s)),e.static)for(n.stop();--s>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,u=0,l=a.length,c;u<l;++u)if(c=a[u],!(c.name!==s6||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,s=r.length,o;i<s;++i)if(r[i].name==="links"&&(o=r[i].op.source)){n.pulse(o,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(UGe)}});function b$n(e,t){return()=>e.touch(t).run()}function _$n(e,t){const n=I5t(e),r=n.stop,i=n.restart;let s=!1;return n.stopped=()=>s,n.restart=()=>(s=!1,i()),n.stop=()=>(s=!0,r()),zGe(n,t,!0).on("end",()=>s=!0)}function zGe(e,t,n,r){var i=Nt(t.forces),s,o,a,u;for(s=0,o=hee.length;s<o;++s)a=hee[s],a!==s6&&t.modified(a)&&e[a](t[a]);for(s=0,o=i.length;s<o;++s)u=s6+s,a=n||t.modified(s6,s)?x$n(i[s]):r&&w$n(i[s],r)?e.force(u):null,a&&e.force(u,a);for(o=e.numForces||0;s<o;++s)e.force(s6+s,null);return e.numForces=i.length,e}function w$n(e,t){var n,r;for(n in e)if(Jn(r=e[n])&&t.modified(Hu(r)))return 1;return 0}function x$n(e){var t,n;sn(BCe,e.force)||Ke("Unrecognized force: "+e.force),t=BCe[e.force]();for(n in e)Jn(t[n])&&E$n(t[n],e[n],e);return t}function E$n(e,t,n){e(Jn(t)?r=>t(r,n):t)}const T$n=Object.freeze(Object.defineProperty({__proto__:null,force:ofe},Symbol.toStringTag,{value:"Module"}));function pee(e,t,n){const r={};return e.each(i=>{const s=i.data;n(s)&&(r[t(s)]=i)}),e.lookup=r,e}function afe(e){He.call(this,null,e)}afe.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const S$n=e=>e.values;At(afe,He,{transform(e,t){t.source||Ke("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),s=this.value;return(!s||r||t.changed())&&(s&&s.each(o=>{o.children&&qj(o.data)&&i.rem.push(o.data)}),this.value=s=CB({values:Nt(e.keys).reduce((o,a)=>(o.key(a),o),A$n()).entries(i.source)},S$n),n&&s.each(o=>{o.children&&(o=_i(o.data),i.add.push(o),i.source.push(o))}),pee(s,nn,nn)),i.source.root=s,i}});function A$n(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,s){if(s>=e.length)return i;const o=i.length,a=e[s++],u={},l={};let c=-1,f,d,h;for(;++c<o;)f=a(d=i[c])+"",(h=u[f])?h.push(d):u[f]=[d];for(f in u)l[f]=n(u[f],s);return l}function r(i,s){if(++s>e.length)return i;const o=[];for(const a in i)o.push({key:a,values:r(i[a],s)});return o}return t}function u1(e){He.call(this,null,e)}const C$n=(e,t)=>e.parent===t.parent?1:2;At(u1,He,{transform(e,t){(!t.source||!t.source.root)&&Ke(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,s=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(G2(e.sort,o=>o.data)),I$n(n,this.params,e),n.separation&&n.separation(e.separation!==!1?C$n:f3);try{this.value=n(i)}catch(o){Ke(o)}return i.each(o=>k$n(o,r,s)),t.reflow(e.modified()).modifies(s).modifies("leaf")}});function I$n(e,t,n){for(let r,i=0,s=t.length;i<s;++i)r=t[i],r in n&&e[r](n[r])}function k$n(e,t,n){const r=e.data,i=t.length-1;for(let s=0;s<i;++s)r[n[s]]=e[t[s]];r[n[i]]=e.children?e.children.length:0}const mee=["x","y","r","depth","children"];function ufe(e){u1.call(this,e)}ufe.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:mee.length,default:mee}]};At(ufe,u1,{layout:CLe,params:["radius","size","padding"],fields:mee});const gee=["x0","y0","x1","y1","depth","children"];function lfe(e){u1.call(this,e)}lfe.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:gee.length,default:gee}]};At(lfe,u1,{layout:$8t,params:["size","round","padding"],fields:gee});function cfe(e){He.call(this,null,e)}cfe.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};At(cfe,He,{transform(e,t){t.source||Ke("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),s=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),s&&(n=i.source.length?pee(_we().id(e.key).parentId(e.parentKey)(i.source),e.key,Zd):pee(_we()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const jCe={tidy:U8t,cluster:e8t},yee=["x","y","depth","children"];function ffe(e){u1.call(this,e)}ffe.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:yee.length,default:yee}]};At(ffe,u1,{layout(e){const t=e||"tidy";if(sn(jCe,t))return jCe[t]();Ke("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:yee});function dfe(e){He.call(this,[],e)}dfe.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};At(dfe,He,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),s={};return r||Ke("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,o=>s[nn(o)]=1),r.each(o=>{const a=o.data,u=o.parent&&o.parent.data;u&&s[nn(a)]&&s[nn(u)]&&i.add.push(_i({source:u,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>s[nn(o)]=1),n.forEach(o=>{(s[nn(o.source)]||s[nn(o.target)])&&i.mod.push(o)})),i}});const UCe={binary:V8t,dice:V$,slice:IB,slicedice:H8t,squarify:$Le,resquarify:q8t},vee=["x0","y0","x1","y1","depth","children"];function hfe(e){u1.call(this,e)}hfe.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:vee.length,default:vee}]};At(hfe,u1,{layout(){const e=z8t();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{sn(UCe,t)?e.tile(UCe[t]):Ke("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:vee});const R$n=Object.freeze(Object.defineProperty({__proto__:null,nest:afe,pack:ufe,partition:lfe,stratify:cfe,tree:ffe,treelinks:dfe,treemap:hfe},Symbol.toStringTag,{value:"Module"})),mY=4278190080;function $$n(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function N$n(e,t,n,r,i){const s=e.width,o=e.height,a=r||i,u=Zv(s,o).getContext("2d"),l=Zv(s,o).getContext("2d"),c=a&&Zv(s,o).getContext("2d");n.forEach(C=>zD(u,C,!1)),zD(l,t,!1),a&&zD(c,t,!0);const f=gY(u,s,o),d=gY(l,s,o),h=a&&gY(c,s,o),p=e.bitmap(),m=a&&e.bitmap();let g,y,v,b,w,x,S,A;for(y=0;y<o;++y)for(g=0;g<s;++g)w=y*s+g,x=f[w]&mY,A=d[w]&mY,S=a&&h[w]&mY,(x||S||A)&&(v=e(g),b=e(y),!i&&(x||A)&&p.set(v,b),a&&(x||S)&&m.set(v,b));return[p,m]}function gY(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function zD(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(s=>zD(e,s.items,n))}):ed[r].draw(e,{items:n?t.map(P$n):t})}function P$n(e){const t=Wj(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const vg=5,dl=31,DR=32,lv=new Uint32Array(DR+1),Kh=new Uint32Array(DR+1);Kh[0]=0;lv[0]=~Kh[0];for(let e=1;e<=DR;++e)Kh[e]=Kh[e-1]<<1|1,lv[e]=~Kh[e];function O$n(e,t){const n=new Uint32Array(~~((e*t+DR)/DR));function r(s,o){n[s]|=o}function i(s,o){n[s]&=o}return{array:n,get:(s,o)=>{const a=o*e+s;return n[a>>>vg]&1<<(a&dl)},set:(s,o)=>{const a=o*e+s;r(a>>>vg,1<<(a&dl))},clear:(s,o)=>{const a=o*e+s;i(a>>>vg,~(1<<(a&dl)))},getRange:(s,o,a,u)=>{let l=u,c,f,d,h;for(;l>=o;--l)if(c=l*e+s,f=l*e+a,d=c>>>vg,h=f>>>vg,d===h){if(n[d]&lv[c&dl]&Kh[(f&dl)+1])return!0}else{if(n[d]&lv[c&dl]||n[h]&Kh[(f&dl)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(s,o,a,u)=>{let l,c,f,d,h;for(;o<=u;++o)if(l=o*e+s,c=o*e+a,f=l>>>vg,d=c>>>vg,f===d)r(f,lv[l&dl]&Kh[(c&dl)+1]);else for(r(f,lv[l&dl]),r(d,Kh[(c&dl)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(s,o,a,u)=>{let l,c,f,d,h;for(;o<=u;++o)if(l=o*e+s,c=o*e+a,f=l>>>vg,d=c>>>vg,f===d)i(f,Kh[l&dl]|lv[(c&dl)+1]);else for(i(f,Kh[l&dl]),i(d,lv[(c&dl)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(s,o,a,u)=>s<0||o<0||u>=t||a>=e}}function D$n(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),s=~~((t+2*n+r)/r),o=a=>~~((a+n)/r);return o.invert=a=>a*r-n,o.bitmap=()=>O$n(i,s),o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function L$n(e,t,n,r){const i=e.width,s=e.height;return function(o){const a=o.datum.datum.items[r].items,u=a.length,l=o.datum.fontSize,c=Ff.width(o.datum,o.datum.text);let f=0,d,h,p,m,g,y,v;for(let b=0;b<u;++b)d=a[b].x,p=a[b].y,h=a[b].x2===void 0?d:a[b].x2,m=a[b].y2===void 0?p:a[b].y2,g=(d+h)/2,y=(p+m)/2,v=Math.abs(h-d+m-p),v>=f&&(f=v,o.x=g,o.y=y);return g=c/2,y=l/2,d=o.x-g,h=o.x+g,p=o.y-y,m=o.y+y,o.align="center",d<0&&h<=i?o.align="left":0<=d&&i<h&&(o.align="right"),o.baseline="middle",p<0&&m<=s?o.baseline="top":0<=p&&s<m&&(o.baseline="bottom"),!0}}function uF(e,t,n,r,i,s){let o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>s}function Pv(e,t,n,r,i,s,o,a){const u=i*s/(r*2),l=e(t-u),c=e(t+u),f=e(n-(s=s/2)),d=e(n+s);return o.outOfBounds(l,f,c,d)||o.getRange(l,f,c,d)||a&&a.getRange(l,f,c,d)}function M$n(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1];function u(l,c,f,d,h){const p=e.invert(l),m=e.invert(c);let g=f,y=s,v;if(!uF(p,m,d,h,i,s)&&!Pv(e,p,m,h,d,g,o,a)&&!Pv(e,p,m,h,d,h,o,null)){for(;y-g>=1;)v=(g+y)/2,Pv(e,p,m,h,d,v,o,a)?y=v:g=v;if(g>f)return[p,m,g,!0]}}return function(l){const c=l.datum.datum.items[r].items,f=c.length,d=l.datum.fontSize,h=Ff.width(l.datum,l.datum.text);let p=n?d:0,m=!1,g=!1,y=0,v,b,w,x,S,A,C,$,k,P,L,O,B,q,H,G,K;for(let J=0;J<f;++J){for(v=c[J].x,w=c[J].y,b=c[J].x2===void 0?v:c[J].x2,x=c[J].y2===void 0?w:c[J].y2,v>b&&(K=v,v=b,b=K),w>x&&(K=w,w=x,x=K),k=e(v),L=e(b),P=~~((k+L)/2),O=e(w),q=e(x),B=~~((O+q)/2),C=P;C>=k;--C)for($=B;$>=O;--$)G=u(C,$,p,h,d),G&&([l.x,l.y,p,m]=G);for(C=P;C<=L;++C)for($=B;$<=q;++$)G=u(C,$,p,h,d),G&&([l.x,l.y,p,m]=G);!m&&!n&&(H=Math.abs(b-v+x-w),S=(v+b)/2,A=(w+x)/2,H>=y&&!uF(S,A,h,d,i,s)&&!Pv(e,S,A,d,h,d,o,null)&&(y=H,l.x=S,l.y=A,g=!0))}return m||g?(S=h/2,A=d/2,o.setRange(e(l.x-S),e(l.y-A),e(l.x+S),e(l.y+A)),l.align="center",l.baseline="middle",!0):!1}}const F$n=[-1,-1,1,1],B$n=[-1,1,-1,1];function j$n(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],u=e.bitmap();return function(l){const c=l.datum.datum.items[r].items,f=c.length,d=l.datum.fontSize,h=Ff.width(l.datum,l.datum.text),p=[];let m=n?d:0,g=!1,y=!1,v=0,b,w,x,S,A,C,$,k,P,L,O,B;for(let q=0;q<f;++q){for(b=c[q].x,x=c[q].y,w=c[q].x2===void 0?b:c[q].x2,S=c[q].y2===void 0?x:c[q].y2,p.push([e((b+w)/2),e((x+S)/2)]);p.length;)if([$,k]=p.pop(),!(o.get($,k)||a.get($,k)||u.get($,k))){u.set($,k);for(let H=0;H<4;++H)A=$+F$n[H],C=k+B$n[H],u.outOfBounds(A,C,A,C)||p.push([A,C]);if(A=e.invert($),C=e.invert(k),P=m,L=s,!uF(A,C,h,d,i,s)&&!Pv(e,A,C,d,h,P,o,a)&&!Pv(e,A,C,d,h,d,o,null)){for(;L-P>=1;)O=(P+L)/2,Pv(e,A,C,d,h,O,o,a)?L=O:P=O;P>m&&(l.x=A,l.y=C,m=P,g=!0)}}!g&&!n&&(B=Math.abs(w-b+S-x),A=(b+w)/2,C=(x+S)/2,B>=v&&!uF(A,C,h,d,i,s)&&!Pv(e,A,C,d,h,d,o,null)&&(v=B,l.x=A,l.y=C,y=!0))}return g||y?(A=h/2,C=d/2,o.setRange(e(l.x-A),e(l.y-C),e(l.x+A),e(l.y+C)),l.align="center",l.baseline="middle",!0):!1}}const U$n=["right","center","left"],z$n=["bottom","middle","top"];function V$n(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],u=r.length;return function(l){const c=l.boundary,f=l.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>s)return!1;let d=l.textWidth??0,h,p,m,g,y,v,b,w,x,S,A,C,$,k,P;for(let L=0;L<u;++L){if(h=(n[L]&3)-1,p=(n[L]>>>2&3)-1,m=h===0&&p===0||r[L]<0,g=h&&p?Math.SQRT1_2:1,y=r[L]<0?-1:1,v=c[1+h]+r[L]*h*g,A=c[4+p]+y*f*p/2+r[L]*p*g,w=A-f/2,x=A+f/2,C=e(v),k=e(w),P=e(x),!d)if(zCe(C,C,k,P,o,a,v,v,w,x,c,m))d=Ff.width(l.datum,l.datum.text);else continue;if(S=v+y*d*h/2,v=S-d/2,b=S+d/2,C=e(v),$=e(b),zCe(C,$,k,P,o,a,v,b,w,x,c,m))return l.x=h?h*y<0?b:v:S,l.y=p?p*y<0?x:w:A,l.align=U$n[h*y+1],l.baseline=z$n[p*y+1],o.setRange(C,k,$,P),!0}return!1}}function zCe(e,t,n,r,i,s,o,a,u,l,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&s||i).getRange(e,n,t,r))}const yY=0,vY=4,bY=8,_Y=0,wY=1,xY=2,H$n={"top-left":yY+_Y,top:yY+wY,"top-right":yY+xY,left:vY+_Y,middle:vY+wY,right:vY+xY,"bottom-left":bY+_Y,bottom:bY+wY,"bottom-right":bY+xY},q$n={naive:L$n,"reduced-search":M$n,floodfill:j$n};function W$n(e,t,n,r,i,s,o,a,u,l,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=G$n(r,f),h=Y$n(i,f),p=K$n(e[0].datum),m=p==="group"&&e[0].datum.items[u].marktype,g=m==="area",y=X$n(p,m,a,u),v=l===null||l===1/0,b=g&&c==="naive";let w=-1,x=-1;const S=e.map(k=>{const P=v?Ff.width(k,k.text):void 0;return w=Math.max(w,P),x=Math.max(x,k.fontSize),{datum:k,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(k),textWidth:P}});l=l===null||l===1/0?Math.max(w,x)+Math.max(...r):l;const A=D$n(t[0],t[1],l);let C;if(!b){n&&S.sort((L,O)=>n(L.datum,O.datum));let k=!1;for(let L=0;L<h.length&&!k;++L)k=h[L]===5||d[L]<0;const P=(p&&o||g)&&e.map(L=>L.datum);C=s.length||P?N$n(A,P||[],s,k,g):$$n(A,o&&S)}const $=g?q$n[c](A,C,o,u):V$n(A,C,h,d);return S.forEach(k=>k.opacity=+$(k)),S}function G$n(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function Y$n(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=H$n[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function K$n(e){return e&&e.mark&&e.mark.marktype}function X$n(e,t,n,r){const i=s=>[s.x,s.x,s.x,s.y,s.y,s.y];return e?e==="line"||e==="area"?s=>i(s.datum):t==="line"?s=>{const o=s.datum.items[r].items;return i(o.length?o[n==="start"?0:o.length-1]:{x:NaN,y:NaN})}:s=>{const o=s.datum.bounds;return[o.x1,(o.x1+o.x2)/2,o.x2,o.y1,(o.y1+o.y2)/2,o.y2]}:i}const bee=["x","y","opacity","align","baseline"],VGe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function pfe(e){He.call(this,null,e)}pfe.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:VGe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:bee.length,default:bee}]};At(pfe,He,{transform(e,t){function n(s){const o=e[s];return Jn(o)&&t.modified(o.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&Ke("Size parameter should be specified as a [width, height] array.");const i=e.as||bee;return W$n(t.materialize(t.SOURCE).source||[],e.size,e.sort,Nt(e.offset==null?1:e.offset),Nt(e.anchor||VGe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(s=>{const o=s.datum;o[i[0]]=s.x,o[i[1]]=s.y,o[i[2]]=s.opacity,o[i[3]]=s.align,o[i[4]]=s.baseline}),t.reflow(r).modifies(i)}});const Q$n=Object.freeze(Object.defineProperty({__proto__:null,label:pfe},Symbol.toStringTag,{value:"Module"}));function HGe(e,t){var n=[],r=function(c){return c(a)},i,s,o,a,u,l;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],u=t.map(r),l=i[u],l||(i[u]=l=[],l.dims=u,n.push(l)),l.push(a);return n}function mfe(e){He.call(this,null,e)}mfe.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};At(mfe,He,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=HGe(r,e.groupby),s=(e.groupby||[]).map(so),o=s.length,a=e.as||[so(e.x),so(e.y)],u=[];i.forEach(l=>{nqe(l,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<o;++d)f[s[d]]=l.dims[d];f[a[0]]=c[0],f[a[1]]=c[1],u.push(_i(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});const _ee={constant:Cle,linear:Ile,log:JHe,exp:ZHe,pow:eqe,quad:kle,poly:tqe},J$n=(e,t)=>e==="poly"?t:e==="quad"?2:1;function gfe(e){He.call(this,null,e)}gfe.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(_ee)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};At(gfe,He,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=HGe(r,e.groupby),s=(e.groupby||[]).map(so),o=e.method||"linear",a=e.order==null?3:e.order,u=J$n(o,a),l=e.as||[so(e.x),so(e.y)],c=_ee[o],f=[];let d=e.extent;sn(_ee,o)||Ke("Invalid regression method: "+o),d!=null&&o==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=u){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(h,e.x,e.y,a);if(e.params){f.push(_i({keys:h.dims,coef:m.coef,rSquared:m.rSquared}));return}const g=d||bm(h,e.x),y=v=>{const b={};for(let w=0;w<s.length;++w)b[s[w]]=h.dims[w];b[l[0]]=v[0],b[l[1]]=v[1],f.push(_i(b))};o==="linear"||o==="constant"?g.forEach(v=>y([v,m.predict(v)])):Zj(m.predict,g,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const Z$n=Object.freeze(Object.defineProperty({__proto__:null,loess:mfe,regression:gfe},Symbol.toStringTag,{value:"Module"}));function yfe(e){He.call(this,null,e)}yfe.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const eNn=[-1e5,-1e5,1e5,1e5];At(yfe,He,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:eNn;const s=this.value=Dse.from(r,e.x,e.y).voronoi(i);for(let o=0,a=r.length;o<a;++o){const u=s.cellPolygon(o);r[o][n]=u&&!nNn(u)?tNn(u):null}return t.reflow(e.modified()).modifies(n)}});function tNn(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function nNn(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const rNn=Object.freeze(Object.defineProperty({__proto__:null,voronoi:yfe},Symbol.toStringTag,{value:"Module"}));var EY=Math.PI/180,o6=64,VD=2048;function iNn(){var e=[256,256],t,n,r,i,s,o,a,u=qGe,l=[],c=Math.random,f={};f.layout=function(){for(var p=d(Zv()),m=cNn((e[0]>>5)*e[1]),g=null,y=l.length,v=-1,b=[],w=l.map(S=>({text:t(S),font:n(S),style:i(S),weight:s(S),rotate:o(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,A)=>A.size-S.size);++v<y;){var x=w[v];x.x=e[0]*(c()+.5)>>1,x.y=e[1]*(c()+.5)>>1,sNn(p,x,w,v),x.hasText&&h(m,x,g)&&(b.push(x),g?aNn(g,x):g=[{x:x.x+x.x0,y:x.y+x.y0},{x:x.x+x.x1,y:x.y+x.y1}],x.x-=e[0]>>1,x.y-=e[1]>>1)}return b};function d(p){p.width=p.height=1;var m=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(o6<<5)/m,p.height=VD/m;var g=p.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:m}}function h(p,m,g){for(var y=m.x,v=m.y,b=Math.sqrt(e[0]*e[0]+e[1]*e[1]),w=u(e),x=c()<.5?1:-1,S=-x,A,C,$;(A=w(S+=x))&&(C=~~A[0],$=~~A[1],!(Math.min(Math.abs(C),Math.abs($))>=b));)if(m.x=y+C,m.y=v+$,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!g||!oNn(m,p,e[0]))&&(!g||uNn(m,g))){for(var k=m.sprite,P=m.width>>5,L=e[0]>>5,O=m.x-(P<<4),B=O&127,q=32-B,H=m.y1-m.y0,G=(m.y+m.y0)*L+(O>>5),K,J=0;J<H;J++){K=0;for(var F=0;F<=P;F++)p[G+F]|=K<<q|(F<P?(K=k[J*P+F])>>>B:0);G+=L}return m.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(l=p,f):l},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=J_(p),f):n},f.fontStyle=function(p){return arguments.length?(i=J_(p),f):i},f.fontWeight=function(p){return arguments.length?(s=J_(p),f):s},f.rotate=function(p){return arguments.length?(o=J_(p),f):o},f.text=function(p){return arguments.length?(t=J_(p),f):t},f.spiral=function(p){return arguments.length?(u=fNn[p]||p,f):u},f.fontSize=function(p){return arguments.length?(r=J_(p),f):r},f.padding=function(p){return arguments.length?(a=J_(p),f):a},f.random=function(p){return arguments.length?(c=p,f):c},f}function sNn(e,t,n,r){if(!t.sprite){var i=e.context,s=e.ratio;i.clearRect(0,0,(o6<<5)/s,VD/s);var o=0,a=0,u=0,l=n.length,c,f,d,h,p;for(--r;++r<l;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,c=i.measureText(t.text+"m").width*s,d=t.size<<1,t.rotate){var m=Math.sin(t.rotate*EY),g=Math.cos(t.rotate*EY),y=c*g,v=c*m,b=d*g,w=d*m;c=Math.max(Math.abs(y+w),Math.abs(y-w))+31>>5<<5,d=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else c=c+31>>5<<5;if(d>u&&(u=d),o+c>=o6<<5&&(o=0,a+=u,u=0),a+d>=VD)break;i.translate((o+(c>>1))/s,(a+(d>>1))/s),t.rotate&&i.rotate(t.rotate*EY),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=o,t.yoff=a,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=c}for(var x=i.getImageData(0,0,(o6<<5)/s,VD/s).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,h=0;h<d*f;h++)S[h]=0;if(o=t.xoff,o==null)return;a=t.yoff;var A=0,C=-1;for(p=0;p<d;p++){for(h=0;h<c;h++){var $=f*p+(h>>5),k=x[(a+p)*(o6<<5)+(o+h)<<2]?1<<31-h%32:0;S[$]|=k,A|=k}A?C=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+C,t.sprite=S.slice(0,(t.y1-t.y0)*f)}}}function oNn(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,s=e.x-(i<<4),o=s&127,a=32-o,u=e.y1-e.y0,l=(e.y+e.y0)*n+(s>>5),c,f=0;f<u;f++){c=0;for(var d=0;d<=i;d++)if((c<<a|(d<i?(c=r[f*i+d])>>>o:0))&t[l+d])return!0;l+=n}return!1}function aNn(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function uNn(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function qGe(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function lNn(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(s){var o=s<0?-1:1;switch(Math.sqrt(1+4*o*s)-o&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function cNn(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function J_(e){return typeof e=="function"?e:function(){return e}}var fNn={archimedean:qGe,rectangular:lNn};const WGe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],dNn=["text","font","rotate","fontSize","fontStyle","fontWeight"];function vfe(e){He.call(this,iNn(),e)}vfe.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:WGe}]};At(vfe,He,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&Ke("Wordcloud size dimensions must be non-zero.");function n(p){const m=e[p];return Jn(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||dNn.some(n)))return;const i=t.materialize(t.SOURCE).source,s=this.value,o=e.as||WGe;let a=e.fontSize||14,u;if(Jn(a)?u=e.fontSizeRange:a=Ju(a),u){const p=a,m=ci("sqrt")().domain(bm(i,p)).range(u);a=g=>m(p(g))}i.forEach(p=>{p[o[0]]=NaN,p[o[1]]=NaN,p[o[3]]=0});const l=s.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(th).layout(),c=s.size(),f=c[0]>>1,d=c[1]>>1,h=l.length;for(let p=0,m,g;p<h;++p)m=l[p],g=m.datum,g[o[0]]=m.x+f,g[o[1]]=m.y+d,g[o[2]]=m.font,g[o[3]]=m.size,g[o[4]]=m.style,g[o[5]]=m.weight,g[o[6]]=m.rotate;return t.reflow(r).modifies(o)}});const hNn=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:vfe},Symbol.toStringTag,{value:"Module"})),pNn=e=>new Uint8Array(e),mNn=e=>new Uint16Array(e),Z6=e=>new Uint32Array(e);function gNn(){let e=8,t=[],n=Z6(0),r=iO(0,e),i=iO(0,e);return{data:()=>t,seen:()=>n=yNn(n,t.length),add(s){for(let o=0,a=t.length,u=s.length,l;o<u;++o)l=s[o],l._index=a++,t.push(l)},remove(s,o){const a=t.length,u=Array(a-s),l=t;let c,f,d;for(f=0;!o[f]&&f<a;++f)u[f]=t[f],l[f]=f;for(d=f;f<a;++f)c=t[f],o[f]?l[f]=-1:(l[f]=d,r[d]=r[f],i[d]=i[f],u[d]=c,c._index=d++),r[f]=0;return t=u,l},size:()=>t.length,curr:()=>r,prev:()=>i,reset:s=>i[s]=r[s],all:()=>e<257?255:e<65537?65535:4294967295,set(s,o){r[s]|=o},clear(s,o){r[s]&=~o},resize(s,o){const a=r.length;(s>a||o>e)&&(e=Math.max(o,e),r=iO(s,e,r),i=iO(s,e))}}}function yNn(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function iO(e,t,n){const r=(t<257?pNn:t<65537?mNn:Z6)(e);return n&&r.set(n),r}function VCe(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,s){const o=this,a=o.bisect(o.range,i.value),u=i.index,l=a[0],c=a[1],f=u.length;let d;for(d=0;d<l;++d)s[u[d]]|=r;for(d=c;d<f;++d)s[u[d]]|=r;return o}}}function HCe(){let e=Z6(0),t=[],n=0;function r(a,u,l){if(!u.length)return[];const c=n,f=u.length,d=Z6(f);let h=Array(f),p,m,g;for(g=0;g<f;++g)h[g]=a(u[g]),d[g]=g;if(h=vNn(h,d),c)p=t,m=e,t=Array(c+f),e=Z6(c+f),bNn(l,p,m,c,h,d,f,t,e);else{if(l>0)for(g=0;g<f;++g)d[g]+=l;t=h,e=d}return n=c+f,{index:d,value:h}}function i(a,u){const l=n;let c,f,d;for(f=0;!u[e[f]]&&f<l;++f);for(d=f;f<l;++f)u[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=l-a}function s(a){for(let u=0,l=n;u<l;++u)e[u]=a[e[u]]}function o(a,u){let l;return u?l=u.length:(u=t,l=n),[g6t(u,a[0],0,l),pb(u,a[1],0,l)]}return{insert:r,remove:i,bisect:o,reindex:s,index:()=>e,size:()=>n}}function vNn(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],s=e[r];return i<s?-1:i>s?1:0}),b6t(e,t)}function bNn(e,t,n,r,i,s,o,a,u){let l=0,c=0,f;for(f=0;l<r&&c<o;++f)t[l]<i[c]?(a[f]=t[l],u[f]=n[l++]):(a[f]=i[c],u[f]=s[c++]+e);for(;l<r;++l,++f)a[f]=t[l],u[f]=n[l];for(;c<o;++c,++f)a[f]=i[c],u[f]=s[c]+e}function bfe(e){He.call(this,gNn(),e),this._indices=null,this._dims=null}bfe.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};At(bfe,He,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},s=this._dims=[],o=r.length;let a=0,u,l;for(;a<o;++a)u=n[a].fname,l=i[u]||(i[u]=HCe()),s.push(VCe(l,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,s=this._indices,o=this._dims,a=this.value,u=a.curr(),l=a.prev(),c=a.all(),f=n.rem=n.add,d=n.mod,h=i.length,p={};let m,g,y,v,b,w,x,S,A;if(l.set(u),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(w={},v=t.mod,x=0,S=v.length;x<S;++x)w[v[x]._index]=1;for(x=0;x<h;++x)A=r[x],(!o[x]||e.modified("fields",x)||t.modified(A.fields))&&(y=A.fname,(m=p[y])||(s[y]=g=HCe(),p[y]=m=g.insert(A,t.source,0)),o[x]=VCe(g,x,i[x]).onAdd(m,u));for(x=0,S=a.data().length;x<S;++x)b[x]||(l[x]!==u[x]?f.push(x):w[x]&&u[x]!==c&&d.push(x));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,s=this._dims,o=this._indices,a=e.fields,u={},l=n.add,c=i.size()+r.length,f=s.length;let d=i.size(),h,p,m;i.resize(c,f),i.add(r);const g=i.curr(),y=i.prev(),v=i.all();for(h=0;h<f;++h)p=a[h].fname,m=u[p]||(u[p]=o[p].insert(a[h],r,d)),s[h].onAdd(m,g);for(;d<c;++d)y[d]=v,g[d]!==v&&l.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),s=r.all(),o=e.mod;let a,u,l;for(a=0,u=o.length;a<u;++a)l=o[a]._index,i[l]!==s&&n.push(l)},remove(e,t,n){const r=this._indices,i=this.value,s=i.curr(),o=i.prev(),a=i.all(),u={},l=n.rem,c=t.rem;let f,d,h,p;for(f=0,d=c.length;f<d;++f)h=c[f]._index,u[h]=1,o[h]=p=s[h],s[h]=a,p!==a&&l.push(h);for(h in r)r[h].remove(d,u);return this.reindex(t,d,u),u},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const s=i.remove(t,n);for(const o in r)r[o].reindex(s)})},update(e,t,n){const r=this._dims,i=e.query,s=t.stamp,o=r.length;let a=0,u,l;for(n.filters=0,l=0;l<o;++l)e.modified("query",l)&&(u=l,++a);if(a===1)a=r[u].one,this.incrementOne(r[u],i[u],n.add,n.rem);else for(l=0,a=0;l<o;++l)e.modified("query",l)&&(a|=r[l].one,this.incrementAll(r[l],i[l],s,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,s=i.seen(),o=i.curr(),a=i.prev(),u=e.index(),l=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=l[0],p=l[1],m=e.one;let g,y,v;if(f<h)for(g=f,y=Math.min(h,d);g<y;++g)v=u[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;else if(f>h)for(g=h,y=Math.min(f,p);g<y;++g)v=u[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;if(d>p)for(g=Math.max(f,p),y=d;g<y;++g)v=u[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;else if(d<p)for(g=Math.max(h,d),y=p;g<y;++g)v=u[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,s=i.curr(),o=e.index(),a=e.bisect(e.range),u=e.bisect(t),l=u[0],c=u[1],f=a[0],d=a[1],h=e.one;let p,m,g;if(l<f)for(p=l,m=Math.min(f,c);p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(l>f)for(p=f,m=Math.min(l,d);p<m;++p)g=o[p],s[g]^=h,r.push(g);if(c>d)for(p=Math.max(l,d),m=c;p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(c<d)for(p=Math.max(f,c),m=d;p<m;++p)g=o[p],s[g]^=h,r.push(g);e.range=t.slice()}});function _fe(e){He.call(this,null,e)}_fe.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};At(_fe,He,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const s=t.fork(t.ALL),o=r.data(),a=r.curr(),u=r.prev(),l=c=>a[c]&n?null:o[c];return s.filter(s.MOD,l),i&i-1?(s.filter(s.ADD,c=>{const f=a[c]&n;return!f&&f^u[c]&n?o[c]:null}),s.filter(s.REM,c=>{const f=a[c]&n;return f&&!(f^(f^u[c]&n))?o[c]:null})):(s.filter(s.ADD,l),s.filter(s.REM,c=>(a[c]&n)===i?o[c]:null)),s.filter(s.SOURCE,c=>l(c._index))}});const _Nn=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:bfe,resolvefilter:_fe},Symbol.toStringTag,{value:"Module"})),wNn="RawCode",Hx="Literal",xNn="Property",ENn="Identifier",TNn="ArrayExpression",SNn="BinaryExpression",GGe="CallExpression",ANn="ConditionalExpression",CNn="LogicalExpression",INn="MemberExpression",kNn="ObjectExpression",RNn="UnaryExpression";function zp(e){this.type=e}zp.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=$Nn(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function $Nn(e){switch(e.type){case TNn:return e.elements;case SNn:case CNn:return[e.left,e.right];case GGe:return[e.callee].concat(e.arguments);case ANn:return[e.test,e.consequent,e.alternate];case INn:return[e.object,e.property];case kNn:return e.properties;case xNn:return[e.key,e.value];case RNn:return[e.argument];case ENn:case Hx:case wNn:default:return[]}}var Bm,Gt,Ge,Wu,Pi,yU=1,LN=2,qx=3,x_=4,vU=5,X2=6,yc=7,MN=8,NNn=9;Bm={};Bm[yU]="Boolean";Bm[LN]="<end>";Bm[qx]="Identifier";Bm[x_]="Keyword";Bm[vU]="Null";Bm[X2]="Numeric";Bm[yc]="Punctuator";Bm[MN]="String";Bm[NNn]="RegularExpression";var PNn="ArrayExpression",ONn="BinaryExpression",DNn="CallExpression",LNn="ConditionalExpression",YGe="Identifier",MNn="Literal",FNn="LogicalExpression",BNn="MemberExpression",jNn="ObjectExpression",UNn="Property",zNn="UnaryExpression",Ca="Unexpected token %0",VNn="Unexpected number",HNn="Unexpected string",qNn="Unexpected identifier",WNn="Unexpected reserved word",GNn="Unexpected end of input",wee="Invalid regular expression",TY="Invalid regular expression: missing /",KGe="Octal literals are not allowed in strict mode.",YNn="Duplicate data property in object literal not allowed in strict mode",nu="ILLEGAL",LR="Disabled.",KNn=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),XNn=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function bU(e,t){if(!e)throw new Error("ASSERT: "+t)}function kg(e){return e>=48&&e<=57}function wfe(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function ek(e){return"01234567".indexOf(e)>=0}function QNn(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function MR(e){return e===10||e===13||e===8232||e===8233}function FN(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&KNn.test(String.fromCharCode(e))}function lF(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&XNn.test(String.fromCharCode(e))}const JNn={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function XGe(){for(;Ge<Wu;){const e=Gt.charCodeAt(Ge);if(QNn(e)||MR(e))++Ge;else break}}function xee(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Ge<Wu&&wfe(Gt[Ge])?(r=Gt[Ge++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):ai({},Ca,nu);return String.fromCharCode(i)}function ZNn(){var e,t,n,r;for(e=Gt[Ge],t=0,e==="}"&&ai({},Ca,nu);Ge<Wu&&(e=Gt[Ge++],!!wfe(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&ai({},Ca,nu),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function QGe(){var e,t;for(e=Gt.charCodeAt(Ge++),t=String.fromCharCode(e),e===92&&(Gt.charCodeAt(Ge)!==117&&ai({},Ca,nu),++Ge,e=xee("u"),(!e||e==="\\"||!FN(e.charCodeAt(0)))&&ai({},Ca,nu),t=e);Ge<Wu&&(e=Gt.charCodeAt(Ge),!!lF(e));)++Ge,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Gt.charCodeAt(Ge)!==117&&ai({},Ca,nu),++Ge,e=xee("u"),(!e||e==="\\"||!lF(e.charCodeAt(0)))&&ai({},Ca,nu),t+=e);return t}function e5n(){var e,t;for(e=Ge++;Ge<Wu;){if(t=Gt.charCodeAt(Ge),t===92)return Ge=e,QGe();if(lF(t))++Ge;else break}return Gt.slice(e,Ge)}function t5n(){var e,t,n;return e=Ge,t=Gt.charCodeAt(Ge)===92?QGe():e5n(),t.length===1?n=qx:JNn.hasOwnProperty(t)?n=x_:t==="null"?n=vU:t==="true"||t==="false"?n=yU:n=qx,{type:n,value:t,start:e,end:Ge}}function SY(){var e=Ge,t=Gt.charCodeAt(Ge),n,r=Gt[Ge],i,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ge,{type:yc,value:String.fromCharCode(t),start:e,end:Ge};default:if(n=Gt.charCodeAt(Ge+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ge+=2,{type:yc,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Ge};case 33:case 61:return Ge+=2,Gt.charCodeAt(Ge)===61&&++Ge,{type:yc,value:Gt.slice(e,Ge),start:e,end:Ge}}}if(o=Gt.substr(Ge,4),o===">>>=")return Ge+=4,{type:yc,value:o,start:e,end:Ge};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return Ge+=3,{type:yc,value:s,start:e,end:Ge};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return Ge+=2,{type:yc,value:i,start:e,end:Ge};if(i==="//"&&ai({},Ca,nu),"<>=!+-*%&|^/".indexOf(r)>=0)return++Ge,{type:yc,value:r,start:e,end:Ge};ai({},Ca,nu)}function n5n(e){let t="";for(;Ge<Wu&&wfe(Gt[Ge]);)t+=Gt[Ge++];return t.length===0&&ai({},Ca,nu),FN(Gt.charCodeAt(Ge))&&ai({},Ca,nu),{type:X2,value:parseInt("0x"+t,16),start:e,end:Ge}}function r5n(e){let t="0"+Gt[Ge++];for(;Ge<Wu&&ek(Gt[Ge]);)t+=Gt[Ge++];return(FN(Gt.charCodeAt(Ge))||kg(Gt.charCodeAt(Ge)))&&ai({},Ca,nu),{type:X2,value:parseInt(t,8),octal:!0,start:e,end:Ge}}function qCe(){var e,t,n;if(n=Gt[Ge],bU(kg(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Ge,e="",n!=="."){if(e=Gt[Ge++],n=Gt[Ge],e==="0"){if(n==="x"||n==="X")return++Ge,n5n(t);if(ek(n))return r5n(t);n&&kg(n.charCodeAt(0))&&ai({},Ca,nu)}for(;kg(Gt.charCodeAt(Ge));)e+=Gt[Ge++];n=Gt[Ge]}if(n==="."){for(e+=Gt[Ge++];kg(Gt.charCodeAt(Ge));)e+=Gt[Ge++];n=Gt[Ge]}if(n==="e"||n==="E")if(e+=Gt[Ge++],n=Gt[Ge],(n==="+"||n==="-")&&(e+=Gt[Ge++]),kg(Gt.charCodeAt(Ge)))for(;kg(Gt.charCodeAt(Ge));)e+=Gt[Ge++];else ai({},Ca,nu);return FN(Gt.charCodeAt(Ge))&&ai({},Ca,nu),{type:X2,value:parseFloat(e),start:t,end:Ge}}function i5n(){var e="",t,n,r,i,s=!1;for(t=Gt[Ge],bU(t==="'"||t==='"',"String literal must starts with a quote"),n=Ge,++Ge;Ge<Wu;)if(r=Gt[Ge++],r===t){t="";break}else if(r==="\\")if(r=Gt[Ge++],!r||!MR(r.charCodeAt(0)))switch(r){case"u":case"x":Gt[Ge]==="{"?(++Ge,e+=ZNn()):e+=xee(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:ek(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),Ge<Wu&&ek(Gt[Ge])&&(s=!0,i=i*8+"01234567".indexOf(Gt[Ge++]),"0123".indexOf(r)>=0&&Ge<Wu&&ek(Gt[Ge])&&(i=i*8+"01234567".indexOf(Gt[Ge++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Gt[Ge]===`
`&&++Ge;else{if(MR(r.charCodeAt(0)))break;e+=r}return t!==""&&ai({},Ca,nu),{type:MN,value:e,octal:s,start:n,end:Ge}}function s5n(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";ai({},wee)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{ai({},wee)}try{return new RegExp(e,t)}catch{return null}}function o5n(){var e,t,n,r,i;for(e=Gt[Ge],bU(e==="/","Regular expression literal must start with a slash"),t=Gt[Ge++],n=!1,r=!1;Ge<Wu;)if(e=Gt[Ge++],t+=e,e==="\\")e=Gt[Ge++],MR(e.charCodeAt(0))&&ai({},TY),t+=e;else if(MR(e.charCodeAt(0)))ai({},TY);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||ai({},TY),i=t.substr(1,t.length-2),{value:i,literal:t}}function a5n(){var e,t,n;for(t="",n="";Ge<Wu&&(e=Gt[Ge],!!lF(e.charCodeAt(0)));)++Ge,e==="\\"&&Ge<Wu?ai({},Ca,nu):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&ai({},wee,n),{value:n,literal:t}}function u5n(){var e,t,n,r;return Pi=null,XGe(),e=Ge,t=o5n(),n=a5n(),r=s5n(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ge}}function l5n(e){return e.type===qx||e.type===x_||e.type===yU||e.type===vU}function JGe(){if(XGe(),Ge>=Wu)return{type:LN,start:Ge,end:Ge};const e=Gt.charCodeAt(Ge);return FN(e)?t5n():e===40||e===41||e===59?SY():e===39||e===34?i5n():e===46?kg(Gt.charCodeAt(Ge+1))?qCe():SY():kg(e)?qCe():SY()}function xc(){const e=Pi;return Ge=e.end,Pi=JGe(),Ge=e.end,e}function ZGe(){const e=Ge;Pi=JGe(),Ge=e}function c5n(e){const t=new zp(PNn);return t.elements=e,t}function WCe(e,t,n){const r=new zp(e==="||"||e==="&&"?FNn:ONn);return r.operator=e,r.left=t,r.right=n,r}function f5n(e,t){const n=new zp(DNn);return n.callee=e,n.arguments=t,n}function d5n(e,t,n){const r=new zp(LNn);return r.test=e,r.consequent=t,r.alternate=n,r}function xfe(e){const t=new zp(YGe);return t.name=e,t}function a6(e){const t=new zp(MNn);return t.value=e.value,t.raw=Gt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function GCe(e,t,n){const r=new zp(BNn);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function h5n(e){const t=new zp(jNn);return t.properties=e,t}function YCe(e,t,n){const r=new zp(UNn);return r.key=t,r.value=n,r.kind=e,r}function p5n(e,t){const n=new zp(zNn);return n.operator=e,n.argument=t,n.prefix=!0,n}function ai(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,o)=>(bU(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=Ge,n.description=i,n}function _U(e){e.type===LN&&ai(e,GNn),e.type===X2&&ai(e,VNn),e.type===MN&&ai(e,HNn),e.type===qx&&ai(e,qNn),e.type===x_&&ai(e,WNn),ai(e,Ca,e.value)}function Gu(e){const t=xc();(t.type!==yc||t.value!==e)&&_U(t)}function bs(e){return Pi.type===yc&&Pi.value===e}function AY(e){return Pi.type===x_&&Pi.value===e}function m5n(){const e=[];for(Ge=Pi.start,Gu("[");!bs("]");)bs(",")?(xc(),e.push(null)):(e.push(Wx()),bs("]")||Gu(","));return xc(),c5n(e)}function KCe(){Ge=Pi.start;const e=xc();return e.type===MN||e.type===X2?(e.octal&&ai(e,KGe),a6(e)):xfe(e.value)}function g5n(){var e,t,n,r;if(Ge=Pi.start,e=Pi,e.type===qx)return n=KCe(),Gu(":"),r=Wx(),YCe("init",n,r);if(e.type===LN||e.type===yc)_U(e);else return t=KCe(),Gu(":"),r=Wx(),YCe("init",t,r)}function y5n(){var e=[],t,n,r,i={},s=String;for(Ge=Pi.start,Gu("{");!bs("}");)t=g5n(),t.key.type===YGe?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?ai({},YNn):i[r]=!0,e.push(t),bs("}")||Gu(",");return Gu("}"),h5n(e)}function v5n(){Gu("(");const e=Efe();return Gu(")"),e}const b5n={if:1};function _5n(){var e,t,n;if(bs("("))return v5n();if(bs("["))return m5n();if(bs("{"))return y5n();if(e=Pi.type,Ge=Pi.start,e===qx||b5n[Pi.value])n=xfe(xc().value);else if(e===MN||e===X2)Pi.octal&&ai(Pi,KGe),n=a6(xc());else{if(e===x_)throw new Error(LR);e===yU?(t=xc(),t.value=t.value==="true",n=a6(t)):e===vU?(t=xc(),t.value=null,n=a6(t)):bs("/")||bs("/=")?(n=a6(u5n()),ZGe()):_U(xc())}return n}function w5n(){const e=[];if(Gu("("),!bs(")"))for(;Ge<Wu&&(e.push(Wx()),!bs(")"));)Gu(",");return Gu(")"),e}function x5n(){Ge=Pi.start;const e=xc();return l5n(e)||_U(e),xfe(e.value)}function E5n(){return Gu("."),x5n()}function T5n(){Gu("[");const e=Efe();return Gu("]"),e}function S5n(){var e,t,n;for(e=_5n();;)if(bs("."))n=E5n(),e=GCe(".",e,n);else if(bs("("))t=w5n(),e=f5n(e,t);else if(bs("["))n=T5n(),e=GCe("[",e,n);else break;return e}function XCe(){const e=S5n();if(Pi.type===yc&&(bs("++")||bs("--")))throw new Error(LR);return e}function HD(){var e,t;if(Pi.type!==yc&&Pi.type!==x_)t=XCe();else{if(bs("++")||bs("--"))throw new Error(LR);if(bs("+")||bs("-")||bs("~")||bs("!"))e=xc(),t=HD(),t=p5n(e.value,t);else{if(AY("delete")||AY("void")||AY("typeof"))throw new Error(LR);t=XCe()}}return t}function QCe(e){let t=0;if(e.type!==yc&&e.type!==x_)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function A5n(){var e,t,n,r,i,s,o,a,u,l;if(e=Pi,u=HD(),r=Pi,i=QCe(r),i===0)return u;for(r.prec=i,xc(),t=[e,Pi],o=HD(),s=[u,r,o];(i=QCe(Pi))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,u=s.pop(),t.pop(),n=WCe(a,u,o),s.push(n);r=xc(),r.prec=i,s.push(r),t.push(Pi),n=HD(),s.push(n)}for(l=s.length-1,n=s[l],t.pop();l>1;)t.pop(),n=WCe(s[l-1].value,s[l-2],n),l-=2;return n}function Wx(){var e,t,n;return e=A5n(),bs("?")&&(xc(),t=Wx(),Gu(":"),n=Wx(),e=d5n(e,t,n)),e}function Efe(){const e=Wx();if(bs(","))throw new Error(LR);return e}function Tfe(e){Gt=e,Ge=0,Wu=Gt.length,Pi=null,ZGe();const t=Efe();if(Pi.type!==LN)throw new Error("Unexpect token after expression.");return t}var eYe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function tYe(e){function t(o,a,u,l){let c=e(a[0]);return u&&(c=u+"("+c+")",u.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+o+(l<0?"":l===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(o,a,u){return l=>t(o,l,a,u)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&Ke("Missing arguments to clamp function."),o.length>3&&Ke("Too many arguments to clamp function.");const a=o.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:s,test:n("test",s),if:function(o){o.length<3&&Ke("Missing arguments to if function."),o.length>3&&Ke("Too many arguments to if function.");const a=o.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function C5n(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function nYe(e){e=e||{};const t=e.allowed?Ip(e.allowed):{},n=e.forbidden?Ip(e.forbidden):{},r=e.constants||eYe,i=(e.functions||tYe)(f),s=e.globalvar,o=e.fieldvar,a=Jn(s)?s:p=>`${s}["${p}"]`;let u={},l={},c=0;function f(p){if(Pt(p))return p;const m=d[p.type];return m==null&&Ke("Unsupported type: "+p.type),m(p)}const d={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return c>0?m:sn(n,m)?Ke("Illegal identifier: "+m):sn(r,m)?r[m]:sn(t,m)?m:(u[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,g=f(p.object);m&&(c+=1);const y=f(p.property);return g===o&&(l[C5n(y)]=1),m&&(c-=1),g+(m?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Ke("Illegal callee type: "+p.callee.type);const m=p.callee.name,g=p.arguments,y=sn(i,m)&&i[m];return y||Ke("Unrecognized function: "+m),Jn(y)?y(g):y+"("+g.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const m=f(p.key);return c-=1,m+":"+f(p.value)}};function h(p){const m={code:f(p),globals:Object.keys(u),fields:Object.keys(l)};return u={},l={},m}return h.functions=i,h.constants=r,h}const JCe=Symbol("vega_selection_getter");function rYe(e){return(!e.getter||!e.getter[JCe])&&(e.getter=Jd(e.field),e.getter[JCe]=!0),e.getter}const Sfe="intersect",ZCe="union",I5n="vlMulti",k5n="vlPoint",e3e="or",R5n="and",_0="_vgsid_",FR=Jd(_0),$5n="E",N5n="R",P5n="R-E",O5n="R-LE",D5n="R-RE",cF="index:unit";function t3e(e,t){for(var n=t.fields,r=t.values,i=n.length,s=0,o,a;s<i;++s)if(a=n[s],o=rYe(a)(e),Qv(o)&&(o=Uu(o)),Qv(r[s])&&(r[s]=Uu(r[s])),Qe(r[s])&&Qv(r[s][0])&&(r[s]=r[s].map(Uu)),a.type===$5n){if(Qe(r[s])?r[s].indexOf(o)<0:o!==r[s])return!1}else if(a.type===N5n){if(!QT(o,r[s]))return!1}else if(a.type===D5n){if(!QT(o,r[s],!0,!1))return!1}else if(a.type===P5n){if(!QT(o,r[s],!1,!1))return!1}else if(a.type===O5n&&!QT(o,r[s],!1,!0))return!1;return!0}function L5n(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],s=r?r[cF]&&r[cF].value:void 0,o=n===Sfe,a=i.length,u=0,l,c,f,d,h;u<a;++u)if(l=i[u],s&&o){if(c=c||{},f=c[d=l.unit]||0,f===-1)continue;if(h=t3e(t,l),c[d]=h?-1:++f,h&&s.size===1)return!0;if(!h&&f===s.get(d).count)return!1}else if(h=t3e(t,l),o^h)return h;return a&&o}const iYe=pp(FR),M5n=iYe.left,F5n=iYe.right;function B5n(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],s=r?r[cF]&&r[cF].value:void 0,o=n===Sfe,a=FR(t),u=M5n(i,a);if(u===i.length||FR(i[u])!==a)return!1;if(s&&o){if(s.size===1)return!0;if(F5n(i,a)-u<s.size)return!1}return!0}function j5n(e,t){return e.map(n=>Qn(t.fields?{values:t.fields.map(r=>rYe(r)(n.datum))}:{[_0]:FR(n.datum)},t))}function U5n(e,t,n,r){for(var i=this.context.data[e],s=i?i.values.value:[],o={},a={},u={},l,c,f,d,h,p,m,g,y,v,b=s.length,w=0,x,S;w<b;++w)if(l=s[w],d=l.unit,c=l.fields,f=l.values,c&&f){for(x=0,S=c.length;x<S;++x)h=c[x],m=o[h.field]||(o[h.field]={}),g=m[d]||(m[d]=[]),u[h.field]=y=h.type.charAt(0),v=CY[`${y}_union`],m[d]=v(g,Nt(f[x]));n&&(g=a[d]||(a[d]=[]),g.push(Nt(f).reduce((A,C,$)=>(A[c[$].field]=C,A),{})))}else h=_0,p=FR(l),m=o[h]||(o[h]={}),g=m[d]||(m[d]=[]),g.push(p),n&&(g=a[d]||(a[d]=[]),g.push({[_0]:p}));if(t=t||ZCe,o[_0]?o[_0]=CY[`${_0}_${t}`](...Object.values(o[_0])):Object.keys(o).forEach(A=>{o[A]=Object.keys(o[A]).map(C=>o[A][C]).reduce((C,$)=>C===void 0?$:CY[`${u[A]}_${t}`](C,$))}),s=Object.keys(a),n&&s.length){const A=r?k5n:I5n;o[A]=t===ZCe?{[e3e]:s.reduce((C,$)=>(C.push(...a[$]),C),[])}:{[R5n]:s.map(C=>({[e3e]:a[C]}))}}return o}var CY={[`${_0}_union`]:I6t,[`${_0}_intersect`]:A6t,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=Uu(t[0]),r=Uu(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Uu(t[0]),r=Uu(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const z5n=":",V5n="@";function Afe(e,t,n,r){t[0].type!==Hx&&Ke("First argument to selection functions must be a string literal.");const i=t[0].value,s=t.length>=2&&Vr(t).value,o="unit",a=V5n+o,u=z5n+i;s===Sfe&&!sn(r,a)&&(r[a]=n.getData(i).indataRef(n,o)),sn(r,u)||(r[u]=n.getData(i).tuplesRef())}function sYe(e){const t=this.context.data[e];return t?t.values.value:[]}function H5n(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function q5n(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Zd).insert(t)),1}function W5n(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const BN=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},G5n=BN("format"),oYe=BN("timeFormat"),Y5n=BN("utcFormat"),K5n=BN("timeParse"),X5n=BN("utcParse"),sO=new Date(2e3,0,1);function wU(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(sO.setYear(2e3),sO.setMonth(e),sO.setDate(t),oYe.call(this,sO,n))}function Q5n(e){return wU.call(this,e,1,"%B")}function J5n(e){return wU.call(this,e,1,"%b")}function Z5n(e){return wU.call(this,0,2+e,"%A")}function ePn(e){return wU.call(this,0,2+e,"%a")}const tPn=":",nPn="@",Eee="%",aYe="$";function Cfe(e,t,n,r){t[0].type!==Hx&&Ke("First argument to data functions must be a string literal.");const i=t[0].value,s=tPn+i;if(!sn(s,r))try{r[s]=n.getData(i).tuplesRef()}catch{}}function rPn(e,t,n,r){t[0].type!==Hx&&Ke("First argument to indata must be a string literal."),t[1].type!==Hx&&Ke("Second argument to indata must be a string literal.");const i=t[0].value,s=t[1].value,o=nPn+s;sn(o,r)||(r[o]=n.getData(i).indataRef(n,s))}function kl(e,t,n,r){if(t[0].type===Hx)n3e(n,r,t[0].value);else for(e in n.scales)n3e(n,r,e)}function n3e(e,t,n){const r=Eee+n;if(!sn(t,r))try{t[r]=e.scaleRef(n)}catch{}}function jm(e,t){if(Jn(e))return e;if(Pt(e)){const n=t.scales[e];return n&&kIn(n.value)?n.value:void 0}}function iPn(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=kl,n._range=kl,n._scale=kl;const r=i=>"_["+(i.type===Hx?Et(Eee+i.value):Et(Eee)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function Ife(e,t){return function(n,r,i){if(n){const s=jm(n,(i||this).context);return s&&s.path[e](r)}else return t(r)}}const sPn=Ife("area",z5t),oPn=Ife("bounds",W5t),aPn=Ife("centroid",J5t);function uPn(e,t){const n=jm(e,(t||this).context);return n&&n.scale()}function lPn(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function kfe(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function cPn(){return kfe(this.context.dataflow,"warn",arguments)}function fPn(){return kfe(this.context.dataflow,"info",arguments)}function dPn(){return kfe(this.context.dataflow,"debug",arguments)}function IY(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tee(e){const t=gb(e),n=IY(t.r),r=IY(t.g),i=IY(t.b);return .2126*n+.7152*r+.0722*i}function hPn(e,t){const n=Tee(e),r=Tee(t),i=Math.max(n,r),s=Math.min(n,r);return(i+.05)/(s+.05)}function pPn(){const e=[].slice.call(arguments);return e.unshift({}),Qn(...e)}function uYe(e,t){return e===t||e!==e&&t!==t?!0:Qe(e)?Qe(t)&&e.length===t.length?mPn(e,t):!1:Ot(e)&&Ot(t)?lYe(e,t):!1}function mPn(e,t){for(let n=0,r=e.length;n<r;++n)if(!uYe(e[n],t[n]))return!1;return!0}function lYe(e,t){for(const n in e)if(!uYe(e[n],t[n]))return!1;return!0}function r3e(e){return t=>lYe(e,t)}function gPn(e,t,n,r,i,s){const o=this.context.dataflow,a=this.context.data[e],u=a.input,l=o.stamp();let c=a.changes,f,d;if(o._trigger===!1||!(u.value.length||t||r))return 0;if((!c||c.stamp<l)&&(a.changes=c=o.changeset(),c.stamp=l,o.runAfter(()=>{a.modified=!0,o.pulse(u,c).run()},!0,1)),n&&(f=n===!0?Zd:Qe(n)||qj(n)?n:r3e(n),c.remove(f)),t&&c.insert(t),r&&(f=r3e(r),u.value.some(f)?c.remove(f):c.insert(r)),i)for(d in s)c.modify(i,d,s[d]);return 1}function yPn(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function vPn(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const i3e={};function bPn(e,t){const n=i3e[t]||(i3e[t]=Jd(t));return Qe(e)?e.map(n):n(e)}function Rfe(e){return Qe(e)||ArrayBuffer.isView(e)?e:null}function $fe(e){return Rfe(e)||(Pt(e)?e:null)}function _Pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Rfe(e).join(...n)}function wPn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $fe(e).indexOf(...n)}function xPn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $fe(e).lastIndexOf(...n)}function EPn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $fe(e).slice(...n)}function TPn(e,t,n){return Jn(n)&&Ke("Function argument passed to replace."),String(e).replace(t,n)}function SPn(e){return Rfe(e).slice().reverse()}function APn(e,t,n){return tce(e||0,t||0,n||0)}function CPn(e,t){const n=jm(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function IPn(e,t){const n=jm(e,(t||this).context);return n?n.copy():void 0}function kPn(e,t){const n=jm(e,(t||this).context);return n?n.domain():[]}function RPn(e,t,n){const r=jm(e,(n||this).context);return r?Qe(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function $Pn(e,t){const n=jm(e,(t||this).context);return n&&n.range?n.range():[]}function NPn(e,t,n){const r=jm(e,(n||this).context);return r?r(t):void 0}function PPn(e,t,n,r,i){e=jm(e,(i||this).context);const s=Zqe(t,n);let o=e.domain(),a=o[0],u=Vr(o),l=Qu;return u-a?l=Uqe(e,a,u):e=(e.interpolator?ci("sequential")().interpolator(e.interpolator()):ci("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,u=1]),e.ticks&&(o=e.ticks(+r||15),a!==o[0]&&o.unshift(a),u!==Vr(o)&&o.push(u)),o.forEach(c=>s.stop(l(c),e(c))),s}function OPn(e,t,n){const r=jm(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function DPn(e){let t=null;return function(n){return n?NR(n,t=t||BA(e)):e}}const cYe=e=>e.data;function fYe(e,t){const n=sYe.call(t,e);return n.root&&n.root.lookup||{}}function LPn(e,t,n){const r=fYe(e,this),i=r[t],s=r[n];return i&&s?i.path(s).map(cYe):void 0}function MPn(e,t){const n=fYe(e,this)[t];return n?n.ancestors().map(cYe):void 0}const dYe=()=>typeof window<"u"&&window||null;function FPn(){const e=dYe();return e?e.screen:{}}function BPn(){const e=dYe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function jPn(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function hYe(e,t,n){if(!e)return[];const[r,i]=e,s=new Mo().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return XWe(o,s,UPn(t))}function UPn(e){let t=null;if(e){const n=Nt(e.marktype),r=Nt(e.markname);t=i=>(!n.length||n.some(s=>i.marktype===s))&&(!r.length||r.some(s=>i.name===s))}return t}function zPn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Nt(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function VPn(e){return Nt(e).reduce((t,n,r)=>{let[i,s]=n;return t+=r==0?`M ${i},${s} `:r===e.length-1?" Z":`L ${i},${s} `},"")}function HPn(e,t,n){const{x:r,y:i,mark:s}=n,o=new Mo().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[u,l]of t)u<o.x1&&(o.x1=u),u>o.x2&&(o.x2=u),l<o.y1&&(o.y1=l),l>o.y2&&(o.y2=l);return o.translate(r,i),hYe([[o.x1,o.y1],[o.x2,o.y2]],e,s).filter(u=>qPn(u.x,u.y,t))}function qPn(e,t,n){let r=0;for(let i=0,s=n.length-1;i<n.length;s=i++){const[o,a]=n[s],[u,l]=n[i];l>t!=a>t&&e<(o-u)*(t-l)/(a-l)+u&&r++}return r&1}const BR={random(){return th()},cumulativeNormal:Xj,cumulativeLogNormal:wle,cumulativeUniform:Sle,densityNormal:gle,densityLogNormal:_le,densityUniform:Tle,quantileNormal:Qj,quantileLogNormal:xle,quantileUniform:Ale,sampleNormal:Kj,sampleLogNormal:ble,sampleUniform:Ele,isArray:Qe,isBoolean:w_,isDate:Qv,isDefined(e){return e!==void 0},isNumber:ri,isObject:Ot,isRegExp:QVe,isString:Pt,isTuple:qj,isValid(e){return e!=null&&e===e},toBoolean:ele,toDate(e){return tle(e)},toNumber:Uu,toString:nle,indexof:wPn,join:_Pn,lastindexof:xPn,replace:TPn,reverse:SPn,slice:EPn,flush:KVe,lerp:JVe,merge:pPn,pad:tHe,peek:Vr,pluck:bPn,span:bN,inrange:QT,truncate:nHe,rgb:gb,lab:pL,hcl:mL,hsl:dL,luminance:Tee,contrast:hPn,sequence:Ic,format:G5n,utcFormat:Y5n,utcParse:X5n,utcOffset:gHe,utcSequence:bHe,timeFormat:oYe,timeParse:K5n,timeOffset:mHe,timeSequence:vHe,timeUnitSpecifier:iHe,monthFormat:Q5n,monthAbbrevFormat:J5n,dayFormat:Z5n,dayAbbrevFormat:ePn,quarter:qVe,utcquarter:WVe,week:oHe,utcweek:lHe,dayofyear:sHe,utcdayofyear:uHe,warn:cPn,info:fPn,debug:dPn,extent(e){return bm(e)},inScope:lPn,intersect:hYe,clampRange:GVe,pinchDistance:yPn,pinchAngle:vPn,screen:FPn,containerSize:jPn,windowSize:BPn,bandspace:APn,setdata:q5n,pathShape:DPn,panLinear:UVe,panLog:zVe,panPow:VVe,panSymlog:HVe,zoomLinear:Yue,zoomLog:Kue,zoomPow:VM,zoomSymlog:Xue,encode:W5n,modify:gPn,lassoAppend:zPn,lassoPath:VPn,intersectLasso:HPn},WPn=["view","item","group","xy","x","y"],GPn="event.vega.",pYe="this.",Nfe={},mYe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Et(aYe+e)}]`,functions:YPn,constants:eYe,visitors:Nfe},gYe=nYe(mYe);function YPn(e){const t=tYe(e);WPn.forEach(n=>t[n]=GPn+n);for(const n in BR)t[n]=pYe+n;return Qn(t,iPn(e,BR,Nfe)),t}function Co(e,t,n){return arguments.length===1?BR[e]:(BR[e]=t,n&&(Nfe[e]=n),gYe.functions[e]=pYe+e,this)}Co("bandwidth",CPn,kl);Co("copy",IPn,kl);Co("domain",kPn,kl);Co("range",$Pn,kl);Co("invert",RPn,kl);Co("scale",NPn,kl);Co("gradient",PPn,kl);Co("geoArea",sPn,kl);Co("geoBounds",oPn,kl);Co("geoCentroid",aPn,kl);Co("geoShape",OPn,kl);Co("geoScale",uPn,kl);Co("indata",H5n,rPn);Co("data",sYe,Cfe);Co("treePath",LPn,Cfe);Co("treeAncestors",MPn,Cfe);Co("vlSelectionTest",L5n,Afe);Co("vlSelectionIdTest",B5n,Afe);Co("vlSelectionResolve",U5n,Afe);Co("vlSelectionTuples",j5n);function wm(e,t){const n={};let r;try{e=Pt(e)?e:Et(e)+"",r=Tfe(e)}catch{Ke("Expression parse error: "+e)}r.visit(s=>{if(s.type!==GGe)return;const o=s.callee.name,a=mYe.visitors[o];a&&a(o,s.arguments,t,n)});const i=gYe(r);return i.globals.forEach(s=>{const o=aYe+s;!sn(n,o)&&t.getSignal(s)&&(n[o]=t.signalRef(s))}),{$expr:Qn({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function KPn(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const XPn=Ip(["rule"]),s3e=Ip(["group","image","rect"]);function QPn(e,t){let n="";return XPn[t]||(e.x2&&(e.x?(s3e[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(s3e[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function Pfe(e){return(e+"").toLowerCase()}function JPn(e){return Pfe(e)==="operator"}function ZPn(e){return Pfe(e)==="collect"}function i4(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function e8n(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var t8n={operator:(e,t)=>i4(e,["_"],t.code),parameter:(e,t)=>i4(e,["datum","_"],t.code),event:(e,t)=>i4(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return i4(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const s in r){const o="o["+Et(s)+"]";i+=`$=${r[s].code};if(${o}!==$)${o}=$,m=1;`}return i+=QPn(r,n),i+="return m;",i4(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(Et).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(s,o)=>{const a=t[o];let u,l;return s.path?(u=`a${s.path}`,l=`b${s.path}`):((n=n||{})["f"+o]=s,u=`this.f${o}(a)`,l=`this.f${o}(b)`),e8n(u,l,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function n8n(e){const t=this;JPn(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function r8n(e){const t=this;if(e.params){const n=t.get(e.id);n||Ke("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function i8n(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=Qe(i)?i.map(s=>o3e(s,n,t)):o3e(i,n,t)}return t}function o3e(e,t,n){if(!e||!Ot(e))return e;for(let r=0,i=a3e.length,s;r<i;++r)if(s=a3e[r],sn(e,s.key))return s.parse(e,t,n);return e}var a3e=[{key:"$ref",parse:s8n},{key:"$key",parse:a8n},{key:"$expr",parse:o8n},{key:"$field",parse:u8n},{key:"$encode",parse:c8n},{key:"$compare",parse:l8n},{key:"$context",parse:f8n},{key:"$subflow",parse:d8n},{key:"$tupleid",parse:h8n}];function s8n(e,t){return t.get(e.$ref)||Ke("Operator not defined: "+e.$ref)}function o8n(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=af(t.parameterExpression(e.$expr),e.$fields))}function a8n(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Zue(e.$key,e.$flat,t.expr.codegen))}function u8n(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Jd(e.$field,e.$name,t.expr.codegen))}function l8n(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Nt(e.$compare).map(i=>i&&i.$tupleid?nn:i);return t.fn[n]||(t.fn[n]=Que(r,e.$order,t.expr.codegen))}function c8n(e,t){const n=e.$encode,r={};for(const i in n){const s=n[i];r[i]=af(t.encodeExpression(s.$expr),s.$fields),r[i].output=s.$output}return r}function f8n(e,t){return t}function d8n(e,t){const n=e.$subflow;return function(r,i,s){const o=t.fork().parse(n),a=o.get(n.operators[0].id),u=o.signals.parent;return u&&u.set(s),a.detachSubflow=()=>t.detach(o),a}}function h8n(){return nn}function p8n(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(s=>t.get(s)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(s=>t.get(s)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&Ke("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function m8n(e){var t=this,n=Ot(n=e.source)?n.$ref:n,r=t.get(n),i=null,s=e.update,o=void 0;r||Ke("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),s&&s.$expr&&(s.$params&&(o=t.parseParameters(s.$params)),s=t.handlerExpression(s.$expr)),t.update(e,r,i,s,o)}const g8n={skip:!0};function y8n(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(s=>{const o=t.signals[s];e.signals(s,o)&&(r[s]=o.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(s=>{const o=t.data[s];e.data(s,o)&&(i[s]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(s=>s.getState(e))),n}function v8n(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(s=>{n.update(t.signals[s],i[s],g8n)}),Object.keys(r||{}).forEach(s=>{n.pulse(t.data[s].input,n.changeset().remove(Zd).insert(r[s]))}),(e.subcontext||[]).forEach((s,o)=>{const a=t.subcontext[o];a&&a.setState(s)})}function yYe(e,t,n,r){return new vYe(e,t,n,r)}function vYe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||t8n,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function u3e(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}vYe.prototype=u3e.prototype={fork(){const e=new u3e(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),ZPn(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let s=n.get(e.parent.$ref);s?(r.connect(s,[t]),t.targets().add(s)):(n.unresolved=n.unresolved||[]).push(()=>{s=n.get(e.parent.$ref),r.connect(s,[t]),t.targets().add(s)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const s in e.data){const o=n.data[s]||(n.data[s]={});e.data[s].forEach(a=>o[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[Pfe(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:KPn,parseOperator:n8n,parseOperatorParameters:r8n,parseParameters:i8n,parseStream:p8n,parseUpdate:m8n,getState:y8n,setState:v8n};function b8n(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),bYe(t,e.description()))}function bYe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function _8n(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const kY="default";function w8n(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:kY,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,s=i?Pt(i)?i:i.user:kY,o=r.item&&r.item.cursor||null;return i&&s===i.user&&o==i.item?i:{user:s,item:o}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Pt(r)||(i=r.item,r=r.user),See(e,r&&r!==kY?r:i||r),i},{cursor:t})}function See(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function fF(e,t){var n=e._runtime.data;return sn(n,t)||Ke("Unrecognized data set: "+t),n[t]}function x8n(e,t){return arguments.length<2?fF(this,e).values.value:xU.call(this,e,Y2().remove(Zd).insert(t))}function xU(e,t){BHe(t)||Ke("Second argument to changes must be a changeset.");const n=fF(this,e);return n.modified=!0,this.pulse(n.input,t)}function E8n(e,t){return xU.call(this,e,Y2().insert(t))}function T8n(e,t){return xU.call(this,e,Y2().remove(t))}function _Ye(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function wYe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function EU(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function S8n(e){var t=EU(e),n=_Ye(e),r=wYe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(s){e.error(s)}})}function A8n(e,t,n){var r=e._renderer,i=r&&r.canvas(),s,o,a;return i&&(a=EU(e),o=t.changedTouches?t.changedTouches[0]:t,s=pU(o,i),s[0]-=a[0],s[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=C8n(e,n,s),t}function C8n(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(o){var a=r,u;if(o){for(u=t;u;u=u.mark.group)if(u.mark.name===o){a=u;break}}return a&&a.mark&&a.mark.interactive?a:{}}function s(o){if(!o)return n;Pt(o)&&(o=i(o));const a=n.slice();for(;o;)a[0]-=o.x||0,a[1]-=o.y||0,o=o.mark&&o.mark.group;return a}return{view:Ju(e),item:Ju(t||{}),group:i,xy:s,x:o=>s(o)[0],y:o=>s(o)[1]}}const l3e="view",I8n="timer",k8n="window",R8n={trap:!1};function $8n(e){const t=Qn({defaults:{}},e),n=(r,i)=>{i.forEach(s=>{Qe(r[s])&&(r[s]=Ip(r[s]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function xYe(e,t,n,r){e._eventListeners.push({type:n,sources:Nt(t),handler:r})}function N8n(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function oO(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Ot(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function P8n(e,t,n){var r=this,i=new Yj(n),s=function(l,c){r.runAsync(null,()=>{e===l3e&&N8n(r,t)&&l.preventDefault(),i.receive(A8n(r,l,c))})},o;if(e===I8n)oO(r,"timer",t)&&r.timer(s,t);else if(e===l3e)oO(r,"view",t)&&r.addEventListener(t,s,R8n);else if(e===k8n?oO(r,"window",t)&&typeof window<"u"&&(o=[window]):typeof document<"u"&&oO(r,"selector",t)&&(o=Array.from(document.querySelectorAll(e))),!o)r.warn("Can not resolve event source: "+e);else{for(var a=0,u=o.length;a<u;++a)o[a].addEventListener(t,s);xYe(r,o,t,s)}return i}function c3e(e){return e.item}function f3e(e){return e.item.mark.source}function d3e(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function O8n(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",c3e),f3e,d3e(e)),this.on(this.events("view","pointerout",c3e),f3e,d3e(t)),this}function D8n(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,s,o,a,u;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(o=r[i],s=o.sources.length;--s>=0;)o.sources[s].removeEventListener(o.type,o.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)u=n[i].type,a=n[i].handler,this._handler.off(u,a);return this}function Bf(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const L8n="vega-bind",M8n="vega-bind-name",F8n="vega-bind-radio";function B8n(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:o=>{o!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,o)})}},r.debounce&&(i.update=Jue(r.debounce,i.update))),(r.input==null&&r.element?j8n:z8n)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function j8n(e,t,n,r){const i=n.event||"input",s=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,s),xYe(r,t,i,s),e.set=o=>{t.value=o,t.dispatchEvent(U8n(i))}}function U8n(e){return typeof Event<"u"?new Event(e):{type:e}}function z8n(e,t,n,r){const i=r.signal(n.signal),s=Bf("div",{class:L8n}),o=n.input==="radio"?s:s.appendChild(Bf("label"));o.appendChild(Bf("span",{class:M8n},n.name||n.signal)),t.appendChild(s);let a=V8n;switch(n.input){case"checkbox":a=H8n;break;case"select":a=q8n;break;case"radio":a=W8n;break;case"range":a=G8n;break}a(e,o,n,i)}function V8n(e,t,n,r){const i=Bf("input");for(const s in n)s!=="signal"&&s!=="element"&&i.setAttribute(s==="input"?"type":s,n[s]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=s=>i.value=s}function H8n(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const s=Bf("input",i);t.appendChild(s),s.addEventListener("change",()=>e.update(s.checked)),e.elements=[s],e.set=o=>s.checked=!!o||null}function q8n(e,t,n,r){const i=Bf("select",{name:n.signal}),s=n.labels||[];n.options.forEach((o,a)=>{const u={value:o};dF(o,r)&&(u.selected=!0),i.appendChild(Bf("option",u,(s[a]||o)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=o=>{for(let a=0,u=n.options.length;a<u;++a)if(dF(n.options[a],o)){i.selectedIndex=a;return}}}function W8n(e,t,n,r){const i=Bf("span",{class:F8n}),s=n.labels||[];t.appendChild(i),e.elements=n.options.map((o,a)=>{const u={type:"radio",name:n.signal,value:o};dF(o,r)&&(u.checked=!0);const l=Bf("input",u);l.addEventListener("change",()=>e.update(o));const c=Bf("label",{},(s[a]||o)+"");return c.prepend(l),i.appendChild(c),l}),e.set=o=>{const a=e.elements,u=a.length;for(let l=0;l<u;++l)dF(a[l].value,o)&&(a[l].checked=!0)}}function G8n(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,s=n.min||Math.min(0,i,+r)||0,o=n.step||mb(s,i,100),a=Bf("input",{type:"range",name:n.signal,min:s,max:i,step:o});a.value=r;const u=Bf("span",{},+r);t.appendChild(a),t.appendChild(u);const l=()=>{u.textContent=a.value,e.update(+a.value)};a.addEventListener("input",l),a.addEventListener("change",l),e.elements=[a],e.set=c=>{a.value=c,u.textContent=c}}function dF(e,t){return e===t||e+""==t+""}function EYe(e,t,n,r,i,s){return t=t||new r(e.loader()),t.initialize(n,_Ye(e),wYe(e),EU(e),i,s).background(e.background())}function Ofe(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function Y8n(e,t,n,r){const i=new r(e.loader(),Ofe(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,EU(e),e);return t&&t.handlers().forEach(s=>{i.on(s.type,s.handler)}),i}function K8n(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,s=mU(r);e=n._el=e?RY(n,e,!0):null,b8n(n),s||n.error("Unrecognized renderer type: "+r);const o=s.handler||DN,a=e?s.renderer:s.headless;return n._renderer=a?EYe(n,n._renderer,e,a):null,n._handler=Y8n(n,n._handler,e,o),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=RY(n,t,!0):e.appendChild(Bf("form",{class:"vega-bindings"})),n._bind.forEach(u=>{u.param.element&&i!=="container"&&(u.element=RY(n,u.param.element,!!u.param.input))}),n._bind.forEach(u=>{B8n(n,u.element||t,u)})),n}function RY(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const s4=e=>+e||0,X8n=e=>({top:e,bottom:e,left:e,right:e});function h3e(e){return Ot(e)?{top:s4(e.top),bottom:s4(e.bottom),left:s4(e.left),right:s4(e.right)}:X8n(s4(e))}async function Dfe(e,t,n,r){const i=mU(t),s=i&&i.headless;return s||Ke("Unrecognized renderer type: "+t),await e.runAsync(),EYe(e,null,null,s,n,r).renderAsync(e._scenegraph.root)}async function Q8n(e,t){e!==Rv.Canvas&&e!==Rv.SVG&&e!==Rv.PNG&&Ke("Unrecognized image type: "+e);const n=await Dfe(this,e,t);return e===Rv.SVG?J8n(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function J8n(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function Z8n(e,t){return(await Dfe(this,Rv.Canvas,e,t)).canvas()}async function eOn(e){return(await Dfe(this,Rv.SVG,e)).svg()}function tOn(e,t,n){return yYe(e,DA,BR,n).parse(t)}function nOn(e){var t=this._runtime.scales;return sn(t,e)||Ke("Unrecognized scale or projection: "+e),t[e].value}var TYe="width",SYe="height",Lfe="padding",p3e={skip:!0};function AYe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===Lfe?r.left+r.right:0)}function CYe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===Lfe?r.top+r.bottom:0)}function rOn(e){var t=e._signals,n=t[TYe],r=t[SYe],i=t[Lfe];function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=AYe(e,a.size),s()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=CYe(e,a.size),s()},{size:r});const o=e.add(null,s,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function iOn(e,t,n,r,i,s){this.runAfter(o=>{let a=0;o._autosize=0,o.width()!==n&&(a=1,o.signal(TYe,n,p3e),o._resizeWidth.skip(!0)),o.height()!==r&&(a=1,o.signal(SYe,r,p3e),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),(o._origin[0]!==i[0]||o._origin[1]!==i[1])&&(o._resize=1,o._origin=i),a&&o.run("enter"),s&&o.runAfter(u=>u.resize())},!1,1)}function sOn(e){return this._runtime.getState(e||{data:oOn,signals:aOn,recurse:!0})}function oOn(e,t){return t.modified&&Qe(t.input.value)&&!e.startsWith("_:vega:_")}function aOn(e,t){return!(e==="parent"||t instanceof DA.proxy)}function uOn(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function lOn(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(s$t(n,t))}function cOn(e,t,n,r){const i=e.element();i&&i.setAttribute("title",fOn(r))}function fOn(e){return e==null?"":Qe(e)?IYe(e):Ot(e)&&!Qv(e)?dOn(e):e+""}function dOn(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(Qe(n)?IYe(n):kYe(n))}).join(`
`)}function IYe(e){return"["+e.map(kYe).join(", ")+"]"}function kYe(e){return Qe(e)?"[]":Ot(e)&&!Qv(e)?"{}":e}function hOn(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function RYe(e,t){const n=this;if(t=t||{},RS.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const s=Qn({},e.locale,t.locale);n.locale(kHe(s.number,s.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Rv.Canvas,n._scenegraph=new EWe;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||cOn,n._redraw=!0,n._handler=new DN().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=$8n(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=tOn(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(s=>({state:null,param:Qn({},s)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=AYe(n,n._width),n._viewHeight=CYe(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,rOn(n),_8n(n),w8n(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function aO(e,t){return sn(e._signals,t)?e._signals[t]:Ke("Unrecognized signal name: "+Et(t))}function $Ye(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function m3e(e,t,n,r){let i=$Ye(n,r);return i||(i=Ofe(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function g3e(e,t,n){const r=$Ye(t,n);return r&&t._targets.remove(r),e}At(RYe,RS,{async evaluate(e,t,n){if(await RS.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,S8n(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&$D(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&bYe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=aO(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",h3e(e)):h3e(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(mU(e)||Ke("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(RS.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(aO(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:iOn,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=Ofe(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,s;--r>=0;)if(s=n[r].type,i=n[r].handler,e===s&&(t===i||t===i.raw)){this._handler.off(s,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return m3e(this,e,aO(this,e),t)},removeSignalListener(e,t){return g3e(this,aO(this,e),t)},addDataListener(e,t){return m3e(this,e,fF(this,e).values,t)},removeDataListener(e,t){return g3e(this,fF(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=See(this,null);this._globalCursor=!!e,t&&See(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:lOn,events:P8n,finalize:D8n,hover:O8n,data:x8n,change:xU,insert:E8n,remove:T8n,scale:nOn,initialize:K8n,toImageURL:Q8n,toCanvas:Z8n,toSVG:eOn,getState:sOn,setState:uOn,_watchPixelRatio:hOn});const pOn="view",hF="[",pF="]",NYe="{",PYe="}",mOn=":",OYe=",",gOn="@",yOn=">",vOn=/[[\]{}]/,bOn={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let DYe,LYe;function E_(e,t,n){return DYe=t||pOn,LYe=n||bOn,MYe(e.trim()).map(Aee)}function _On(e){return LYe[e]}function tk(e,t,n,r,i){const s=e.length;let o=0,a;for(;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function MYe(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=tk(e,i,OYe,hF+NYe,pF+PYe),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function Aee(e){return e[0]==="["?wOn(e):xOn(e)}function wOn(e){const t=e.length;let n=1,r;if(n=tk(e,n,pF,hF,pF),n===t)throw"Empty between selector: "+e;if(r=MYe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==yOn)throw"Expected '>' after between selector: "+e;r=r.map(Aee);const i=Aee(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function xOn(e){const t={source:DYe},n=[];let r=[0,0],i=0,s=0,o=e.length,a=0,u,l;if(e[o-1]===PYe){if(a=e.lastIndexOf(NYe),a>=0){try{r=EOn(e.substring(a+1,o-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),o=e.length}else throw"Unmatched right brace: "+e;a=0}if(!o)throw e;if(e[0]===gOn&&(i=++a),u=tk(e,a,mOn),u<o&&(n.push(e.substring(s,u).trim()),s=a=++u),a=tk(e,a,hF),a===o)n.push(e.substring(s,o).trim());else if(n.push(e.substring(s,a).trim()),l=[],s=++a,s===o)throw"Unmatched left bracket: "+e;for(;a<o;){if(a=tk(e,a,pF),a===o)throw"Unmatched left bracket: "+e;if(l.push(e.substring(s,a).trim()),a<o-1&&e[++a]!==hF)throw"Expected left bracket: "+e;s=++a}if(!(o=n.length)||vOn.test(n[o-1]))throw"Invalid event selector: "+e;return o>1?(t.type=n[1],i?t.markname=n[0].slice(1):_On(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),l!=null&&(t.filter=l),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function EOn(e){const t=e.split(OYe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function TOn(e){return Ot(e)?e:{type:e||"pad"}}const o4=e=>+e||0,SOn=e=>({top:e,bottom:e,left:e,right:e});function AOn(e){return Ot(e)?e.signal?e:{top:o4(e.top),bottom:o4(e.bottom),left:o4(e.left),right:o4(e.right)}:SOn(o4(e))}const Ia=e=>Ot(e)&&!Qe(e)?Qn({},e):{value:e};function y3e(e,t,n,r){return n!=null?(Ot(n)&&!Qe(n)||Qe(n)&&n.length&&Ot(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function cu(e,t,n){for(const r in t)y3e(e,r,t[r]);for(const r in n)y3e(e,r,n[r],"update")}function _3(e,t,n){for(const r in t)n&&sn(n,r)||(e[r]=Qn(e[r]||{},t[r]));return e}function TT(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const Mfe="mark",Ffe="frame",Bfe="scope",COn="axis",IOn="axis-domain",kOn="axis-grid",ROn="axis-label",$On="axis-tick",NOn="axis-title",POn="legend",OOn="legend-band",DOn="legend-entry",LOn="legend-gradient",FYe="legend-label",MOn="legend-symbol",FOn="legend-title",BOn="title",jOn="title-text",UOn="title-subtitle";function zOn(e,t,n,r,i){const s={},o={};let a,u,l,c;u="lineBreak",t==="text"&&i[u]!=null&&!TT(u,e)&&$Y(s,u,i[u]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===Ffe?i.group:n===Mfe?Qn({},i.mark,i[t]):null;for(u in c)l=TT(u,e)||(u==="fill"||u==="stroke")&&(TT("fill",e)||TT("stroke",e)),l||$Y(s,u,c[u]);Nt(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)TT(h,e)||$Y(s,h,d[h])}),e=Qn({},e);for(u in s)c=s[u],c.signal?(a=a||{})[u]=c:o[u]=c;return e.enter=Qn(o,e.enter),a&&(e.update=Qn(a,e.update)),e}function $Y(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const BYe=e=>Pt(e)?Et(e):e.signal?`(${e.signal})`:jYe(e);function TU(e){if(e.gradient!=null)return HOn(e);let t=e.signal?`(${e.signal})`:e.color?VOn(e.color):e.field!=null?jYe(e.field):e.value!==void 0?Et(e.value):void 0;return e.scale!=null&&(t=qOn(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${qD(e.exponent)})`),e.mult!=null&&(t+=`*${qD(e.mult)}`),e.offset!=null&&(t+=`+${qD(e.offset)}`),e.round&&(t=`round(${t})`),t}const uO=(e,t,n,r)=>`(${e}(${[t,n,r].map(TU).join(",")})+'')`;function VOn(e){return e.c?uO("hcl",e.h,e.c,e.l):e.h||e.s?uO("hsl",e.h,e.s,e.l):e.l||e.a?uO("lab",e.l,e.a,e.b):e.r||e.g||e.b?uO("rgb",e.r,e.g,e.b):null}function HOn(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:Et(n));for(;t.length&&Vr(t)==null;)t.pop();return t.unshift(BYe(e.gradient)),`gradient(${t.join(",")})`}function qD(e){return Ot(e)?"("+TU(e)+")":e}function jYe(e){return UYe(Ot(e)?e:{datum:e})}function UYe(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Ke("Invalid field reference: "+Et(e));return e.signal||(r=Pt(r)?Mm(r).map(Et).join("]["):UYe(r)),t+"["+r+"]"}function qOn(e,t){const n=BYe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+qD(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function WOn(e){let t="";return e.forEach(n=>{const r=TU(n);t+=n.test?`(${n.test})?${r}:`:r}),Vr(t)===":"&&(t+="null"),t}function zYe(e,t,n,r,i,s){const o={};s=s||{},s.encoders={$encode:o},e=zOn(e,t,n,r,i.config);for(const a in e)o[a]=GOn(e[a],t,s,i);return s}function GOn(e,t,n,r){const i={},s={};for(const o in e)e[o]!=null&&(i[o]=KOn(YOn(e[o]),r,n,s));return{$expr:{marktype:t,channels:i},$fields:Object.keys(s),$output:Object.keys(e)}}function YOn(e){return Qe(e)?WOn(e):TU(e)}function KOn(e,t,n,r){const i=wm(e,t);return i.$fields.forEach(s=>r[s]=1),Qn(n,i.$params),i.$expr}const XOn="outer",QOn=["value","update","init","react","bind"];function v3e(e,t){Ke(e+' for "outer" push: '+Et(t))}function VYe(e,t){const n=e.name;if(e.push===XOn)t.signals[n]||v3e("No prior signal definition",n),QOn.forEach(r=>{e[r]!==void 0&&v3e("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function Cee(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function SU(e,t,n,r){return new Cee(e,t,n,r)}function mF(e,t){return SU("operator",e,t)}function tn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function jR(e,t){return t?{$field:e,$name:t}:{$field:e}}const Iee=jR("key");function b3e(e,t){return{$compare:e,$order:t}}function JOn(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const ZOn="ascending",eDn="descending";function tDn(e){return Ot(e)?(e.order===eDn?"-":"+")+AU(e.op,e.field):""}function AU(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const jfe="scope",kee="view";function ra(e){return e&&e.signal}function nDn(e){return e&&e.expr}function WD(e){if(ra(e))return!0;if(Ot(e)){for(const t in e)if(WD(e[t]))return!0}return!1}function Wh(e,t){return e??t}function gx(e){return e&&e.signal||e}const _3e="timer";function UR(e,t){return(e.merge?iDn:e.stream?sDn:e.type?oDn:Ke("Invalid stream specification: "+Et(e)))(e,t)}function rDn(e){return e===jfe?kee:e||kee}function iDn(e,t){const n=e.merge.map(i=>UR(i,t)),r=Ufe({merge:n},e,t);return t.addStream(r).id}function sDn(e,t){const n=UR(e.stream,t),r=Ufe({stream:n},e,t);return t.addStream(r).id}function oDn(e,t){let n;e.type===_3e?(n=t.event(_3e,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(rDn(e.source),e.type);const r=Ufe({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function Ufe(e,t,n){let r=t.between;return r&&(r.length!==2&&Ke('Stream "between" parameter must have 2 entries: '+Et(t)),e.between=[UR(r[0],n),UR(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(aDn(t.marktype,t.markname,t.markrole)),t.source===jfe&&r.push("inScope(event.item)"),r.length&&(e.filter=wm("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function aDn(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const uDn={code:"_.$value",ast:{type:"Identifier",value:"value"}};function lDn(e,t,n){const r=e.encode,i={target:n};let s=e.events,o=e.update,a=[];s||Ke("Signal update missing events specification."),Pt(s)&&(s=E_(s,t.isSubscope()?jfe:kee)),s=Nt(s).filter(u=>u.signal||u.scale?(a.push(u),0):1),a.length>1&&(a=[fDn(a)]),s.length&&a.push(s.length>1?{merge:s}:s[0]),r!=null&&(o&&Ke("Signal encode and update are mutually exclusive."),o="encode(item(),"+Et(r)+")"),i.update=Pt(o)?wm(o,t):o.expr!=null?wm(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:uDn,$params:{$value:t.signalRef(o.signal)}}:Ke("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(u=>t.addUpdate(Qn(cDn(u,t),i)))}function cDn(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):UR(e,t)}}function fDn(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function dDn(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?Ke("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=wm(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>lDn(i,t,n.id))}const Qi=e=>(t,n,r)=>SU(e,n,t||void 0,r),HYe=Qi("aggregate"),hDn=Qi("axisticks"),qYe=Qi("bound"),Vp=Qi("collect"),w3e=Qi("compare"),pDn=Qi("datajoin"),WYe=Qi("encode"),mDn=Qi("expression"),gDn=Qi("facet"),yDn=Qi("field"),vDn=Qi("key"),bDn=Qi("legendentries"),_Dn=Qi("load"),wDn=Qi("mark"),xDn=Qi("multiextent"),EDn=Qi("multivalues"),TDn=Qi("overlap"),SDn=Qi("params"),GYe=Qi("prefacet"),ADn=Qi("projection"),CDn=Qi("proxy"),IDn=Qi("relay"),YYe=Qi("render"),kDn=Qi("scale"),Q2=Qi("sieve"),RDn=Qi("sortitems"),KYe=Qi("viewlayout"),$Dn=Qi("values");let NDn=0;const XYe={min:"min",max:"max",count:"sum"};function PDn(e,t){const n=e.type||"linear";Dqe(n)||Ke("Unrecognized scale type: "+Et(n)),t.addScale(e.name,{type:n,domain:void 0})}function ODn(e,t){const n=t.getScale(e.name).params;let r;n.domain=QYe(e.domain,e,t),e.range!=null&&(n.range=ZYe(e,t,n)),e.interpolate!=null&&HDn(e.interpolate,n),e.nice!=null&&(n.nice=VDn(e.nice,t)),e.bins!=null&&(n.bins=zDn(e.bins,t));for(r in e)sn(n,r)||r==="name"||(n[r]=jd(e[r],t))}function jd(e,t){return Ot(e)?e.signal?t.signalRef(e.signal):Ke("Unsupported object: "+Et(e)):e}function GD(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>jd(n,t))}function CU(e){Ke("Can not find data set: "+Et(e))}function QYe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&Ke("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(Qe(e)?DDn:e.fields?MDn:LDn)(e,t,n)}function DDn(e,t,n){return e.map(r=>jd(r,n))}function LDn(e,t,n){const r=n.getData(e.data);return r||CU(e.data),FA(t.type)?r.valuesRef(n,e.field,JYe(e.sort,!1)):Fqe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function MDn(e,t,n){const r=e.data,i=e.fields.reduce((s,o)=>(o=Pt(o)?{data:r,field:o}:Qe(o)||o.signal?FDn(o,n):o,s.push(o),s),[]);return(FA(t.type)?BDn:Fqe(t.type)?jDn:UDn)(e,n,i)}function FDn(e,t){const n="_:vega:_"+NDn++,r=Vp({});if(Qe(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+Et(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Q2({})]),{data:n,field:"data"}}function BDn(e,t,n){const r=JYe(e.sort,!0);let i,s;const o=n.map(l=>{const c=t.getData(l.data);return c||CU(l.data),c.countsRef(t,l.field,r)}),a={groupby:Iee,pulse:o};r&&(i=r.op||"count",s=r.field?AU(i,r.field):"count",a.ops=[XYe[i]],a.fields=[t.fieldRef(s)],a.as=[s]),i=t.add(HYe(a));const u=t.add(Vp({pulse:tn(i)}));return s=t.add($Dn({field:Iee,sort:t.sortRef(r),pulse:tn(u)})),tn(s)}function JYe(e,t){return e&&(!e.field&&!e.op?Ot(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?Ke("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!XYe[e.op]&&Ke("Multiple domain scales can not be sorted using "+e.op)),e}function jDn(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||CU(i.data),s.domainRef(t,i.field)});return tn(t.add(EDn({values:r})))}function UDn(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||CU(i.data),s.extentRef(t,i.field)});return tn(t.add(xDn({extents:r})))}function zDn(e,t){return e.signal||Qe(e)?GD(e,t):t.objectProperty(e)}function VDn(e,t){return e.signal?t.signalRef(e.signal):Ot(e)?{interval:jd(e.interval),step:jd(e.step)}:jd(e)}function HDn(e,t){t.interpolate=jd(e.type||e),e.gamma!=null&&(t.interpolateGamma=jd(e.gamma))}function ZYe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Pt(i)){if(r&&sn(r,i))return e=Qn({},e,{range:r[i]}),ZYe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=FA(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Ke("Unrecognized scale range value: "+Et(i))}else if(i.scheme){n.scheme=Qe(i.scheme)?GD(i.scheme,t):jd(i.scheme,t),i.extent&&(n.schemeExtent=GD(i.extent,t)),i.count&&(n.schemeCount=jd(i.count,t));return}else if(i.step){n.rangeStep=jd(i.step,t);return}else{if(FA(e.type)&&!Qe(i))return QYe(i,e,t);Qe(i)||Ke("Unsupported range type: "+Et(i))}return i.map(s=>(Qe(s)?GD:jd)(s,t))}function qDn(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=Ree(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=Ree(n[i],i,t));t.addProjection(e.name,r)}function Ree(e,t,n){return Qe(e)?e.map(r=>Ree(r,t,n)):Ot(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:Ke("Unsupported parameter object: "+Et(e)):e}const Hp="top",w3="left",x3="right",Lb="bottom",eKe="center",WDn="vertical",GDn="start",YDn="middle",KDn="end",$ee="index",zfe="label",XDn="offset",VA="perc",QDn="perc2",qd="value",jN="guide-label",Vfe="guide-title",JDn="group-title",ZDn="group-subtitle",x3e="symbol",YD="gradient",Nee="discrete",Pee="size",e9n="shape",t9n="fill",n9n="stroke",r9n="strokeWidth",i9n="strokeDash",s9n="opacity",Hfe=[Pee,e9n,t9n,n9n,r9n,i9n,s9n],UN={name:1,style:1,interactive:1},Yr={value:0},Wd={value:1},IU="group",tKe="rect",qfe="rule",o9n="symbol",J2="text";function zR(e){return e.type=IU,e.interactive=e.interactive||!1,e}function uf(e,t){const n=(r,i)=>Wh(e[r],Wh(t[r],i));return n.isVertical=r=>WDn===Wh(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Wh(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Wh(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Wh(e.columns,Wh(t.columns,+n.isVertical(!0))),n}function nKe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function a9n(e,t,n){const r=t.config.style[n];return r&&r[e]}function kU(e,t,n){return`item.anchor === '${GDn}' ? ${e} : item.anchor === '${KDn}' ? ${t} : ${n}`}const Wfe=kU(Et(w3),Et(x3),Et(eKe));function u9n(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Ot(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function rKe(e,t){return t?e?Ot(e)?Object.assign({},e,{offset:rKe(e.offset,t)}):{value:e,offset:t}:t:e}function td(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=_3(e.encode,t,UN)):e.interactive=!1,e}function l9n(e,t,n,r){const i=uf(e,n),s=i.isVertical(),o=i.gradientThickness(),a=i.gradientLength();let u,l,c,f,d;s?(l=[0,1],c=[0,0],f=o,d=a):(l=[0,0],c=[1,0],f=a,d=o);const h={enter:u={opacity:Yr,x:Yr,y:Yr,width:Ia(f),height:Ia(d)},update:Qn({},u,{opacity:Wd,fill:{gradient:t,start:l,stop:c}}),exit:{opacity:Yr}};return cu(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),td({type:tKe,role:LOn,encode:h},r)}function c9n(e,t,n,r,i){const s=uf(e,n),o=s.isVertical(),a=s.gradientThickness(),u=s.gradientLength();let l,c,f,d,h="";o?(l="y",f="y2",c="x",d="width",h="1-"):(l="x",f="x2",c="y",d="height");const p={opacity:Yr,fill:{scale:t,field:qd}};p[l]={signal:h+"datum."+VA,mult:u},p[c]=Yr,p[f]={signal:h+"datum."+QDn,mult:u},p[d]=Ia(a);const m={enter:p,update:Qn({},p,{opacity:Wd}),exit:{opacity:Yr}};return cu(m,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),td({type:tKe,role:OOn,key:qd,from:i,encode:m},r)}const f9n=`datum.${VA}<=0?"${w3}":datum.${VA}>=1?"${x3}":"${eKe}"`,d9n=`datum.${VA}<=0?"${Lb}":datum.${VA}>=1?"${Hp}":"${YDn}"`;function E3e(e,t,n,r){const i=uf(e,t),s=i.isVertical(),o=Ia(i.gradientThickness()),a=i.gradientLength();let u=i("labelOverlap"),l,c,f,d,h="";const p={enter:l={opacity:Yr},update:c={opacity:Wd,text:{field:zfe}},exit:{opacity:Yr}};return cu(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Wh(e.labelLimit,t.gradientLabelLimit)}),s?(l.align={value:"left"},l.baseline=c.baseline={signal:d9n},f="y",d="x",h="1-"):(l.align=c.align={signal:f9n},l.baseline={value:"top"},f="x",d="y"),l[f]=c[f]={signal:h+"datum."+VA,mult:a},l[d]=c[d]=o,o.offset=Wh(e.labelOffset,t.gradientLabelOffset)||0,u=u?{separation:i("labelSeparation"),method:u,order:"datum."+$ee}:void 0,td({type:J2,role:FYe,style:jN,key:qd,from:r,encode:p,overlap:u},n)}function h9n(e,t,n,r,i){const s=uf(e,t),o=n.entries,a=!!(o&&o.interactive),u=o?o.name:void 0,l=s("clipHeight"),c=s("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${XDn} : datum.${Pee}`,h=l?Ia(l):{field:Pee},p=`datum.${$ee}`,m=`max(1, ${i})`;let g,y,v,b,w;h.mult=.5,g={enter:y={opacity:Yr,x:{signal:d,mult:.5,offset:c},y:h},update:v={opacity:Wd,x:y.x,y:y.y},exit:{opacity:Yr}};let x=null,S=null;e.fill||(x=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),cu(g,{fill:s("symbolFillColor",x),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",S),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),Hfe.forEach(k=>{e[k]&&(v[k]=y[k]={scale:e[k],field:qd})});const A=td({type:o9n,role:MOn,key:qd,from:f,clip:l?!0:void 0,encode:g},n.symbols),C=Ia(c);C.offset=s("labelOffset"),g={enter:y={opacity:Yr,x:{signal:d,offset:C},y:h},update:v={opacity:Wd,text:{field:zfe},x:y.x,y:y.y},exit:{opacity:Yr}},cu(g,{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});const $=td({type:J2,role:FYe,style:jN,key:qd,from:f,encode:g},n.labels);return g={enter:{noBound:{value:!l},width:Yr,height:l?Ia(l):Yr,opacity:Yr},exit:{opacity:Yr},update:v={opacity:Wd,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(b=`ceil(item.mark.items.length / ${m})`,v.row.signal=`${p}%${b}`,v.column.signal=`floor(${p} / ${b})`,w={field:["row",p]}):(v.row.signal=`floor(${p} / ${m})`,v.column.signal=`${p} % ${m}`,w={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:$ee}},zR({role:Bfe,from:r,encode:_3(g,o,UN),marks:[A,$],name:u,interactive:a,sort:w})}function p9n(e,t){const n=uf(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const Gfe='item.orient === "left"',Yfe='item.orient === "right"',RU=`(${Gfe} || ${Yfe})`,m9n=`datum.vgrad && ${RU}`,g9n=kU('"top"','"bottom"','"middle"'),y9n=kU('"right"','"left"','"center"'),v9n=`datum.vgrad && ${Yfe} ? (${y9n}) : (${RU} && !(datum.vgrad && ${Gfe})) ? "left" : ${Wfe}`,b9n=`item._anchor || (${RU} ? "middle" : "start")`,_9n=`${m9n} ? (${Gfe} ? -90 : 90) : 0`,w9n=`${RU} ? (datum.vgrad ? (${Yfe} ? "bottom" : "top") : ${g9n}) : "top"`;function x9n(e,t,n,r){const i=uf(e,t),s={enter:{opacity:Yr},update:{opacity:Wd,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Yr}};return cu(s,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:b9n},angle:{signal:_9n},align:{signal:v9n},baseline:{signal:w9n},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),td({type:J2,role:FOn,style:Vfe,from:r,encode:s},n)}function E9n(e,t){let n;return Ot(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+T3e(e.path)+")":e.sphere&&(n="geoShape("+T3e(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function T3e(e){return Ot(e)&&e.signal?e.signal:Et(e)}function iKe(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===IU?Bfe:t||Mfe}function T9n(e){return{marktype:e.type,name:e.name||void 0,role:e.role||iKe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function S9n(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function Kfe(e,t){const n=zHe(e.type);n||Ke("Unrecognized transform type: "+Et(e.type));const r=SU(n.type.toLowerCase(),null,sKe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function sKe(e,t,n){const r={},i=e.params.length;for(let s=0;s<i;++s){const o=e.params[s];r[o.name]=A9n(o,t,n)}return r}function A9n(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return C9n(e,t,n);if(i===void 0){e.required&&Ke("Missing required "+Et(t.type)+" parameter: "+Et(e.name));return}else{if(r==="param")return I9n(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!ra(i)?i.map(s=>S3e(e,s,n)):S3e(e,i,n)}function S3e(e,t,n){const r=e.type;if(ra(t))return C3e(r)?Ke("Expression references can not be signals."):NY(r)?n.fieldRef(t):I3e(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||NY(r);return i&&k9n(t)?n.exprRef(t.expr,t.as):i&&R9n(t)?jR(t.field,t.as):C3e(r)?wm(t,n):$9n(r)?tn(n.getData(t).values):NY(r)?jR(t):I3e(r)?n.compareRef(t):t}}function C9n(e,t,n){return Pt(t.from)||Ke('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function I9n(e,t,n){const r=t[e.name];return e.array?(Qe(r)||Ke("Expected an array of sub-parameters. Instead: "+Et(r)),r.map(i=>A3e(e,i,n))):A3e(e,r,n)}function A3e(e,t,n){const r=e.params.length;let i;for(let o=0;o<r;++o){i=e.params[o];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||Ke("Unsupported parameter: "+Et(t));const s=Qn(sKe(i,t,n),i.key);return tn(n.add(SDn(s)))}const k9n=e=>e&&e.expr,R9n=e=>e&&e.field,$9n=e=>e==="data",C3e=e=>e==="expr",NY=e=>e==="field",I3e=e=>e==="compare";function N9n(e,t,n){let r,i,s,o,a;return e?(r=e.facet)&&(t||Ke("Only group marks can be faceted."),r.field!=null?o=a=KD(r,n):(e.data?a=tn(n.getData(e.data).aggregate):(s=Kfe(Qn({type:"aggregate",groupby:Nt(r.groupby)},r.aggregate),n),s.params.key=n.keyRef(r.groupby),s.params.pulse=KD(r,n),o=a=tn(n.add(s))),i=n.keyRef(r.groupby,!0))):o=tn(n.add(Vp(null,[{}]))),o||(o=KD(e,n)),{key:i,pulse:o,parent:a}}function KD(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:tn(t.getData(e.data).output)}function Gx(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Gx.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let s=t[0],o=null,a=1;for(s&&s.type==="load"&&(s=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=tn(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(o=t[a]);return new Gx(e,s,i,r,o)};function oKe(e){return Pt(e)?e:null}function k3e(e,t,n){const r=AU(n.op,n.field);let i;if(t.ops){for(let s=0,o=t.as.length;s<o;++s)if(t.as[s]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function a4(e,t,n,r,i,s,o){const a=t[n]||(t[n]={}),u=tDn(s);let l=oKe(i),c,f;if(l!=null&&(e=t.scope,l=l+(u?"|"+u:""),c=a[l]),!c){const d=s?{field:Iee,pulse:t.countsRef(e,i,s)}:{field:e.fieldRef(i),pulse:tn(t.output)};u&&(d.sort=e.sortRef(s)),f=e.add(SU(r,void 0,d)),o&&(t.index[i]=f),c=tn(f),l!=null&&(a[l]=c)}return c}Gx.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),s=oKe(t);let o,a,u;return s!=null&&(e=r.scope,o=i[s]),o?n&&n.field&&k3e(e,o.agg.params,n):(u={groupby:e.fieldRef(t,"key"),pulse:tn(r.output)},n&&n.field&&k3e(e,u,n),a=e.add(HYe(u)),o=e.add(Vp({pulse:tn(a)})),o={agg:a,ref:tn(o)},s!=null&&(i[s]=o)),o.ref},tuplesRef(){return tn(this.values)},extentRef(e,t){return a4(e,this,"extent","extent",t,!1)},domainRef(e,t){return a4(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return a4(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return a4(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return a4(e,this,"indata","tupleindex",t,!0,!0)}};function P9n(e,t,n){const r=e.from.facet,i=r.name,s=KD(r,t);let o;r.name||Ke("Facet must have a name: "+Et(r)),r.data||Ke("Facet must reference a data set: "+Et(r)),r.field?o=t.add(GYe({field:t.fieldRef(r.field),pulse:s})):r.groupby?o=t.add(gDn({key:t.keyRef(r.groupby),group:tn(t.proxy(n.parent)),pulse:s})):Ke("Facet must specify groupby or field: "+Et(r));const a=t.fork(),u=a.add(Vp()),l=a.add(Q2({pulse:tn(u)}));a.addData(i,new Gx(a,u,u,l)),a.addSignal("parent",null),o.params.subflow={$subflow:a.parse(e).toRuntime()}}function O9n(e,t,n){const r=t.add(GYe({pulse:n.pulse})),i=t.fork();i.add(Q2()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function aKe(e,t,n){const r=e.remove,i=e.insert,s=e.toggle,o=e.modify,a=e.values,u=t.add(mF()),l="if("+e.trigger+',modify("'+n+'",'+[i,r,s,o,a].map(f=>f??"null").join(",")+"),0)",c=wm(l,t);u.update=c.$expr,u.params=c.$params}function $U(e,t){const n=iKe(e),r=e.type===IU,i=e.from&&e.from.facet,s=e.overlap;let o=e.layout||n===Bfe||n===Ffe,a,u,l,c,f,d,h;const p=n===Mfe||o||i,m=N9n(e.from,r,t);u=t.add(pDn({key:m.key||(e.key?jR(e.key):void 0),pulse:m.pulse,clean:!r}));const g=tn(u);u=l=t.add(Vp({pulse:g})),u=t.add(wDn({markdef:T9n(e),interactive:S9n(e.interactive,t),clip:E9n(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:tn(u)}));const y=tn(u);u=c=t.add(WYe(zYe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const A=Kfe(S,t),C=A.metadata;(C.generates||C.changes)&&Ke("Mark transforms should not generate new data."),C.nomod||(c.params.mod=!0),A.params.pulse=tn(u),t.add(u=A)}),e.sort&&(u=t.add(RDn({sort:t.compareRef(e.sort),pulse:tn(u)})));const v=tn(u);(i||o)&&(o=t.add(KYe({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),d=tn(o));const b=t.add(qYe({mark:y,pulse:d||v}));h=tn(b),r&&(p&&(a=t.operators,a.pop(),o&&a.pop()),t.pushState(v,d||h,g),i?P9n(e,t,m):p?O9n(e,t,m):t.parse(e),t.popState(),p&&(o&&a.push(o),a.push(b))),s&&(h=D9n(s,h,t));const w=t.add(YYe({pulse:h})),x=t.add(Q2({pulse:tn(w)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new Gx(t,l,w,x)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&Ke("Marks only support modify triggers."),aKe(S,t,f)}))}function D9n(e,t,n){const r=e.method,i=e.bound,s=e.separation,o={separation:ra(s)?n.signalRef(s.signal):s,method:ra(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;o.boundTolerance=ra(a)?n.signalRef(a.signal):+a,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return tn(n.add(TDn(o)))}function L9n(e,t){const n=t.config.legend,r=e.encode||{},i=uf(e,n),s=r.legend||{},o=s.name||void 0,a=s.interactive,u=s.style,l={};let c=0,f,d,h;Hfe.forEach(b=>e[b]?(l[b]=e[b],c=c||e[b]):0),c||Ke("Missing valid scale for legend.");const p=M9n(e,t.scaleType(c)),m={title:e.title!=null,scales:l,type:p,vgrad:p!=="symbol"&&i.isVertical()},g=tn(t.add(Vp(null,[m]))),y={enter:{x:{value:0},y:{value:0}}},v=tn(t.add(bDn(d={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===YD?(h=[l9n(e,c,n,r.gradient),E3e(e,n,r.labels,v)],d.count=d.count||t.signalRef(`max(2,2*floor((${gx(i.gradientLength())})/100))`)):p===Nee?h=[c9n(e,c,n,r.gradient,v),E3e(e,n,r.labels,v)]:(f=p9n(e,n),h=[h9n(e,n,r,v,gx(f.columns))],d.size=j9n(e,t,h[0].marks)),h=[zR({role:DOn,from:g,encode:y,marks:h,layout:f,interactive:a})],m.title&&h.push(x9n(e,n,r.title,g)),$U(zR({role:POn,from:g,encode:_3(B9n(i,e,n),s,UN),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:o,interactive:a,style:u}),t)}function M9n(e,t){let n=e.type||x3e;return!e.type&&F9n(e)===1&&(e.fill||e.stroke)&&(n=oce(t)?YD:YZ(t)?Nee:x3e),n!==YD?n:YZ(t)?Nee:YD}function F9n(e){return Hfe.reduce((t,n)=>t+(e[n]?1:0),0)}function B9n(e,t,n){const r={enter:{},update:{}};return cu(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function j9n(e,t,n){const r=gx(R3e("size",e,n)),i=gx(R3e("strokeWidth",e,n)),s=gx(U9n(n[1].encode,t,jN));return wm(`max(ceil(sqrt(${r})+${i}),${s})`,t)}function R3e(e,t,n){return t[e]?`scale("${t[e]}",datum)`:nKe(e,n[0].encode)}function U9n(e,t,n){return nKe("fontSize",e)||a9n("fontSize",t,n)}const z9n=`item.orient==="${w3}"?-90:item.orient==="${x3}"?90:0`;function V9n(e,t){e=Pt(e)?{text:e}:e;const n=uf(e,t.config.title),r=e.encode||{},i=r.group||{},s=i.name||void 0,o=i.interactive,a=i.style,u=[],l={},c=tn(t.add(Vp(null,[l])));return u.push(W9n(e,n,H9n(e),c)),e.subtitle&&u.push(G9n(e,n,r.subtitle,c)),$U(zR({role:BOn,from:c,encode:q9n(n,i),marks:u,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:s,interactive:o,style:a}),t)}function H9n(e){const t=e.encode;return t&&t.title||Qn({name:e.name,interactive:e.interactive,style:e.style},t)}function q9n(e,t){const n={enter:{},update:{}};return cu(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:Wfe},angle:{signal:z9n},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),_3(n,t,UN)}function W9n(e,t,n,r){const i={value:0},s=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return cu(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),td({type:J2,role:jOn,style:JDn,from:r,encode:o},n)}function G9n(e,t,n,r){const i={value:0},s=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return cu(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),td({type:J2,role:UOn,style:ZDn,from:r,encode:o},n)}function Y9n(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(Kfe(r,t))}),e.on&&e.on.forEach(r=>{aKe(r,t,e.name)}),t.addDataPipeline(e.name,K9n(e,t,n))}function K9n(e,t,n){const r=[];let i=null,s=!1,o=!1,a,u,l,c,f;for(e.values?ra(e.values)||WD(e.format)?(r.push($3e(t,e)),r.push(i=Z_())):r.push(i=Z_({$ingest:e.values,$format:e.format})):e.url?WD(e.url)||WD(e.format)?(r.push($3e(t,e)),r.push(i=Z_())):r.push(i=Z_({$request:e.url,$format:e.format})):e.source&&(i=a=Nt(e.source).map(d=>tn(t.getData(d).output)),r.push(null)),u=0,l=n.length;u<l;++u)c=n[u],f=c.metadata,!i&&!f.source&&r.push(i=Z_()),r.push(c),f.generates&&(o=!0),f.modifies&&!o&&(s=!0),f.source?i=c:f.changes&&(i=null);return a&&(l=a.length-1,r[0]=IDn({derive:s,pulse:l?a:a[0]}),(s||l)&&r.splice(1,0,Z_())),i||r.push(Z_()),r.push(Q2({})),r}function Z_(e){const t=Vp({},e);return t.metadata={source:!0},t}function $3e(e,t){return _Dn({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const uKe=e=>e===Lb||e===Hp,NU=(e,t,n)=>ra(e)?Z9n(e.signal,t,n):e===w3||e===Hp?t:n,ka=(e,t,n)=>ra(e)?Q9n(e.signal,t,n):uKe(e)?t:n,yp=(e,t,n)=>ra(e)?J9n(e.signal,t,n):uKe(e)?n:t,lKe=(e,t,n)=>ra(e)?eLn(e.signal,t,n):e===Hp?{value:t}:{value:n},X9n=(e,t,n)=>ra(e)?tLn(e.signal,t,n):e===x3?{value:t}:{value:n},Q9n=(e,t,n)=>cKe(`${e} === '${Hp}' || ${e} === '${Lb}'`,t,n),J9n=(e,t,n)=>cKe(`${e} !== '${Hp}' && ${e} !== '${Lb}'`,t,n),Z9n=(e,t,n)=>Xfe(`${e} === '${w3}' || ${e} === '${Hp}'`,t,n),eLn=(e,t,n)=>Xfe(`${e} === '${Hp}'`,t,n),tLn=(e,t,n)=>Xfe(`${e} === '${x3}'`,t,n),cKe=(e,t,n)=>(t=t!=null?Ia(t):t,n=n!=null?Ia(n):n,N3e(t)&&N3e(n)?(t=t?t.signal||Et(t.value):null,n=n?n.signal||Et(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Qn({test:e},t)].concat(n||[])),N3e=e=>e==null||Object.keys(e).length===1,Xfe=(e,t,n)=>({signal:`${e} ? (${eS(t)}) : (${eS(n)})`}),nLn=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${w3}' ? (${eS(r)}) : `:"")+(n!=null?`${e} === '${Lb}' ? (${eS(n)}) : `:"")+(i!=null?`${e} === '${x3}' ? (${eS(i)}) : `:"")+(t!=null?`${e} === '${Hp}' ? (${eS(t)}) : `:"")+"(null)"}),eS=e=>ra(e)?e.signal:e==null?null:Et(e),rLn=(e,t)=>t===0?0:ra(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},$S=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function oT(e,t,n,r){let i;if(t&&sn(t,e))return t[e];if(sn(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[Vfe][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[jN][i]}return null}function P3e(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function iLn(e,t){var n=t.config,r=n.style,i=n.axis,s=t.scaleType(e.scale)==="band"&&n.axisBand,o=e.orient,a,u,l;if(ra(o)){const f=P3e([n.axisX,n.axisY]),d=P3e([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(l of f)a[l]=ka(o,oT(l,n.axisX,i,r),oT(l,n.axisY,i,r));u={};for(l of d)u[l]=nLn(o.signal,oT(l,n.axisTop,i,r),oT(l,n.axisBottom,i,r),oT(l,n.axisLeft,i,r),oT(l,n.axisRight,i,r))}else a=o===Hp||o===Lb?n.axisX:n.axisY,u=n["axis"+o[0].toUpperCase()+o.slice(1)];return a||u||s?Qn({},i,a,u,s):i}function sLn(e,t,n,r){const i=uf(e,t),s=e.orient;let o,a;const u={enter:o={opacity:Yr},update:a={opacity:Wd},exit:{opacity:Yr}};cu(u,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const l=O3e(e,0),c=O3e(e,1);return o.x=a.x=ka(s,l,Yr),o.x2=a.x2=ka(s,c),o.y=a.y=yp(s,l,Yr),o.y2=a.y2=yp(s,c),td({type:qfe,role:IOn,from:r,encode:u},n)}function O3e(e,t){return{scale:e.scale,range:t}}function oLn(e,t,n,r,i){const s=uf(e,t),o=e.orient,a=e.gridScale,u=NU(o,1,-1),l=aLn(e.offset,u);let c,f,d;const h={enter:c={opacity:Yr},update:d={opacity:Wd},exit:f={opacity:Yr}};cu(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});const p={scale:e.scale,field:qd,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},m=ka(o,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:u,offset:l}:{value:0,offset:l},y=a?{scale:a,range:1,mult:u,offset:l}:Qn(m,{mult:u,offset:l});return c.x=d.x=ka(o,p,g),c.y=d.y=yp(o,p,g),c.x2=d.x2=yp(o,y),c.y2=d.y2=ka(o,y),f.x=ka(o,p),f.y=yp(o,p),td({type:qfe,role:kOn,key:qd,from:r,encode:h},n)}function aLn(e,t){if(t!==1)if(!Ot(e))e=ra(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Qn({},e);for(;n.mult!=null;)if(Ot(n.mult))n=n.mult=Qn({},n.mult);else return n.mult=ra(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function uLn(e,t,n,r,i,s){const o=uf(e,t),a=e.orient,u=NU(a,-1,1);let l,c,f;const d={enter:l={opacity:Yr},update:f={opacity:Wd},exit:c={opacity:Yr}};cu(d,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const h=Ia(i);h.mult=u;const p={scale:e.scale,field:qd,band:s.band,extra:s.extra,offset:s.offset,round:o("tickRound")};return f.y=l.y=ka(a,Yr,p),f.y2=l.y2=ka(a,h),c.x=ka(a,p),f.x=l.x=yp(a,Yr,p),f.x2=l.x2=yp(a,h),c.y=yp(a,p),td({type:qfe,role:$On,key:qd,from:r,encode:d},n)}function PY(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function lLn(e,t,n,r,i,s){const o=uf(e,t),a=e.orient,u=e.scale,l=NU(a,-1,1),c=gx(o("labelFlush")),f=gx(o("labelFlushOffset")),d=o("labelAlign"),h=o("labelBaseline");let p=c===0||!!c,m;const g=Ia(i);g.mult=l,g.offset=Ia(o("labelPadding")||0),g.offset.mult=l;const y={scale:u,field:qd,band:.5,offset:rKe(s.offset,o("labelOffset"))},v=ka(a,p?PY(u,c,'"left"','"right"','"center"'):{value:"center"},X9n(a,"left","right")),b=ka(a,lKe(a,"bottom","top"),p?PY(u,c,'"top"','"bottom"','"middle"'):{value:"middle"}),w=PY(u,c,`-(${f})`,f,0);p=p&&f;const x={opacity:Yr,x:ka(a,y,g),y:yp(a,y,g)},S={enter:x,update:m={opacity:Wd,text:{field:zfe},x:x.x,y:x.y,align:v,baseline:b},exit:{opacity:Yr,x:x.x,y:x.y}};cu(S,{dx:!d&&p?ka(a,w):null,dy:!h&&p?yp(a,w):null}),cu(S,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:d,baseline:h});const A=o("labelBound");let C=o("labelOverlap");return C=C||A?{separation:o("labelSeparation"),method:C,order:"datum.index",bound:A?{scale:u,orient:a,tolerance:A}:null}:void 0,m.align!==v&&(m.align=$S(m.align,v)),m.baseline!==b&&(m.baseline=$S(m.baseline,b)),td({type:J2,role:ROn,style:jN,key:qd,from:r,encode:S,overlap:C},n)}function cLn(e,t,n,r){const i=uf(e,t),s=e.orient,o=NU(s,-1,1);let a,u;const l={enter:a={opacity:Yr,anchor:Ia(i("titleAnchor",null)),align:{signal:Wfe}},update:u=Qn({},a,{opacity:Wd,text:Ia(e.title)}),exit:{opacity:Yr}},c={signal:`lerp(range("${e.scale}"), ${kU(0,1,.5)})`};return u.x=ka(s,c),u.y=yp(s,c),a.angle=ka(s,Yr,rLn(o,90)),a.baseline=ka(s,lKe(s,Lb,Hp),{value:Lb}),u.angle=a.angle,u.baseline=a.baseline,cu(l,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),fLn(i,s,l,n),l.update.align=$S(l.update.align,a.align),l.update.angle=$S(l.update.angle,a.angle),l.update.baseline=$S(l.update.baseline,a.baseline),td({type:J2,role:NOn,style:Vfe,from:r,encode:l},n)}function fLn(e,t,n,r){const i=(a,u)=>a!=null?(n.update[u]=$S(Ia(a),n.update[u]),!1):!TT(u,r),s=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===s?Ia(o):ka(t,Ia(o),Ia(s))}function dLn(e,t){const n=iLn(e,t),r=e.encode||{},i=r.axis||{},s=i.name||void 0,o=i.interactive,a=i.style,u=uf(e,n),l=u9n(u),c={scale:e.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:e.title!=null},f=tn(t.add(Vp({},[c]))),d=tn(t.add(hDn({scale:t.scaleRef(e.scale),extra:t.property(l.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(oLn(e,n,r.grid,d,l)),c.ticks&&(p=u("tickSize"),h.push(uLn(e,n,r.ticks,d,p,l))),c.labels&&(p=c.ticks?p:0,h.push(lLn(e,n,r.labels,d,p,l))),c.domain&&h.push(sLn(e,n,r.domain,f)),c.title&&h.push(cLn(e,n,r.title,f)),$U(zR({role:COn,from:f,encode:_3(hLn(u,e),i,UN),marks:h,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:s,interactive:o,style:a}),t)}function hLn(e,t){const n={enter:{},update:{}};return cu(n,{orient:e("orient"),offset:e("offset")||0,position:Wh(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function fKe(e,t,n){const r=Nt(e.signals),i=Nt(e.scales);return n||r.forEach(s=>VYe(s,t)),Nt(e.projections).forEach(s=>qDn(s,t)),i.forEach(s=>PDn(s,t)),Nt(e.data).forEach(s=>Y9n(s,t)),i.forEach(s=>ODn(s,t)),(n||r).forEach(s=>dDn(s,t)),Nt(e.axes).forEach(s=>dLn(s,t)),Nt(e.marks).forEach(s=>$U(s,t)),Nt(e.legends).forEach(s=>L9n(s,t)),e.title&&V9n(e.title,t),t.parseLambdas(),t}const pLn=e=>_3({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function mLn(e,t){const n=t.config,r=tn(t.root=t.add(mF())),i=gLn(e,n);i.forEach(l=>VYe(l,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const s=t.add(Vp()),o=t.add(WYe(zYe(pLn(e.encode),IU,Ffe,e.style,t,{pulse:tn(s)}))),a=t.add(KYe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:tn(o)}));t.operators.pop(),t.pushState(tn(o),tn(a),null),fKe(e,t,i),t.operators.push(a);let u=t.add(qYe({mark:r,pulse:tn(a)}));return u=t.add(YYe({pulse:tn(u)})),u=t.add(Q2({pulse:tn(u)})),t.addData("root",new Gx(t,s,s,u)),t}function u4(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function gLn(e,t){const n=o=>Wh(e[o],t[o]),r=[u4("background",n("background")),u4("autosize",TOn(n("autosize"))),u4("padding",AOn(n("padding"))),u4("width",n("width")||0),u4("height",n("height")||0)],i=r.reduce((o,a)=>(o[a.name]=a,o),{}),s={};return Nt(e.signals).forEach(o=>{sn(i,o.name)?o=Qn(i[o.name],o):r.push(o),s[o.name]=o}),Nt(t.signals).forEach(o=>{!sn(s,o.name)&&!sn(i,o.name)&&r.push(o)}),r}function dKe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function D3e(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}dKe.prototype=D3e.prototype={parse(e){return fKe(e,this)},fork(){return new D3e(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof Cee?tn(e):e;return this.add(CDn({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,s){let o,a;r&&(o=r.data||(r.data={}),a=o[i]||(o[i]=[]),a.push(s))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(tn(this.add(Q2({pulse:e})))),this._parent.push(t),this._lookup.push(n?tn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Vr(this._parent)},encode(){return Vr(this._encode)},lookup(){return Vr(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Pt(e))return jR(e,t);e.signal||Ke("Unsupported field reference: "+Et(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=tn(this.add(yDn(i)))}return r},compareRef(e){let t=!1;const n=s=>ra(s)?(t=!0,this.signalRef(s.signal)):nDn(s)?(t=!0,this.exprRef(s.expr)):s,r=Nt(e.field).map(n),i=Nt(e.order).map(n);return t?tn(this.add(w3e({fields:r,orders:i}))):b3e(r,i)},keyRef(e,t){let n=!1;const r=s=>ra(s)?(n=!0,tn(i[s.signal])):s,i=this.signals;return e=Nt(e).map(r),n?tn(this.add(vDn({fields:e,flat:t}))):JOn(e,t)},sortRef(e){if(!e)return e;const t=AU(e.op,e.field),n=e.order||ZOn;return n.signal?tn(this.add(w3e({fields:t,orders:this.signalRef(n.signal)}))):b3e(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return sn(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Ke("Duplicate signal name: "+Et(e));const n=t instanceof Cee?t:this.add(mF(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Ke("Unrecognized signal name: "+Et(e)),this.signals[e]},signalRef(e){return this.signals[e]?tn(this.signals[e]):(sn(this.lambdas,e)||(this.lambdas[e]=this.add(mF(null))),tn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=wm(r,this),s=this.lambdas[r];s.params=i.$params,s.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Ot(e)?e:this.signalRef(e.signal||Qfe(e))},exprRef(e,t){const n={expr:wm(e,this)};return t&&(n.expr.$name=t),tn(this.add(mDn(n)))},addBinding(e,t){this.bindings||Ke("Nested signals do not support binding: "+Et(e)),this.bindings.push(Qn({signal:e},t))},addScaleProj(e,t){sn(this.scales,e)&&Ke("Duplicate scale or projection name: "+Et(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,kDn(t))},addProjection(e,t){this.addScaleProj(e,ADn(t))},getScale(e){return this.scales[e]||Ke("Unrecognized scale name: "+Et(e)),this.scales[e]},scaleRef(e){return tn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return sn(this.data,e)&&Ke("Duplicate data set name: "+Et(e)),this.data[e]=t},getData(e){return this.data[e]||Ke("Undefined data set name: "+Et(e)),this.data[e]},addDataPipeline(e,t){return sn(this.data,e)&&Ke("Duplicate data set name: "+Et(e)),this.addData(e,Gx.fromEntries(this,t))}};function Qfe(e){return(Qe(e)?yLn:vLn)(e)}function yLn(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Ot(i)?i.signal||Qfe(i):Et(i))}return n+"]"}function vLn(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+Et(r)+":"+(Ot(i)?i.signal||Qfe(i):Et(i));return t+"}"}function bLn(){const e="sans-serif",r="#4c78a8",i="#000",s="#888",o="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:o},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:s,grid:!1,gridWidth:1,gridColor:o,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:s,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:o,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:s,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function _Ln(e,t,n){return Ot(e)||Ke("Input Vega specification must be an object."),t=d3(bLn(),t,e.config),mLn(e,new dKe(t,n)).toRuntime()}var wLn="5.29.0";Qn(DA,_In,uRn,jRn,y$n,T$n,Q$n,R$n,Z$n,rNn,hNn,_Nn);const xLn=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Mo,CanvasHandler:DN,CanvasRenderer:rF,DATE:Qc,DAY:ju,DAYOFYEAR:_m,Dataflow:RS,Debug:LVe,Error:que,EventStream:Yj,Gradient:Zqe,GroupItem:aU,HOURS:Jf,Handler:$ce,HybridHandler:HWe,HybridRenderer:see,Info:DVe,Item:oU,MILLISECONDS:kp,MINUTES:Zf,MONTH:qu,Marks:ed,MultiPulse:fle,None:OVe,Operator:ts,Parameters:Gj,Pulse:Jv,QUARTER:Xc,RenderType:Rv,Renderer:ON,ResourceLoader:oWe,SECONDS:eh,SVGHandler:$We,SVGRenderer:Mce,SVGStringRenderer:VWe,Scenegraph:EWe,TIME_UNITS:rle,Transform:He,View:RYe,WEEK:ta,Warn:Wue,YEAR:ou,accessor:af,accessorFields:Hu,accessorName:so,array:Nt,ascending:Uj,bandwidthNRD:mle,bin:qHe,bootstrapCI:WHe,boundClip:eGe,boundContext:RN,boundItem:eee,boundMark:bWe,boundStroke:a1,changeset:Y2,clampRange:GVe,codegenExpression:nYe,compare:Que,constant:Ju,cumulativeLogNormal:wle,cumulativeNormal:Xj,cumulativeUniform:Sle,dayofyear:sHe,debounce:Jue,defaultLocale:ole,definition:zHe,densityLogNormal:_le,densityNormal:gle,densityUniform:Tle,domChild:Zo,domClear:Od,domCreate:Iv,domFind:Rce,dotbin:GHe,error:Ke,expressionFunction:Co,extend:Qn,extent:bm,extentIndex:YVe,falsy:X1,fastmap:p3,field:Jd,flush:KVe,font:dU,fontFamily:PN,fontSize:Fm,format:RD,formatLocale:HM,formats:lle,hasOwnProperty:sn,id:vN,identity:Qu,inferType:$He,inferTypes:NHe,ingest:_i,inherits:At,inrange:QT,interpolate:ace,interpolateColors:iU,interpolateRange:Bqe,intersect:XWe,intersectBoxLine:JT,intersectPath:mce,intersectPoint:gce,intersectRule:uWe,isArray:Qe,isBoolean:w_,isDate:Qv,isFunction:Jn,isIterable:XVe,isNumber:ri,isObject:Ot,isRegExp:QVe,isString:Pt,isTuple:qj,key:Zue,lerp:JVe,lineHeight:Pb,loader:Vj,locale:kHe,logger:Gue,lruCache:ZVe,markup:Lce,merge:eHe,mergeConfig:d3,multiLineOffset:Cce,one:f3,pad:tHe,panLinear:UVe,panLog:zVe,panPow:VVe,panSymlog:HVe,parse:_Ln,parseExpression:Tfe,parseSelector:E_,path:EB,pathCurves:dce,pathEqual:tGe,pathParse:BA,pathRectangle:nWe,pathRender:NR,pathSymbols:tWe,pathTrail:rWe,peek:Vr,point:pU,projection:Kce,quantileLogNormal:xle,quantileNormal:Qj,quantileUniform:Ale,quantiles:hle,quantizeInterpolator:jqe,quarter:qVe,quartiles:ple,get random(){return th},randomInteger:T3n,randomKDE:vle,randomLCG:E3n,randomLogNormal:KHe,randomMixture:XHe,randomNormal:yle,randomUniform:QHe,read:DHe,regressionConstant:Cle,regressionExp:ZHe,regressionLinear:Ile,regressionLoess:nqe,regressionLog:JHe,regressionPoly:tqe,regressionPow:eqe,regressionQuad:kle,renderModule:mU,repeat:X4,resetDefaultLocale:_Cn,resetSVGClipId:sWe,resetSVGDefIds:Akn,responseType:OHe,runtimeContext:yYe,sampleCurve:Zj,sampleLogNormal:ble,sampleNormal:Kj,sampleUniform:Ele,scale:ci,sceneEqual:Fce,sceneFromJSON:wWe,scenePickVisit:KM,sceneToJSON:_We,sceneVisit:Rp,sceneZOrder:yce,scheme:uce,serializeXML:BWe,setHybridRendererOptions:xkn,setRandom:w3n,span:bN,splitAccessPath:Mm,stringValue:Et,textMetrics:Ff,timeBin:xHe,timeFloor:dHe,timeFormatLocale:kR,timeInterval:m3,timeOffset:mHe,timeSequence:vHe,timeUnitSpecifier:iHe,timeUnits:ile,toBoolean:ele,toDate:tle,toNumber:Uu,toSet:Ip,toString:nle,transform:VHe,transforms:DA,truncate:nHe,truthy:Zd,tupleid:nn,typeParsers:qZ,utcFloor:hHe,utcInterval:g3,utcOffset:gHe,utcSequence:bHe,utcdayofyear:uHe,utcquarter:WVe,utcweek:lHe,version:wLn,visitArray:av,week:oHe,writeConfig:h3,zero:yv,zoomLinear:Yue,zoomLog:Kue,zoomPow:VM,zoomSymlog:Xue},Symbol.toStringTag,{value:"Module"}));function ELn(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var TLn={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},SLn={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},ALn={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const CLn=Array.prototype.slice,ew=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,CLn.call(t,1))},ILn=(e,t,n,r,i,s,o)=>new Date(e,t||0,n??1,r||0,i||0,s||0,o||0);var kLn={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:ILn,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return ew("join",arguments)},indexof:function(){return ew("indexOf",arguments)},lastindexof:function(){return ew("lastIndexOf",arguments)},slice:function(){return ew("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return ew("substring",arguments,String)},split:function(){return ew("split",arguments,String)},replace:function(){return ew("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const RLn=["view","item","group","xy","x","y"],Oee=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&Oee.add(setImmediate);const $Ln={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:TLn[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),Oee.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||kLn[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>SLn[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>ALn[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,Oee.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function l4(e,t,n,r,i,s){const o=a=>$Ln[a.type](o,a);return o.memberDepth=0,o.fn=Object.create(t),o.params=n,o.datum=r,o.event=i,o.item=s,RLn.forEach(a=>o.fn[a]=function(){return i.vega[a](...arguments)}),o(e)}var NLn={operator(e,t){const n=t.ast,r=e.functions;return i=>l4(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,s)=>l4(n,r,s,i)},event(e,t){const n=t.ast,r=e.functions;return i=>l4(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,s)=>{const o=s.item&&s.item.datum;return l4(n,r,i,o,s)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,s=n==="group"||n==="image"||n==="rect";return(o,a)=>{const u=o.datum;let l=0,c;for(const f in r)c=l4(r[f].ast,i,a,u,void 0,o),o[f]!==c&&(o[f]=c,l=1);return n!=="rule"&&ELn(o,r,s),l}}};const PLn="vega-lite",OLn='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',DLn="5.18.1",LLn=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],MLn="https://vega.github.io/vega-lite/",FLn="Vega-Lite is a concise high-level language for interactive visualization.",BLn=["vega","chart","visualization"],jLn="build/vega-lite.js",ULn="build/vega-lite.min.js",zLn="build/vega-lite.min.js",VLn="build/src/index",HLn="build/src/index.d.ts",qLn={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},WLn=["bin","build","src","vega-lite*","tsconfig.json"],GLn={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},YLn={type:"git",url:"https://github.com/vega/vega-lite.git"},KLn="BSD-3-Clause",XLn={url:"https://github.com/vega/vega-lite/issues"},QLn={"@babel/core":"^7.24.5","@babel/preset-env":"^7.24.5","@babel/preset-typescript":"^7.24.1","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-alias":"^5.1.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/d3":"^7.4.3","@types/jest":"^29.5.12","@types/pako":"^2.0.3","@typescript-eslint/eslint-plugin":"^7.8.0","@typescript-eslint/parser":"^7.8.0",ajv:"^8.13.0","ajv-formats":"^2.1.1",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^4.1.0",d3:"^7.9.0","del-cli":"^5.1.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^27.9.0","eslint-plugin-prettier":"^5.1.3","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.9.0",jest:"^29.7.0","jest-dev-server":"^10.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.2.5",puppeteer:"^15.0.0","release-it":"^17.2.1",rollup:"^4.17.2","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.3",terser:"^5.31.0","ts-jest":"^29.1.2","ts-json-schema-generator":"^1.5.0",typescript:"~5.4.5","vega-cli":"^5.28.0","vega-datasets":"^2.8.1","vega-embed":"^6.25.0","vega-tooltip":"^0.34.0","yaml-front-matter":"^4.1.1"},JLn={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.2","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},ZLn={vega:"^5.24.0"},eMn={node:">=18"},tMn="yarn@1.22.19",nMn={name:PLn,author:OLn,version:DLn,collaborators:LLn,homepage:MLn,description:FLn,keywords:BLn,main:jLn,unpkg:ULn,jsdelivr:zLn,module:VLn,types:HLn,bin:qLn,files:WLn,scripts:GLn,repository:YLn,license:KLn,bugs:XLn,devDependencies:QLn,dependencies:JLn,peerDependencies:ZLn,engines:eMn,packageManager:tMn};function Jfe(e){return!!e.or}function Zfe(e){return!!e.and}function ede(e){return!!e.not}function XD(e,t){if(ede(e))XD(e.not,t);else if(Zfe(e))for(const n of e.and)XD(n,t);else if(Jfe(e))for(const n of e.or)XD(n,t);else t(e)}function NS(e,t){return ede(e)?{not:NS(e.not,t)}:Zfe(e)?{and:e.and.map(n=>NS(n,t))}:Jfe(e)?{or:e.or.map(n=>NS(n,t))}:t(e)}const kn=structuredClone;function hKe(e){throw new Error(e)}function HA(e,t){const n={};for(const r of t)sn(e,r)&&(n[r]=e[r]);return n}function Uc(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Wi(e)).join(",")})`};function Ir(e){if(ri(e))return e;const t=Pt(e)?e:Wi(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function Dee(e){return e===!1||e===null}function kr(e,t){return e.includes(t)}function Yx(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function tde(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function pKe(e,...t){for(const n of t)rMn(e,n??{});return e}function rMn(e,t){for(const n of ct(t))h3(e,n,t[n],!0)}function F0(e,t){const n=[],r={};let i;for(const s of e)i=t(s),!(i in r)&&(r[i]=1,n.push(s));return n}function iMn(e,t){const n=ct(e),r=ct(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function mKe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function nde(e,t){for(const n of e)if(t.has(n))return!0;return!1}function Lee(e){const t=new Set;for(const n of e){const i=Mm(n).map((o,a)=>a===0?o:`[${o}]`),s=i.map((o,a)=>i.slice(0,a+1).join(""));for(const o of s)t.add(o)}return t}function rde(e,t){return e===void 0||t===void 0?!0:nde(Lee(e),Lee(t))}function qi(e){return ct(e).length===0}const ct=Object.keys,au=Object.values,Mb=Object.entries;function VR(e){return e===!0||e===!1}function Ms(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function nk(e,t){return ede(e)?`!(${nk(e.not,t)})`:Zfe(e)?`(${e.and.map(n=>nk(n,t)).join(") && (")})`:Jfe(e)?`(${e.or.map(n=>nk(n,t)).join(") || (")})`:t(e)}function gF(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&gF(e[n],t)&&delete e[n],qi(e)}function zN(e){return e.charAt(0).toUpperCase()+e.substr(1)}function ide(e,t="datum"){const n=Mm(e),r=[];for(let i=1;i<=n.length;i++){const s=`[${n.slice(0,i).map(Et).join("][")}]`;r.push(`${t}${s}`)}return r.join(" && ")}function gKe(e,t="datum"){return`${t}[${Et(Mm(e).join("."))}]`}function sMn(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function nh(e){return`${Mm(e).map(sMn).join("\\.")}`}function Kx(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function E3(e){return`${Mm(e).join(".")}`}function qA(e){return e?Mm(e).length:0}function xo(...e){for(const t of e)if(t!==void 0)return t}let yKe=42;function vKe(e){const t=++yKe;return e?String(e)+t:t}function oMn(){yKe=42}function bKe(e){return _Ke(e)?e:`__${e}`}function _Ke(e){return e.startsWith("__")}function HR(e){if(e!==void 0)return(e%360+360)%360}function PU(e){return ri(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const L3e=Object.getPrototypeOf(structuredClone({}));function Of(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Of(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Of(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==L3e.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==L3e.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!Of(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Wi(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,s;if(Array.isArray(r)){for(s="[",i=0;i<r.length;i++)i&&(s+=","),s+=n(r[i])||"null";return s+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const o=t.push(r)-1,a=Object.keys(r).sort();for(s="",i=0;i<a.length;i++){const u=a[i],l=n(r[u]);l&&(s&&(s+=","),s+=JSON.stringify(u)+":"+l)}return t.splice(o,1),`{${s}}`}(e)}const oy="row",ay="column",OU="facet",Fs="x",Fa="y",qp="x2",Um="y2",T_="xOffset",T3="yOffset",Wp="radius",l1="radius2",gh="theta",c1="theta2",Gp="latitude",Yp="longitude",Kp="latitude2",rh="longitude2",Jc="color",zm="fill",Vm="stroke",Zc="shape",f1="size",Z2="angle",d1="opacity",S_="fillOpacity",A_="strokeOpacity",C_="strokeWidth",I_="strokeDash",VN="text",WA="order",HN="detail",DU="key",Xx="tooltip",LU="href",MU="url",FU="description",aMn={x:1,y:1,x2:1,y2:1},wKe={theta:1,theta2:1,radius:1,radius2:1};function xKe(e){return e in wKe}const sde={longitude:1,longitude2:1,latitude:1,latitude2:1};function EKe(e){switch(e){case Gp:return"y";case Kp:return"y2";case Yp:return"x";case rh:return"x2"}}function TKe(e){return e in sde}const uMn=ct(sde),ode={...aMn,...wKe,...sde,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function PS(e){return e===Jc||e===zm||e===Vm}const SKe={row:1,column:1,facet:1},Ud=ct(SKe),ade={...ode,...SKe},lMn=ct(ade),{order:dur,detail:hur,tooltip:pur,...cMn}=ade,{row:mur,column:gur,facet:yur,...fMn}=cMn;function dMn(e){return!!fMn[e]}function AKe(e){return!!ade[e]}const hMn=[qp,Um,Kp,rh,c1,l1];function CKe(e){return eE(e)!==e}function eE(e){switch(e){case qp:return Fs;case Um:return Fa;case Kp:return Gp;case rh:return Yp;case c1:return gh;case l1:return Wp}return e}function Fb(e){if(xKe(e))switch(e){case gh:return"startAngle";case c1:return"endAngle";case Wp:return"outerRadius";case l1:return"innerRadius"}return e}function Hm(e){switch(e){case Fs:return qp;case Fa:return Um;case Gp:return Kp;case Yp:return rh;case gh:return c1;case Wp:return l1}}function ef(e){switch(e){case Fs:case qp:return"width";case Fa:case Um:return"height"}}function IKe(e){switch(e){case Fs:return"xOffset";case Fa:return"yOffset";case qp:return"x2Offset";case Um:return"y2Offset";case gh:return"thetaOffset";case Wp:return"radiusOffset";case c1:return"theta2Offset";case l1:return"radius2Offset"}}function ude(e){switch(e){case Fs:return"xOffset";case Fa:return"yOffset"}}function pMn(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const mMn=ct(ode),{x:vur,y:bur,x2:_ur,y2:wur,xOffset:xur,yOffset:Eur,latitude:Tur,longitude:Sur,latitude2:Aur,longitude2:Cur,theta:Iur,theta2:kur,radius:Rur,radius2:$ur,...lde}=ode,gMn=ct(lde),cde={x:1,y:1},qm=ct(cde);function Eo(e){return e in cde}const fde={theta:1,radius:1},yMn=ct(fde);function BU(e){return e==="width"?Fs:Fa}const kKe={xOffset:1,yOffset:1};function qN(e){return e in kKe}const{text:Nur,tooltip:Pur,href:Our,url:Dur,description:Lur,detail:Mur,key:Fur,order:Bur,...RKe}=lde,vMn=ct(RKe);function bMn(e){return!!lde[e]}function _Mn(e){switch(e){case Jc:case zm:case Vm:case f1:case Zc:case d1:case C_:case I_:return!0;case S_:case A_:case Z2:return!1}}const $Ke={...cde,...fde,...kKe,...RKe},jU=ct($Ke);function h1(e){return!!$Ke[e]}function wMn(e,t){return EMn(e)[t]}const NKe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:jur,...xMn}=NKe;function EMn(e){switch(e){case Jc:case zm:case Vm:case FU:case HN:case DU:case Xx:case LU:case WA:case d1:case S_:case A_:case C_:case OU:case oy:case ay:return NKe;case Fs:case Fa:case T_:case T3:case Gp:case Yp:return xMn;case qp:case Um:case Kp:case rh:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case f1:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case I_:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Zc:return{point:"always",geoshape:"always"};case VN:return{text:"always"};case Z2:return{point:"always",square:"always",text:"always"};case MU:return{image:"always"};case gh:return{text:"always",arc:"always"};case Wp:return{text:"always",arc:"always"};case c1:case l1:return{arc:"always"}}}function OY(e){switch(e){case Fs:case Fa:case gh:case Wp:case T_:case T3:case f1:case Z2:case C_:case d1:case S_:case A_:case qp:case Um:case c1:case l1:return;case OU:case oy:case ay:case Zc:case I_:case VN:case Xx:case LU:case MU:case FU:return"discrete";case Jc:case zm:case Vm:return"flexible";case Gp:case Yp:case Kp:case rh:case HN:case DU:case WA:return}}const TMn={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},SMn={count:1,min:1,max:1};function Dy(e){return!!e&&!!e.argmin}function k_(e){return!!e&&!!e.argmax}function dde(e){return Pt(e)&&!!TMn[e]}const AMn=new Set(["count","valid","missing","distinct"]);function PKe(e){return Pt(e)&&AMn.has(e)}function CMn(e){return Pt(e)&&kr(["min","max"],e)}const IMn=new Set(["count","sum","distinct","valid","missing"]),kMn=new Set(["mean","average","median","q1","q3","min","max"]);function OKe(e){return w_(e)&&(e=JU(e,void 0)),"bin"+ct(e).map(t=>UU(e[t])?Ms(`_${t}_${Mb(e[t])}`):Ms(`_${t}_${e[t]}`)).join("")}function fs(e){return e===!0||tE(e)&&!e.binned}function Ka(e){return e==="binned"||tE(e)&&e.binned===!0}function tE(e){return Ot(e)}function UU(e){return e==null?void 0:e.param}function M3e(e){switch(e){case oy:case ay:case f1:case Jc:case zm:case Vm:case C_:case d1:case S_:case A_:case Zc:return 6;case I_:return 4;default:return 10}}function WN(e){return!!(e!=null&&e.expr)}function wc(e){const t=ct(e||{}),n={};for(const r of t)n[r]=Cf(e[r]);return n}function DKe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:s,limit:o,color:a,subtitleColor:u,subtitleFont:l,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:p,...m}=e,g={...m,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...s!==void 0?{angle:s}:{},...o!==void 0?{limit:o}:{}},v={...u?{subtitleColor:u}:{},...l?{subtitleFont:l}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},b=HA(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:b,nonMarkTitleProperties:y,subtitle:v}}function cv(e){return Pt(e)||Qe(e)&&Pt(e[0])}function Xt(e){return!!(e!=null&&e.signal)}function R_(e){return!!e.step}function RMn(e){return Qe(e)?!1:"fields"in e&&!("data"in e)}function $Mn(e){return Qe(e)?!1:"fields"in e&&"data"in e}function Yg(e){return Qe(e)?!1:"field"in e&&"data"in e}const NMn={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},PMn=ct(NMn),OMn={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Mee=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function LKe(e){const t=Qe(e.condition)?e.condition.map(F3e):F3e(e.condition);return{...Cf(e),condition:t}}function Cf(e){if(WN(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function F3e(e){if(WN(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function _s(e){if(WN(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Xt(e)?e:e!==void 0?{value:e}:void 0}function DMn(e){return Xt(e)?e.signal:Et(e)}function B3e(e){return Xt(e)?e.signal:Et(e.value)}function lp(e){return Xt(e)?e.signal:e==null?null:Et(e)}function LMn(e,t,n){for(const r of n){const i=Ly(r,t.markDef,t.config);i!==void 0&&(e[r]=_s(i))}return e}function MKe(e){return[].concat(e.type,e.style??[])}function bi(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:s}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:s&&(!i||i===e)?void 0:Ly(e,t,n,r)}function Ly(e,t,n,{vgChannel:r}={}){return xo(r?yF(e,t,n.style):void 0,yF(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function yF(e,t,n){return FKe(e,MKe(t),n)}function FKe(e,t,n){t=Nt(t);let r;for(const i of t){const s=n[i];s&&s[e]!==void 0&&(r=s[e])}return r}function BKe(e,t){return Nt(e).reduce((n,r)=>(n.field.push(St(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function jKe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(Of(i,r))return;n.push(r)}),n}function UKe(e,t){return Of(e,t)||!t?e:e?[...Nt(e),...Nt(t)].join(", "):t}function zKe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((cv(n)||Xt(n))&&(cv(r)||Xt(r)))return{explicit:e.explicit,value:UKe(n,r)};if(cv(n)||Xt(n))return{explicit:e.explicit,value:n};if(cv(r)||Xt(r))return{explicit:e.explicit,value:r};if(!cv(n)&&!Xt(n)&&!cv(r)&&!Xt(r))return{explicit:e.explicit,value:jKe(n,r)};throw new Error("It should never reach here")}function hde(e){return`Invalid specification ${Wi(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const MMn='Autosize "fit" only works for single views and layered views.';function j3e(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function U3e(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function z3e(e){return e?`Dropping "fit-${e}" because spec has discrete ${ef(e)}.`:'Dropping "fit" because spec has discrete size.'}function pde(e){return`Unknown field for ${e}. Cannot calculate view size.`}function V3e(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function FMn(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function BMn(e){return`The "nearest" transform is not supported for ${e} marks.`}function VKe(e){return`Selection not supported for ${e} yet.`}function jMn(e){return`Cannot find a selection named "${e}".`}const UMn="Scale bindings are currently only supported for scales with unbinned, continuous domains.",zMn="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",VMn="Legend bindings are only supported for selections over an individual field or encoding channel.";function HMn(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function qMn(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const WMn="The same selection must be used to override scale domains in a layered view.",GMn='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function YMn(e){return`Unknown repeated value "${e}".`}function H3e(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const KMn="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function XMn(e){return`Unrecognized parse "${e}".`}function q3e(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const QMn="Attempt to add the same child twice.";function JMn(e){return`Ignoring an invalid transform: ${Wi(e)}.`}const ZMn='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function W3e(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function eFn(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Wi(t)} is overridden by a child projection ${Wi(n)}.`}const tFn="Arc marks uses theta channel rather than angle, replacing angle with theta.";function nFn(e){return`${e}Offset dropped because ${e} is continuous`}function rFn(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Wi(n)}}.`}function HKe(e){return`Invalid field type "${e}".`}function iFn(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function sFn(e){return`Invalid aggregation operator "${e}".`}function qKe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function oFn(e){return`Position range does not support relative band size for ${e}.`}function Fee(e,t){return`Dropping ${Wi(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const aFn="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function zU(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function uFn(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function lFn(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function cFn(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function fFn(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function DY(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function dFn(e){return`The ${e} for range marks cannot be an expression`}function hFn(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function pFn(e,t){return`Specified orient "${e}" overridden with "${t}".`}function mFn(e){return`Cannot use the scale property "${e}" with non-color channel.`}function gFn(e){return`Cannot use the relative band size with ${e} scale.`}function yFn(e){return`Using unaggregated domain with raw field has no effect (${Wi(e)}).`}function vFn(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function bFn(e){return`Unaggregated domain is currently unsupported for log scale (${Wi(e)}).`}function _Fn(e){return`Cannot apply size to non-oriented mark "${e}".`}function wFn(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function xFn(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function WKe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function GKe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function EFn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Wi(n)} and ${Wi(r)}). Using ${Wi(n)}.`}function TFn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Wi(n)} and ${Wi(r)}). Using the union of the two domains.`}function SFn(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function AFn(e){return`Dropping sort property ${Wi(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const G3e="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",CFn="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",IFn="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",kFn="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function RFn(e){return`Cannot stack "${e}" if there is already "${e}2".`}function $Fn(e){return`Stack is applied to a non-linear scale (${e}).`}function NFn(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function vF(e,t){return`Invalid ${e}: ${Wi(t)}.`}function PFn(e){return`Dropping day from datetime ${Wi(e)} as day cannot be combined with other units.`}function OFn(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function DFn(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function LFn(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function Y3e(e){return`1D error band does not support ${e}.`}function YKe(e){return`Channel ${e} is required for "binned" bin.`}function MFn(e){return`Channel ${e} should not be used with "binned" bin.`}function FFn(e){return`Domain for ${e} is required for threshold scale.`}const KKe=Gue(Wue);let GA=KKe;function BFn(e){return GA=e,GA}function jFn(){return GA=KKe,GA}function pt(...e){GA.warn(...e)}function UFn(...e){GA.debug(...e)}function nE(e){if(e&&Ot(e)){for(const t of gde)if(t in e)return!0}return!1}const XKe=["january","february","march","april","may","june","july","august","september","october","november","december"],zFn=XKe.map(e=>e.substr(0,3)),QKe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],VFn=QKe.map(e=>e.substr(0,3));function HFn(e){if(PU(e)&&(e=+e),ri(e))return e>4&&pt(vF("quarter",e)),e-1;throw new Error(vF("quarter",e))}function qFn(e){if(PU(e)&&(e=+e),ri(e))return e-1;{const t=e.toLowerCase(),n=XKe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=zFn.indexOf(r);if(i!==-1)return i;throw new Error(vF("month",e))}}function WFn(e){if(PU(e)&&(e=+e),ri(e))return e%7;{const t=e.toLowerCase(),n=QKe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=VFn.indexOf(r);if(i!==-1)return i;throw new Error(vF("day",e))}}function mde(e,t){const n=[];if(t&&e.day!==void 0&&ct(e).length>1&&(pt(PFn(e)),e=kn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?qFn(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?HFn(e.quarter):e.quarter;n.push(ri(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?WFn(e.day):e.day;n.push(ri(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Qx(e){const n=mde(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function GFn(e){const n=mde(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function YFn(e){const t=mde(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const JKe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},gde=ct(JKe);function KFn(e){return!!JKe[e]}function rE(e){return Ot(e)?e.binned:ZKe(e)}function ZKe(e){return e&&e.startsWith("binned")}function yde(e){return e.startsWith("utc")}function XFn(e){return e.substring(3)}const QFn={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function VU(e){return gde.filter(t=>tXe(e,t))}function eXe(e){const t=VU(e);return t[t.length-1]}function tXe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function JFn(e,t,{end:n}={end:!1}){const r=ide(t),i=yde(e)?"utc":"";function s(u){return u==="quarter"?`(${i}quarter(${r})-1)`:`${i}${u}(${r})`}let o;const a={};for(const u of gde)tXe(e,u)&&(a[u]=s(u),o=u);return n&&(a[o]+="+1"),GFn(a)}function nXe(e){if(!e)return;const t=VU(e);return`timeUnitSpecifier(${Wi(t)}, ${Wi(QFn)})`}function ZFn(e,t,n){if(!e)return;const r=nXe(e);return`${n||yde(e)?"utc":"time"}Format(${t}, ${r})`}function $a(e){if(!e)return;let t;return Pt(e)?ZKe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Ot(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),yde(t.unit)&&(t.utc=!0,t.unit=XFn(t.unit)),t}function e7n(e){const{utc:t,...n}=$a(e);return n.unit?(t?"utc":"")+ct(n).map(r=>Ms(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+ct(n).map(r=>Ms(`_${r}_${n[r]}`)).join("")}function rXe(e,t=n=>n){const n=$a(e),r=eXe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:s,part:o}=iXe(r,n.step),a={...i,[o]:+i[o]+s};return`${t(Qx(a))} - ${t(Qx(i))}`}}const t7n={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function n7n(e){return!!t7n[e]}function iXe(e,t=1){if(n7n(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function r7n(e){return e==null?void 0:e.param}function vde(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function bde(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function _de(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function wde(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function xde(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function Ede(e){if(e!=null&&e.field){if(Qe(e.range)&&e.range.length===2)return!0;if(Xt(e.range))return!0}return!1}function Tde(e){return!!(e!=null&&e.field)&&(Qe(e.oneOf)||Qe(e.in))}function i7n(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function sXe(e){return Tde(e)||vde(e)||Ede(e)||bde(e)||wde(e)||_de(e)||xde(e)}function l0(e,t){return ZU(e,{timeUnit:t,wrapTime:!0})}function s7n(e,t){return e.map(n=>l0(n,t))}function oXe(e,t=!0){const{field:n}=e,r=$a(e.timeUnit),{unit:i,binned:s}=r||{},o=St(e,{expr:"datum"}),a=i?`time(${s?o:JFn(i,n)})`:o;if(vde(e))return`${a}===${l0(e.equal,i)}`;if(bde(e)){const u=e.lt;return`${a}<${l0(u,i)}`}else if(wde(e)){const u=e.gt;return`${a}>${l0(u,i)}`}else if(_de(e)){const u=e.lte;return`${a}<=${l0(u,i)}`}else if(xde(e)){const u=e.gte;return`${a}>=${l0(u,i)}`}else{if(Tde(e))return`indexof([${s7n(e.oneOf,i).join(",")}], ${a}) !== -1`;if(i7n(e))return Sde(a,e.valid);if(Ede(e)){const{range:u}=e,l=Xt(u)?{signal:`${u.signal}[0]`}:u[0],c=Xt(u)?{signal:`${u.signal}[1]`}:u[1];if(l!==null&&c!==null&&t)return"inrange("+a+", ["+l0(l,i)+", "+l0(c,i)+"])";const f=[];return l!==null&&f.push(`${a} >= ${l0(l,i)}`),c!==null&&f.push(`${a} <= ${l0(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Wi(e)}`)}function Sde(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function o7n(e){return sXe(e)&&e.timeUnit?{...e,timeUnit:$a(e.timeUnit)}:e}const GN={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function a7n(e){return e==="quantitative"||e==="temporal"}function aXe(e){return e==="ordinal"||e==="nominal"}const Jx=GN.quantitative,Ade=GN.ordinal,YA=GN.temporal,Cde=GN.nominal,S3=GN.geojson;function u7n(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Jx:return"quantitative";case"t":case YA:return"temporal";case"o":case Ade:return"ordinal";case"n":case Cde:return"nominal";case S3:return"geojson"}}const zc={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Bee={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function l7n(e,t){const n=Bee[e],r=Bee[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const c7n={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function K3e(e){return c7n[e]}const uXe=new Set(["linear","log","pow","sqrt","symlog"]),lXe=new Set([...uXe,"time","utc"]);function cXe(e){return uXe.has(e)}const fXe=new Set(["quantile","quantize","threshold"]),f7n=new Set([...lXe,...fXe,"sequential","identity"]),d7n=new Set(["ordinal","bin-ordinal","point","band"]);function Oa(e){return d7n.has(e)}function nd(e){return f7n.has(e)}function cp(e){return lXe.has(e)}function KA(e){return fXe.has(e)}const h7n={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function p7n(e){return!Pt(e)&&!!e.name}function dXe(e){return e==null?void 0:e.param}function m7n(e){return e==null?void 0:e.unionWith}function g7n(e){return Ot(e)&&"field"in e}const y7n={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Uur,domain:zur,range:Vur,rangeMax:Hur,rangeMin:qur,scheme:Wur,...v7n}=y7n,b7n=ct(v7n);function jee(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return cp(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return cp(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return cp(e);case"nice":return cp(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return nd(e)&&!kr(["log","time","utc","threshold","quantile"],e)}}function hXe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return PS(e)?void 0:mFn(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function _7n(e,t){return kr([Ade,Cde],t)?e===void 0||Oa(e):t===YA?kr([zc.TIME,zc.UTC,void 0],e):t===Jx?cXe(e)||KA(e)||e===void 0:!0}function w7n(e,t,n=!1){if(!h1(e))return!1;switch(e){case Fs:case Fa:case T_:case T3:case gh:case Wp:return cp(t)||t==="band"?!0:t==="point"?!n:!1;case f1:case C_:case d1:case S_:case A_:case Z2:return cp(t)||KA(t)||kr(["band","point","ordinal"],t);case Jc:case zm:case Vm:return t!=="band";case I_:case Zc:return t==="ordinal"||KA(t)}}function Ide(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:s}=e,o=Rde(e);return gt(n)&&!PKe(n.aggregate)&&i&&cp(i.get("type"))?x7n({fieldDef:n,channel:t,markDef:r,ref:o,config:s}):o}function x7n({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return bi("invalid",n,i)===null?[E7n(e,t),r]:r}function E7n(e,t){const n=kde(e,!0),i=eE(t)==="y"?{field:{group:"height"}}:{value:0};return{test:n,...i}}function kde(e,t=!0){return Sde(Pt(e)?e:St(e,{expr:"datum"}),!t)}function T7n(e){const{datum:t}=e;return nE(t)?Qx(t):`${Wi(t)}`}function yx(e,t,n,r){const i={};if(t&&(i.scale=t),Wm(e)){const{datum:s}=e;nE(s)?i.signal=Qx(s):Xt(s)?i.signal=s.signal:WN(s)?i.signal=s.expr:i.value=s}else i.field=St(e,n);if(r){const{offset:s,band:o}=r;s&&(i.offset=s),o&&(i.band=o)}return i}function bF({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:s="end",bandPosition:o=.5}){const a=!Xt(o)&&0<o&&o<1?"datum":void 0,u=St(t,{expr:a,suffix:i}),l=n!==void 0?St(n,{expr:a}):St(t,{suffix:s,expr:a}),c={};if(o===0||o===1){c.scale=e;const f=o===0?u:l;c.field=f}else{const f=Xt(o)?`(1-${o.signal}) * ${u} + ${o.signal} * ${l}`:`${1-o} * ${u} + ${o} * ${l}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function S7n({scaleName:e,fieldDef:t}){const n=St(t,{expr:"datum"}),r=St(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function Rde({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:u,defaultRef:l,bandPosition:c}){if(t){if(Fn(t)){const f=o==null?void 0:o.get("type");if(Ul(t)){c??(c=Bb({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:h,type:p}=t;if(fs(d)||c&&h&&p===YA)return a!=null&&a.impute?yx(t,s,{binSuffix:"mid"},{offset:u}):c&&!Oa(f)?bF({scaleName:s,fieldOrDatumDef:t,bandPosition:c,offset:u}):yx(t,s,QN(t,e)?{binSuffix:"range"}:{},{offset:u});if(Ka(d)){if(gt(n))return bF({scaleName:s,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:u});pt(YKe(e===Fs?qp:Um))}}return yx(t,s,Oa(f)?{binSuffix:"range"}:{},{offset:u,band:f==="band"?c??t.bandPosition??.5:void 0})}else if($p(t)){const f=t.value,d=u?{offset:u}:{};return{...rk(e,f),...d}}}return Jn(l)&&(l=l()),l&&{...l,...u?{offset:u}:{}}}function rk(e,t){return kr(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:kr(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:_s(t)}function Zx(e){return e&&e!=="number"&&e!=="time"}function pXe(e,t,n){return`${e}(${t}${n?`, ${Wi(n)}`:""})`}const A7n="  ";function $de({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s}){var u,l;if(Zx(n))return fp({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:s});const o=mXe(e,r,i),a=XA(e);if(t===void 0&&n===void 0&&s.customFormatTypes){if(a==="quantitative"){if(i&&s.normalizedNumberFormatType)return fp({fieldOrDatumDef:e,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:r,config:s});if(s.numberFormatType)return fp({fieldOrDatumDef:e,format:s.numberFormat,formatType:s.numberFormatType,expr:r,config:s})}if(a==="temporal"&&s.timeFormatType&&gt(e)&&e.timeUnit===void 0)return fp({fieldOrDatumDef:e,format:s.timeFormat,formatType:s.timeFormatType,expr:r,config:s})}if(JA(e)){const c=I7n({field:o,timeUnit:gt(e)?(u=$a(e.timeUnit))==null?void 0:u.unit:void 0,format:t,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:sE(e)&&((l=e.scale)==null?void 0:l.type)===zc.UTC});return c?{signal:c}:void 0}if(t=Uee({type:a,specifiedFormat:t,config:s,normalizeStack:i}),gt(e)&&fs(e.bin)){const c=St(e,{expr:r,binSuffix:"end"});return{signal:YN(o,c,t,n,s)}}else return t||XA(e)==="quantitative"?{signal:`${vXe(o,t)}`}:{signal:`isValid(${o}) ? ${o} : ""+${o}`}}function mXe(e,t,n){return gt(e)?n?`${St(e,{expr:t,suffix:"end"})}-${St(e,{expr:t,suffix:"start"})}`:St(e,{expr:t}):T7n(e)}function fp({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s,field:o}){if(o??(o=mXe(e,r,i)),o!=="datum.value"&&gt(e)&&fs(e.bin)){const a=St(e,{expr:r,binSuffix:"end"});return{signal:YN(o,a,t,n,s)}}return{signal:pXe(n,o,t)}}function gXe(e,t,n,r,i,s){var o;if(!(Pt(r)&&Zx(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&XA(e)==="quantitative"&&(i.normalizedNumberFormatType&&QA(e)&&e.stack==="normalize"||i.numberFormatType))){if(QA(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return Uee({type:"quantitative",config:i,normalizeStack:!0});if(JA(e)){const a=gt(e)?(o=$a(e.timeUnit))==null?void 0:o.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:C7n({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:s})}return Uee({type:t,specifiedFormat:n,config:i})}}function yXe(e,t,n){var r;if(e&&(Xt(e)||e==="number"||e==="time"))return e;if(JA(t)&&n!=="time"&&n!=="utc")return gt(t)&&((r=$a(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function Uee({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Pt(t))return t;if(e===Jx)return r?n.normalizedNumberFormat:n.numberFormat}function C7n({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:nXe(t)}:r?void 0:n.timeFormat)}function vXe(e,t){return`format(${e}, "${t||""}")`}function X3e(e,t,n,r){return Zx(n)?pXe(n,e,t):vXe(e,(Pt(t)?t:void 0)??r.numberFormat)}function YN(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return YN(e,t,i.numberFormat,i.numberFormatType,i);const s=X3e(e,n,r,i),o=X3e(t,n,r,i);return`${Sde(e,!1)} ? "null" : ${s} + "${A7n}" + ${o}`}function I7n({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:s}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Pt(n)?n:i,`${s?"utc":"time"}Format(${e}, '${n}')`):ZFn(t,e,s)}const Ql={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},bXe=Ql.arc,HU=Ql.area,qU=Ql.bar,k7n=Ql.image,WU=Ql.line,GU=Ql.point,R7n=Ql.rect,_F=Ql.rule,_Xe=Ql.text,Nde=Ql.tick,$7n=Ql.trail,Pde=Ql.circle,Ode=Ql.square,wXe=Ql.geoshape;function iE(e){return["line","area","trail"].includes(e)}function qR(e){return["rect","bar","image","arc"].includes(e)}const N7n=new Set(ct(Ql));function xm(e){return e.type}const P7n=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],O7n=["fill","fillOpacity"],D7n=[...P7n,...O7n],L7n={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},Q3e=ct(L7n),M7n={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},F7n={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},B7n={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},xXe=ct(B7n);function e2(e){return e&&e.band!=null}const j7n={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},EXe=5,U7n={binSpacing:1,continuousBandSize:EXe,minBandSize:.25,timeUnitBandPosition:.5},z7n={binSpacing:0,continuousBandSize:EXe,minBandSize:.25,timeUnitBandPosition:.5},V7n={thickness:1};function H7n(e){return xm(e)?e.type:e}const YU="min",q7n={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function J3e(e){return e in q7n}function TXe(e){return!!(e!=null&&e.encoding)}function J0(e){return e&&(e.op==="count"||!!e.field)}function SXe(e){return e&&Qe(e)}function KN(e){return"row"in e||"column"in e}function Dde(e){return!!e&&"header"in e}function KU(e){return"facet"in e}function W7n(e){return e.param}function G7n(e){return e&&!Pt(e)&&"repeat"in e}function Z3e(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function Lde(e){return"sort"in e}function Bb({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Fn(e)&&e.bandPosition!==void 0)return e.bandPosition;if(gt(e)){const{timeUnit:i,bin:s}=e;if(i&&!t)return Ly("timeUnitBandPosition",n,r);if(fs(s))return .5}}function AXe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:s,useVlSizeChannel:o}){var l,c,f;const a=ef(e),u=bi(o?"size":a,r,i,{vgChannel:a});if(u!==void 0)return u;if(gt(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:Ly("timeUnitBandSize",r,i)};if(fs(h)&&!Oa(s))return{band:1}}if(qR(r.type))return s?Oa(s)?((l=i[r.type])==null?void 0:l.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function CXe(e,t,n,r){return fs(e.bin)||e.timeUnit&&Ul(e)&&e.type==="temporal"?Bb({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function IXe(e){return e&&!!e.sort&&!e.field}function XU(e){return e&&"condition"in e}function QU(e){const t=e==null?void 0:e.condition;return!!t&&!Qe(t)&&gt(t)}function XN(e){const t=e==null?void 0:e.condition;return!!t&&!Qe(t)&&Fn(t)}function Y7n(e){const t=e==null?void 0:e.condition;return!!t&&(Qe(t)||$p(t))}function gt(e){return e&&(!!e.field||e.aggregate==="count")}function XA(e){return e==null?void 0:e.type}function Wm(e){return e&&"datum"in e}function Ov(e){return Ul(e)&&!xF(e)||wF(e)}function eIe(e){return Ul(e)&&e.type==="quantitative"&&!e.bin||wF(e)}function wF(e){return Wm(e)&&ri(e.datum)}function Fn(e){return gt(e)||Wm(e)}function Ul(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function $p(e){return e&&"value"in e&&"value"in e}function sE(e){return e&&("scale"in e||"sort"in e)}function QA(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function kXe(e){return e&&"legend"in e}function RXe(e){return e&&("format"in e||"formatType"in e)}function K7n(e){return Uc(e,["legend","axis","header","scale"])}function X7n(e){return"op"in e}function St(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,s="";if(J7n(e))n=bKe("count");else{let o;if(!t.nofn)if(X7n(e))o=e.op;else{const{bin:a,aggregate:u,timeUnit:l}=e;fs(a)?(o=OKe(a),i=(t.binSuffix??"")+(t.suffix??"")):u?k_(u)?(s=`["${n}"]`,n=`argmax_${u.argmax}`):Dy(u)?(s=`["${n}"]`,n=`argmin_${u.argmin}`):o=String(u):l&&!rE(l)&&(o=e7n(l),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}o&&(n=n?`${o}_${n}`:o)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?E3(n):t.expr?gKe(n,t.expr)+s:nh(n)+s}function xF(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return gt(e)&&!!e.bin;case"temporal":return!1}throw new Error(HKe(e.type))}function Q7n(e){var t;return sE(e)&&KA((t=e.scale)==null?void 0:t.type)}function J7n(e){return e.aggregate==="count"}function Z7n(e,t){var o;const{field:n,bin:r,timeUnit:i,aggregate:s}=e;if(s==="count")return t.countTitle;if(fs(r))return`${n} (binned)`;if(i&&!rE(i)){const a=(o=$a(i))==null?void 0:o.unit;if(a)return`${n} (${VU(a).join("-")})`}else if(s)return k_(s)?`${n} for max ${s.argmax}`:Dy(s)?`${n} for min ${s.argmin}`:`${zN(s)} of ${n}`;return n}function eBn(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(k_(t))return`${i} for argmax(${t.argmax})`;if(Dy(t))return`${i} for argmin(${t.argmin})`;const s=r&&!rE(r)?$a(r):void 0,o=t||(s==null?void 0:s.unit)||(s==null?void 0:s.maxbins)&&"timeunit"||fs(n)&&"bin";return o?`${o.toUpperCase()}(${i})`:i}const $Xe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return eBn(e);default:return Z7n(e,t)}};let NXe=$Xe;function PXe(e){NXe=e}function tBn(){PXe($Xe)}function OS(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=Mde(e))==null?void 0:a.title;if(!gt(e))return i??e.title;const s=e,o=r?Fde(s,t):void 0;return n?xo(i,s.title,o):i??s.title??o}function Mde(e){if(QA(e)&&e.axis)return e.axis;if(kXe(e)&&e.legend)return e.legend;if(Dde(e)&&e.header)return e.header}function Fde(e,t){return NXe(e,t)}function EF(e){if(RXe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=Mde(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function nBn(e,t){var s;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Lde(e)&&Qe(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!k_(n)&&!Dy(n))return"quantitative";if(sE(e)&&((s=e.scale)!=null&&s.type))switch(Bee[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Em(e){if(gt(e))return e;if(QU(e))return e.condition}function na(e){if(Fn(e))return e;if(XN(e))return e.condition}function OXe(e,t,n,r={}){if(Pt(e)||ri(e)||w_(e)){const i=Pt(e)?"string":ri(e)?"number":"boolean";return pt(rFn(t,i,e)),{value:e}}return Fn(e)?TF(e,t,n,r):XN(e)?{...e,condition:TF(e.condition,t,n,r)}:e}function TF(e,t,n,r){if(RXe(e)){const{format:i,formatType:s,...o}=e;if(Zx(s)&&!n.customFormatTypes)return pt(W3e(t)),TF(o,t,n,r)}else{const i=QA(e)?"axis":kXe(e)?"legend":Dde(e)?"header":null;if(i&&e[i]){const{format:s,formatType:o,...a}=e[i];if(Zx(o)&&!n.customFormatTypes)return pt(W3e(t)),TF({...e,[i]:a},t,n,r)}}return gt(e)?Bde(e,t,r):rBn(e)}function rBn(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=ri(n)?"quantitative":Pt(n)?"nominal":nE(n)?"temporal":void 0,{...e,type:t}}function Bde(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:s,field:o}=e,a={...e};if(!n&&r&&!dde(r)&&!k_(r)&&!Dy(r)&&(pt(sFn(r)),delete a.aggregate),i&&(a.timeUnit=$a(i)),o&&(a.field=`${o}`),fs(s)&&(a.bin=JU(s,t)),Ka(s)&&!Eo(t)&&pt(MFn(t)),Ul(a)){const{type:u}=a,l=u7n(u);u!==l&&(a.type=l),u!=="quantitative"&&PKe(r)&&(pt(iFn(u,r)),a.type="quantitative")}else if(!CKe(t)){const u=nBn(a,t);a.type=u}if(Ul(a)){const{compatible:u,warning:l}=iBn(a,t)||{};u===!1&&pt(l)}if(Lde(a)&&Pt(a.sort)){const{sort:u}=a;if(J3e(u))return{...a,sort:{encoding:u}};const l=u.substr(1);if(u.charAt(0)==="-"&&J3e(l))return{...a,sort:{encoding:l,order:"descending"}}}if(Dde(a)){const{header:u}=a;if(u){const{orient:l,...c}=u;if(l)return{...a,header:{...c,labelOrient:u.labelOrient||l,titleOrient:u.titleOrient||l}}}}return a}function JU(e,t){return w_(e)?{maxbins:M3e(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:M3e(t)}:e}const aT={compatible:!0};function iBn(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case oy:case ay:case OU:return xF(e)?aT:{compatible:!1,warning:lFn(t)};case Fs:case Fa:case T_:case T3:case Jc:case zm:case Vm:case VN:case HN:case DU:case Xx:case LU:case MU:case Z2:case gh:case Wp:case FU:return aT;case Yp:case rh:case Gp:case Kp:return n!==Jx?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:aT;case d1:case S_:case A_:case C_:case f1:case c1:case l1:case qp:case Um:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:aT;case Zc:case I_:return!xF(e)&&!Q7n(e)?{compatible:!1,warning:cFn(t)}:aT;case WA:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:aT}}function JA(e){const{formatType:t}=EF(e);return t==="time"||!t&&sBn(e)}function sBn(e){return e&&(e.type==="temporal"||gt(e)&&!!e.timeUnit)}function ZU(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var u;const s=t&&((u=$a(t))==null?void 0:u.unit);let o=s||n==="temporal",a;return WN(e)?a=e.expr:Xt(e)?a=e.signal:nE(e)?(o=!0,a=Qx(e)):(Pt(e)||ri(e))&&o&&(a=`datetime(${Wi(e)})`,KFn(s)&&(ri(e)&&e<1e4||Pt(e)&&isNaN(Date.parse(e)))&&(a=Qx({[s]:e}))),a?r&&o?`time(${a})`:a:i?void 0:Wi(e)}function DXe(e,t){const{type:n}=e;return t.map(r=>{const i=gt(e)&&!rE(e.timeUnit)?e.timeUnit:void 0,s=ZU(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:r})}function QN(e,t){return fs(e.bin)?h1(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const tIe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function JN(e){return e==null?void 0:e.condition}const LXe=["domain","grid","labels","ticks","title"],oBn={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},MXe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},aBn={...MXe,style:1,labelExpr:1,encoding:1};function nIe(e){return!!aBn[e]}const uBn={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},FXe=ct(uBn);function p1(e){return"mark"in e}class ez{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return p1(t)?H7n(t.mark)===this.name:!1}}function vx(e,t){const n=e&&e[t];return n?Qe(n)?Yx(n,r=>!!r.field):gt(n)||QU(n):!1}function BXe(e,t){const n=e&&e[t];return n?Qe(n)?Yx(n,r=>!!r.field):gt(n)||Wm(n)||XN(n):!1}function jXe(e,t){if(Eo(t)){const n=e[t];if((gt(n)||Wm(n))&&(aXe(n.type)||gt(n)&&n.timeUnit)){const r=ude(t);return BXe(e,r)}}return!1}function jde(e){return Yx(lMn,t=>{if(vx(e,t)){const n=e[t];if(Qe(n))return Yx(n,r=>!!r.aggregate);{const r=Em(n);return r&&!!r.aggregate}}return!1})}function UXe(e,t){const n=[],r=[],i=[],s=[],o={};return Ude(e,(a,u)=>{if(gt(a)){const{field:l,aggregate:c,bin:f,timeUnit:d,...h}=a;if(c||d||f){const p=Mde(a),m=p==null?void 0:p.title;let g=St(a,{forAs:!0});const y={...m?[]:{title:OS(a,t,{allowDisabling:!0})},...h,field:g};if(c){let v;if(k_(c)?(v="argmax",g=St({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${g}.${l}`):Dy(c)?(v="argmin",g=St({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${g}.${l}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const b={op:v,as:g};l&&(b.field=l),s.push(b)}}else if(n.push(g),Ul(a)&&fs(f)){if(r.push({bin:f,field:l,as:g}),n.push(St(a,{binSuffix:"end"})),QN(a,u)&&n.push(St(a,{binSuffix:"range"})),Eo(u)){const v={field:`${g}_end`};o[`${u}2`]=v}y.bin="binned",CKe(u)||(y.type=Jx)}else if(d&&!rE(d)){i.push({timeUnit:d,field:l,as:g});const v=Ul(a)&&a.type!==YA&&"time";v&&(u===VN||u===Xx?y.formatType=v:bMn(u)?y.legend={formatType:v,...y.legend}:Eo(u)&&(y.axis={formatType:v,...y.axis}))}o[u]=y}else n.push(l),o[u]=e[u]}else o[u]=e[u]}),{bins:r,timeUnits:i,aggregate:s,groupby:n,encoding:o}}function lBn(e,t,n){const r=wMn(t,n);if(r){if(r==="binned"){const i=e[t===qp?Fs:Fa];return!!(gt(i)&&gt(e[t])&&Ka(i.bin))}}else return!1;return!0}function cBn(e,t,n,r){const i={};for(const s of ct(e))AKe(s)||pt(uFn(s));for(let s of mMn){if(!e[s])continue;const o=e[s];if(qN(s)){const a=pMn(s),u=i[a];if(gt(u)&&a7n(u.type)&&gt(o)&&!u.timeUnit){pt(nFn(a));continue}}if(s==="angle"&&t==="arc"&&!e.theta&&(pt(tFn),s=gh),!lBn(e,s,t)){pt(zU(s,t));continue}if(s===f1&&t==="line"){const a=Em(e[s]);if(a!=null&&a.aggregate){pt(aFn);continue}}if(s===Jc&&(n?"fill"in e:"stroke"in e)){pt(qKe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(s===HN||s===WA&&!Qe(o)&&!$p(o)||s===Xx&&Qe(o)){if(o){if(s===WA){const a=e[s];if(IXe(a)){i[s]=a;continue}}i[s]=Nt(o).reduce((a,u)=>(gt(u)?a.push(Bde(u,s)):pt(Fee(u,s)),a),[])}}else{if(s===Xx&&o===null)i[s]=null;else if(!gt(o)&&!Wm(o)&&!$p(o)&&!XU(o)&&!Xt(o)){pt(Fee(o,s));continue}i[s]=OXe(o,s,r)}}return i}function tz(e,t){const n={};for(const r of ct(e)){const i=OXe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function fBn(e){const t=[];for(const n of ct(e))if(vx(e,n)){const r=e[n],i=Nt(r);for(const s of i)gt(s)?t.push(s):QU(s)&&t.push(s.condition)}return t}function Ude(e,t,n){if(e)for(const r of ct(e)){const i=e[r];if(Qe(i))for(const s of i)t.call(n,s,r);else t.call(n,i,r)}}function dBn(e,t,n,r){return e?ct(e).reduce((i,s)=>{const o=e[s];return Qe(o)?o.reduce((a,u)=>t.call(r,a,u,s),i):t.call(r,i,o,s)},n):n}function zXe(e,t){return ct(t).reduce((n,r)=>{switch(r){case Fs:case Fa:case LU:case FU:case MU:case qp:case Um:case T_:case T3:case gh:case c1:case Wp:case l1:case Gp:case Yp:case Kp:case rh:case VN:case Zc:case Z2:case Xx:return n;case WA:if(e==="line"||e==="trail")return n;case HN:case DU:{const i=t[r];if(Qe(i)||gt(i))for(const s of Nt(i))s.aggregate||n.push(St(s,{}));return n}case f1:if(e==="trail")return n;case Jc:case zm:case Vm:case d1:case S_:case A_:case I_:case C_:{const i=Em(t[r]);return i&&!i.aggregate&&n.push(St(i,{})),n}}},[])}function hBn(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Qe(t)){for(const s of t)s.aggregate?(r||(r=[]),r.push(s)):(i||(i=[]),i.push(s));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Qe(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function zee(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:o,titlePrefix:a})=>{const u=r?` of ${zde(t)}`:"";return{field:o+t.field,type:t.type,title:Xt(a)?{signal:`${a}"${escape(u)}"`}:a+u}}),s=fBn(n).map(K7n);return{tooltip:[...i,...F0(s,Ir)]}}function zde(e){const{title:t,field:n}=e;return xo(t,n)}function Vde(e,t,n,r,i){const{scale:s,axis:o}=n;return({partName:a,mark:u,positionPrefix:l,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=zde(n);return VXe(e,a,i,{mark:u,encoding:{[t]:{field:`${l}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...s!==void 0?{scale:s}:{},...o!==void 0?{axis:o}:{}},...Pt(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function VXe(e,t,n,r){const{clip:i,color:s,opacity:o}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...s?{color:s}:{},...o?{opacity:o}:{},...xm(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...w_(e[t])?{}:e[t]}}]:[]}function HXe(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",s=r[i],o=r[`${i}2`],a=r[`${i}Error`],u=r[`${i}Error2`];return{continuousAxisChannelDef:lO(s,n),continuousAxisChannelDef2:lO(o,n),continuousAxisChannelDefError:lO(a,n),continuousAxisChannelDefError2:lO(u,n),continuousAxis:i}}function lO(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&pt(LFn(n,t)),r}else return e}function qXe(e,t){const{mark:n,encoding:r}=e,{x:i,y:s}=r;if(xm(n)&&n.orient)return n.orient;if(Ov(i)){if(Ov(s)){const o=gt(i)&&i.aggregate,a=gt(s)&&s.aggregate;if(!o&&a===t)return"vertical";if(!a&&o===t)return"horizontal";if(o===t&&a===t)throw new Error("Both x and y cannot have aggregate");return JA(s)&&!JA(i)?"horizontal":"vertical"}return"horizontal"}else{if(Ov(s))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const SF="boxplot",pBn=["box","median","outliers","rule","ticks"],mBn=new ez(SF,GXe);function WXe(e){return ri(e)?"tukey":e}function GXe(e,{config:t}){e={...e,encoding:tz(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:s,...o}=e,a=xm(n)?n:{type:n};i&&pt(VKe("boxplot"));const u=a.extent??t.boxplot.extent,l=bi("size",a,t),c=a.invalid,f=WXe(u),{bins:d,timeUnits:h,transform:p,continuousAxisChannelDef:m,continuousAxis:g,groupby:y,aggregate:v,encodingWithoutContinuousAxis:b,ticksOrient:w,boxOrient:x,customTooltipWithoutAggregatedField:S}=gBn(e,u,t),A=E3(m.field),{color:C,size:$,...k}=b,P=Fe=>Vde(a,g,m,Fe,t.boxplot),L=P(k),O=P(b),B=(Ot(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",q=P({...k,...$?{size:$}:{},color:{condition:{test:`datum['lower_box_${m.field}'] >= datum['upper_box_${m.field}']`,...C||{value:B}}}}),H=zee([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,b),G={type:"tick",color:"black",opacity:1,orient:w,invalid:c,aria:!1},K=f==="min-max"?H:zee([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,b),J=[...L({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:K}),...L({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:K}),...L({partName:"ticks",mark:G,positionPrefix:"lower_whisker",extraEncoding:K}),...L({partName:"ticks",mark:G,positionPrefix:"upper_whisker",extraEncoding:K})],F=[...f!=="tukey"?J:[],...O({partName:"box",mark:{type:"bar",...l?{size:l}:{},orient:x,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:H}),...q({partName:"median",mark:{type:"tick",invalid:c,...Ot(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...l?{size:l}:{},orient:w,aria:!1},positionPrefix:"mid_box",extraEncoding:H})];if(f==="min-max")return{...o,transform:(o.transform??[]).concat(p),layer:F};const j=`datum["lower_box_${m.field}"]`,W=`datum["upper_box_${m.field}"]`,M=`(${W} - ${j})`,V=`${j} - ${u} * ${M}`,Q=`${W} + ${u} * ${M}`,se=`datum["${m.field}"]`,be={joinaggregate:YXe(m.field),groupby:y},he={transform:[{filter:`(${V} <= ${se}) && (${se} <= ${Q})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${A}`},{op:"max",field:m.field,as:`upper_whisker_${A}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${A}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${A}`},...v],groupby:y}],layer:J},{tooltip:Ce,...Pe}=k,{scale:rt,axis:Re}=m,Tt=zde(m),Ze=Uc(Re,["title"]),It=VXe(a,"outliers",t.boxplot,{transform:[{filter:`(${se} < ${V}) || (${se} > ${Q})`}],mark:"point",encoding:{[g]:{field:m.field,type:m.type,...Tt!==void 0?{title:Tt}:{},...rt!==void 0?{scale:rt}:{},...qi(Ze)?{}:{axis:Ze}},...Pe,...C?{color:C}:{},...S?{tooltip:S}:{}}})[0];let mt;const Se=[...d,...h,be];return It?mt={transform:Se,layer:[It,he]}:(mt=he,mt.transform.unshift(...Se)),{...o,layer:[mt,{transform:p,layer:F}]}}function YXe(e){const t=E3(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function gBn(e,t,n){const r=qXe(e,SF),{continuousAxisChannelDef:i,continuousAxis:s}=HXe(e,r,SF),o=i.field,a=E3(o),u=WXe(t),l=[...YXe(o),{op:"median",field:o,as:`mid_box_${a}`},{op:"min",field:o,as:(u==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:o,as:(u==="min-max"?"upper_whisker_":"max_")+a}],c=u==="min-max"||u==="tukey"?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],{[s]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=hBn(d),{bins:m,timeUnits:g,aggregate:y,groupby:v,encoding:b}=UXe(p,n),w=r==="vertical"?"horizontal":"vertical",x=r,S=[...m,...g,{aggregate:[...y,...l],groupby:v},...c];return{bins:m,timeUnits:g,transform:S,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:b,ticksOrient:w,boxOrient:x,customTooltipWithoutAggregatedField:h}}const Hde="errorbar",yBn=["ticks","rule"],vBn=new ez(Hde,KXe);function KXe(e,{config:t}){e={...e,encoding:tz(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,ticksOrient:o,markDef:a,outerSpec:u,tooltipEncoding:l}=XXe(e,Hde,t);delete s.size;const c=Vde(a,i,r,s,t.errorbar),f=a.thickness,d=a.size,h={type:"tick",orient:o,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:l}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})];return{...u,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function bBn(e,t){const{encoding:n}=e;if(_Bn(n))return{orient:qXe(e,t),inputType:"raw"};const r=wBn(n),i=xBn(n),s=n.x,o=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,u=n.y2;if(Fn(a)&&Fn(u))throw new Error(`${t} cannot have both x2 and y2`);if(Fn(a)){if(Ov(s))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Fn(u)){if(Ov(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,u=n.xError2,l=n.yError,c=n.yError2;if(Fn(u)&&!Fn(a))throw new Error(`${t} cannot have xError2 without xError`);if(Fn(c)&&!Fn(l))throw new Error(`${t} cannot have yError2 without yError`);if(Fn(a)&&Fn(l))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Fn(a)){if(Ov(s))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Fn(l)){if(Ov(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function _Bn(e){return(Fn(e.x)||Fn(e.y))&&!Fn(e.x2)&&!Fn(e.y2)&&!Fn(e.xError)&&!Fn(e.xError2)&&!Fn(e.yError)&&!Fn(e.yError2)}function wBn(e){return Fn(e.x2)||Fn(e.y2)}function xBn(e){return Fn(e.xError)||Fn(e.xError2)||Fn(e.yError)||Fn(e.yError2)}function XXe(e,t,n){const{mark:r,encoding:i,params:s,projection:o,...a}=e,u=xm(r)?r:{type:r};s&&pt(VKe(t));const{orient:l,inputType:c}=bBn(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:m}=HXe(e,l,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:b}=EBn(u,f,d,h,p,c,t,n),{[m]:w,[m==="x"?"x2":"y2"]:x,[m==="x"?"xError":"yError"]:S,[m==="x"?"xError2":"yError2"]:A,...C}=i,{bins:$,timeUnits:k,aggregate:P,groupby:L,encoding:O}=UXe(C,n),B=[...P,...g],q=c!=="raw"?[]:L,H=zee(v,f,O,b);return{transform:[...a.transform??[],...$,...k,...B.length===0?[]:[{aggregate:B,groupby:q}],...y],groupby:q,continuousAxisChannelDef:f,continuousAxis:m,encodingWithoutContinuousAxis:O,ticksOrient:l==="vertical"?"horizontal":"vertical",markDef:u,outerSpec:a,tooltipEncoding:H}}function EBn(e,t,n,r,i,s,o,a){let u=[],l=[];const c=t.field;let f,d=!1;if(s==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&pt(DFn(h,p,o)),p==="stderr"||p==="stdev")u=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],l=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:zN(h)},{fieldPrefix:"upper_",titlePrefix:rIe(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:rIe(h,p,"-")}],d=!0;else{let m,g,y;p==="ci"?(m="mean",g="ci0",y="ci1"):(m="median",g="q1",y="q3"),u=[{op:g,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:OS({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:OS({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:OS({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&pt(OFn(e.center,e.extent)),s==="aggregated-upper-lower"?(f=[],l=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):s==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],l=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?l.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):l.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const h of l)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Kx(Kx(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:l,errorBarSpecificAggregate:u,tooltipSummary:f,tooltipTitleWithFieldName:d}}function rIe(e,t,n){return`${zN(e)} ${n} ${t}`}const qde="errorband",TBn=["band","borders"],SBn=new ez(qde,QXe);function QXe(e,{config:t}){e={...e,encoding:tz(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,markDef:o,outerSpec:a,tooltipEncoding:u}=XXe(e,qde,t),l=o,c=Vde(l,i,r,s,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p={...l.interpolate?{interpolate:l.interpolate}:{},...l.tension&&l.interpolate?{tension:l.tension}:{}};return f?(d={...d,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):l.interpolate?pt(Y3e("interpolate")):l.tension&&pt(Y3e("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:u})]}}const JXe={};function Wde(e,t,n){const r=new ez(e,t);JXe[e]={normalizer:r,parts:n}}function ABn(){return ct(JXe)}Wde(SF,GXe,pBn);Wde(Hde,KXe,yBn);Wde(qde,QXe,TBn);const CBn=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],ZXe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},eQe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},IBn=ct(ZXe),kBn=ct(eQe),RBn={header:1,headerRow:1,headerColumn:1,headerFacet:1},tQe=ct(RBn),nQe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],$Bn={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},NBn={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Np="_vgsid_",PBn={point:{on:"click",fields:[Np],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Gde(e){return e==="legend"||!!(e!=null&&e.legend)}function LY(e){return Gde(e)&&Ot(e)}function Yde(e){return!!(e!=null&&e.select)}function rQe(e){const t=[];for(const n of e||[]){if(Yde(n))continue;const{expr:r,bind:i,...s}=n;if(i&&r){const o={...s,bind:i,init:r};t.push(o)}else{const o={...s,...r?{update:r}:{},...i?{bind:i}:{}};t.push(o)}}return t}function OBn(e){return nz(e)||Xde(e)||Kde(e)}function Kde(e){return"concat"in e}function nz(e){return"vconcat"in e}function Xde(e){return"hconcat"in e}function iQe({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Tm(e){return Ot(e)&&e.step!==void 0}function iIe(e){return e.view||e.width||e.height}const sIe=20,DBn={align:1,bounds:1,center:1,columns:1,spacing:1},LBn=ct(DBn);function MBn(e,t,n){const r=n[t],i={},{spacing:s,columns:o}=r;s!==void 0&&(i.spacing=s),o!==void 0&&(KU(e)&&!KN(e.facet)||Kde(e))&&(i.columns=o),nz(e)&&(i.columns=1);for(const a of LBn)if(e[a]!==void 0)if(a==="spacing"){const u=e[a];i[a]=ri(u)?u:{row:u.row??s,column:u.column??s}}else i[a]=e[a];return i}function Vee(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function AF(e,t){const n=CF(e,t);return Tm(n)?n.step:sQe}function CF(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return xo(n,{step:e.step})}const sQe=20,FBn={continuousWidth:200,continuousHeight:200,step:sQe},BBn={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:FBn,mark:F7n,arc:{},area:{},bar:U7n,circle:{},geoshape:{},image:{},line:{},point:{},rect:z7n,rule:{color:"black"},square:{},text:{color:"black"},tick:V7n,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:h7n,projection:{},legend:$Bn,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:PBn,style:{},title:{},facet:{spacing:sIe},concat:{spacing:sIe},normalizedNumberFormat:".0%"},bg=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],oIe={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},aIe={blue:bg[0],orange:bg[1],red:bg[2],teal:bg[3],green:bg[4],yellow:bg[5],purple:bg[6],pink:bg[7],brown:bg[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function jBn(e={}){return{signals:[{name:"color",value:Ot(e)?{...aIe,...e}:aIe}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function UBn(e){return{signals:[{name:"fontSize",value:Ot(e)?{...oIe,...e}:oIe}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function zBn(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function oQe(e){const t=ct(e||{}),n={};for(const r of t){const i=e[r];n[r]=JN(i)?LKe(i):Cf(i)}return n}function VBn(e){const t=ct(e),n={};for(const r of t)n[r]=oQe(e[r]);return n}const HBn=[...xXe,...FXe,...tQe,"background","padding","legend","lineBreak","scale","style","title","view"];function aQe(e={}){const{color:t,font:n,fontSize:r,selection:i,...s}=e,o=d3({},kn(BBn),n?zBn(n):{},t?jBn(t):{},r?UBn(r):{},s||{});i&&h3(o,"selection",i,!0);const a=Uc(o,HBn);for(const u of["background","lineBreak","padding"])o[u]&&(a[u]=Cf(o[u]));for(const u of xXe)o[u]&&(a[u]=wc(o[u]));for(const u of FXe)o[u]&&(a[u]=oQe(o[u]));for(const u of tQe)o[u]&&(a[u]=wc(o[u]));return o.legend&&(a.legend=wc(o.legend)),o.scale&&(a.scale=wc(o.scale)),o.style&&(a.style=VBn(o.style)),o.title&&(a.title=wc(o.title)),o.view&&(a.view=wc(o.view)),a}const qBn=new Set(["view",...N7n]),WBn=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],GBn={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...M7n};function YBn(e){e=kn(e);for(const t of WBn)delete e[t];if(e.axis)for(const t in e.axis)JN(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of CBn)delete e.legend[t];if(e.mark){for(const t of Q3e)delete e.mark[t];e.mark.tooltip&&Ot(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(rQe(e.params)),delete e.params);for(const t of qBn){for(const r of Q3e)delete e[t][r];const n=GBn[t];if(n)for(const r of n)delete e[t][r];XBn(e,t)}for(const t of ABn())delete e[t];KBn(e);for(const t in e)Ot(e[t])&&qi(e[t])&&delete e[t];return qi(e)?void 0:e}function KBn(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=DKe(e.title);qi(t)||(e.style["group-title"]={...e.style["group-title"],...t}),qi(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),qi(r)?delete e.title:e.title=r}function XBn(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const s={...i,...e.style[n??t]};qi(s)||(e.style[n??t]=s),delete e[t]}function rz(e){return"layer"in e}function QBn(e){return"repeat"in e}function JBn(e){return!Qe(e.repeat)&&e.repeat.layer}class Qde{map(t,n){return KU(t)?this.mapFacet(t,n):QBn(t)?this.mapRepeat(t,n):Xde(t)?this.mapHConcat(t,n):nz(t)?this.mapVConcat(t,n):Kde(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(rz(t))return this.mapLayer(t,n);if(p1(t))return this.mapUnit(t,n);throw new Error(hde(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(s=>this.map(s,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const ZBn={zero:1,center:1,normalize:1};function ejn(e){return e in ZBn}const tjn=new Set([bXe,qU,HU,_F,GU,Pde,Ode,WU,_Xe,Nde]),njn=new Set([qU,HU,bXe]);function uT(e){return gt(e)&&XA(e)==="quantitative"&&!e.bin}function uIe(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",s=t==="x"&&["bar","area"].includes(r),o=e[t],a=e[i];if(gt(o)&&gt(a))if(uT(o)&&uT(a)){if(o.stack)return t;if(a.stack)return i;const u=gt(o)&&!!o.aggregate,l=gt(a)&&!!a.aggregate;if(u!==l)return u?t:i;if(s){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(uT(o))return t;if(uT(a))return i}else{if(uT(o))return s&&n==="vertical"?void 0:t;if(uT(a))return s&&n==="horizontal"?void 0:i}}function rjn(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function uQe(e,t){var m,g;const n=xm(e)?e:{type:e},r=n.type;if(!tjn.has(r))return null;const i=uIe(t,"x",n)||uIe(t,"theta",n);if(!i)return null;const s=t[i],o=gt(s)?St(s,{}):void 0,a=rjn(i),u=[],l=new Set;if(t[a]){const y=t[a],v=gt(y)?St(y,{}):void 0;v&&v!==o&&(u.push(a),l.add(v))}const c=a==="x"?"xOffset":"yOffset",f=t[c],d=gt(f)?St(f,{}):void 0;d&&d!==o&&(u.push(c),l.add(d));const h=gMn.reduce((y,v)=>{if(v!=="tooltip"&&vx(t,v)){const b=t[v];for(const w of Nt(b)){const x=Em(w);if(x.aggregate)continue;const S=St(x,{});(!S||!l.has(S))&&y.push({channel:v,fieldDef:x})}}return y},[]);let p;return s.stack!==void 0?w_(s.stack)?p=s.stack?"zero":null:p=s.stack:njn.has(r)&&(p="zero"),!p||!ejn(p)||jde(t)&&h.length===0?null:((m=s==null?void 0:s.scale)!=null&&m.type&&((g=s==null?void 0:s.scale)==null?void 0:g.type)!==zc.LINEAR&&s!=null&&s.stack&&pt($Fn(s.scale.type)),Fn(t[Hm(i)])?(s.stack!==void 0&&pt(RFn(i)),null):(gt(s)&&s.aggregate&&!IMn.has(s.aggregate)&&pt(NFn(s.aggregate)),{groupbyChannels:u,groupbyFields:l,fieldChannel:i,impute:s.impute===null?!1:iE(r),stackBy:h,offset:p}))}function lQe(e,t,n){const r=wc(e),i=bi("orient",r,n);if(r.orient=ajn(r.type,t,i),i!==void 0&&i!==r.orient&&pt(pFn(r.orient,i)),r.type==="bar"&&r.orient){const u=bi("cornerRadiusEnd",r,n);if(u!==void 0){const l=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:j7n[r.orient];for(const c of l)r[c]=u;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const s=bi("opacity",r,n),o=bi("fillOpacity",r,n);return s===void 0&&o===void 0&&(r.opacity=sjn(r.type,t)),bi("cursor",r,n)===void 0&&(r.cursor=ijn(r,t,n)),r}function ijn(e,t,n){return t.href||e.href||bi("href",e,n)?"pointer":e.cursor}function sjn(e,t){if(kr([GU,Nde,Pde,Ode],e)&&!jde(t))return .7}function ojn(e,t,{graticule:n}){if(n)return!1;const r=Ly("filled",e,t),i=e.type;return xo(r,i!==GU&&i!==WU&&i!==_F)}function ajn(e,t,n){switch(e){case GU:case Pde:case Ode:case _Xe:case R7n:case k7n:return}const{x:r,y:i,x2:s,y2:o}=t;switch(e){case qU:if(gt(r)&&(Ka(r.bin)||gt(i)&&i.aggregate&&!r.aggregate))return"vertical";if(gt(i)&&(Ka(i.bin)||gt(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||s){if(n)return n;if(!s)return(gt(r)&&r.type===Jx&&!fs(r.bin)||wF(r))&&gt(i)&&Ka(i.bin)?"horizontal":"vertical";if(!o)return(gt(i)&&i.type===Jx&&!fs(i.bin)||wF(i))&&gt(r)&&Ka(r.bin)?"vertical":"horizontal"}case _F:if(s&&!(gt(r)&&Ka(r.bin))&&o&&!(gt(i)&&Ka(i.bin)))return;case HU:if(o)return gt(i)&&Ka(i.bin)?"horizontal":"vertical";if(s)return gt(r)&&Ka(r.bin)?"vertical":"horizontal";if(e===_F){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case WU:case Nde:{const a=eIe(r),u=eIe(i);if(n)return n;if(a&&!u)return e!=="tick"?"horizontal":"vertical";if(!a&&u)return e!=="tick"?"vertical":"horizontal";if(a&&u)return"vertical";{const l=Ul(r)&&r.type===YA,c=Ul(i)&&i.type===YA;if(l&&!c)return"vertical";if(!l&&c)return"horizontal"}return}}return"vertical"}function ujn(e){const{point:t,line:n,...r}=e;return ct(r).length>1?r:r.type}function ljn(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Uc(e[t],["point","line"])});return e}function MY(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Ot(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Ot(t.point)?t.point:{}:void 0}function lIe(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class cjn{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(p1(t)){const{mark:r,encoding:i}=t,s=xm(r)?r:{type:r};switch(s.type){case"line":case"rule":case"trail":return!!MY(s,n[s.type],i);case"area":return!!MY(s,n[s.type],i)||!!lIe(s,n[s.type])}}return!1}run(t,n,r){const{config:i}=n,{params:s,projection:o,mark:a,name:u,encoding:l,...c}=t,f=tz(l,i),d=xm(a)?a:{type:a},h=MY(d,i[d.type],f),p=d.type==="area"&&lIe(d,i[d.type]),m=[{name:u,...s?{params:s}:{},mark:ujn({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:Uc(f,["shape"])}],g=uQe(lQe(d,f,i),f);let y=f;if(g){const{fieldChannel:v,offset:b}=g;y={...f,[v]:{...f[v],...b?{stack:b}:{}}}}return y=Uc(y,["y2","x2"]),p&&m.push({...o?{projection:o}:{},mark:{type:"line",...HA(d,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&m.push({...o?{projection:o}:{},mark:{type:"point",opacity:1,filled:!0,...HA(d,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:m},{...n,config:ljn(i)})}}function fjn(e,t){return t?KN(e)?fQe(e,t):cQe(e,t):e}function FY(e,t){return t?fQe(e,t):e}function Hee(e,t,n){const r=t[e];if(G7n(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};pt(YMn(r.repeat));return}return t}function cQe(e,t){if(e=Hee("field",e,t),e!==void 0){if(e===null)return null;if(Lde(e)&&J0(e.sort)){const n=Hee("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function cIe(e,t){if(gt(e))return cQe(e,t);{const n=Hee("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function fIe(e,t){if(Fn(e)){const n=cIe(e,t);if(n)return n;if(XU(e))return{condition:e.condition}}else{if(XN(e)){const n=cIe(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function fQe(e,t){const n={};for(const r in e)if(sn(e,r)){const i=e[r];if(Qe(i))n[r]=i.map(s=>fIe(s,t)).filter(s=>s);else{const s=fIe(i,t);s!==void 0&&(n[r]=s)}}return n}class djn{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(p1(t)){const{encoding:n,mark:r}=t;if(r==="line"||xm(r)&&r.type==="line")for(const i of hMn){const s=eE(i),o=n[s];if(n[i]&&(gt(o)&&!Ka(o.bin)||Wm(o)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:s}=t;return pt(hFn(!!i.x2,!!i.y2)),r({...t,mark:Ot(s)?{...s,type:"rule"}:"rule"},n)}}class hjn extends Qde{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[mBn,vBn,SBn,new cjn,new djn]}map(t,n){if(p1(t)){const r=vx(t.encoding,oy),i=vx(t.encoding,ay),s=vx(t.encoding,OU);if(r||i||s)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,s=FY(t.encoding,n.repeater),o={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(u=>u).join("_")}:{},...s?{encoding:s}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(o,n);const a=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(o,n.config))return u.run(o,n,a);return o}mapRepeat(t,n){return JBn(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...s}=t,{row:o,column:a,layer:u}=r,{repeater:l={},repeaterPrefix:c=""}=n;return o||a?this.mapRepeat({...t,repeat:{...o?{row:o}:{},...a?{column:a}:{}},spec:{repeat:{layer:u},spec:i}},n):{...s,layer:u.map(f=>{const d={...l,layer:f},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${Ms(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:s,...o}=t;!Qe(r)&&t.columns&&(t=Uc(t,["columns"]),pt(H3e("repeat")));const a=[],{repeater:u={},repeaterPrefix:l=""}=n,c=!Qe(r)&&r.row||[u?u.row:null],f=!Qe(r)&&r.column||[u?u.column:null],d=Qe(r)&&r||[u?u.repeat:null];for(const p of d)for(const m of c)for(const g of f){const y={repeat:p,row:m,column:g,layer:u.layer},v=(i.name?`${i.name}_`:"")+l+"child__"+(Qe(r)?`${Ms(p)}`:(r.row?`row_${Ms(m)}`:"")+(r.column?`column_${Ms(g)}`:"")),b=this.map(i,{...n,repeater:y,repeaterPrefix:v});b.name=v,a.push(Uc(b,["data"]))}const h=Qe(r)?t.columns:r.column?r.column.length:1;return{data:i.data??s,align:"all",...o,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return KN(r)&&t.columns&&(t=Uc(t,["columns"]),pt(H3e("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:s,parentProjection:o,config:a}=n,u=hIe({parentProjection:o,projection:i}),l=dIe({parentEncoding:s,encoding:FY(r,n.repeater)});return this.mapUnit({...t,...u?{projection:u}:{},...l?{encoding:l}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:s,...o}=t.encoding,{mark:a,width:u,projection:l,height:c,view:f,params:d,encoding:h,...p}=t,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:s},n),y=FY(o,n.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...u?{width:u}:{},...c?{height:c}:{},...f?{view:f}:{},...l?{projection:l}:{},mark:a,encoding:y,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:s}=t;if(r||i){s&&pt(fFn([...r?[oy]:[],...i?[ay]:[]]));const o={},a={};for(const u of[oy,ay]){const l=t[u];if(l){const{align:c,center:f,spacing:d,columns:h,...p}=l;o[u]=p;for(const m of["align","center","spacing"])l[m]!==void 0&&(a[m]??(a[m]={}),a[m][u]=l[m])}}return{facetMapping:o,layout:a}}else{const{align:o,center:a,spacing:u,columns:l,...c}=s;return{facetMapping:fjn(c,n.repeater),layout:{...o?{align:o}:{},...a?{center:a}:{},...u?{spacing:u}:{},...l?{columns:l}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:s,projection:o,...a}=t,u={...i,parentEncoding:dIe({parentEncoding:n,encoding:s,layer:!0}),parentProjection:hIe({parentProjection:r,projection:o})};return super.mapLayer({...a,...t.name?{name:[u.repeaterPrefix,t.name].filter(l=>l).join("_")}:{}},u)}}function dIe({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...ct(e),...ct(t)]);for(const s of i){const o=t[s],a=e[s];if(Fn(o)){const u={...a,...o};r[s]=u}else XN(o)?r[s]={...o,condition:{...a,...o.condition}}:o||o===null?r[s]=o:(n||$p(a)||Xt(a)||Fn(a)||Qe(a))&&(r[s]=a)}}else r=t;return!r||qi(r)?void 0:r}function hIe(e){const{parentProjection:t,projection:n}=e;return t&&n&&pt(eFn({parentProjection:t,projection:n})),n??t}function Jde(e){return"filter"in e}function pjn(e){return(e==null?void 0:e.stop)!==void 0}function dQe(e){return"lookup"in e}function mjn(e){return"data"in e}function gjn(e){return"param"in e}function yjn(e){return"pivot"in e}function vjn(e){return"density"in e}function bjn(e){return"quantile"in e}function _jn(e){return"regression"in e}function wjn(e){return"loess"in e}function xjn(e){return"sample"in e}function Ejn(e){return"window"in e}function Tjn(e){return"joinaggregate"in e}function Sjn(e){return"flatten"in e}function Ajn(e){return"calculate"in e}function hQe(e){return"bin"in e}function Cjn(e){return"impute"in e}function Ijn(e){return"timeUnit"in e}function kjn(e){return"aggregate"in e}function Rjn(e){return"stack"in e}function $jn(e){return"fold"in e}function Njn(e){return"extent"in e&&!("density"in e)&&!("regression"in e)}function Pjn(e){return e.map(t=>Jde(t)?{filter:NS(t.filter,o7n)}:t)}class Ojn extends Qde{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=pIe(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=pIe(t,n),t.encoding){const r={};for(const[i,s]of Mb(t.encoding))r[i]=pQe(s,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Mb(r).map(([s,o])=>{const{init:a,bind:u,empty:l,...c}=o;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[s]=l!=="none";for(const f of au(n.selectionPredicates[s]??{}))f.empty=l!=="none";return{name:s,value:a,select:c,bind:u}})}:t}}function pIe(e,t){const{transform:n,...r}=e;if(n){const i=n.map(s=>{if(Jde(s))return{filter:qee(s,t)};if(hQe(s)&&tE(s.bin))return{...s,bin:mQe(s.bin)};if(dQe(s)){const{selection:o,...a}=s.from;return o?{...s,from:{param:o,...a}}:s}return s});return{...r,transform:i}}return e}function pQe(e,t){var r,i;const n=kn(e);if(gt(n)&&tE(n.bin)&&(n.bin=mQe(n.bin)),sE(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:s,...o}=n.scale.domain;n.scale.domain={...o,...s?{param:s}:{}}}if(XU(n))if(Qe(n.condition))n.condition=n.condition.map(s=>{const{selection:o,param:a,test:u,...l}=s;return a?s:{...l,test:qee(s,t)}});else{const{selection:s,param:o,test:a,...u}=pQe(n.condition,t);n.condition=o?n.condition:{...u,test:qee(n.condition,t)}}return n}function mQe(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function qee(e,t){const n=r=>NS(r,i=>{var s;const o=t.emptySelections[i]??!0,a={param:i,empty:o};return(s=t.selectionPredicates)[i]??(s[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):NS(e.test||e.filter,r=>r.selection?n(r.selection):r)}class Wee extends Qde{map(t,n){const r=n.selections??[];if(t.params&&!p1(t)){const i=[];for(const s of t.params)Yde(s)?r.push(s):i.push(s);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),s=[];for(const o of r)if(!o.views||!o.views.length)s.push(o);else for(const a of o.views)(Pt(a)&&(a===t.name||i.includes(a))||Qe(a)&&a.map(u=>i.indexOf(u)).every((u,l,c)=>u!==-1&&(l===0||u>c[l-1])))&&s.push(o);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=Wee.prototype[e];Wee.prototype[e]=function(n,r){return t.call(this,n,Djn(n,r))}}function Djn(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function gQe(e,t){t===void 0&&(t=aQe(e.config));const n=Bjn(e,t),{width:r,height:i}=e,s=jjn(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...s?{autosize:s}:{}}}const Ljn=new hjn,Mjn=new Ojn,Fjn=new Wee;function Bjn(e,t={}){const n={config:t};return Fjn.map(Ljn.map(Mjn.map(e,n),n),n)}function mIe(e){return Pt(e)?{type:e}:e??{}}function jjn(e,t,n){let{width:r,height:i}=t;const s=p1(e)||rz(e),o={};s?r=="container"&&i=="container"?(o.type="fit",o.contains="padding"):r=="container"?(o.type="fit-x",o.contains="padding"):i=="container"&&(o.type="fit-y",o.contains="padding"):(r=="container"&&(pt(j3e("width")),r=void 0),i=="container"&&(pt(j3e("height")),i=void 0));const a={type:"pad",...o,...n?mIe(n.autosize):{},...mIe(e.autosize)};if(a.type==="fit"&&!s&&(pt(MMn),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&pt(U3e("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&pt(U3e("height")),!Of(a,{type:"pad"}))return a}function Ujn(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function zjn(e){return e?`fit-${BU(e)}`:"fit"}const Vjn=["background","padding"];function gIe(e,t){const n={};for(const r of Vjn)e&&e[r]!==void 0&&(n[r]=Cf(e[r]));return t&&(n.params=e.params),n}class m1{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new m1(kn(this.explicit),kn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return xo(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of ct(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function b0(e){return{explicit:!0,value:e}}function yf(e){return{explicit:!1,value:e}}function yQe(e){return(t,n,r,i)=>{const s=e(t.value,n.value);return s>0?t:s<0?n:iz(t,n,r,i)}}function iz(e,t,n,r){return e.explicit&&t.explicit&&pt(EFn(n,r,e.value,t.value)),e}function jb(e,t,n,r,i=iz){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Of(e.value,t.value)?e:i(e,t,n,r)}class Hjn extends m1{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function ZA(e){return"url"in e}function WR(e){return"values"in e}function vQe(e){return"name"in e&&!ZA(e)&&!WR(e)&&!tb(e)}function tb(e){return e&&(bQe(e)||_Qe(e)||Zde(e))}function bQe(e){return"sequence"in e}function _Qe(e){return"sphere"in e}function Zde(e){return"graticule"in e}var Ps;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(Ps||(Ps={}));function wQe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=nh(i.field),i}function t2(e,t=!0,n=Qu){if(Qe(e)){const r=e.map(i=>t2(i,t,n));return t?`[${r.join(", ")}]`:r}else if(nE(e))return n(t?Qx(e):YFn(e));return t?n(Wi(e)):e}function qjn(e,t){for(const n of au(e.component.selection??{})){const r=n.name;let i=`${r}${zb}, ${n.resolve==="global"?"true":`{unit: ${bx(e)}}`}`;for(const s of uz)s.defined(n)&&(s.signals&&(t=s.signals(e,n,t)),s.modifyExpr&&(i=s.modifyExpr(e,n,i)));t.push({name:r+EUn,on:[{events:{signal:n.name+zb},update:`modify(${Et(n.name+n2)}, ${i})`}]})}return ehe(t)}function Wjn(e,t){if(e.component.selection&&ct(e.component.selection).length){const n=Et(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:E_("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return ehe(t)}function Gjn(e,t){let n=!1;for(const r of au(e.component.selection??{})){const i=r.name,s=Et(i+n2);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,u=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${BQe}(${s}, ${Et(a)}${u}`})}n=!0;for(const a of uz)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),ehe(t)}function Yjn(e,t){const n=[...t],r=bx(e,{escape:!1});for(const i of au(e.component.selection??{})){const s={name:i.name+n2};if(i.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:Np}}]),i.init){const a=i.project.items.map(wQe);s.values=i.project.hasSelectionId?i.init.map(u=>({unit:r,[Np]:t2(u,!1)[0]})):i.init.map(u=>({unit:r,fields:a,values:t2(u,!1)}))}n.filter(a=>a.name===i.name+n2).length||n.push(s)}return n}function xQe(e,t){for(const n of au(e.component.selection??{}))for(const r of uz)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function Kjn(e,t){for(const n of e.children)no(n)&&(t=xQe(n,t));return t}function Xjn(e,t,n,r){const i=HQe(e,t.param,t);return{signal:nd(n.get("type"))&&Qe(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function ehe(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class Di{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){pt(QMn);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Vc extends Di{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${vKe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function BY(e){return e.as!==void 0}function yIe(e){return`${e}_end`}class Z0 extends Di{clone(){return new Z0(null,kn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{const{field:a,timeUnit:u}=s;if(u){let l;if(rE(u)){if(no(n)){const{mark:c,markDef:f,config:d}=n,h=Bb({fieldDef:s,markDef:f,config:d});(qR(c)||h)&&(l={timeUnit:$a(u),field:a})}}else l={as:St(s,{forAs:!0}),field:a,timeUnit:u};if(no(n)){const{mark:c,markDef:f,config:d}=n,h=Bb({fieldDef:s,markDef:f,config:d});qR(c)&&Eo(o)&&h!==.5&&(l.rectBandPosition=h)}l&&(i[Ir(l)]=l)}return i},{});return qi(r)?null:new Z0(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},s=$a(r),o={...i,timeUnit:s};return new Z0(t,{[Ir(o)]:o})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Mb(this.timeUnits)){const s=BY(i)?i.as:`${i.field}_end`;t.has(s)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(au(this.timeUnits).map(t=>BY(t)?t.as:yIe(t.field)))}dependentFields(){return new Set(au(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Ir(this.timeUnits)}`}assemble(){const t=[];for(const n of au(this.timeUnits)){const{rectBandPosition:r}=n,i=$a(n.timeUnit);if(BY(n)){const{field:s,as:o}=n,{unit:a,utc:u,...l}=i,c=[o,`${o}_end`];t.push({field:nh(s),type:"timeunit",...a?{units:VU(a)}:{},...u?{timezone:"utc"}:{},...l,as:c}),t.push(...vIe(c,r,i))}else if(n){const{field:s}=n,o=s.replaceAll("\\.","."),a=EQe({timeUnit:i,field:o}),u=yIe(o);t.push({type:"formula",expr:a,as:u}),t.push(...vIe([o,u],r,i))}}return t}}const sz="offsetted_rect_start",oz="offsetted_rect_end";function EQe({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,s=eXe(r),{part:o,step:a}=iXe(s,e.step);return`${i?"utcOffset":"timeOffset"}('${o}', datum['${t}'], ${n?-a:a})`}function vIe([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,s=`datum['${t}']`;return[{type:"formula",expr:bIe([EQe({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${sz}`},{type:"formula",expr:bIe([i,s],n+.5),as:`${e}_${oz}`}]}return[]}function bIe([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const ZN="_tuple_fields";class Qjn{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const Jjn={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new Qjn),s={},o={},a=new Set,u=(p,m)=>{const g=m==="visual"?p.channel:p.field;let y=Ms(`${r}_${g}`);for(let v=1;a.has(y);v++)y=Ms(`${r}_${g}_${v}`);return a.add(y),{[m]:y}},l=t.type,c=e.config.selection[l],f=n.value!==void 0?Nt(n.value):null;let{fields:d,encodings:h}=Ot(n.select)?n.select:{};if(!d&&!h&&f){for(const p of f)if(Ot(p))for(const m of ct(p))dMn(m)?(h||(h=[])).push(m):l==="interval"?(pt(GMn),h=c.encodings):(d??(d=[])).push(m)}!d&&!h&&(h=c.encodings,"fields"in c&&(d=c.fields));for(const p of h??[]){const m=e.fieldDef(p);if(m){let g=m.field;if(m.aggregate){pt(FMn(p,m.aggregate));continue}else if(!g){pt(V3e(p));continue}if(m.timeUnit&&!rE(m.timeUnit)){g=e.vgField(p);const y={timeUnit:m.timeUnit,as:g,field:m.field};o[Ir(y)]=y}if(!s[g]){const y=l==="interval"&&h1(p)&&nd(e.getScaleComponent(p).get("type"))?"R":m.bin?"R-RE":"E",v={field:g,channel:p,type:y,index:i.items.length};v.signals={...u(v,"data"),...u(v,"visual")},i.items.push(s[g]=v),i.hasField[g]=s[g],i.hasSelectionId=i.hasSelectionId||g===Np,TKe(p)?(v.geoChannel=p,v.channel=EKe(p),i.hasChannel[v.channel]=s[g]):i.hasChannel[p]=s[g]}}else pt(V3e(p))}for(const p of d??[]){if(i.hasField[p])continue;const m={type:"E",field:p,index:i.items.length};m.signals={...u(m,"data")},i.items.push(m),i.hasField[p]=m,i.hasSelectionId=i.hasSelectionId||p===Np}f&&(t.init=f.map(p=>i.items.map(m=>Ot(p)?p[m.geoChannel||m.channel]!==void 0?p[m.geoChannel||m.channel]:p[m.field]:p))),qi(o)||(i.timeUnit=new Z0(null,o))},signals:(e,t,n)=>{const r=t.name+ZN;return n.filter(s=>s.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(wQe)})}},uy={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!h1(i))continue;const s=e.getScaleComponent(i),o=s?s.get("type"):void 0;if(o=="sequential"&&pt(zMn),!s||!nd(o)){pt(UMn);continue}s.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(o=>n.filter(a=>a.name===o.signals.data).length===0);if(!e.parent||_Ie(e)||r.length===0)return n;const i=n.filter(o=>o.name===t.name)[0];let s=i.update;if(s.indexOf(BQe)>=0)i.update=`{${r.map(o=>`${Et(nh(o.field))}: ${o.signals.data}`).join(", ")}}`;else{for(const o of r){const a=`${Et(nh(o.field))}: ${o.signals.data}`;s.includes(a)||(s=`${s.substring(0,s.length-1)}, ${a}}`)}i.update=s}return n.concat(r.map(o=>({name:o.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!_Ie(e))for(const r of t.scales){const i=n.find(s=>s.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function Gee(e,t){return`domain(${Et(e.scaleName(t))})`}function _Ie(e){return e.parent&&R3(e.parent)&&!e.parent.parent}const DS="_brush",TQe="_scale_trigger",c4="geo_interval_init_tick",SQe="_init",Zjn="_center",eUn={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Ot(n.select)?n.select:{}};i.fields=[Np],i.encodings||(i.encodings=n.value?ct(n.value):[Yp,Gp]),n.select={type:"interval",...i}}if(t.translate&&!uy.defined(t)){const i=`!event.item || event.item.mark.name !== ${Et(t.name+DS)}`;for(const s of t.events){if(!s.between){pt(`${s} is not an ordered event stream for interval selections.`);continue}const o=Nt((r=s.between[0]).filter??(r.filter=[]));o.indexOf(i)<0&&o.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+zb,s=au(t.project.hasChannel).filter(a=>a.channel===Fs||a.channel===Fa),o=t.init?t.init[0]:null;if(n.push(...s.reduce((a,u)=>a.concat(tUn(e,t,u,o&&o[u.index])),[])),e.hasProjection){const a=Et(e.projectionName()),u=e.projectionName()+Zjn,{x:l,y:c}=t.project.hasChannel,f=l&&l.signals.visual,d=c&&c.signals.visual,h=l?o&&o[l.index]:`${u}[0]`,p=c?o&&o[c.index]:`${u}[1]`,m=x=>e.getSizeSignalRef(x).signal,g=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":m("width")}, ${d?d+"[1]":m("height")}]]`;o&&(n.unshift({name:r+SQe,init:`[scale(${a}, [${l?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${l?h[1]:h}, ${c?p[1]:p}])]`}),(!l||!c)&&(n.find(S=>S.name===u)||n.unshift({name:u,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const y=`intersect(${g}, {markname: ${Et(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${bx(e)}}`,b=`vlSelectionTuples(${y}, ${v})`,w=s.map(x=>x.signals.visual);return n.concat({name:i,on:[{events:[...w.length?[{signal:w.join(" || ")}]:[],...o?[{signal:c4}]:[]],update:b}]})}else{if(!uy.defined(t)){const l=r+TQe,c=s.map(f=>{const d=f.channel,{data:h,visual:p}=f.signals,m=Et(e.scaleName(d)),g=e.getScaleComponent(d).get("type"),y=nd(g)?"+":"";return`(!isArray(${h}) || (${y}invert(${m}, ${p})[0] === ${y}${h}[0] && ${y}invert(${m}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:l,value:{},on:[{events:s.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${l} : {}`}]})}const a=s.map(l=>l.signals.data),u=`unit: ${bx(e)}, fields: ${r+ZN}, values`;return n.concat({name:i,...o?{init:`{${u}: ${t2(o)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${u}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(no(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===c4).length||n.unshift({name:c4,value:null,on:[{events:"timer{1}",update:`${c4} === null ? {} : ${c4}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:s}=t.project.hasChannel,o=i==null?void 0:i.signals.visual,a=s==null?void 0:s.signals.visual,u=`data(${Et(t.name+n2)})`;if(uy.defined(t)||!i&&!s)return n;const l={x:i!==void 0?{signal:`${o}[0]`}:{value:0},y:s!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${o}[1]`}:{field:{group:"width"}},y2:s!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of ct(l))l[g]=[{test:`${u}.length && ${u}[0].unit === ${bx(e)}`,...l[g]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...h}=t.mark,p=ct(h).reduce((g,y)=>(g[y]=[{test:[i!==void 0&&`${o}[0] !== ${o}[1]`,s!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],g),{}),m=d??(t.translate?"move":null);return[{name:`${r+DS}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:l}},...n,{name:r+DS,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...l,...p}}}]}};function tUn(e,t,n,r){const i=!e.hasProjection,s=n.channel,o=n.signals.visual,a=Et(i?e.scaleName(s):e.projectionName()),u=d=>`scale(${a}, ${d})`,l=e.getSizeSignalRef(s===Fs?"width":"height").signal,c=`${s}(unit)`,f=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${o}[0], clamp(${c}, 0, ${l})]`}],[]);if(i){const d=n.signals.data,h=uy.defined(t),p=e.getScaleComponent(s),m=p?p.get("type"):void 0,g=r?{init:t2(r,!0,u)}:{value:[]};return f.push({events:{signal:t.name+TQe},update:nd(m)?`[${u(`${d}[0]`)}, ${u(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:o,...g,on:f},{name:d,...r?{init:t2(r)}:{},on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${a}, ${o})`}]}]}else{const d=s===Fs?0:1,h=t.name+SQe,p=r?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]};return[{name:o,...p,on:f}]}}const nUn={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+ZN,s=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=au(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+DS):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),u=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let l=`unit: ${bx(e)}, `;if(t.project.hasSelectionId)l+=`${Np}: ${o}[${Et(Np)}]`;else{const f=s.items.map(d=>{const h=e.fieldDef(d.channel);return h!=null&&h.bin?`[${o}[${Et(e.vgField(d.channel,{}))}], ${o}[${Et(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${o}[${Et(d.field)}]`}).join(", ");l+=`fields: ${i}, values: [${f}]`}const c=t.events;return n.concat([{name:r+zb,on:c?[{events:c,update:`${u} ? {${l}} : null`,force:!0}]:[]}])}};function A3(e,t,n,r){const i=XU(t)&&t.condition,s=r(t);if(i){const a=Nt(i).map(u=>{const l=r(u);if(W7n(u)){const{param:c,empty:f}=u;return{test:VQe(e,{param:c,empty:f}),...l}}else return{test:RF(e,u.test),...l}});return{[n]:[...a,...s!==void 0?[s]:[]]}}else return s!==void 0?{[n]:s}:{}}function the(e,t="text"){const n=e.encoding[t];return A3(e,n,t,r=>az(r,e.config))}function az(e,t,n="datum"){if(e){if($p(e))return _s(e.value);if(Fn(e)){const{format:r,formatType:i}=EF(e);return $de({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function AQe(e,t={}){const{encoding:n,markDef:r,config:i,stack:s}=e,o=n.tooltip;if(Qe(o))return{tooltip:wIe({tooltip:o},s,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return A3(e,o,"tooltip",u=>{const l=az(u,i,a);if(l)return l;if(u===null)return;let c=bi("tooltip",r,i);if(c===!0&&(c={content:"encoding"}),Pt(c))return{value:c};if(Ot(c))return Xt(c)?c:c.content==="encoding"?wIe(n,s,i,t):{signal:a}})}}function CQe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},s={},o=r?"datum.datum":"datum",a=[];function u(c,f){const d=eE(f),h=Ul(c)?c:{...c,type:e[d].type},p=h.title||Fde(h,i),m=Nt(p).join(", ").replaceAll(/"/g,'\\"');let g;if(Eo(f)){const y=f==="x"?"x2":"y2",v=Em(e[y]);if(Ka(h.bin)&&v){const b=St(h,{expr:o}),w=St(v,{expr:o}),{format:x,formatType:S}=EF(h);g=YN(b,w,x,S,i),s[y]=!0}}if((Eo(f)||f===gh||f===Wp)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:y,formatType:v}=EF(h);g=$de({fieldOrDatumDef:h,format:y,formatType:v,expr:o,config:i,normalizeStack:!0}).signal}g??(g=az(h,i,o).signal),a.push({channel:f,key:m,value:g})}Ude(e,(c,f)=>{gt(c)?u(c,f):QU(c)&&u(c.condition,f)});const l={};for(const{channel:c,key:f,value:d}of a)!s[c]&&!l[f]&&(l[f]=d);return l}function wIe(e,t,n,{reactiveGeom:r}={}){const i=CQe(e,t,n,{reactiveGeom:r}),s=Mb(i).map(([o,a])=>`"${o}": ${a}`);return s.length>0?{signal:`{${s.join(", ")}}`}:void 0}function rUn(e){const{markDef:t,config:n}=e,r=bi("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...iUn(e),...sUn(e)}}function iUn(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=bi("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in OMn?{}:{ariaRoleDescription:{value:t}}}function sUn(e){const{encoding:t,markDef:n,config:r,stack:i}=e,s=t.description;if(s)return A3(e,s,"description",u=>az(u,e.config));const o=bi("description",n,r);if(o!=null)return{description:_s(o)};if(r.aria===!1)return{};const a=CQe(t,i,r);if(!qi(a))return{description:{signal:Mb(a).map(([u,l],c)=>`"${c>0?"; ":""}${u}: " + (${l})`).join(" + ")}}}function Ta(e,t,n={}){const{markDef:r,encoding:i,config:s}=t,{vgChannel:o}=n;let{defaultRef:a,defaultValue:u}=n;a===void 0&&(u??(u=bi(e,r,s,{vgChannel:o,ignoreVgConfig:!0})),u!==void 0&&(a=_s(u)));const l=i[e];return A3(t,l,o??e,c=>Rde({channel:e,channelDef:c,markDef:r,config:s,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:a}))}function IQe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:s}=n,o=t.filled??bi("filled",n,i),a=kr(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,u=bi(o===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[o===!0&&"color"]??a,l=bi(o===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[o===!1&&"color"],c=o?"fill":"stroke",f={...u?{fill:_s(u)}:{},...l?{stroke:_s(l)}:{}};return n.color&&(o?n.fill:n.stroke)&&pt(qKe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...Ta("color",e,{vgChannel:c,defaultValue:o?u:l}),...Ta("fill",e,{defaultValue:r.fill?u:void 0}),...Ta("stroke",e,{defaultValue:r.stroke?l:void 0})}}function oUn(e){const{encoding:t,mark:n}=e,r=t.order;return!iE(n)&&$p(r)?A3(e,r,"zindex",i=>_s(i.value)):{}}function eC({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const s=`${e}Offset`,o=t[s],a=n[s];if((s==="xOffset"||s==="yOffset")&&a)return{offsetType:"encoding",offset:Rde({channel:s,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(s),scale:r.getScaleComponent(s),stack:null,defaultRef:_s(o),bandPosition:i})};const u=t[s];return u?{offsetType:"visual",offset:u}:{}}function zu(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:s,config:o,stack:a}=t,u=i[e],l=i[Hm(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=eC({channel:e,markDef:s,encoding:i,model:t,bandPosition:.5}),p=nhe({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),m=!u&&Eo(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:aUn({channel:e,channelDef:u,channel2Def:l,markDef:s,config:o,scaleName:c,scale:f,stack:a,offset:d,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function aUn(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:s,markDef:o}=e;if(Fn(n)&&i&&t===i.fieldChannel){if(gt(n)){let a=n.bandPosition;if(a===void 0&&o.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return bF({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:s})}return yx(n,r,{suffix:"end"},{offset:s})}return Ide(e)}function nhe({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:s,config:o}=e;return()=>{const a=eE(n),u=Fb(n),l=bi(n,s,o,{vgChannel:u});if(l!==void 0)return rk(n,l);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const c=i.get("type");if(!kr([zc.LOG,zc.TIME,zc.UTC],c)){if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return a==="y"?{field:{group:"height"}}:{value:0};switch(a){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...e[ef(n)],mult:.5}}}}const uUn={left:"x",center:"xc",right:"x2"},lUn={top:"y",middle:"yc",bottom:"y2"};function kQe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return Fb(e);const i=e==="x"?"align":"baseline",s=bi(i,t,n);let o;return Xt(s)?(pt(dFn(i)),o=void 0):o=s,e==="x"?uUn[o||(r==="top"?"left":"center")]:lUn[o||r]}function IF(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?RQe(e,t,{defaultPos:n,defaultPos2:r}):zu(e,t,{defaultPos:n})}function RQe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:s}=t,o=Hm(e),a=ef(e),u=cUn(t,r,o),l=u[a]?kQe(e,i,s):Fb(e);return{...zu(e,t,{defaultPos:n,vgChannel:l}),...u}}function cUn(e,t,n){const{encoding:r,mark:i,markDef:s,stack:o,config:a}=e,u=eE(n),l=ef(n),c=Fb(n),f=r[u],d=e.scaleName(u),h=e.getScaleComponent(u),{offset:p}=n in r||n in s?eC({channel:n,markDef:s,encoding:r,model:e}):eC({channel:u,markDef:s,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=ef(n),y=e.markDef[g];return y!=null?{[g]:{value:y}}:{[c]:{field:e.getName(n)}}}const m=fUn({channel:n,channelDef:f,channel2Def:r[n],markDef:s,config:a,scaleName:d,scale:h,stack:o,offset:p,defaultRef:void 0});return m!==void 0?{[c]:m}:cO(n,s)||cO(n,{[n]:yF(n,s,a.style),[l]:yF(l,s,a.style)})||cO(n,a[i])||cO(n,a.mark)||{[c]:nhe({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function fUn({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:u,defaultRef:l}){return Fn(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?yx(t,s,{suffix:"start"},{offset:u}):Ide({channel:e,channelDef:n,scaleName:s,scale:o,stack:a,markDef:r,config:i,offset:u,defaultRef:l})}function cO(e,t){const n=ef(e),r=Fb(e);if(t[r]!==void 0)return{[r]:rk(e,t[r])};if(t[e]!==void 0)return{[r]:rk(e,t[e])};if(t[n]){const i=t[n];if(e2(i))pt(oFn(n));else return{[n]:rk(e,i)}}}function Ub(e,t){const{config:n,encoding:r,markDef:i}=e,s=i.type,o=Hm(t),a=ef(t),u=r[t],l=r[o],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,h=r[a]??r.size??bi("size",i,n,{vgChannel:a}),p=IKe(t),m=s==="bar"&&(t==="x"?d==="vertical":d==="horizontal");return gt(u)&&(fs(u.bin)||Ka(u.bin)||u.timeUnit&&!l)&&!(h&&!e2(h))&&!r[p]&&!Oa(f)?pUn({fieldDef:u,fieldDef2:l,channel:t,model:e}):(Fn(u)&&Oa(f)||m)&&!l?hUn(u,t,e):RQe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function dUn(e,t,n,r,i,s,o){if(e2(i))if(n){const u=n.get("type");if(u==="band"){let l=`bandwidth('${t}')`;i.band!==1&&(l=`${i.band} * ${l}`);const c=Ly("minBandSize",{type:o},r);return{signal:c?`max(${lp(c)}, ${l})`:l}}else i.band!==1&&(pt(gFn(u)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Xt(i))return i;if(i)return{value:i}}if(n){const u=n.get("range");if(R_(u)&&ri(u.step))return{value:u.step-2}}if(!s){const{bandPaddingInner:u,barBandPaddingInner:l,rectBandPaddingInner:c}=r.scale,f=xo(u,o==="bar"?l:c);if(Xt(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(ri(f))return{signal:`${1-f} * ${e}`}}return{value:AF(r.view,e)-2}}function hUn(e,t,n){var $,k;const{markDef:r,encoding:i,config:s,stack:o}=n,a=r.orient,u=n.scaleName(t),l=n.getScaleComponent(t),c=ef(t),f=Hm(t),d=IKe(t),h=n.scaleName(d),p=n.getScaleComponent(ude(t)),m=a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=Ta("size",n,{vgChannel:c,defaultRef:_s(r.size)}):pt(_Fn(r.type)));const y=!!g,v=AXe({channel:t,fieldDef:e,markDef:r,config:s,scaleType:($=l||p)==null?void 0:$.get("type"),useVlSizeChannel:m});g=g||{[c]:dUn(c,h||u,p||l,s,v,!!e,r.type)};const b=((k=l||p)==null?void 0:k.get("type"))==="band"&&e2(v)&&!y?"top":"middle",w=kQe(t,r,s,b),x=w==="xc"||w==="yc",{offset:S,offsetType:A}=eC({channel:t,markDef:r,encoding:i,model:n,bandPosition:x?.5:0}),C=Ide({channel:t,channelDef:e,markDef:r,config:s,scaleName:u,scale:l,stack:o,offset:S,defaultRef:nhe({model:n,defaultPos:"mid",channel:t,scaleName:u,scale:l}),bandPosition:x?A==="encoding"?0:.5:Xt(v)?{signal:`(1-${v})/2`}:e2(v)?(1-v.band)/2:0});if(c)return{[w]:C,...g};{const P=Fb(f),L=g[c],O=S?{...L,offset:S}:L;return{[w]:C,[P]:Qe(C)?[C[0],{...C[1],offset:O}]:{...C,offset:O}}}}function xIe(e,t,n,r,i,s,o){if(xKe(e))return 0;const a=e==="x"||e==="y2",u=a?-t/2:t/2;if(Xt(n)||Xt(i)||Xt(r)||s){const l=lp(n),c=lp(i),f=lp(r),d=lp(s),p=s?`(${o} < ${d} ? ${a?"":"-"}0.5 * (${d} - (${o})) : ${u})`:u,m=f?`${f} + `:"",g=l?`(${l} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:m+g+y}}else return i=i||0,r+(n?-i-u:+i+u)}function pUn({fieldDef:e,fieldDef2:t,channel:n,model:r}){var k;const{config:i,markDef:s,encoding:o}=r,a=r.getScaleComponent(n),u=r.scaleName(n),l=a?a.get("type"):void 0,c=a.get("reverse"),f=AXe({channel:n,fieldDef:e,markDef:s,config:i,scaleType:l}),d=(k=r.component.axes[n])==null?void 0:k[0],h=(d==null?void 0:d.get("translate"))??.5,p=Eo(n)?bi("binSpacing",s,i)??0:0,m=Hm(n),g=Fb(n),y=Fb(m),v=Ly("minBandSize",s,i),{offset:b}=eC({channel:n,markDef:s,encoding:o,model:r,bandPosition:0}),{offset:w}=eC({channel:m,markDef:s,encoding:o,model:r,bandPosition:0}),x=S7n({fieldDef:e,scaleName:u}),S=xIe(n,p,c,h,b,v,x),A=xIe(m,p,c,h,w??b,v,x),C=Xt(f)?{signal:`(1-${f.signal})/2`}:e2(f)?(1-f.band)/2:.5,$=Bb({fieldDef:e,fieldDef2:t,markDef:s,config:i});if(fs(e.bin)||e.timeUnit){const P=e.timeUnit&&$!==.5;return{[y]:EIe({fieldDef:e,scaleName:u,bandPosition:C,offset:A,useRectOffsetField:P}),[g]:EIe({fieldDef:e,scaleName:u,bandPosition:Xt(C)?{signal:`1-${C.signal}`}:1-C,offset:S,useRectOffsetField:P})}}else if(Ka(e.bin)){const P=yx(e,u,{},{offset:A});if(gt(t))return{[y]:P,[g]:yx(t,u,{},{offset:S})};if(tE(e.bin)&&e.bin.step)return{[y]:P,[g]:{signal:`scale("${u}", ${St(e,{expr:"datum"})} + ${e.bin.step})`,offset:S}}}pt(YKe(m))}function EIe({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return bF({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:sz,endSuffix:oz}:{}})}const mUn=new Set(["aria","width","height"]);function yh(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?IQe(e):{};return{...gUn(e.markDef,t),...TIe(e,"fill",n),...TIe(e,"stroke",r),...Ta("opacity",e),...Ta("fillOpacity",e),...Ta("strokeOpacity",e),...Ta("strokeWidth",e),...Ta("strokeDash",e),...oUn(e),...AQe(e),...the(e,"href"),...rUn(e)}}function TIe(e,t,n){const{config:r,mark:i,markDef:s}=e;if(bi("invalid",s,r)==="hide"&&n&&!iE(i)){const a=yUn(e,{invalid:!0,channels:jU});if(a)return{[t]:[{test:a,value:null},...Nt(n)]}}return n?{[t]:n}:{}}function gUn(e,t){return PMn.reduce((n,r)=>(!mUn.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=_s(e[r])),n),{})}function yUn(e,{invalid:t=!1,channels:n}){const r=n.reduce((s,o)=>{const a=e.getScaleComponent(o);if(a){const u=a.get("type"),l=e.vgField(o,{expr:"datum"});l&&nd(u)&&(s[l]=!0)}return s},{}),i=ct(r);if(i.length>0){const s=t?"||":"&&";return i.map(o=>kde(o,t)).join(` ${s} `)}}function rhe(e){const{config:t,markDef:n}=e;if(bi("invalid",n,t)){const i=vUn(e,{channels:qm});if(i)return{defined:{signal:i}}}return{}}function vUn(e,{invalid:t=!1,channels:n}){const r=n.reduce((s,o)=>{var u;const a=e.getScaleComponent(o);if(a){const l=a.get("type"),c=e.vgField(o,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&nd(l)&&(s[c]=!0)}return s},{}),i=ct(r);if(i.length>0){const s=t?"||":"&&";return i.map(o=>kde(o,t)).join(` ${s} `)}}function SIe(e,t){if(t!==void 0)return{[e]:_s(t)}}const jY="voronoi",$Qe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(jY)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,s=e.mark;if(iE(s))return pt(BMn(s)),n;const o={name:e.getName(jY),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...AQe(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,u=!1;return n.forEach((l,c)=>{const f=l.name??"";f===e.component.mark[0].name?a=c:f.indexOf(jY)>=0&&(u=!0)}),u||n.splice(a+1,0,o),n}},NQe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!Gde(e.bind),parse:(e,t,n)=>jQe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,s=t.bind,o=t.init&&t.init[0],a=$Qe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((u,l)=>{const c=Ms(`${r}_${u.field}`);n.filter(d=>d.name===c).length||n.unshift({name:c,...o?{init:t2(o[l])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${Et(u.field)}] : null`}]:[],bind:s[u.field]??s[u.channel]??s})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.filter(l=>l.name===r+zb)[0],o=r+ZN,a=i.items.map(l=>Ms(`${r}_${l.field}`)),u=a.map(l=>`${l} !== null`).join(" && ");return a.length&&(s.update=`${u} ? {fields: ${o}, values: [${a.join(", ")}]} : null`),delete s.value,delete s.on,n}},kF="_toggle",PQe={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+kF,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+zb,r=t.name+kF;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${bx(e)}}, `)+`${r} ? ${n} : null`}},bUn={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=Pt(t.clear)?E_(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(NQe.defined(t))for(const r of t.project.items){const i=n.findIndex(s=>s.name===Ms(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,s){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:s})}if(t.type==="interval")for(const i of t.project.items){const s=n.findIndex(o=>o.name===i.signals.visual);if(r(s,"[0, 0]"),s===-1){const o=n.findIndex(a=>a.name===i.signals.data);r(o,"null")}}else{let i=n.findIndex(s=>s.name===t.name+zb);r(i,"null"),PQe.defined(t)&&(i=n.findIndex(s=>s.name===t.name+kF),r(i,"false"))}return n}},OQe={defined:e=>{const t=e.resolve==="global"&&e.bind&&Gde(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Np;return t&&!n&&pt(VMn),t&&n},parse:(e,t,n)=>{const r=kn(n);if(r.select=Pt(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},jQe(t,r),Ot(n.select)&&(n.select.on||n.select.clear)){const o='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=Nt(a.filter??[]),a.filter.includes(o)||a.filter.push(o)}const i=LY(t.bind)?t.bind.legend:"click",s=Pt(i)?E_(i,"view"):Nt(i);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=LY(t.bind)&&t.bind.legend,s=o=>a=>{const u=kn(a);return u.markname=o,u};for(const o of t.project.items){if(!o.hasLegend)continue;const a=`${Ms(o.field)}_legend`,u=`${r}_${a}`;if(n.filter(c=>c.name===u).length===0){const c=i.merge.map(s(`${a}_symbols`)).concat(i.merge.map(s(`${a}_labels`))).concat(i.merge.map(s(`${a}_entries`)));n.unshift({name:u,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(d=>d.name===r+zb),o=r+ZN,a=i.items.filter(d=>d.hasLegend).map(d=>Ms(`${r}_${Ms(d.field)}_legend`)),l=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${o}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?s.on.push({events:a.map(d=>({signal:d})),update:l}):a.length>0&&(s.update=l,delete s.value,delete s.on);const c=n.find(d=>d.name===r+kF),f=LY(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function _Un(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const s of au(e.component.selection??{})){const o=s.project.hasField[r]??s.project.hasChannel[t];if(o&&OQe.defined(s)){const a=n.get("selections")??[];a.push(s.name),n.set("selections",a,!1),o.hasLegend=!0}}}const DQe="_translate_anchor",LQe="_translate_delta",wUn={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=uy.defined(t),s=r+DQe,{x:o,y:a}=t.project.hasChannel;let u=E_(t.translate,"scope");return i||(u=u.map(l=>(l.between[0].markname=r+DS,l))),n.push({name:s,value:{},on:[{events:u.map(l=>l.between[0]),update:"{x: x(unit), y: y(unit)"+(o!==void 0?`, extent_x: ${i?Gee(e,Fs):`slice(${o.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?Gee(e,Fa):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+LQe,value:{},on:[{events:u,update:`{x: ${s}.x - x(unit), y: ${s}.y - y(unit)}`}]}),o!==void 0&&AIe(e,t,o,"width",n),a!==void 0&&AIe(e,t,a,"height",n),n}};function AIe(e,t,n,r,i){const s=t.name,o=s+DQe,a=s+LQe,u=n.channel,l=uy.defined(t),c=i.filter(x=>x.name===n.signals[l?"data":"visual"])[0],f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(u),h=d&&d.get("type"),p=d&&d.get("reverse"),m=l?u===Fs?p?"":"-":p?"-":"":"",g=`${o}.extent_${u}`,y=`${m}${a}.${u} / ${l?`${f}`:`span(${g})`}`,v=!l||!d?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",b=l?h==="pow"?`, ${d.get("exponent")??1}`:h==="symlog"?`, ${d.get("constant")??1}`:"":"",w=`${v}(${g}, ${y}${b})`;c.on.push({events:{signal:a},update:l?w:`clampRange(${w}, 0, ${f})`})}const MQe="_zoom_anchor",FQe="_zoom_delta",xUn={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=uy.defined(t),s=r+FQe,{x:o,y:a}=t.project.hasChannel,u=Et(e.scaleName(Fs)),l=Et(e.scaleName(Fa));let c=E_(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+DS,f))),n.push({name:r+MQe,on:[{events:c,update:i?"{"+[u?`x: invert(${u}, x(unit))`:"",l?`y: invert(${l}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:s,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),o!==void 0&&CIe(e,t,o,"width",n),a!==void 0&&CIe(e,t,a,"height",n),n}};function CIe(e,t,n,r,i){const s=t.name,o=n.channel,a=uy.defined(t),u=i.filter(v=>v.name===n.signals[a?"data":"visual"])[0],l=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(o),f=c&&c.get("type"),d=a?Gee(e,o):u.name,h=s+FQe,p=`${s}${MQe}.${o}`,m=!a||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",g=a?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${m}(${d}, ${p}, ${h}${g})`;u.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${l})`})}const n2="_store",zb="_tuple",EUn="_modify",BQe="vlSelectionResolve",uz=[nUn,eUn,Jjn,PQe,NQe,uy,OQe,bUn,wUn,xUn,$Qe];function TUn(e){let t=e.parent;for(;t&&!jf(t);)t=t.parent;return t}function bx(e,{escape:t}={escape:!0}){let n=t?Et(e.name):e.name;const r=TUn(e);if(r){const{facet:i}=r;for(const s of Ud)i[s]&&(n+=` + '__facet_${s}_' + (facet[${Et(r.vgField(s))}])`)}return n}function ihe(e){return au(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function jQe(e,t){(Pt(t.select)||!t.select.on)&&delete e.events,(Pt(t.select)||!t.select.clear)&&delete e.clear,(Pt(t.select)||!t.select.toggle)&&delete e.toggle}function Yee(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...Yee(e.object)),t.push(...Yee(e.property))),t)}function UQe(e){return e.object.type==="MemberExpression"?UQe(e.object):e.object.name==="datum"}function zQe(e){const t=Tfe(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&UQe(r)&&n.add(Yee(r).slice(1).join("."))}),n}class C3 extends Di{clone(){return new C3(null,this.model,kn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=RF(this.model,this.filter,this),this._dependentFields=zQe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function SUn(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const s=Ms(i.name),o=i.select,a=Pt(o)?o:o.type,u=Ot(o)?kn(o):{type:a},l=r[a];for(const d in l)d==="fields"||d==="encodings"||(d==="mark"&&(u[d]={...l[d],...u[d]}),(u[d]===void 0||u[d]===!0)&&(u[d]=kn(l[d]??u[d])));const c=n[s]={...u,name:s,type:a,init:i.value,bind:i.bind,events:Pt(u.on)?E_(u.on,"scope"):Nt(kn(u.on))},f=kn(i);for(const d of uz)d.defined(c)&&d.parse&&d.parse(e,c,f)}return n}function VQe(e,t,n,r="datum"){const i=Pt(t)?t:t.param,s=Ms(i),o=Et(s+n2);let a;try{a=e.getSelectionComponent(s,i)}catch{return`!!${s}`}if(a.project.timeUnit){const d=n??e.component.data.raw,h=a.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const u=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",l=a.resolve==="global"?")":`, ${Et(a.resolve)})`,c=`${u}${o}, ${r}${l}`,f=`length(data(${o}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function HQe(e,t,n){const r=Ms(t),i=n.encoding;let s=n.field,o;try{o=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!s)s=o.project.items[0].field,o.project.items.length>1&&pt(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Et(s)}.`);else if(i&&!s){const a=o.project.items.filter(u=>u.channel===i);!a.length||a.length>1?(s=o.project.items[0].field,pt((a.length?"Multiple ":"No ")+`matching ${Et(i)} encoding found for selection ${Et(n.param)}. Using "field": ${Et(s)}.`)):s=a[0].field}return`${o.name}[${Et(nh(s))}]`}function AUn(e,t){for(const[n,r]of Mb(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Vc(new C3(t,e,{param:n}),i,Ps.Lookup,e.component.data.outputNodeRefCounts)}}function RF(e,t,n){return nk(t,r=>Pt(r)?r:r7n(r)?VQe(e,r,n):oXe(r))}function CUn(e,t){if(e)return Qe(e)&&!cv(e)?e.map(n=>Fde(n,t)).join(", "):e}function UY(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function u6(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:s,scale:o,labelExpr:a,title:u,zindex:l,...c}=e.combine();if(!i){for(const h in c){const p=oBn[h],m=c[h];if(p&&p!==t&&p!=="both")delete c[h];else if(JN(m)){const{condition:g,...y}=m,v=Nt(g),b=tIe[h];if(b){const{vgProp:w,part:x}=b,S=[...v.map(A=>{const{test:C,...$}=A;return{test:RF(null,C),...$}}),y];UY(c,x,w,S),delete c[h]}else if(b===null){const w={signal:v.map(x=>{const{test:S,...A}=x;return`${RF(null,S)} ? ${B3e(A)} : `}).join("")+B3e(y)};c[h]=w}}else if(Xt(m)){const g=tIe[h];if(g){const{vgProp:y,part:v}=g;UY(c,v,y,m),delete c[h]}}kr(["labelAlign","labelBaseline"],h)&&c[h]===null&&delete c[h]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},qi(c.encode)&&delete c.encode}return{scale:o,orient:s,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:xo(l,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&Xt(c.encode.labels.update.text)&&(p=Kx(a,"datum.label",c.encode.labels.update.text.signal)),UY(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of LXe)e.hasAxisPart(p)||delete c.encode[p];qi(c.encode)&&delete c.encode}const h=CUn(u,n);return{scale:o,orient:s,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:xo(l,0)}}}}function qQe(e){const{axes:t}=e.component,n=[];for(const r of qm)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const s=r==="x"?"height":"width",o=e.getSizeSignalRef(s).signal;s!==o&&n.push({name:s,update:o})}}return n}function IUn(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>u6(i,"grid",t)),...r.map(i=>u6(i,"grid",t)),...n.map(i=>u6(i,"main",t)),...r.map(i=>u6(i,"main",t))].filter(i=>i)}function IIe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const s=n==="x"?"bottom":"left",o=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},u=new Set([...ct(o),...ct(a)]),l={};for(const c of u.values())l[c]={signal:`${r.signal} === "${s}" ? ${lp(o[c])} : ${lp(a[c])}`};return l}return t[i]})])}function kUn(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:cXe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],s=e==="x"?"axisX":"axisY",o=Xt(n)?"axisOrient":`axis${zN(n)}`,a=[...i,...i.map(l=>s+l.substr(4))],u=["axis",o,s];return{vlOnlyAxisConfig:IIe(a,r,e,n),vgAxisConfig:IIe(u,r,e,n),axisConfigStyle:RUn([...u,...a],r)}}function RUn(e,t){var r;const n=[{}];for(const i of e){let s=(r=t[i])==null?void 0:r.style;if(s){s=Nt(s);for(const o of s)n.push(t.style[o])}}return Object.assign.apply(null,n)}function Kee(e,t,n,r={}){var s;const i=FKe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((s=r[o])==null?void 0:s[e])!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const kIe={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??$Un(n,e),gridScale:({model:e,channel:t})=>NUn(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||GQe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||WQe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??OUn(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??DUn(t.type,n,gt(t)&&!!t.timeUnit,gt(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const s=e==="x"?"width":e==="y"?"height":void 0,o=s?t.getSizeSignalRef(s):void 0;return n.tickCount??MUn({fieldOrDatumDef:r,scaleType:i,size:o,values:n.values})},tickMinStep:FUn,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=YQe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),s=n==="x"?"x2":"y2",o=t.fieldDef(s);return jKe(i?[Z3e(i)]:[],gt(o)?[Z3e(o)]:[])},values:({axis:e,fieldOrDatumDef:t})=>BUn(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??jUn(n,t)};function $Un(e,t){return!Oa(e)&&gt(t)&&!fs(t==null?void 0:t.bin)&&!Ka(t==null?void 0:t.bin)}function NUn(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function PUn(e,t,n,r,i){const s=t==null?void 0:t.labelAngle;if(s!==void 0)return Xt(s)?s:HR(s);{const{configValue:o}=Kee("labelAngle",r,t==null?void 0:t.style,i);return o!==void 0?HR(o):n===Fs&&kr([Cde,Ade],e.type)&&!(gt(e)&&e.timeUnit)?270:void 0}}function Xee(e){return`(((${e.signal} % 360) + 360) % 360)`}function WQe(e,t,n,r){if(e!==void 0)if(n==="x"){if(Xt(e)){const i=Xee(e),s=Xt(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${s} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Xt(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Xt(e)){const i=Xee(e),s=Xt(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${s} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Xt(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function GQe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,s=r?"bottom":"left";if(Xt(e)){const o=Xee(e),a=Xt(t)?`(${t.signal} === "${s}")`:t===s;return{signal:`(${i?`(${o} + 90)`:o} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${o} && ${o} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Xt(t)){const o=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${o} "${s}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===s)?"left":"right"}function OUn(e,t){if(t==="x"&&kr(["quantitative","temporal"],e))return!0}function DUn(e,t,n,r){if(n&&!Ot(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function LUn(e){return e==="x"?"bottom":"left"}function MUn({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Oa(t)&&t!=="log"){if(gt(e)){if(fs(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&kr(["month","hours","day","quarter"],(i=$a(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function FUn({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(gt(t)){const{timeUnit:n}=t;if(n){const r=rXe(n);if(r)return{signal:r}}}}function YQe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),s=r?r.title:void 0,o=i?i.title:void 0;if(s&&o)return UKe(s,o);if(s)return s;if(o)return o;if(s!==void 0)return s;if(o!==void 0)return o}function BUn(e,t){const n=e.values;if(Qe(n))return DXe(t,n);if(Xt(n))return n}function jUn(e,t){return e==="rect"&&xF(t)?1:0}class tC extends Di{clone(){return new tC(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=zQe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(sE(r)&&SXe(r.sort)){const{field:s,timeUnit:o}=r,a=r.sort,u=a.map((l,c)=>`${oXe({field:s,timeUnit:o,equal:l})} ? ${c} : `).join("")+a.length;t=new tC(t,{calculate:u,as:nC(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Ir(this.transform)}`}}function nC(e,t,n){return St(e,{prefix:t,suffix:"sort_index",...n})}function lz(e,t){return kr(["top","bottom"],t)?"column":kr(["left","right"],t)||e==="row"?"row":"column"}function rC(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return xo((t||{})[e],i[e],n.header[e])}function cz(e,t,n,r){const i={};for(const s of e){const o=rC(s,t||{},n,r);o!==void 0&&(i[s]=o)}return i}const she=["row","column"],ohe=["header","footer"];function UUn(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:s,titleAngle:o,titleOrient:a}=cz(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),u=lz(t,a),l=HR(o);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...XQe(l,u),...KQe(u,l,s),...QQe(r,i,t,IBn,ZXe)}}}function KQe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=GQe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function XQe(e,t){const n=WQe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function zUn(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of ohe)if(n[i])for(const s of n[i]){const o=HUn(e,t,i,n,s);o!=null&&r.push(o)}return r}function VUn(e,t){const{sort:n}=e;return J0(n)?{field:St(n,{expr:"datum"}),order:n.order??"ascending"}:Qe(n)?{field:nC(e,t,{expr:"datum"}),order:"ascending"}:{field:St(e,{expr:"datum"}),order:n??"ascending"}}function Qee(e,t,n){const{format:r,formatType:i,labelAngle:s,labelAnchor:o,labelOrient:a,labelExpr:u}=cz(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),l=$de({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=lz(t,a);return{text:{signal:u?Kx(Kx(u,"datum.label",l),"datum.value",St(e,{expr:"parent"})):l},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...XQe(s,c),...KQe(c,s,o),...QQe(n,e,t,kBn,eQe)}}function HUn(e,t,n,r,i){if(i){let s=null;const{facetFieldDef:o}=r,a=e.config?e.config:void 0;if(o&&i.labels){const{labelOrient:f}=cz(["labelOrient"],o.header,a,t);(t==="row"&&!kr(["top","bottom"],f)||t==="column"&&!kr(["left","right"],f))&&(s=Qee(o,t,a))}const u=jf(e)&&!KN(e.facet),l=i.axes,c=(l==null?void 0:l.length)>0;if(s||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:VUn(o,t)}:{},...c&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...s?{title:s}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:l}:{}}}}return null}const qUn={column:{start:0,end:1},row:{start:1,end:0}};function WUn(e,t){return qUn[t][e]}function GUn(e,t){const n={};for(const r of Ud){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:s,titleOrient:o}=cz(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=lz(r,o),u=WUn(s,a);u!==void 0&&(n[a]=u)}}return qi(n)?void 0:n}function QQe(e,t,n,r,i){const s={};for(const o of r){if(!i[o])continue;const a=rC(o,t==null?void 0:t.header,e,n);a!==void 0&&(s[i[o]]=a)}return s}function ahe(e){return[...fO(e,"width"),...fO(e,"height"),...fO(e,"childWidth"),...fO(e,"childHeight")]}function fO(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const s=e.getScaleComponent(n);if(s){const o=s.get("type"),a=s.get("range");if(Oa(o)&&R_(a)){const u=e.scaleName(n);return jf(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[RIe(u,a)]:[RIe(u,a),{name:i,update:JQe(u,s,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const s=i.endsWith("width"),o=s?"containerSize()[0]":"containerSize()[1]",a=Vee(e.config.view,s?"width":"height"),u=`isFinite(${o}) ? ${o} : ${a}`;return[{name:i,init:u,on:[{update:u,events:"window:resize"}]}]}else return[{name:i,value:r}]}function RIe(e,t){const n=`${e}_step`;return Xt(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function JQe(e,t,n){const r=t.get("type"),i=t.get("padding"),s=xo(t.get("paddingOuter"),i);let o=t.get("paddingInner");return o=r==="band"?o!==void 0?o:i:1,`bandspace(${n}, ${lp(o)}, ${lp(s)}) * ${e}_step`}function ZQe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function eJe(e,t){return ct(e).reduce((n,r)=>{const i=e[r];return{...n,...A3(t,i,r,s=>_s(s.value))}},{})}function tJe(e,t){if(jf(t))return e==="theta"?"independent":"shared";if(R3(t))return"shared";if(phe(t))return Eo(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function uhe(e,t){const n=e.scale[t],r=Eo(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&pt(SFn(t)),"independent"):e[r][t]||"shared"}const YUn={...NBn,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},nJe=ct(YUn);class KUn extends m1{}const $Ie={symbols:XUn,gradient:QUn,labels:JUn,entries:ZUn};function XUn(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:s}){if(s!=="symbol")return;const{markDef:o,encoding:a,config:u,mark:l}=n,c=o.filled&&l!=="trail";let f={...LMn({},n,D7n),...IQe(n,{filled:c})};const d=i.get("symbolOpacity")??u.legend.symbolOpacity,h=i.get("symbolFillColor")??u.legend.symbolFillColor,p=i.get("symbolStrokeColor")??u.legend.symbolStrokeColor,m=d===void 0?rJe(a.opacity)??o.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===Jc)delete f.fill;else if(f.fill.field)h?delete f.fill:(f.fill=_s(u.legend.symbolBaseFillColor??"black"),f.fillOpacity=_s(m??1));else if(Qe(f.fill)){const g=Jee(a.fill??a.color)??o.fill??(c&&o.color);g&&(f.fill=_s(g))}}if(f.stroke){if(r==="stroke"||!c&&r===Jc)delete f.stroke;else if(f.stroke.field||p)delete f.stroke;else if(Qe(f.stroke)){const g=xo(Jee(a.stroke||a.color),o.stroke,c?o.color:void 0);g&&(f.stroke={value:g})}}if(r!==d1){const g=gt(t)&&sJe(n,i,t);g?f.opacity=[{test:g,..._s(m??1)},_s(u.legend.unselectedOpacity)]:m&&(f.opacity=_s(m))}return f={...f,...e},qi(f)?void 0:f}function QUn(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:s,encoding:o}=t;let a={};const l=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?rJe(o.opacity)||s.opacity:void 0;return l&&(a.opacity=_s(l)),a={...a,...e},qi(a)?void 0:a}function JUn(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const s=n.legend(r)||{},o=n.config,a=gt(t)?sJe(n,i,t):void 0,u=a?[{test:a,value:1},{value:o.legend.unselectedOpacity}]:void 0,{format:l,formatType:c}=s;let f;Zx(c)?f=fp({fieldOrDatumDef:t,field:"datum.value",format:l,formatType:c,config:o}):l===void 0&&c===void 0&&o.customFormatTypes&&(t.type==="quantitative"&&o.numberFormatType?f=fp({fieldOrDatumDef:t,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}):t.type==="temporal"&&o.timeFormatType&&gt(t)&&t.timeUnit===void 0&&(f=fp({fieldOrDatumDef:t,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})));const d={...u?{opacity:u}:{},...f?{text:f}:{},...e};return qi(d)?void 0:d}function ZUn(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function rJe(e){return iJe(e,(t,n)=>Math.max(t,n.value))}function Jee(e){return iJe(e,(t,n)=>xo(t,n.value))}function iJe(e,t){if(Y7n(e))return Nt(e.condition).reduce(t,e.value);if($p(e))return e.value}function sJe(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=Et(n.field);return r.map(s=>`(!length(data(${Et(Ms(s)+n2)})) || (${s}[${i}] && indexof(${s}[${i}], datum.value) >= 0))`).join(" || ")}const NIe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return gXe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return yXe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??ozn(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??azn(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??tzn(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>OS(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(PS(n)&&cp(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>ezn(t,e)};function ezn(e,t){const n=e.values;if(Qe(n))return DXe(t,n);if(Xt(n))return n}function tzn(e,t,n,r){if(t!=="shape"){const i=Jee(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function nzn(e){const{legend:t}=e;return xo(t.type,rzn(e))}function rzn({channel:e,timeUnit:t,scaleType:n}){if(PS(e)){if(kr(["quarter","month","day"],t))return"symbol";if(cp(n))return"gradient"}return"symbol"}function izn({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??szn(n,t)}function szn(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function ozn({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:s,gradientHorizontalMinLength:o,gradientVerticalMaxLength:a,gradientVerticalMinLength:u}=e;if(cp(i))return n==="horizontal"?r==="top"||r==="bottom"?PIe(t,"width",o,s):o:PIe(t,"height",u,a)}function PIe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function azn(e){if(kr(["quantile","threshold","log","symlog"],e))return"greedy"}function oJe(e){const t=no(e)?uzn(e):dzn(e);return e.component.legends=t,t}function uzn(e){const{encoding:t}=e,n={};for(const r of[Jc,...nQe]){const i=na(t[r]);!i||!e.getScaleComponent(r)||r===Zc&&gt(i)&&i.type===S3||(n[r]=fzn(e,r))}return n}function lzn(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function czn(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function fzn(e,t){var w;let n=e.legend(t);const{markDef:r,encoding:i,config:s}=e,o=s.legend,a=new KUn({},lzn(e,t));_Un(e,t,a);const u=n!==void 0?!n:o.disable;if(a.set("disable",u,n!==void 0),u)return a;n=n||{};const l=e.getScaleComponent(t).get("type"),c=na(i[t]),f=gt(c)?(w=$a(c.timeUnit))==null?void 0:w.unit:void 0,d=n.orient||s.legend.orient||"right",h=nzn({legend:n,channel:t,timeUnit:f,scaleType:l}),p=izn({legend:n,legendType:h,orient:d,legendConfig:o}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:o,config:s,scaleType:l,orient:d,legendType:h,direction:p};for(const x of nJe){if(h==="gradient"&&x.startsWith("symbol")||h==="symbol"&&x.startsWith("gradient"))continue;const S=x in NIe?NIe[x](m):n[x];if(S!==void 0){const A=czn(S,x,n,e.fieldDef(t));(A||s.legend[x]===void 0)&&a.set(x,S,A)}}const g=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},b={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const x of["labels","legend","title","symbols","gradient","entries"]){const S=eJe(g[x]??{},e),A=x in $Ie?$Ie[x](S,b):S;A!==void 0&&!qi(A)&&(v[x]={...y!=null&&y.length&&gt(c)?{name:`${Ms(c.field)}_legend_${x}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:A})}return qi(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function dzn(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){oJe(r);for(const i of ct(r.component.legends))n.legend[i]=uhe(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=aJe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of ct(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function aJe(e,t){var s,o,a,u;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const l of nJe){const c=jb(e.getWithExplicit(l),t.getWithExplicit(l),l,"legend",(f,d)=>{switch(l){case"symbolType":return hzn(f,d);case"title":return zKe(f,d);case"type":return i=!0,yf("symbol")}return iz(f,d,l,"legend")});e.setWithExplicit(l,c)}return i&&((o=(s=e.implicit)==null?void 0:s.encode)!=null&&o.gradient&&gF(e.implicit,["encode","gradient"]),(u=(a=e.explicit)==null?void 0:a.encode)!=null&&u.gradient&&gF(e.explicit,["encode","gradient"])),e}function hzn(e,t){return t.value==="circle"?t:e}function pzn(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function uJe(e){const t=e.component.legends,n={};for(const i of ct(t)){const s=e.getScaleComponent(i),o=Wi(s.get("domains"));if(n[o])for(const a of n[o])aJe(a,t[i])||n[o].push(t[i]);else n[o]=[t[i].clone()]}return au(n).flat().map(i=>mzn(i,e.config)).filter(i=>i!==void 0)}function mzn(e,t){var o,a,u;const{disable:n,labelExpr:r,selections:i,...s}=e.combine();if(!n){if(t.aria===!1&&s.aria==null&&(s.aria=!1),(o=s.encode)!=null&&o.symbols){const l=s.encode.symbols.update;l.fill&&l.fill.value!=="transparent"&&!l.stroke&&!s.stroke&&(l.stroke={value:"transparent"});for(const c of nQe)s[c]&&delete l[c]}if(s.title||delete s.title,r!==void 0){let l=r;(u=(a=s.encode)==null?void 0:a.labels)!=null&&u.update&&Xt(s.encode.labels.update.text)&&(l=Kx(r,"datum.label",s.encode.labels.update.text.signal)),pzn(s,"labels","text",{signal:l})}return s}}function gzn(e){return R3(e)||phe(e)?yzn(e):lJe(e)}function yzn(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),lJe(e))}function lJe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(o=>o.signal).join(", ")}]`},s=t.data.reduce((o,a)=>{const u=Xt(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return kr(o,u)||o.push(u),o},[]);if(s.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:s.length>1?`[${s.join(", ")}]`:s[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const vzn=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class cJe extends m1{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function fJe(e){e.component.projection=no(e)?bzn(e):xzn(e)}function bzn(e){if(e.hasProjection){const t=wc(e.specifiedProjection),n=!(t.scale!=null||t.translate!=null),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?_zn(e):void 0,s=new cJe(e.projectionName(!0),{...wc(e.config.projection),...t},r,i);return s.get("type")||s.set("type","equalEarth",!1),s}}function _zn(e){const t=[],{encoding:n}=e;for(const r of[[Yp,Gp],[rh,Kp]])(na(n[r[0]])||na(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Zc)&&e.typedFieldDef(Zc).type===S3&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Ps.Main)),t}function wzn(e,t){const n=tde(vzn,i=>!!(!sn(e.explicit,i)&&!sn(t.explicit,i)||sn(e.explicit,i)&&sn(t.explicit,i)&&Of(e.get(i),t.get(i))));if(Of(e.size,t.size)){if(n)return e;if(Of(e.explicit,{}))return t;if(Of(t.explicit,{}))return e}return null}function xzn(e){if(e.children.length===0)return;let t;for(const r of e.children)fJe(r);const n=tde(e.children,r=>{const i=r.component.projection;if(i)if(t){const s=wzn(t,i);return s&&(t=s),!!s}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new cJe(r,t.specifiedProjection,t.size,kn(t.data));for(const s of e.children){const o=s.component.projection;o&&(o.isFit&&i.data.push(...s.component.projection.data),s.renameProjection(o.get("name"),r),o.merged=!0)}return i}}function Ezn(e,t,n,r){if(QN(t,n)){const i=no(e)?e.axis(n)??e.legend(n)??{}:{},s=St(t,{expr:"datum"}),o=St(t,{expr:"datum",binSuffix:"end"});return{formulaAs:St(t,{binSuffix:"range",forAs:!0}),formula:YN(s,o,i.format,i.formatType,r)}}return{}}function dJe(e,t){return`${OKe(e)}_${t}`}function Tzn(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function lhe(e,t,n){const r=JU(n,void 0)??{},i=dJe(r,t);return e.getName(`${i}_bins`)}function Szn(e){return"as"in e}function OIe(e,t,n){let r,i;Szn(e)?r=Pt(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[St(e,{forAs:!0}),St(e,{binSuffix:"end",forAs:!0})];const s={...JU(t,void 0)},o=dJe(s,e.field),{signal:a,extentSignal:u}=Tzn(n,o);if(UU(s.extent)){const c=s.extent;i=HQe(n,c.param,c),delete s.extent}const l={bin:s,field:e.field,as:[r],...a?{signal:a}:{},...u?{extentSignal:u}:{},...i?{span:i}:{}};return{key:o,binComponent:l}}class em extends Di{clone(){return new em(null,kn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{if(Ul(s)&&fs(s.bin)){const{key:a,binComponent:u}=OIe(s,s.bin,n);i[a]={...u,...i[a],...Ezn(n,s,o,n.config)}}return i},{});return qi(r)?null:new em(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:s}=OIe(n,n.bin,r);return new em(t,{[i]:s})}merge(t,n){for(const r of ct(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=F0([...this.bins[r].as,...t.bins[r].as],Ir)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(au(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(au(this.bins).map(t=>t.field))}hash(){return`Bin ${Ir(this.bins)}`}assemble(){return au(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:s,...o}=t.bin,a={type:"bin",field:nh(t.field),as:r,signal:t.signal,...UU(s)?{extent:null}:{extent:s},...t.span?{span:{signal:`span(${t.span})`}}:{},...o};!s&&t.extentSignal&&(n.push({type:"extent",field:nh(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const u of i)for(let l=0;l<2;l++)n.push({type:"formula",expr:St({field:r[l]},{expr:"datum"}),as:u[l]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function Azn(e,t,n,r){var s;const i=no(r)?r.encoding[Hm(t)]:void 0;if(Ul(n)&&no(r)&&CXe(n,i,r.markDef,r.config)){e.add(St(n,{})),e.add(St(n,{suffix:"end"}));const{mark:o,markDef:a,config:u}=r,l=Bb({fieldDef:n,markDef:a,config:u});qR(o)&&l!==.5&&Eo(t)&&(e.add(St(n,{suffix:sz})),e.add(St(n,{suffix:oz}))),n.bin&&QN(n,t)&&e.add(St(n,{binSuffix:"range"}))}else if(TKe(t)){const o=EKe(t);e.add(r.getName(o))}else e.add(St(n));return sE(n)&&g7n((s=n.scale)==null?void 0:s.range)&&e.add(n.scale.range.field),e}function Czn(e,t){for(const n of ct(t)){const r=t[n];for(const i of ct(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class vp extends Di{clone(){return new vp(null,new Set(this.dimensions),kn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(o=>{o.aggregate&&(r=!0)});const i={},s=new Set;return!r||(n.forEachFieldDef((o,a)=>{const{aggregate:u,field:l}=o;if(u)if(u==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([St(o,{forAs:!0})]);else{if(Dy(u)||k_(u)){const c=Dy(u)?"argmin":"argmax",f=u[c];i[f]??(i[f]={}),i[f][c]=new Set([St({op:c,field:f},{forAs:!0})])}else i[l]??(i[l]={}),i[l][u]=new Set([St(o,{forAs:!0})]);h1(a)&&n.scaleDomain(a)==="unaggregated"&&(i[l]??(i[l]={}),i[l].min=new Set([St({field:l,aggregate:"min"},{forAs:!0})]),i[l].max=new Set([St({field:l,aggregate:"max"},{forAs:!0})]))}else Azn(s,a,o,n)}),s.size+ct(i).length===0)?null:new vp(t,s,i)}static makeFromTransform(t,n){const r=new Set,i={};for(const s of n.aggregate){const{op:o,field:a,as:u}=s;o&&(o==="count"?(i["*"]??(i["*"]={}),i["*"].count=new Set([u||St(s,{forAs:!0})])):(i[a]??(i[a]={}),i[a][o]=new Set([u||St(s,{forAs:!0})])))}for(const s of n.groupby??[])r.add(s);return r.size+ct(i).length===0?null:new vp(t,r,i)}merge(t){return mKe(this.dimensions,t.dimensions)?(Czn(this.measures,t.measures),!0):(UFn("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ct(this.measures)])}producedFields(){const t=new Set;for(const n of ct(this.measures))for(const r of ct(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Ir({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const s of ct(this.measures))for(const o of ct(this.measures[s]))for(const a of this.measures[s][o])r.push(a),t.push(o),n.push(s==="*"?null:nh(s));return{type:"aggregate",groupby:[...this.dimensions].map(nh),ops:t,fields:n,as:r}}}class I3 extends Di{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const s of Ud){const o=n.facet[s];if(o){const{bin:a,sort:u}=o;this[s]={name:n.getName(`${s}_domain`),fields:[St(o),...fs(a)?[St(o,{binSuffix:"end"})]:[]],...J0(u)?{sortField:u}:Qe(u)?{sortIndexField:nC(o,s)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Ud)this[n]&&(t+=` ${n.charAt(0)}:${Ir(this[n])}`);return t}get fields(){var n;const t=[];for(const r of Ud)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Ud)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of qm){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),s=r.get("range");if(Oa(i)&&R_(s)){const o=fz(this.childModel,n),a=hhe(o);a?t[n]=a:pt(pde(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],s=[],o=[],a=[];i&&r&&r[i]&&(n?(s.push(`distinct_${r[i]}`),o.push("max")):(s.push(r[i]),o.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:u,sortIndexField:l}=this[t];if(u){const{op:c=YU,field:f}=u;s.push(f),o.push(c),a.push(St(u,{forAs:!0}))}else l&&(s.push(l),o.push("max"),a.push(l));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...s.length?{fields:s,ops:o,as:a}:{}}]}}assembleFacetHeaderData(t){var u;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],s={};for(const l of she){for(const c of ohe){const f=(r[l]&&r[l][c])??[];for(const d of f)if(((u=d.axes)==null?void 0:u.length)>0){s[l]=!0;break}}if(s[l]){const c=`length(data("${this.facet.name}"))`,f=l==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${l}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:o,column:a}=s;return(o||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:s,facet:o}=this;if(i&&s&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),u=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:u}]})}for(const a of[ay,oy])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(o){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function DIe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function Izn(e,t){const n=ide(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=DIe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=DIe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return pt(XMn(t)),null}function kzn(e){const t={};return XD(e.filter,n=>{if(sXe(n)){let r=null;vde(n)?r=Cf(n.equal):_de(n)?r=Cf(n.lte):bde(n)?r=Cf(n.lt):wde(n)?r=Cf(n.gt):xde(n)?r=Cf(n.gte):Ede(n)?r=n.range[0]:Tde(n)&&(r=(n.oneOf??n.in)[0]),r&&(nE(r)?t[n.field]="date":ri(r)?t[n.field]="number":Pt(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function Rzn(e){const t={};function n(r){JA(r)?t[r.field]="date":r.type==="quantitative"&&CMn(r.aggregate)?t[r.field]="number":qA(r.field)>1?r.field in t||(t[r.field]="flatten"):sE(r)&&J0(r.sort)&&qA(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((no(e)||jf(e))&&e.forEachFieldDef((r,i)=>{if(Ul(r))n(r);else{const s=eE(i),o=e.fieldDef(s);n({...r,type:o.type})}}),no(e)){const{mark:r,markDef:i,encoding:s}=e;if(iE(r)&&!e.encoding.order){const o=i.orient==="horizontal"?"y":"x",a=s[o];gt(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function $zn(e){const t={};if(no(e)&&e.component.selection)for(const n of ct(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&qA(i.field)>1&&(t[i.field]="flatten")}return t}class Vu extends Di{clone(){return new Vu(null,kn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${Ir(this._parse)}`}static makeExplicit(t,n,r){var o;let i={};const s=n.data;return!tb(s)&&((o=s==null?void 0:s.format)!=null&&o.parse)&&(i=s.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of ct(r)){const u=i.getWithExplicit(a);u.value!==void 0&&(u.explicit||u.value===r[a]||u.value==="derived"||r[a]==="flatten"?delete r[a]:pt(q3e(a,r[a],u.value)))}for(const a of ct(n)){const u=i.get(a);u!==void 0&&(u===n[a]?delete n[a]:pt(q3e(a,n[a],u)))}const s=new m1(n,r);i.copyAll(s);const o={};for(const a of ct(s.combine())){const u=s.get(a);u!==null&&(o[a]=u)}return ct(o).length===0||i.parseNothing?null:new Vu(t,o)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of ct(this._parse)){const r=this._parse[n];qA(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(ct(this._parse))}dependentFields(){return new Set(ct(this._parse))}assembleTransforms(t=!1){return ct(this._parse).filter(n=>t?qA(n)>1:!0).map(n=>{const r=Izn(n,this._parse[n]);return r?{type:"formula",expr:r,as:E3(n)}:null}).filter(n=>n!==null)}}class Vb extends Di{clone(){return new Vb(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Np])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Np}}}class e5 extends Di{clone(){return new e5(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Ir(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class t5 extends Di{clone(){return new t5(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Ir(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class r2 extends Di{constructor(t){super(null),t??(t={name:"source"});let n;if(tb(t)||(n=t.format?{...Uc(t.format,["parse"])}:{}),WR(t))this._data={values:t.values};else if(ZA(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];kr(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else _Qe(t)?this._data={values:[{type:"Sphere"}]}:(vQe(t)||tb(t))&&(this._data={});this._generator=tb(t),t.name&&(this._name=t.name),n&&!qi(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var LIe=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Nzn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},l6;function che(e){return e instanceof r2||e instanceof e5||e instanceof t5}class fhe{constructor(){l6.set(this,void 0),LIe(this,l6,!1,"f")}setModified(){LIe(this,l6,!0,"f")}get modifiedFlag(){return Nzn(this,l6,"f")}}l6=new WeakMap;class oE extends fhe{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,s)=>s[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class dhe extends fhe{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class Pzn extends dhe{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of ct(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class Ozn extends dhe{constructor(t){super(),this.requiresSelectionId=t&&ihe(t)}run(t){t instanceof Vb&&(this.requiresSelectionId&&(che(t.parent)||t.parent instanceof vp||t.parent instanceof Vu)||(this.setModified(),t.remove()))}}class Dzn extends fhe{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Z0&&(r=t.producedFields(),nde(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class Lzn extends dhe{constructor(){super()}run(t){t instanceof Vc&&!t.isRequired()&&(this.setModified(),t.remove())}}class Mzn extends oE{run(t){if(!che(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Vu)if(t instanceof Vu)this.setModified(),t.merge(n);else{if(rde(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class Fzn extends oE{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Vu);if(t.numChildren()>1&&r.length>=1){const i={},s=new Set;for(const o of r){const a=o.parse;for(const u of ct(a))u in i?i[u]!==a[u]&&s.add(u):i[u]=a[u]}for(const o of s)delete i[o];if(!qi(i)){this.setModified();const o=new Vu(t,i);for(const a of n){if(a instanceof Vu)for(const u of ct(i))delete a.parse[u];t.removeChild(a),a.parent=o,a instanceof Vu&&ct(a.parse).length===0&&a.remove()}}}}}class Bzn extends oE{run(t){t instanceof Vc||t.numChildren()>0||t instanceof I3||t instanceof r2||(this.setModified(),t.remove())}}class jzn extends oE{run(t){const n=t.children.filter(i=>i instanceof Z0),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class Uzn extends oE{run(t){const n=t.children.filter(i=>i instanceof vp),r={};for(const i of n){const s=Ir(i.groupBy);s in r||(r[s]=[]),r[s].push(i)}for(const i of ct(r)){const s=r[i];if(s.length>1){const o=s.pop();for(const a of s)o.merge(a)&&(t.removeChild(a),a.parent=o,a.remove(),this.setModified())}}}}class zzn extends oE{constructor(t){super(),this.model=t}run(t){const n=!(che(t)||t instanceof C3||t instanceof Vu||t instanceof Vb),r=[],i=[];for(const s of t.children)s instanceof em&&(n&&!rde(t.producedFields(),s.dependentFields())?r.push(s):i.push(s));if(r.length>0){const s=r.pop();for(const o of r)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof em?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){const s=i.pop();for(const o of i)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class Vzn extends oE{run(t){const n=[...t.children];if(!Yx(n,o=>o instanceof Vc)||t.numChildren()<=1)return;const i=[];let s;for(const o of n)if(o instanceof Vc){let a=o;for(;a.numChildren()===1;){const[u]=a.children;if(u instanceof Vc)a=u;else break}i.push(...a.children),s?(t.removeChild(o),o.parent=s.parent,s.parent.removeChild(s),s.parent=a,this.setModified()):s=a}else i.push(o);if(i.length){this.setModified();for(const o of i)o.parent.removeChild(o),o.parent=s}}}class aE extends Di{clone(){return new aE(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=F0(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??St(t)}hash(){return`JoinAggregateTransform ${Ir(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const s of this.transform.joinaggregate)n.push(s.op),r.push(this.getDefaultName(s)),t.push(s.field===void 0?null:s.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}function Hzn(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=St(r);return i&&t.push(i),t},[])}function qzn(e){return Qe(e)&&e.every(t=>Pt(t))&&e.length>1}class ly extends Di{clone(){return new ly(null,kn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:s,offset:o="zero"}=n,a=[],u=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),u.push(xo(f.order,"ascending"));const l={field:a,order:u};let c;return qzn(s)?c=s:Pt(s)?c=[s,`${s}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new ly(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:o,sort:l,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:s,fieldChannel:o,offset:a,impute:u}=r,l=s.map(h=>{const p=i[h];return Em(p)}).filter(h=>!!h),c=Hzn(n),f=n.encoding.order;let d;if(Qe(f)||gt(f))d=BKe(f);else{const h=IXe(f)?f.sort:o==="y"?"descending":"ascending";d=c.reduce((p,m)=>(p.field.includes(m)||(p.field.push(m),p.order.push(h)),p),{field:[],order:[]})}return new ly(t,{dimensionFieldDefs:l,stackField:n.vgField(o),facetby:[],stackby:c,sort:d,offset:a,impute:u,as:[n.vgField(o,{suffix:"start",forAs:!0}),n.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Ir(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[St(i,{binSuffix:"mid"})]:[St(i,{}),St(i,{binSuffix:"end"})]:[St(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:s,sort:o,offset:a,impute:u,as:l}=this._stack;if(u)for(const c of r){const{bandPosition:f=.5,bin:d}=c;if(d){const h=St(c,{expr:"datum"}),p=St(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${f}*${h}+${1-f}*${p}`,as:St(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...s,...n],key:St(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:o,as:l,offset:a}),t}}class k3 extends Di{clone(){return new k3(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=F0(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??St(t)}hash(){return`WindowTransform ${Ir(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const s=this.transform.frame,o=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&n.every(f=>dde(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...o!==void 0?{groupby:o}:{}};const a=[],u=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)a.push(f.field),u.push(f.order??"ascending");const l={field:a,order:u},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:l,...c!==void 0?{ignorePeers:c}:{},...o!==void 0?{groupby:o}:{},...s!==void 0?{frame:s}:{}}}}function Wzn(e){function t(n){if(!(n instanceof I3)){const r=n.clone();if(r instanceof Vc){const i=ete+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof vp||r instanceof ly||r instanceof k3||r instanceof aE)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function Zee(e){if(e instanceof I3)if(e.numChildren()===1&&!(e.children[0]instanceof Vc)){const t=e.children[0];(t instanceof vp||t instanceof ly||t instanceof k3||t instanceof aE)&&t.addDimensions(e.fields),t.swapWithParent(),Zee(e)}else{const t=e.model.component.data.main;hJe(t);const n=Wzn(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(Zee)}function hJe(e){if(e instanceof Vc&&e.type===Ps.Main&&e.numChildren()===1){const t=e.children[0];t instanceof I3||(t.swapWithParent(),hJe(e))}}const ete="scale_",dO=5;function tte(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!tte(t.children))return!1}return!0}function Nh(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function MIe(e,t,n){let r=e.sources,i=!1;return i=Nh(new Lzn,r)||i,i=Nh(new Ozn(t),r)||i,r=r.filter(s=>s.numChildren()>0),i=Nh(new Bzn,r)||i,r=r.filter(s=>s.numChildren()>0),n||(i=Nh(new Mzn,r)||i,i=Nh(new zzn(t),r)||i,i=Nh(new Dzn,r)||i,i=Nh(new Fzn,r)||i,i=Nh(new Uzn,r)||i,i=Nh(new jzn,r)||i,i=Nh(new Pzn,r)||i,i=Nh(new Vzn,r)||i),e.sources=r,i}function Gzn(e,t){tte(e.sources);let n=0,r=0;for(let i=0;i<dO&&MIe(e,t,!0);i++)n++;e.sources.map(Zee);for(let i=0;i<dO&&MIe(e,t,!1);i++)r++;tte(e.sources),Math.max(n,r)===dO&&pt(`Maximum optimization runs(${dO}) reached.`)}class xa{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new xa(()=>t(n))}}function pJe(e){no(e)?Yzn(e):Kzn(e)}function Yzn(e){const t=e.component.scales;for(const n of ct(t)){const r=Qzn(e,n);if(t[n].setWithExplicit("domains",r),Zzn(e,n),e.component.data.isFaceted){let s=e;for(;!jf(s)&&s.parent;)s=s.parent;if(s.component.resolve.scale[n]==="shared")for(const a of r.value)Yg(a)&&(a.data=ete+a.data.replace(ete,""))}}}function Kzn(e){for(const n of e.children)pJe(n);const t=e.component.scales;for(const n of ct(t)){let r,i=null;for(const s of e.children){const o=s.component.scales[n];if(o){r===void 0?r=o.getWithExplicit("domains"):r=jb(r,o.getWithExplicit("domains"),"domains","scale",nte);const a=o.get("selectionExtent");i&&a&&i.param!==a.param&&pt(WMn),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function Xzn(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:s}=FIe(t,n);if(!i){pt(s);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=FIe(t,n);if(i)return"unaggregated"}return e}function Qzn(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=Xzn(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&na(r.x2)?na(r.x)?jb(J1(n,i,e,"x"),J1(n,i,e,"x2"),"domain","scale",nte):J1(n,i,e,"x2"):t==="y"&&na(r.y2)?na(r.y)?jb(J1(n,i,e,"y"),J1(n,i,e,"y2"),"domain","scale",nte):J1(n,i,e,"y2"):J1(n,i,e,t)}function Jzn(e,t,n){return e.map(r=>({signal:`{data: ${ZU(r,{timeUnit:n,type:t})}}`}))}function zY(e,t,n){var i;const r=(i=$a(n))==null?void 0:i.unit;return t==="temporal"||r?Jzn(e,t,r):[e]}function J1(e,t,n,r){const{encoding:i,markDef:s,mark:o,config:a,stack:u}=n,l=na(i[r]),{type:c}=l,f=l.timeUnit;if(m7n(t)){const p=J1(e,void 0,n,r),m=zY(t.unionWith,c,f);return b0([...m,...p.value])}else{if(Xt(t))return b0([t]);if(t&&t!=="unaggregated"&&!dXe(t))return b0(zY(t,c,f))}if(u&&r===u.fieldChannel){if(u.offset==="normalize")return yf([[0,1]]);const p=n.requestDataName(Ps.Main);return yf([{data:p,field:n.vgField(r,{suffix:"start"})},{data:p,field:n.vgField(r,{suffix:"end"})}])}const d=h1(r)&&gt(l)?eVn(n,r,e):void 0;if(Wm(l)){const p=zY([l.datum],c,f);return yf(p)}const h=l;if(t==="unaggregated"){const p=n.requestDataName(Ps.Main),{field:m}=l;return yf([{data:p,field:St({field:m,aggregate:"min"})},{data:p,field:St({field:m,aggregate:"max"})}])}else if(fs(h.bin)){if(Oa(e))return yf(e==="bin-ordinal"?[]:[{data:VR(d)?n.requestDataName(Ps.Main):n.requestDataName(Ps.Raw),field:n.vgField(r,QN(h,r)?{binSuffix:"range"}:{}),sort:d===!0||!Ot(d)?{field:n.vgField(r,{}),op:"min"}:d}]);{const{bin:p}=h;if(fs(p)){const m=lhe(n,h.field,p);return yf([new xa(()=>{const g=n.getSignalName(m);return`[${g}.start, ${g}.stop]`})])}else return yf([{data:n.requestDataName(Ps.Main),field:n.vgField(r,{})}])}}else if(h.timeUnit&&kr(["time","utc"],e)){const p=i[Hm(r)];if(CXe(h,p,s,a)){const m=n.requestDataName(Ps.Main),g=Bb({fieldDef:h,fieldDef2:p,markDef:s,config:a}),y=qR(o)&&g!==.5&&Eo(r);return yf([{data:m,field:n.vgField(r,y?{suffix:sz}:{})},{data:m,field:n.vgField(r,{suffix:y?oz:"end"})}])}}return yf(d?[{data:VR(d)?n.requestDataName(Ps.Main):n.requestDataName(Ps.Raw),field:n.vgField(r),sort:d}]:[{data:n.requestDataName(Ps.Main),field:n.vgField(r)}])}function VY(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":YU),...r?{field:nh(r)}:{},...i?{order:i}:{}}}function Zzn(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,s=dXe(r)&&r,o=tE(i)&&UU(i.extent)&&i.extent;(s||o)&&n.set("selectionExtent",s??o,!0)}function eVn(e,t,n){if(!Oa(n))return;const r=e.fieldDef(t),i=r.sort;if(SXe(i))return{op:"min",field:nC(r,t),order:"ascending"};const{stack:s}=e,o=s?new Set([...s.groupbyFields,...s.stackBy.map(a=>a.fieldDef.field)]):void 0;if(J0(i)){const a=s&&!o.has(i.field);return VY(i,a)}else if(TXe(i)){const{encoding:a,order:u}=i,l=e.fieldDef(a),{aggregate:c,field:f}=l,d=s&&!o.has(f);if(Dy(c)||k_(c))return VY({field:St(l),order:u},d);if(dde(c)||!c)return VY({op:c,field:f,order:u},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(kr(["ascending",void 0],i))return!0}}function FIe(e,t){const{aggregate:n,type:r}=e;return n?Pt(n)&&!kMn.has(n)?{valid:!1,reason:vFn(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:bFn(e)}:{valid:!0}:{valid:!1,reason:yFn(e)}}function nte(e,t,n,r){return e.explicit&&t.explicit&&pt(TFn(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function tVn(e){const t=F0(e.map(o=>{if(Yg(o)){const{sort:a,...u}=o;return u}return o}),Ir),n=F0(e.map(o=>{if(Yg(o)){const a=o.sort;return a!==void 0&&!VR(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(o=>o!==void 0),Ir);if(t.length===0)return;if(t.length===1){const o=e[0];if(Yg(o)&&n.length>0){let a=n[0];if(n.length>1){pt(G3e);const u=n.filter(l=>Ot(l)&&"op"in l&&l.op!=="min");n.every(l=>Ot(l)&&"op"in l)&&u.length===1?a=u[0]:a=!0}else if(Ot(a)&&"field"in a){const u=a.field;o.field===u&&(a=a.order?{order:a.order}:!0)}return{...o,sort:a}}return o}const r=F0(n.map(o=>VR(o)||!("op"in o)||Pt(o.op)&&o.op in SMn?o:(pt(AFn(o)),!0)),Ir);let i;r.length===1?i=r[0]:r.length>1&&(pt(G3e),i=!0);const s=F0(e.map(o=>Yg(o)?o.data:null),o=>o);return s.length===1&&s[0]!==null?{data:s[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function hhe(e){if(Yg(e)&&Pt(e.field))return e.field;if(RMn(e)){let t;for(const n of e.fields)if(Yg(n)&&Pt(n.field)){if(!t)t=n.field;else if(t!==n.field)return pt(CFn),t}return pt(IFn),t}else if($Mn(e)){pt(kFn);const t=e.fields[0];return Pt(t)?t:void 0}}function fz(e,t){const r=e.component.scales[t].get("domains").map(i=>(Yg(i)&&(i.data=e.lookupDataSource(i.data)),i));return tVn(r)}function mJe(e){return R3(e)||phe(e)?e.children.reduce((t,n)=>t.concat(mJe(n)),BIe(e)):BIe(e)}function BIe(e){return ct(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:s,type:o,selectionExtent:a,domains:u,range:l,reverse:c,...f}=i,d=nVn(i.range,s,n,e),h=fz(e,n),p=a?Xjn(e,a,r,h):null;return t.push({name:s,type:o,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function nVn(e,t,n,r){if(Eo(n)){if(R_(e))return{step:{signal:`${t}_step`}}}else if(Ot(e)&&Yg(e))return{...e,data:r.lookupDataSource(e.data)};return e}class gJe extends m1{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:Yx(this.get("domains"),t=>Qe(t)&&t.length===2&&ri(t[0])&&t[0]<=0&&ri(t[1])&&t[1]>=0)}}const rVn=["range","scheme"];function iVn(e){const t=e.component.scales;for(const n of jU){const r=t[n];if(!r)continue;const i=sVn(n,e);r.setWithExplicit("range",i)}}function jIe(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,s=ef(t),o=e.getName(s);if(Ot(r)&&r.binned&&r.step!==void 0)return new xa(()=>{const a=e.scaleName(t),u=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(o)} / (${u})`});if(fs(r)){const a=lhe(e,i,r);return new xa(()=>{const u=e.getSignalName(a),l=`(${u}.stop - ${u}.start) / ${u}.step`;return`${e.getSignalName(o)} / (${l})`})}}}function sVn(e,t){const n=t.specifiedScales[e],{size:r}=t,s=t.getScaleComponent(e).get("type");for(const f of rVn)if(n[f]!==void 0){const d=jee(s,f),h=hXe(e,f);if(!d)pt(WKe(s,f,e));else if(h)pt(h);else switch(f){case"range":{const p=n.range;if(Qe(p)){if(Eo(e))return b0(p.map(m=>{if(m==="width"||m==="height"){const g=t.getName(m),y=t.getSignalName.bind(t);return xa.fromName(y,g)}return m}))}else if(Ot(p))return b0({data:t.requestDataName(Ps.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return b0(p)}case"scheme":return b0(oVn(n[f]))}}const o=e===Fs||e==="xOffset"?"width":"height",a=r[o];if(Tm(a)){if(Eo(e))if(Oa(s)){const f=vJe(a,t,e);if(f)return b0({step:f})}else pt(GKe(o));else if(qN(e)){const f=e===T_?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=bJe(a,s);if(p)return b0(p)}}}const{rangeMin:u,rangeMax:l}=n,c=aVn(e,t);return(u!==void 0||l!==void 0)&&jee(s,"rangeMin")&&Qe(c)&&c.length===2?b0([u??c[0],l??c[1]]):yf(c)}function oVn(e){return p7n(e)?{scheme:e.name,...Uc(e,["name"])}:{scheme:e}}function yJe(e,t,n,{center:r}={}){const i=ef(e),s=t.getName(i),o=t.getSignalName.bind(t);return e===Fa&&nd(n)?r?[xa.fromName(a=>`${o(a)}/2`,s),xa.fromName(a=>`-${o(a)}/2`,s)]:[xa.fromName(o,s),0]:r?[xa.fromName(a=>`-${o(a)}/2`,s),xa.fromName(a=>`${o(a)}/2`,s)]:[0,xa.fromName(o,s)]}function aVn(e,t){const{size:n,config:r,mark:i,encoding:s}=t,{type:o}=na(s[e]),u=t.getScaleComponent(e).get("type"),{domain:l,domainMid:c}=t.specifiedScales[e];switch(e){case Fs:case Fa:{if(kr(["point","band"],u)){const f=_Je(e,n,r.view);if(Tm(f))return{step:vJe(f,t,e)}}return yJe(e,t,u)}case T_:case T3:return uVn(e,t,u);case f1:{const f=t.component.scales[e].get("zero"),d=wJe(i,f,r),h=fVn(i,n,t,r);return KA(u)?cVn(d,h,lVn(u,r,l,e)):[d,h]}case gh:return[0,Math.PI*2];case Z2:return[0,360];case Wp:return[0,new xa(()=>{const f=t.getSignalName(jf(t.parent)?"child_width":"width"),d=t.getSignalName(jf(t.parent)?"child_height":"height");return`min(${f},${d})/2`})];case C_:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case I_:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Zc:return"symbol";case Jc:case zm:case Vm:return u==="ordinal"?o==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case d1:case S_:case A_:return[r.scale.minOpacity,r.scale.maxOpacity]}}function vJe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),s=ude(n),o=r[s];if(iQe({step:e,offsetIsDiscrete:Fn(o)&&aXe(o.type)})==="offset"&&BXe(r,s)){const u=t.getScaleComponent(s);let c=`domain('${t.scaleName(s)}').length`;if(u.get("type")==="band"){const d=u.get("paddingInner")??u.get("padding")??0,h=u.get("paddingOuter")??u.get("padding")??0;c=`bandspace(${c}, ${d}, ${h})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${DMn(f)})`}}else return e.step}function bJe(e,t){if(iQe({step:e,offsetIsDiscrete:Oa(t)})==="offset")return{step:e.step}}function uVn(e,t,n){const r=e===T_?"x":"y",i=t.getScaleComponent(r);if(!i)return yJe(r,t,n,{center:!0});const s=i.get("type"),o=t.scaleName(r),{markDef:a,config:u}=t;if(s==="band"){const l=_Je(r,t.size,t.config.view);if(Tm(l)){const c=bJe(l,n);if(c)return c}return[0,{signal:`bandwidth('${o}')`}]}else{const l=t.encoding[r];if(gt(l)&&l.timeUnit){const c=rXe(l.timeUnit,p=>`scale('${o}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=Bb({fieldDef:l,markDef:a,config:u})-.5,h=d!==0?` + ${d}`:"";if(f){const p=Xt(f)?`${f.signal}/2`+h:`${f/2+d}`,m=Xt(f)?`(1 - ${f.signal}/2)`+h:`${1-f/2+d}`;return[{signal:`${p} * (${c})`},{signal:`${m} * (${c})`}]}return[0,{signal:c}]}return hKe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function _Je(e,t,n){const r=e===Fs?"width":"height",i=t[r];return i||CF(n,r)}function lVn(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Qe(n)?n.length+1:(pt(FFn(r)),3)}}function cVn(e,t,n){const r=()=>{const i=lp(t),s=lp(e),o=`(${i} - ${s}) / (${n} - 1)`;return`sequence(${s}, ${i} + ${o}, ${o})`};return Xt(t)?new xa(r):{signal:r()}}function wJe(e,t,n){if(t)return Xt(t)?{signal:`${t.signal} ? 0 : ${wJe(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(zU("size",e))}const UIe=.95;function fVn(e,t,n,r){const i={x:jIe(n,"x"),y:jIe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const s=zIe(t,i,r.view);return ri(s)?s-1:new xa(()=>`${s.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const s=zIe(t,i,r.view);return ri(s)?Math.pow(UIe*s,2):new xa(()=>`pow(${UIe} * ${s.signal}, 2)`)}}throw new Error(zU("size",e))}function zIe(e,t,n){const r=Tm(e.width)?e.width.step:AF(n,"width"),i=Tm(e.height)?e.height.step:AF(n,"height");return t.x||t.y?new xa(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function xJe(e,t){no(e)?dVn(e,t):TJe(e,t)}function dVn(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:s,specifiedScales:o}=e;for(const a of ct(n)){const u=o[a],l=n[a],c=e.getScaleComponent(a),f=na(i[a]),d=u[t],h=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=jee(h,t),y=hXe(a,t);if(d!==void 0&&(g?y&&pt(y):pt(WKe(h,t,a))),g&&y===void 0)if(d!==void 0){const v=f.timeUnit,b=f.type;switch(t){case"domainMax":case"domainMin":nE(u[t])||b==="temporal"||v?l.set(t,{signal:ZU(u[t],{type:b,timeUnit:v})},!0):l.set(t,u[t],!0);break;default:l.copyKeyFromObject(t,u)}}else{const v=t in VIe?VIe[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:m,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:s,config:r,hasNestedOffsetScale:jXe(i,a),hasSecondaryRangeChannel:!!i[Hm(a)]}):r.scale[t];v!==void 0&&l.set(t,v,!1)}}}const VIe={bins:({model:e,fieldOrDatumDef:t})=>gt(t)?hVn(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>pVn(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:s})=>mVn(e,t,n,r,i,s),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>gVn(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:s})=>yVn(e,t,n.type,r,i.scale,s),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:s})=>vVn(e,t,n,r,i.scale,s),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=gt(e)?e.sort:void 0;return bVn(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:s,hasSecondaryRangeChannel:o})=>_Vn(e,t,n,r,i,s.scale,o)};function EJe(e){no(e)?iVn(e):TJe(e,"range")}function TJe(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?EJe(r):xJe(r,t);for(const r of ct(n)){let i;for(const s of e.children){const o=s.component.scales[r];if(o){const a=o.getWithExplicit(t);i=jb(i,a,t,"scale",yQe((u,l)=>{switch(t){case"range":return u.step&&l.step?u.step-l.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function hVn(e,t){const n=t.bin;if(fs(n)){const r=lhe(e,t.field,n);return new xa(()=>e.getSignalName(r))}else if(Ka(n)&&tE(n)&&n.step!==void 0)return{step:n.step}}function pVn(e,t){if(kr([Jc,zm,Vm],e)&&t!=="nominal")return"hcl"}function mVn(e,t,n,r,i,s){var o;if(!((o=Em(s))!=null&&o.bin||Qe(n)||i!=null||r!=null||kr([zc.TIME,zc.UTC],e)))return Eo(t)?!0:void 0}function gVn(e,t,n,r,i,s){if(Eo(e)){if(cp(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:o,orient:a}=i;if(o==="bar"&&!(gt(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return s.continuousBandSize}if(t===zc.POINT)return n.pointPadding}}function yVn(e,t,n,r,i,s=!1){if(e===void 0){if(Eo(t)){const{bandPaddingInner:o,barBandPaddingInner:a,rectBandPaddingInner:u,bandWithNestedOffsetPaddingInner:l}=i;return s?l:xo(o,n==="bar"?a:u)}else if(qN(t)&&r===zc.BAND)return i.offsetBandPaddingInner}}function vVn(e,t,n,r,i,s=!1){if(e===void 0){if(Eo(t)){const{bandPaddingOuter:o,bandWithNestedOffsetPaddingOuter:a}=i;if(s)return a;if(n===zc.BAND)return xo(o,Xt(r)?{signal:`${r.signal}/2`}:r/2)}else if(qN(t)){if(n===zc.POINT)return .5;if(n===zc.BAND)return i.offsetBandPaddingOuter}}}function bVn(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return nd(e)&&t==="descending"?Xt(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(nd(e)&&t==="descending")return!0}function _Vn(e,t,n,r,i,s,o){if(!!n&&n!=="unaggregated"&&nd(i)){if(Qe(n)){const u=n[0],l=n[n.length-1];if(ri(u)&&u<=0&&ri(l)&&l>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!KA(i))return!0;if(!(gt(t)&&t.bin)&&kr([...qm,...yMn],e)){const{orient:u,type:l}=r;return kr(["bar","area","line","trail"],l)&&(u==="horizontal"&&e==="y"||u==="vertical"&&e==="x")?!1:kr(["bar","area"],l)&&!o?!0:s==null?void 0:s.zero}return!1}function wVn(e,t,n,r,i=!1){const s=xVn(t,n,r,i),{type:o}=e;return h1(t)?o!==void 0?w7n(t,o)?gt(n)&&!_7n(o,n.type)?(pt(xFn(o,s)),s):o:(pt(wFn(t,o,s)),s):s:null}function xVn(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(PS(e)||OY(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&pt(DY(e,"ordinal")),"ordinal";if(Eo(e)||qN(e)){if(kr(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in fde)return"band";const s=n[ef(e)];return e2(s)||QA(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return PS(e)?"time":OY(e)==="discrete"?(pt(DY(e,"temporal")),"ordinal"):gt(t)&&t.timeUnit&&$a(t.timeUnit).utc?"utc":"time";case"quantitative":return PS(e)?gt(t)&&fs(t.bin)?"bin-ordinal":"linear":OY(e)==="discrete"?(pt(DY(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(HKe(t.type))}function EVn(e,{ignoreRange:t}={}){SJe(e),pJe(e);for(const n of b7n)xJe(e,n);t||EJe(e)}function SJe(e){no(e)?e.component.scales=TVn(e):e.component.scales=AVn(e)}function TVn(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const s of jU){const o=na(t[s]);if(o&&n===wXe&&s===Zc&&o.type===S3)continue;let a=o&&o.scale;if(o&&a!==null&&a!==!1){a??(a={});const u=jXe(t,s),l=wVn(a,s,o,r,u);i[s]=new gJe(e.scaleName(`${s}`,!0),{value:l,explicit:a.type===l})}}return i}const SVn=yQe((e,t)=>K3e(e)-K3e(t));function AVn(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const s of e.children){SJe(s);for(const o of ct(s.component.scales))if((t=i.scale)[o]??(t[o]=tJe(o,e)),i.scale[o]==="shared"){const a=r[o],u=s.component.scales[o].getWithExplicit("type");a?l7n(a.value,u.value)?r[o]=jb(a,u,"type","scale",SVn):(i.scale[o]="independent",delete r[o]):r[o]=u}}for(const s of ct(r)){const o=e.scaleName(s,!0),a=r[s];n[s]=new gJe(o,a);for(const u of e.children){const l=u.component.scales[s];l&&(u.renameScale(l.get("name"),o),l.merged=!0)}}return n}class HY{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function no(e){return(e==null?void 0:e.type)==="unit"}function jf(e){return(e==null?void 0:e.type)==="facet"}function phe(e){return(e==null?void 0:e.type)==="concat"}function R3(e){return(e==null?void 0:e.type)==="layer"}class mhe{constructor(t,n,r,i,s,o,a){this.type=n,this.parent=r,this.config=s,this.correctDataNames=u=>{var l,c,f;return(l=u.from)!=null&&l.data&&(u.from.data=this.lookupDataSource(u.from.data)),(f=(c=u.from)==null?void 0:c.facet)!=null&&f.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u},this.parent=r,this.config=s,this.view=wc(a),this.name=t.name??i,this.title=cv(t.title)?{text:t.title}:t.title?wc(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new HY,this.projectionNameMap=r?r.projectionNameMap:new HY,this.signalNameMap=r?r.signalNameMap:new HY,this.data=t.data,this.description=t.description,this.transforms=Pjn(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:MBn(t,n,s),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:KU(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new m1,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...o?kn(o):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){EVn(this)}parseProjection(){fJe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){oJe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const s of ct(r)){const o=r[s];o!==void 0&&(i[s]=_s(o))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=_s(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:qi(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,s=GUn(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...s?{titleBand:s}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Ud)t[r].title&&n.push(UUn(this,r));for(const r of she)n=n.concat(zUn(this,r));return n}assembleAxes(){return IUn(this.component.axes,this.config)}assembleLegends(){return uJe(this)}assembleProjections(){return gzn(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...DKe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return kr(["unit","layer"],this.type)?kr(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),qi(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||jf(this.parent)?mJe(this):[];i.length>0&&(n.scales=i);const s=this.assembleAxes();s.length>0&&(n.axes=s);const o=this.assembleLegends();return o.length>0&&(n.legends=o),n}getName(t){return Ms((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Ps[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(jf(this.parent)){const n=ZQe(t),r=BU(n),i=this.component.scales[r];if(i&&!i.merged){const s=i.get("type"),o=i.get("range");if(Oa(s)&&R_(o)){const a=i.get("name"),u=fz(this,r),l=hhe(u);if(l){const c=St({aggregate:"distinct",field:l},{expr:"datum"});return{signal:JQe(a,i,c)}}else return pt(pde(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(AKe(t)&&h1(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(jMn(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class AJe extends mhe{vgField(t,n={}){const r=this.fieldDef(t);if(r)return St(r,n)}reduceFieldDef(t,n){return dBn(this.getMapping(),(r,i,s)=>{const o=Em(i);return o?t(r,o,s):r},n)}forEachFieldDef(t,n){Ude(this.getMapping(),(r,i)=>{const s=Em(r);s&&t(s,i)},n)}}class dz extends Di{clone(){return new dz(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=kn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Ir(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class hz extends Di{clone(){return new hz(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=kn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Ir(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class GR extends Di{clone(){return new GR(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n){const{config:r,mark:i,markDef:s}=n;if(bi("invalid",s,r)!=="filter")return null;const a=n.reduceFieldDef((u,l,c)=>{const f=h1(c)&&n.getScaleComponent(c);if(f){const d=f.get("type");nd(d)&&l.aggregate!=="count"&&!iE(i)&&(u[l.field]=l)}return u},{});return ct(a).length?new GR(t,a):null}dependentFields(){return new Set(ct(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Ir(this.filter)}`}assemble(){const t=ct(this.filter).reduce((n,r)=>{const i=this.filter[r],s=St(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${s}) || (isValid(${s}) && isFinite(+${s})))`):i.type==="quantitative"&&(n.push(`isValid(${s})`),n.push(`isFinite(+${s})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class pz extends Di{clone(){return new pz(this.parent,kn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=kn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((s,o)=>i[o]??s)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Ir(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class mz extends Di{clone(){return new mz(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=kn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Ir(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class LS extends Di{clone(){return new LS(null,kn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[Yp,Gp],[rh,Kp]]){const s=i.map(o=>{const a=na(n.encoding[o]);return gt(a)?a.field:Wm(a)?{expr:`${a.datum}`}:$p(a)?{expr:`${a.value}`}:void 0});(s[0]||s[1])&&(t=new LS(t,s,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Zc)){const i=n.typedFieldDef(Zc);i.type===S3&&(t=new LS(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Pt);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Ir(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class YR extends Di{clone(){return new YR(null,this.projection,kn(this.fields),kn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[Yp,Gp],[rh,Kp]]){const i=r.map(o=>{const a=na(n.encoding[o]);return gt(a)?a.field:Wm(a)?{expr:`${a.datum}`}:$p(a)?{expr:`${a.value}`}:void 0}),s=r[0]===rh?"2":"";(i[0]||i[1])&&(t=new YR(t,n.projectionName(),i,[n.getName(`x${s}`),n.getName(`y${s}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Pt))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Ir(this.fields)} ${Ir(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class _x extends Di{clone(){return new _x(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new _x(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,s=r.y;if(gt(i)&&gt(s)){const o=i.impute?i:s.impute?s:void 0;if(o===void 0)return;const a=i.impute?s:s.impute?i:void 0,{method:u,value:l,frame:c,keyvals:f}=o.impute,d=zXe(n.mark,r);return new _x(t,{impute:o.field,key:a.field,...u?{method:u}:{},...l!==void 0?{value:l}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${Ir(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:s,value:o,frame:a=[null,null]}=this.transform,u={type:"impute",field:t,key:n,...r?{keyvals:pjn(r)?this.processSequence(r):r}:{},method:"value",...s?{groupby:s}:{},value:!i||i==="value"?o:null};if(i&&i!=="value"){const l={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...s?{groupby:s}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[u,l,c]}else return[u]}}class gz extends Di{clone(){return new gz(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=kn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Ir(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class KR extends Di{clone(){return new KR(null,kn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const s=n.component.data.sources,{from:o}=r;let a=null;if(mjn(o)){let u=kJe(o.data,s);u||(u=new r2(o.data),s.push(u));const l=n.getName(`lookup_${i}`);a=new Vc(u,l,Ps.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[l]=a}else if(gjn(o)){const u=o.param;r={as:u,...r};let l;try{l=n.getSelectionComponent(Ms(u),u)}catch{throw new Error(HMn(u))}if(a=l.materialized,!a)throw new Error(qMn(u))}return new KR(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Nt(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Ir({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Nt(this.transform.as)}:{}};else{let n=this.transform.as;Pt(n)||(pt(ZMn),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class yz extends Di{clone(){return new yz(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=kn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Ir(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class vz extends Di{clone(){return new vz(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=kn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Ir(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class bz extends Di{clone(){return new bz(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=F0((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Ir(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:s}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...s!==void 0?{op:s}:{},...r!==void 0?{groupby:r}:{}}}}class _z extends Di{clone(){return new _z(null,kn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Ir(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function CJe(e){let t=0;function n(r,i){if(r instanceof r2&&!r.isGenerator&&!ZA(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Vu&&(r.parent instanceof r2&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof I3){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof e5||r instanceof t5||r instanceof GR||r instanceof C3||r instanceof tC||r instanceof YR||r instanceof vp||r instanceof KR||r instanceof k3||r instanceof aE||r instanceof mz||r instanceof pz||r instanceof dz||r instanceof gz||r instanceof yz||r instanceof vz||r instanceof Vb||r instanceof _z||r instanceof bz||r instanceof hz)&&i.transform.push(r.assemble()),(r instanceof em||r instanceof Z0||r instanceof _x||r instanceof ly||r instanceof LS)&&i.transform.push(...r.assemble()),r instanceof Vc&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Vc?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Vc&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let s=i.name;!i.source||i.transform.length>0?e.push(i):s=i.source;for(const o of r.children)n(o,{name:null,source:s,transform:[]});break}}}return n}function CVn(e){const t=[],n=CJe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function IVn(e,t){const n=[],r=CJe(n);let i=0;for(const o of e.sources){o.hasName()||(o.dataName=`source_${i++}`);const a=o.assemble();r(o,a)}for(const o of n)o.transform.length===0&&delete o.transform;let s=0;for(const[o,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(s++,0,n.splice(o,1)[0]);for(const o of n)for(const a of o.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const o of n)o.name in t&&(o.values=t[o.name]);return n}function kVn(e){return e==="top"||e==="left"||Xt(e)?"header":"footer"}function RVn(e){for(const t of Ud)$Vn(e,t);HIe(e,"x"),HIe(e,"y")}function $Vn(e,t){var o;const{facet:n,config:r,child:i,component:s}=e;if(e.channelHasField(t)){const a=n[t],u=rC("title",null,r,t);let l=OS(a,r,{allowDisabling:!0,includeDefault:u===void 0||!!u});i.component.layoutHeaders[t].title&&(l=Qe(l)?l.join(", "):l,l+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=rC("labelOrient",a.header,r,t),f=a.header!==null?xo((o=a.header)==null?void 0:o.labels,r.header.labels,!0):!1,d=kr(["bottom","right"],c)?"footer":"header";s.layoutHeaders[t]={title:a.header!==null?l:null,facetFieldDef:a,[d]:t==="facet"?[]:[IJe(e,t,f)]}}}function IJe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function HIe(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=uhe(i,t),i.axis[t]==="shared"){const s=t==="x"?"column":"row",o=r[s];for(const a of n.component.axes[t]){const u=kVn(a.get("orient"));o[u]??(o[u]=[IJe(e,s,!1)]);const l=u6(a,"main",e.config,{header:!0});l&&o[u][0].axes.push(l),a.mainExtracted=!0}}}}function NVn(e){ghe(e),$F(e,"width"),$F(e,"height")}function PVn(e){ghe(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";$F(e,t),$F(e,n)}function ghe(e){for(const t of e.children)t.parseLayoutSize()}function $F(e,t){const n=ZQe(t),r=BU(n),i=e.component.resolve,s=e.component.layoutSize;let o;for(const a of e.children){const u=a.component.layoutSize.getWithExplicit(n),l=i.scale[r]??tJe(r,e);if(l==="independent"&&u.value==="step"){o=void 0;break}if(o){if(l==="independent"&&o.value!==u.value){o=void 0;break}o=jb(o,u,n,"")}else o=u}if(o){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);s.setWithExplicit(t,o)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function OVn(e){const{size:t,component:n}=e;for(const r of qm){const i=ef(r);if(t[i]){const s=t[i];n.layoutSize.set(i,Tm(s)?"step":s,!0)}else{const s=DVn(e,i);n.layoutSize.set(i,s,!1)}}}function DVn(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const s=i.get("type"),o=i.get("range");if(Oa(s)){const a=CF(r.view,t);return R_(o)||Tm(a)?"step":a}else return Vee(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return Vee(r.view,t);{const s=CF(r.view,t);return Tm(s)?s.step:s}}}function rte(e,t,n){return St(t,{suffix:`by_${St(e)}`,...n})}class ik extends AJe{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=whe(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!KN(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=ct(t),r={};for(const i of n){if(![oy,ay].includes(i)){pt(zU(i,"facet"));break}const s=t[i];if(s.field===void 0){pt(Fee(s,i));break}r[i]=this.initFacetFieldDef(s,i)}return r}initFacetFieldDef(t,n){const r=Bde(t,n);return r.header?r.header=wc(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=wz(this),this.child.parseData()}parseLayoutSize(){ghe(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),RVn(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Ud)for(const r of ohe){const i=this.component.layoutHeaders[n],s=i[r],{facetFieldDef:o}=i;if(o){const a=rC("titleOrient",o.header,this.config,n);if(["right","bottom"].includes(a)){const u=lz(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[u]="end"}}if(s!=null&&s[0]){const a=n==="row"?"height":"width",u=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[u]??(t[u]={}),t[u][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof ik))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof ik?{...this.channelHasField("column")?{encode:{update:{columns:{field:St(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof ik){if(this.child.channelHasField("column")){const i=St(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of qm){const s=this.child.component.scales[i];if(s&&!s.merged){const o=s.get("type"),a=s.get("range");if(Oa(o)&&R_(a)){const u=fz(this.child,i),l=hhe(u);l?(t.push(l),n.push("distinct"),r.push(`distinct_${l}`)):pt(pde(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:s,ops:o,as:a}=this.getCardinalityAggregateForChild(),u=[];for(const c of Ud){const f=this.facet[c];if(f){u.push(St(f));const{bin:d,sort:h}=f;if(fs(d)&&u.push(St(f,{binSuffix:"end"})),J0(h)){const{field:p,op:m=YU}=h,g=rte(f,h);r&&i?(s.push(g),o.push("max"),a.push(g)):(s.push(p),o.push(m),a.push(g))}else if(Qe(h)){const p=nC(f,c);s.push(p),o.push("max"),a.push(p)}}}const l=!!r&&!!i;return{name:t,data:n,groupby:u,...l||s.length>0?{aggregate:{...l?{cross:l}:{},...s.length?{fields:s,ops:o,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?J0(r.sort)?[rte(r,r.sort,{expr:"datum"})]:Qe(r.sort)?[nC(r,t,{expr:"datum"})]:[St(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(J0(i)?i.order:!Qe(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return Qee(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const s of she)if(t[s]){const o=rC("labelOrient",(i=t[s])==null?void 0:i.header,n,s);if(r[s].includes(o))return Qee(t[s],s,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=CVn(n),i=t.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...o?{style:o}:{},from:{facet:this.assembleFacet()},sort:{field:Ud.map(u=>this.facetSortFields(u)).flat(),order:Ud.map(u=>this.facetSortOrder(u)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(Wjn(this,[]))}]}getMapping(){return this.facet}}function LVn(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const s of[n,r])if(J0(s.sort)){const{field:o,op:a=YU}=s.sort;e=i=new aE(e,{joinaggregate:[{op:a,field:o,as:rte(s,s.sort,{forAs:!0})}],groupby:[St(s)]})}return i}return null}function kJe(e,t){var n,r,i,s;for(const o of t){const a=o.data;if(e.name&&o.hasName()&&e.name!==o.dataName)continue;const u=(n=e.format)==null?void 0:n.mesh,l=(r=a.format)==null?void 0:r.feature;if(u&&l)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||l)&&c!==l)continue;const f=(s=a.format)==null?void 0:s.mesh;if(!((u||f)&&u!==f)){if(WR(e)&&WR(a)){if(Of(e.values,a.values))return o}else if(ZA(e)&&ZA(a)){if(e.url===a.url)return o}else if(vQe(e)&&e.name===o.dataName)return o}}return null}function MVn(e,t){if(e.data||!e.parent){if(e.data===null){const r=new r2({values:[]});return t.push(r),r}const n=kJe(e.data,t);if(n)return tb(e.data)||(n.data.format=pKe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new r2(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function FVn(e,t,n){let r=0;for(const i of t.transforms){let s,o;if(Ajn(i))o=e=new tC(e,i),s="derived";else if(Jde(i)){const a=kzn(i);o=e=Vu.makeWithAncestors(e,{},a,n)??e,e=new C3(e,t,i.filter)}else if(hQe(i))o=e=em.makeFromTransform(e,i,t),s="number";else if(Ijn(i))s="date",n.getWithExplicit(i.field).value===void 0&&(e=new Vu(e,{[i.field]:s}),n.set(i.field,s,!1)),o=e=Z0.makeFromTransform(e,i);else if(kjn(i))o=e=vp.makeFromTransform(e,i),s="number",ihe(t)&&(e=new Vb(e));else if(dQe(i))o=e=KR.make(e,t,i,r++),s="derived";else if(Ejn(i))o=e=new k3(e,i),s="number";else if(Tjn(i))o=e=new aE(e,i),s="number";else if(Rjn(i))o=e=ly.makeFromTransform(e,i),s="derived";else if($jn(i))o=e=new mz(e,i),s="derived";else if(Njn(i))o=e=new hz(e,i),s="derived";else if(Sjn(i))o=e=new pz(e,i),s="derived";else if(yjn(i))o=e=new bz(e,i),s="derived";else if(xjn(i))e=new _z(e,i);else if(Cjn(i))o=e=_x.makeFromTransform(e,i),s="derived";else if(vjn(i))o=e=new dz(e,i),s="derived";else if(bjn(i))o=e=new yz(e,i),s="derived";else if(_jn(i))o=e=new vz(e,i),s="derived";else if(wjn(i))o=e=new gz(e,i),s="derived";else{pt(JMn(i));continue}if(o&&s!==void 0)for(const a of o.producedFields()??[])n.set(a,s,!1)}return e}function wz(e){var h;let t=MVn(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,o=!(i&&(tb(i)||ZA(i)||WR(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new Hjn;tb(i)?(bQe(i)?t=new t5(t,i.sequence):Zde(i)&&(t=new e5(t,i.graticule)),o.parseNothing=!0):((h=i==null?void 0:i.format)==null?void 0:h.parse)===null&&(o.parseNothing=!0),t=Vu.makeExplicit(t,e,o)??t,t=new Vb(t);const a=e.parent&&R3(e.parent);(no(e)||jf(e))&&a&&(t=em.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=FVn(t,e,o));const u=$zn(e),l=Rzn(e);t=Vu.makeWithAncestors(t,{},{...u,...l},o)??t,no(e)&&(t=LS.parseAll(t,e),t=YR.parseAll(t,e)),(no(e)||jf(e))&&(a||(t=em.makeFromEncoding(t,e)??t),t=Z0.makeFromEncoding(t,e)??t,t=tC.parseAllForSortIndex(t,e));const c=t=qIe(Ps.Raw,e,t);if(no(e)){const p=vp.makeFromEncoding(t,e);p&&(t=p,ihe(e)&&(t=new Vb(t))),t=_x.makeFromEncoding(t,e)??t,t=ly.makeFromEncoding(t,e)??t}no(e)&&(t=GR.make(t,e)??t);const f=t=qIe(Ps.Main,e,t);no(e)&&AUn(e,f);let d=null;if(jf(e)){const p=e.getName("facet");t=LVn(t,e.facet)??t,d=new I3(t,e,p,f.getSource()),n[p]=d}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:f,facetRoot:d,ancestorParse:o}}function qIe(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,s=t.getDataName(e),o=new Vc(n,s,e,i);return r[s]=o,o}class BVn extends mhe{constructor(t,n,r,i){var s,o,a,u;super(t,"concat",n,r,i,t.resolve),(((o=(s=t.resolve)==null?void 0:s.axis)==null?void 0:o.x)==="shared"||((u=(a=t.resolve)==null?void 0:a.axis)==null?void 0:u.y)==="shared")&&pt(KMn),this.children=this.getChildren(t).map((l,c)=>whe(l,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=wz(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ct(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return nz(t)?t.vconcat:Xde(t)?t.hconcat:t.concat}parseLayoutSize(){PVn(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=ahe(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function jVn(e){return e===!1||e===null}const UVn={disable:1,gridScale:1,scale:1,...MXe,labelExpr:1,encode:1},RJe=ct(UVn);class yhe extends m1{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new yhe(kn(this.explicit),kn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!jVn(this.get(t))}hasOrientSignalRef(){return Xt(this.explicit.orient)}}function zVn(e,t,n){const{encoding:r,config:i}=e,s=na(r[t])??na(r[Hm(t)]),o=e.axis(t)||{},{format:a,formatType:u}=o;if(Zx(u))return{text:fp({fieldOrDatumDef:s,field:"datum.value",format:a,formatType:u,config:i}),...n};if(a===void 0&&u===void 0&&i.customFormatTypes){if(XA(s)==="quantitative"){if(QA(s)&&s.stack==="normalize"&&i.normalizedNumberFormatType)return{text:fp({fieldOrDatumDef:s,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:fp({fieldOrDatumDef:s,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(XA(s)==="temporal"&&i.timeFormatType&&gt(s)&&!s.timeUnit)return{text:fp({fieldOrDatumDef:s,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function VVn(e){return qm.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[XVn(n,e)]),t),{})}const HVn={bottom:"top",top:"bottom",left:"right",right:"left"};function qVn(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const s of ct(i.component.axes))n.axis[s]=uhe(e.component.resolve,s),n.axis[s]==="shared"&&(t[s]=WVn(t[s],i.component.axes[s]),t[s]||(n.axis[s]="independent",delete t[s]))}for(const i of qm){for(const s of e.children)if(s.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(s.component.axes[i]);for(const o of s.component.axes[i]){const{value:a,explicit:u}=o.getWithExplicit("orient");if(!Xt(a)){if(r[a]>0&&!u){const l=HVn[a];r[a]>r[l]&&o.set("orient",l,!1)}r[a]++}}}delete s.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[s,o]of(t[i]||[]).entries())s>0&&o.get("grid")&&!o.explicit.grid&&(o.implicit.grid=!1)}}function WVn(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],s=t[r];if(!!i!=!!s)return;if(i&&s){const o=i.getWithExplicit("orient"),a=s.getWithExplicit("orient");if(o.explicit&&a.explicit&&o.value!==a.value)return;e[r]=GVn(i,s)}}}else return t.map(n=>n.clone());return e}function GVn(e,t){for(const n of RJe){const r=jb(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,s)=>{switch(n){case"title":return zKe(i,s);case"gridScale":return{explicit:i.explicit,value:xo(i.value,s.value)}}return iz(i,s,n,"axis")});e.setWithExplicit(n,r)}return e}function YVn(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Xt(n.labelAngle)?n.labelAngle:HR(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===YQe(r,i))return!0}return e===n[t]}const KVn=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function XVn(e,t){var y,v;let n=t.axis(e);const r=new yhe,i=na(t.encoding[e]),{mark:s,config:o}=t,a=(n==null?void 0:n.orient)||((y=o[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=o.axis)==null?void 0:v.orient)||LUn(e),u=t.getScaleComponent(e).get("type"),l=kUn(e,u,a,t.config),c=n!==void 0?!n:Kee("disable",o.style,n==null?void 0:n.style,l).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=PUn(i,n,e,o.style,l),d=yXe(n.formatType,i,u),h=gXe(i,i.type,n.format,n.formatType,o,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:u,orient:a,labelAngle:f,format:h,formatType:d,mark:s,config:o};for(const b of RJe){const w=b in kIe?kIe[b](p):nIe(b)?n[b]:void 0,x=w!==void 0,S=YVn(w,b,n,t,e);if(x&&S)r.set(b,w,S);else{const{configValue:A=void 0,configFrom:C=void 0}=nIe(b)&&b!=="values"?Kee(b,o.style,n.style,l):{},$=A!==void 0;x&&!$?r.set(b,w,S):(C!=="vgAxisConfig"||KVn.has(b)&&$||JN(A)||Xt(A))&&r.set(b,A,!1)}}const m=n.encoding??{},g=LXe.reduce((b,w)=>{if(!r.hasAxisPart(w))return b;const x=eJe(m[w]??{},t),S=w==="labels"?zVn(t,e,x):x;return S!==void 0&&!qi(S)&&(b[w]={update:S}),b},{});return qi(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function QVn({encoding:e,size:t}){for(const n of qm){const r=ef(n);Tm(t[r])&&Ov(e[n])&&(delete t[r],pt(GKe(r)))}return t}const JVn={vgMark:"arc",encodeEntry:e=>({...yh(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...zu("x",e,{defaultPos:"mid"}),...zu("y",e,{defaultPos:"mid"}),...Ub(e,"radius"),...Ub(e,"theta")})},ZVn={vgMark:"area",encodeEntry:e=>({...yh(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...IF("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...IF("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...rhe(e)})},eHn={vgMark:"rect",encodeEntry:e=>({...yh(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Ub(e,"x"),...Ub(e,"y")})},tHn={vgMark:"shape",encodeEntry:e=>({...yh(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&gt(n)&&n.type===S3?{field:St(n,{expr:"datum"})}:{}}]}},nHn={vgMark:"image",encodeEntry:e=>({...yh(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Ub(e,"x"),...Ub(e,"y"),...the(e,"url")})},rHn={vgMark:"line",encodeEntry:e=>({...yh(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...zu("x",e,{defaultPos:"mid"}),...zu("y",e,{defaultPos:"mid"}),...Ta("size",e,{vgChannel:"strokeWidth"}),...rhe(e)})},iHn={vgMark:"trail",encodeEntry:e=>({...yh(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...zu("x",e,{defaultPos:"mid"}),...zu("y",e,{defaultPos:"mid"}),...Ta("size",e),...rhe(e)})};function vhe(e,t){const{config:n}=e;return{...yh(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...zu("x",e,{defaultPos:"mid"}),...zu("y",e,{defaultPos:"mid"}),...Ta("size",e),...Ta("angle",e),...sHn(e,n,t)}}function sHn(e,t,n){return n?{shape:{value:n}}:Ta("shape",e)}const oHn={vgMark:"symbol",encodeEntry:e=>vhe(e)},aHn={vgMark:"symbol",encodeEntry:e=>vhe(e,"circle")},uHn={vgMark:"symbol",encodeEntry:e=>vhe(e,"square")},lHn={vgMark:"rect",encodeEntry:e=>({...yh(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Ub(e,"x"),...Ub(e,"y")})},cHn={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...yh(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...IF("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...IF("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Ta("size",e,{vgChannel:"strokeWidth"})}}},fHn={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...yh(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...zu("x",e,{defaultPos:"mid"}),...zu("y",e,{defaultPos:"mid"}),...the(e),...Ta("size",e,{vgChannel:"fontSize"}),...Ta("angle",e),...SIe("align",dHn(e.markDef,n,t)),...SIe("baseline",hHn(e.markDef,n,t)),...zu("radius",e,{defaultPos:null}),...zu("theta",e,{defaultPos:null})}}};function dHn(e,t,n){if(bi("align",e,n)===void 0)return"center"}function hHn(e,t,n){if(bi("baseline",e,n)===void 0)return"middle"}const pHn={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",s=r==="horizontal"?"height":"width";return{...yh(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...zu("x",e,{defaultPos:"mid",vgChannel:"xc"}),...zu("y",e,{defaultPos:"mid",vgChannel:"yc"}),...Ta("size",e,{defaultValue:mHn(e),vgChannel:i}),[s]:_s(bi("thickness",n,t))}}};function mHn(e){const{config:t,markDef:n}=e,{orient:r}=n,i=r==="horizontal"?"width":"height",s=e.getScaleComponent(r==="horizontal"?"x":"y"),o=bi("size",n,t,{vgChannel:i})??t.tick.bandSize;if(o!==void 0)return o;{const a=s?s.get("range"):void 0;return a&&R_(a)&&ri(a.step)?a.step*3/4:AF(t.view,i)*3/4}}const hO={arc:JVn,area:ZVn,bar:eHn,circle:aHn,geoshape:tHn,image:nHn,line:rHn,point:oHn,rect:lHn,rule:cHn,square:uHn,text:fHn,tick:pHn,trail:iHn};function gHn(e){if(kr([WU,HU,$7n],e.mark)){const t=zXe(e.mark,e.encoding);if(t.length>0)return yHn(e,t)}else if(e.mark===qU){const t=Mee.some(n=>bi(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return vHn(e)}return bhe(e)}const WIe="faceted_path_";function yHn(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:WIe+e.requestDataName(Ps.Main),data:e.requestDataName(Ps.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:bhe(e,{fromPrefix:WIe})}]}const GIe="stack_group_";function vHn(e){var l;const[t]=bhe(e,{fromPrefix:GIe}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(h=>`scale('${n}',${h})`).join(",")})`};let s,o;e.stack.fieldChannel==="x"?(s={...HA(t.encode.update,["y","yc","y2","height",...Mee]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},o={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Uc(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(s={...HA(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},o={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Uc(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of Mee){const f=Ly(c,e.markDef,e.config);t.encode.update[c]?(s[c]=t.encode.update[c],delete t.encode.update[c]):f&&(s[c]=_s(f)),f&&(t.encode.update[c]={value:0})}const a=[];if(((l=e.stack.groupbyChannels)==null?void 0:l.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=St(f);d&&a.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&a.push(St(f,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=Ly(f,e.markDef,e.config);return d!==void 0?{...c,[f]:_s(d)}:c}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Ps.Main),name:GIe+e.requestDataName(Ps.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:o},marks:[t]}]}]}function bHn(e){var a;const{encoding:t,stack:n,mark:r,markDef:i,config:s}=e,o=t.order;if(!(!Qe(o)&&$p(o)&&Dee(o.value)||!o&&Dee(bi("order",i,s)))){if((Qe(o)||gt(o))&&!n)return BKe(o,{expr:"datum"});if(iE(r)){const u=i.orient==="horizontal"?"y":"x",l=t[u];if(gt(l)){const c=l.sort;if(Qe(c))return{field:St(l,{prefix:u,suffix:"sort_index",expr:"datum"})};if(J0(c))return{field:St({aggregate:jde(e.encoding)?c.op:void 0,field:c.field},{expr:"datum"})};if(TXe(c)){const f=e.fieldDef(c.encoding);return{field:St(f,{expr:"datum"}),order:c.order}}else return c===null?void 0:{field:St(l,{binSuffix:(a=e.stack)!=null&&a.impute?"mid":void 0,expr:"datum"})}}return}}}function bhe(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:s}=e,o=xo(r.clip,_Hn(e),wHn(e)),a=MKe(r),u=i.key,l=bHn(e),c=xHn(e),f=bi("aria",r,s),d=hO[n].postEncodingTransform?hO[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:hO[n].vgMark,...o?{clip:o}:{},style:a,...u?{key:u.field}:{},...l?{sort:l}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Ps.Main)},encode:{update:hO[n].encodeEntry(e)},...d?{transform:d}:{}}]}function _Hn(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function wHn(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function xHn(e){if(!e.component.selection)return null;const t=ct(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=ct(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class $Je extends AJe{constructor(t,n,r,i={},s){super(t,"unit",n,r,s,void 0,iIe(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const o=xm(t.mark)?{...t.mark}:{type:t.mark},a=o.type;o.filled===void 0&&(o.filled=ojn(o,s,{graticule:t.data&&Zde(t.data)}));const u=this.encoding=cBn(t.encoding||{},a,o.filled,s);this.markDef=lQe(o,u,s),this.size=QVn({encoding:u,size:iIe(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=uQe(this.markDef,u),this.specifiedScales=this.initScales(a,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(l=>Yde(l))}get hasProjection(){const{encoding:t}=this,n=this.mark===wXe,r=t&&uMn.some(i=>Fn(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return jU.reduce((r,i)=>{const s=na(n[i]);return s&&(r[i]=this.initScale(s.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=wc(t);return Qe(n)&&(i.domain=n.map(Cf)),Qe(r)&&(i.range=r.map(Cf)),i}initAxes(t){return qm.reduce((n,r)=>{const i=t[r];if(Fn(i)||r===Fs&&Fn(t.x2)||r===Fa&&Fn(t.y2)){const s=Fn(i)?i.axis:void 0;n[r]=s&&this.initAxis({...s})}return n},{})}initAxis(t){const n=ct(t),r={};for(const i of n){const s=t[i];r[i]=JN(s)?LKe(s):Cf(s)}return r}initLegends(t){return vMn.reduce((n,r)=>{const i=na(t[r]);if(i&&_Mn(r)){const s=i.legend;n[r]=s&&wc(s)}return n},{})}parseData(){this.component.data=wz(this)}parseLayoutSize(){OVn(this)}parseSelections(){this.component.selection=SUn(this,this.selection)}parseMarkGroup(){this.component.mark=gHn(this)}parseAxesAndHeaders(){this.component.axes=VVn(this)}assembleSelectionTopLevelSignals(t){return Gjn(this,t)}assembleSignals(){return[...qQe(this),...qjn(this,[])]}assembleSelectionData(t){return Yjn(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return ahe(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!R3(this.parent))&&(t=xQe(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return vx(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Em(n)}typedFieldDef(t){const n=this.fieldDef(t);return Ul(n)?n:null}}class _he extends mhe{constructor(t,n,r,i,s){super(t,"layer",n,r,s,t.resolve,t.view);const o={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,u)=>{if(rz(a))return new _he(a,this,this.getName(`layer_${u}`),o,s);if(p1(a))return new $Je(a,this,this.getName(`layer_${u}`),o,s);throw new Error(hde(a))})}parseData(){this.component.data=wz(this);for(const t of this.children)t.parseData()}parseLayoutSize(){NVn(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ct(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){qVn(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),qQe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),ahe(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Nt(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return Kjn(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),uJe(this))}}function whe(e,t,n,r,i){if(KU(e))return new ik(e,t,n,i);if(rz(e))return new _he(e,t,n,r,i);if(p1(e))return new $Je(e,t,n,r,i);if(OBn(e))return new BVn(e,t,n,i);throw new Error(hde(e))}function EHn(e,t={}){t.logger&&BFn(t.logger),t.fieldTitle&&PXe(t.fieldTitle);try{const n=aQe(d3(t.config,e.config)),r=gQe(e,n),i=whe(r,null,"",void 0,n);return i.parse(),Gzn(i.component.data,i),{spec:SHn(i,THn(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&jFn(),t.fieldTitle&&tBn()}}function THn(e,t,n,r){const i=r.component.layoutSize.get("width"),s=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Pt(t)&&(t={type:t}),i&&s&&Ujn(t.type)){if(i==="step"&&s==="step")pt(z3e()),t.type="pad";else if(i==="step"||s==="step"){const o=i==="step"?"width":"height";pt(z3e(BU(o)));const a=o==="width"?"height":"width";t.type=zjn(a)}}return{...ct(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...gIe(n,!1),...gIe(e,!0)}}function SHn(e,t,n={},r){const i=e.config?YBn(e.config):void 0,s=[].concat(e.assembleSelectionData([]),IVn(e.component.data,n)),o=e.assembleProjections(),a=e.assembleTitle(),u=e.assembleGroupStyle(),l=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...a?{title:a}:{},...u?{style:u}:{},...l?{encode:{update:l}}:{},data:s,...o.length>0?{projections:o}:{},...e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...rQe(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const AHn=nMn.version,CHn=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:qA,accessPathWithDatum:ide,compile:EHn,contains:kr,deepEqual:Of,deleteNestedProperty:gF,duplicate:kn,entries:Mb,every:tde,fieldIntersection:rde,flatAccessWithDatum:gKe,getFirstDefined:xo,hasIntersection:nde,hash:Ir,internalField:bKe,isBoolean:VR,isEmpty:qi,isEqual:iMn,isInternalField:_Ke,isNullOrFalse:Dee,isNumeric:PU,keys:ct,logicalExpr:nk,mergeDeep:pKe,never:hKe,normalize:gQe,normalizeAngle:HR,omit:Uc,pick:HA,prefixGenerator:Lee,removePathFromField:E3,replaceAll:Kx,replacePathInField:nh,resetIdCounter:oMn,setEqual:mKe,some:Yx,stringify:Wi,titleCase:zN,unique:F0,uniqueId:vKe,vals:au,varName:Ms,version:AHn},Symbol.toStringTag,{value:"Module"}));function NJe(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var IHn="vega-themes",kHn="2.15.0",RHn="Themes for stylized Vega and Vega-Lite visualizations.",$Hn=["vega","vega-lite","themes","style"],NHn="BSD-3-Clause",PHn={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},OHn=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],DHn="build/vega-themes.js",xhe="build/vega-themes.module.js",LHn="build/vega-themes.min.js",MHn="build/vega-themes.min.js",FHn="build/vega-themes.module.d.ts",BHn={type:"git",url:"https://github.com/vega/vega-themes.git"},jHn=["src","build"],UHn={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},zHn={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},VHn={vega:"*","vega-lite":"*"},HHn={},qHn={name:IHn,version:kHn,description:RHn,keywords:$Hn,license:NHn,author:PHn,contributors:OHn,main:DHn,module:xhe,unpkg:LHn,jsdelivr:MHn,types:FHn,repository:BHn,files:jHn,scripts:UHn,devDependencies:zHn,peerDependencies:VHn,dependencies:HHn};const lT="#fff",YIe="#888",WHn={background:"#333",view:{stroke:YIe},title:{color:lT,subtitleColor:lT},style:{"guide-label":{fill:lT},"guide-title":{fill:lT}},axis:{domainColor:lT,gridColor:YIe,tickColor:lT}},tw="#4572a7",GHn={background:"#fff",arc:{fill:tw},area:{fill:tw},line:{stroke:tw,strokeWidth:2},path:{stroke:tw},rect:{fill:tw},shape:{stroke:tw},symbol:{fill:tw,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},nw="#30a2da",qY="#cbcbcb",YHn="#999",KHn="#333",KIe="#f0f0f0",XIe="#333",XHn={arc:{fill:nw},area:{fill:nw},axis:{domainColor:qY,grid:!0,gridColor:qY,gridWidth:1,labelColor:YHn,labelFontSize:10,titleColor:KHn,tickColor:qY,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:KIe,group:{fill:KIe},legend:{labelColor:XIe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:XIe,titleFontSize:14,titlePadding:10},line:{stroke:nw,strokeWidth:2},path:{stroke:nw,strokeWidth:.5},rect:{fill:nw},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:nw},bar:{binSpacing:2,fill:nw,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},rw="#000",QHn={group:{fill:"#e5e5e5"},arc:{fill:rw},area:{fill:rw},line:{stroke:rw},path:{stroke:rw},rect:{fill:rw},shape:{stroke:rw},symbol:{fill:rw,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},JHn=22,ZHn="normal",QIe="Benton Gothic, sans-serif",JIe=11.5,eqn="normal",iw="#82c6df",WY="Benton Gothic Bold, sans-serif",ZIe="normal",e4e=13,f4={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},tqn={background:"#ffffff",title:{anchor:"start",color:"#000000",font:WY,fontSize:JHn,fontWeight:ZHn},arc:{fill:iw},area:{fill:iw},line:{stroke:iw,strokeWidth:2},path:{stroke:iw},rect:{fill:iw},shape:{stroke:iw},symbol:{fill:iw,size:30},axis:{labelFont:QIe,labelFontSize:JIe,labelFontWeight:eqn,titleFont:WY,titleFontSize:e4e,titleFontWeight:ZIe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:QIe,labelFontSize:JIe,symbolType:"square",titleFont:WY,titleFontSize:e4e,titleFontWeight:ZIe},range:{category:f4["category-6"],diverging:f4["fireandice-6"],heatmap:f4["fire-7"],ordinal:f4["fire-7"],ramp:f4["fire-7"]}},sw="#ab5787",pO="#979797",nqn={background:"#f9f9f9",arc:{fill:sw},area:{fill:sw},line:{stroke:sw},path:{stroke:sw},rect:{fill:sw},shape:{stroke:sw},symbol:{fill:sw,size:30},axis:{domainColor:pO,domainWidth:.5,gridWidth:.2,labelColor:pO,tickColor:pO,tickWidth:.2,titleColor:pO},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},ow="#3e5c69",rqn={background:"#fff",arc:{fill:ow},area:{fill:ow},line:{stroke:ow},path:{stroke:ow},rect:{fill:ow},shape:{stroke:ow},symbol:{fill:ow},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},xd="#1696d2",t4e="#000000",iqn="#FFFFFF",mO="Lato",GY="Lato",sqn="Lato",oqn="#DEDDDD",aqn=18,d4={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},uqn={background:iqn,title:{anchor:"start",fontSize:aqn,font:mO},axisX:{domain:!0,domainColor:t4e,domainWidth:1,grid:!1,labelFontSize:12,labelFont:GY,labelAngle:0,tickColor:t4e,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:mO},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:oqn,gridWidth:1,labelFontSize:12,labelFont:GY,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:mO,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:GY,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:mO,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:d4["six-groups-cat-1"],diverging:d4["diverging-colors"],heatmap:d4["diverging-colors"],ordinal:d4["six-groups-seq"],ramp:d4["shades-blue"]},area:{fill:xd},rect:{fill:xd},line:{color:xd,stroke:xd,strokeWidth:5},trail:{color:xd,stroke:xd,strokeWidth:0,size:1},path:{stroke:xd,strokeWidth:.5},point:{filled:!0},text:{font:sqn,color:xd,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:xd,stroke:null}},arc:{fill:xd},shape:{stroke:xd},symbol:{fill:xd,size:30}},aw="#3366CC",n4e="#ccc",gO="Arial, sans-serif",lqn={arc:{fill:aw},area:{fill:aw},path:{stroke:aw},rect:{fill:aw},shape:{stroke:aw},symbol:{stroke:aw},circle:{fill:aw},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:gO,fontSize:12},"guide-title":{font:gO,fontSize:12},"group-title":{font:gO,fontSize:12}},title:{font:gO,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:n4e,tickColor:n4e,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Ehe=e=>e*(1/3+1),r4e=Ehe(9),i4e=Ehe(10),s4e=Ehe(12),h4="Segoe UI",o4e="wf_standard-font, helvetica, arial, sans-serif",a4e="#252423",p4="#605E5C",u4e="transparent",cqn="#C8C6C4",Mh="#118DFF",fqn="#12239E",dqn="#E66C37",hqn="#6B007B",pqn="#E044A7",mqn="#744EC2",gqn="#D9B300",yqn="#D64550",PJe=Mh,OJe="#DEEFFF",l4e=[OJe,PJe],vqn=[OJe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",PJe],bqn={view:{stroke:u4e},background:u4e,font:h4,header:{titleFont:o4e,titleFontSize:s4e,titleColor:a4e,labelFont:h4,labelFontSize:i4e,labelColor:p4},axis:{ticks:!1,grid:!1,domain:!1,labelColor:p4,labelFontSize:r4e,titleFont:o4e,titleColor:a4e,titleFontSize:s4e,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:cqn,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Mh},line:{stroke:Mh,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:h4,fontSize:r4e,fill:p4},arc:{fill:Mh},area:{fill:Mh,line:!0,opacity:.6},path:{stroke:Mh},rect:{fill:Mh},point:{fill:Mh,filled:!0,size:75},shape:{stroke:Mh},symbol:{fill:Mh,strokeWidth:1.5,size:50},legend:{titleFont:h4,titleFontWeight:"bold",titleColor:p4,labelFont:h4,labelFontSize:i4e,labelColor:p4,symbolType:"circle",symbolSize:75},range:{category:[Mh,fqn,dqn,hqn,pqn,mqn,gqn,yqn],diverging:l4e,heatmap:l4e,ordinal:vqn}},YY='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',_qn='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',KY=400,yO={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},wqn=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],xqn=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function xz({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=yO.gridBg[e],i=yO.textPrimary[e],s=yO.textSecondary[e],o=n==="dark"?wqn:xqn,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:YY,fontWeight:600},axis:{labelColor:s,labelFontSize:12,labelFont:_qn,labelFontWeight:KY,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:yO.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:YY,fill:s,fontWeight:KY},"guide-title":{font:YY,fill:s,fontWeight:KY}},range:{category:o,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const Eqn=xz({theme:"white",background:"#ffffff"}),Tqn=xz({theme:"g10",background:"#f4f4f4"}),Sqn=xz({theme:"g90",background:"#262626"}),Aqn=xz({theme:"g100",background:"#161616"}),Cqn=qHn.version,Iqn=Object.freeze(Object.defineProperty({__proto__:null,carbong10:Tqn,carbong100:Aqn,carbong90:Sqn,carbonwhite:Eqn,dark:WHn,excel:GHn,fivethirtyeight:XHn,ggplot2:QHn,googlecharts:lqn,latimes:tqn,powerbi:bqn,quartz:nqn,urbaninstitute:uqn,version:Cqn,vox:rqn},Symbol.toStringTag,{value:"Module"}));function kqn(e,t,n,r){if(Qe(e))return`[${e.map(i=>t(Pt(i)?i:c4e(i,n))).join(", ")}]`;if(Ot(e)){let i="";const{title:s,image:o,...a}=e;s&&(i+=`<h2>${t(s)}</h2>`),o&&(i+=`<img src="${new URL(t(o),r||location.href).href}">`);const u=Object.keys(a);if(u.length>0){i+="<table>";for(const l of u){let c=a[l];c!==void 0&&(Ot(c)&&(c=c4e(c,n)),i+=`<tr><td class="key">${t(l)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function Rqn(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function c4e(e,t){return JSON.stringify(e,Rqn(t))}var $qn=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const DJe="vg-tooltip-element",Nqn={offsetX:10,offsetY:10,id:DJe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:Pqn,maxDepth:2,formatTooltip:kqn,baseURL:""};function Pqn(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Oqn(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return $qn.toString().replace(DJe,e)}function Dqn(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let s=e.clientY+r;return s+t.height>window.innerHeight&&(s=+e.clientY-r-t.height),{x:i,y:s}}class Lqn{constructor(t){this.options={...Nqn,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=Oqn(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:o}=Dqn(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${o}px`,this.el.style.left=`${s}px`}}var XY={};function Mqn(e){return e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var QY,f4e;function Fqn(){return f4e||(f4e=1,QY=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),QY}var Bqn=fi;fi.Node=i2;fi.create=fi;function fi(e){var t=this;if(t instanceof fi||(t=new fi),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}fi.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};fi.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};fi.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};fi.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Uqn(this,arguments[e]);return this.length};fi.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)zqn(this,arguments[e]);return this.length};fi.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};fi.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};fi.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};fi.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};fi.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};fi.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};fi.prototype.map=function(e,t){t=t||this;for(var n=new fi,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};fi.prototype.mapReverse=function(e,t){t=t||this;for(var n=new fi,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};fi.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};fi.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};fi.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};fi.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};fi.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new fi;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};fi.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new fi;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};fi.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var s=[],r=0;i&&r<t;r++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=jqn(this,i,n[r]);return s};fi.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function jqn(e,t,n){var r=t===e.head?new i2(n,null,t,e):new i2(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function Uqn(e,t){e.tail=new i2(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function zqn(e,t){e.head=new i2(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function i2(e,t,n,r){if(!(this instanceof i2))return new i2(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{Fqn()(fi)}catch{}const Vqn=Bqn,Lw=Symbol("max"),Rg=Symbol("length"),cT=Symbol("lengthCalculator"),sk=Symbol("allowStale"),sx=Symbol("maxAge"),Sg=Symbol("dispose"),d4e=Symbol("noDisposeOnSet"),ya=Symbol("lruList"),jh=Symbol("cache"),LJe=Symbol("updateAgeOnGet"),JY=()=>1;class Hqn{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Lw]=t.max||1/0;const n=t.length||JY;if(this[cT]=typeof n!="function"?JY:n,this[sk]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[sx]=t.maxAge||0,this[Sg]=t.dispose,this[d4e]=t.noDisposeOnSet||!1,this[LJe]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Lw]=t||1/0,m4(this)}get max(){return this[Lw]}set allowStale(t){this[sk]=!!t}get allowStale(){return this[sk]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[sx]=t,m4(this)}get maxAge(){return this[sx]}set lengthCalculator(t){typeof t!="function"&&(t=JY),t!==this[cT]&&(this[cT]=t,this[Rg]=0,this[ya].forEach(n=>{n.length=this[cT](n.value,n.key),this[Rg]+=n.length})),m4(this)}get lengthCalculator(){return this[cT]}get length(){return this[Rg]}get itemCount(){return this[ya].length}rforEach(t,n){n=n||this;for(let r=this[ya].tail;r!==null;){const i=r.prev;h4e(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[ya].head;r!==null;){const i=r.next;h4e(this,t,r,n),r=i}}keys(){return this[ya].toArray().map(t=>t.key)}values(){return this[ya].toArray().map(t=>t.value)}reset(){this[Sg]&&this[ya]&&this[ya].length&&this[ya].forEach(t=>this[Sg](t.key,t.value)),this[jh]=new Map,this[ya]=new Vqn,this[Rg]=0}dump(){return this[ya].map(t=>NF(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[ya]}set(t,n,r){if(r=r||this[sx],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,s=this[cT](n,t);if(this[jh].has(t)){if(s>this[Lw])return MS(this,this[jh].get(t)),!1;const u=this[jh].get(t).value;return this[Sg]&&(this[d4e]||this[Sg](t,u.value)),u.now=i,u.maxAge=r,u.value=n,this[Rg]+=s-u.length,u.length=s,this.get(t),m4(this),!0}const o=new qqn(t,n,s,i,r);return o.length>this[Lw]?(this[Sg]&&this[Sg](t,n),!1):(this[Rg]+=o.length,this[ya].unshift(o),this[jh].set(t,this[ya].head),m4(this),!0)}has(t){if(!this[jh].has(t))return!1;const n=this[jh].get(t).value;return!NF(this,n)}get(t){return ZY(this,t,!0)}peek(t){return ZY(this,t,!1)}pop(){const t=this[ya].tail;return t?(MS(this,t),t.value):null}del(t){MS(this,this[jh].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[jh].forEach((t,n)=>ZY(this,n,!1))}}const ZY=(e,t,n)=>{const r=e[jh].get(t);if(r){const i=r.value;if(NF(e,i)){if(MS(e,r),!e[sk])return}else n&&(e[LJe]&&(r.value.now=Date.now()),e[ya].unshiftNode(r));return i.value}},NF=(e,t)=>{if(!t||!t.maxAge&&!e[sx])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[sx]&&n>e[sx]},m4=e=>{if(e[Rg]>e[Lw])for(let t=e[ya].tail;e[Rg]>e[Lw]&&t!==null;){const n=t.prev;MS(e,t),t=n}},MS=(e,t)=>{if(t){const n=t.value;e[Sg]&&e[Sg](n.key,n.value),e[Rg]-=n.length,e[jh].delete(n.key),e[ya].removeNode(t)}};class qqn{constructor(t,n,r,i,s){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=s||0}}const h4e=(e,t,n,r)=>{let i=n.value;NF(e,i)&&(MS(e,n),e[sk]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var Wqn=Hqn;const Gqn=Object.freeze({loose:!0}),Yqn=Object.freeze({}),Kqn=e=>e?typeof e!="object"?Gqn:e:Yqn;var The=Kqn,ite={exports:{}};const Xqn="2.0.0",MJe=256,Qqn=Number.MAX_SAFE_INTEGER||9007199254740991,Jqn=16,Zqn=MJe-6,eWn=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var She={MAX_LENGTH:MJe,MAX_SAFE_COMPONENT_LENGTH:Jqn,MAX_SAFE_BUILD_LENGTH:Zqn,MAX_SAFE_INTEGER:Qqn,RELEASE_TYPES:eWn,SEMVER_SPEC_VERSION:Xqn,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const tWn=typeof process=="object"&&XY&&XY.NODE_DEBUG&&/\bsemver\b/i.test(XY.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Ez=tWn;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=She,s=Ez;t=e.exports={};const o=t.re=[],a=t.safeRe=[],u=t.src=[],l=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],h=m=>{for(const[g,y]of d)m=m.split(`${g}*`).join(`${g}{0,${y}}`).split(`${g}+`).join(`${g}{1,${y}}`);return m},p=(m,g,y)=>{const v=h(g),b=c++;s(m,b,g),l[m]=b,u[b]=g,o[b]=new RegExp(g,y?"g":void 0),a[b]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),p("FULL",`^${u[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),p("LOOSE",`^${u[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),p("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?(?:${u[l.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",u[l.COERCE],!0),p("COERCERTLFULL",u[l.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ite,ite.exports);var Ahe=ite.exports;const p4e=/^[0-9]+$/,FJe=(e,t)=>{const n=p4e.test(e),r=p4e.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},nWn=(e,t)=>FJe(t,e);var rWn={compareIdentifiers:FJe,rcompareIdentifiers:nWn};const vO=Ez,{MAX_LENGTH:m4e,MAX_SAFE_INTEGER:bO}=She,{safeRe:g4e,t:y4e}=Ahe,iWn=The,{compareIdentifiers:fT}=rWn;let sWn=class c0{constructor(t,n){if(n=iWn(n),t instanceof c0){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>m4e)throw new TypeError(`version is longer than ${m4e} characters`);vO("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?g4e[y4e.LOOSE]:g4e[y4e.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>bO||this.major<0)throw new TypeError("Invalid major version");if(this.minor>bO||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>bO||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<bO)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(vO("SemVer.compare",this.version,this.options,t),!(t instanceof c0)){if(typeof t=="string"&&t===this.version)return 0;t=new c0(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof c0||(t=new c0(t,this.options)),fT(this.major,t.major)||fT(this.minor,t.minor)||fT(this.patch,t.patch)}comparePre(t){if(t instanceof c0||(t=new c0(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(vO("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return fT(r,i)}while(++n)}compareBuild(t){t instanceof c0||(t=new c0(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(vO("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return fT(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),fT(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Che=sWn;const v4e=Che,oWn=(e,t,n)=>new v4e(e,n).compare(new v4e(t,n));var $3=oWn;const aWn=$3,uWn=(e,t,n)=>aWn(e,t,n)===0;var lWn=uWn;const cWn=$3,fWn=(e,t,n)=>cWn(e,t,n)!==0;var dWn=fWn;const hWn=$3,pWn=(e,t,n)=>hWn(e,t,n)>0;var mWn=pWn;const gWn=$3,yWn=(e,t,n)=>gWn(e,t,n)>=0;var vWn=yWn;const bWn=$3,_Wn=(e,t,n)=>bWn(e,t,n)<0;var wWn=_Wn;const xWn=$3,EWn=(e,t,n)=>xWn(e,t,n)<=0;var TWn=EWn;const SWn=lWn,AWn=dWn,CWn=mWn,IWn=vWn,kWn=wWn,RWn=TWn,$Wn=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return SWn(e,n,r);case"!=":return AWn(e,n,r);case">":return CWn(e,n,r);case">=":return IWn(e,n,r);case"<":return kWn(e,n,r);case"<=":return RWn(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var NWn=$Wn,eK,b4e;function PWn(){if(b4e)return eK;b4e=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new u(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}eK=t;const n=The,{safeRe:r,t:i}=Ahe,s=NWn,o=Ez,a=Che,u=BJe();return eK}var tK,_4e;function BJe(){if(_4e)return tK;_4e=1;class e{constructor(B,q){if(q=r(q),B instanceof e)return B.loose===!!q.loose&&B.includePrerelease===!!q.includePrerelease?B:new e(B.raw,q);if(B instanceof i)return this.raw=B.value,this.set=[[B]],this.format(),this;if(this.options=q,this.loose=!!q.loose,this.includePrerelease=!!q.includePrerelease,this.raw=B.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(H=>this.parseRange(H.trim())).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter(G=>!p(G[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const G of this.set)if(G.length===1&&m(G[0])){this.set=[G];break}}}this.format()}format(){return this.range=this.set.map(B=>B.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(B){const H=((this.options.includePrerelease&&d)|(this.options.loose&&h))+":"+B,G=n.get(H);if(G)return G;const K=this.options.loose,J=K?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];B=B.replace(J,P(this.options.includePrerelease)),s("hyphen replace",B),B=B.replace(a[u.COMPARATORTRIM],l),s("comparator trim",B),B=B.replace(a[u.TILDETRIM],c),s("tilde trim",B),B=B.replace(a[u.CARETTRIM],f),s("caret trim",B);let F=B.split(" ").map(V=>y(V,this.options)).join(" ").split(/\s+/).map(V=>k(V,this.options));K&&(F=F.filter(V=>(s("loose invalid filter",V,this.options),!!V.match(a[u.COMPARATORLOOSE])))),s("range list",F);const j=new Map,W=F.map(V=>new i(V,this.options));for(const V of W){if(p(V))return[V];j.set(V.value,V)}j.size>1&&j.has("")&&j.delete("");const M=[...j.values()];return n.set(H,M),M}intersects(B,q){if(!(B instanceof e))throw new TypeError("a Range is required");return this.set.some(H=>g(H,q)&&B.set.some(G=>g(G,q)&&H.every(K=>G.every(J=>K.intersects(J,q)))))}test(B){if(!B)return!1;if(typeof B=="string")try{B=new o(B,this.options)}catch{return!1}for(let q=0;q<this.set.length;q++)if(L(this.set[q],B,this.options))return!0;return!1}}tK=e;const t=Wqn,n=new t({max:1e3}),r=The,i=PWn(),s=Ez,o=Che,{safeRe:a,t:u,comparatorTrimReplace:l,tildeTrimReplace:c,caretTrimReplace:f}=Ahe,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:h}=She,p=O=>O.value==="<0.0.0-0",m=O=>O.value==="",g=(O,B)=>{let q=!0;const H=O.slice();let G=H.pop();for(;q&&H.length;)q=H.every(K=>G.intersects(K,B)),G=H.pop();return q},y=(O,B)=>(s("comp",O,B),O=x(O,B),s("caret",O),O=b(O,B),s("tildes",O),O=A(O,B),s("xrange",O),O=$(O,B),s("stars",O),O),v=O=>!O||O.toLowerCase()==="x"||O==="*",b=(O,B)=>O.trim().split(/\s+/).map(q=>w(q,B)).join(" "),w=(O,B)=>{const q=B.loose?a[u.TILDELOOSE]:a[u.TILDE];return O.replace(q,(H,G,K,J,F)=>{s("tilde",O,H,G,K,J,F);let j;return v(G)?j="":v(K)?j=`>=${G}.0.0 <${+G+1}.0.0-0`:v(J)?j=`>=${G}.${K}.0 <${G}.${+K+1}.0-0`:F?(s("replaceTilde pr",F),j=`>=${G}.${K}.${J}-${F} <${G}.${+K+1}.0-0`):j=`>=${G}.${K}.${J} <${G}.${+K+1}.0-0`,s("tilde return",j),j})},x=(O,B)=>O.trim().split(/\s+/).map(q=>S(q,B)).join(" "),S=(O,B)=>{s("caret",O,B);const q=B.loose?a[u.CARETLOOSE]:a[u.CARET],H=B.includePrerelease?"-0":"";return O.replace(q,(G,K,J,F,j)=>{s("caret",O,G,K,J,F,j);let W;return v(K)?W="":v(J)?W=`>=${K}.0.0${H} <${+K+1}.0.0-0`:v(F)?K==="0"?W=`>=${K}.${J}.0${H} <${K}.${+J+1}.0-0`:W=`>=${K}.${J}.0${H} <${+K+1}.0.0-0`:j?(s("replaceCaret pr",j),K==="0"?J==="0"?W=`>=${K}.${J}.${F}-${j} <${K}.${J}.${+F+1}-0`:W=`>=${K}.${J}.${F}-${j} <${K}.${+J+1}.0-0`:W=`>=${K}.${J}.${F}-${j} <${+K+1}.0.0-0`):(s("no pr"),K==="0"?J==="0"?W=`>=${K}.${J}.${F}${H} <${K}.${J}.${+F+1}-0`:W=`>=${K}.${J}.${F}${H} <${K}.${+J+1}.0-0`:W=`>=${K}.${J}.${F} <${+K+1}.0.0-0`),s("caret return",W),W})},A=(O,B)=>(s("replaceXRanges",O,B),O.split(/\s+/).map(q=>C(q,B)).join(" ")),C=(O,B)=>{O=O.trim();const q=B.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return O.replace(q,(H,G,K,J,F,j)=>{s("xRange",O,H,G,K,J,F,j);const W=v(K),M=W||v(J),V=M||v(F),Q=V;return G==="="&&Q&&(G=""),j=B.includePrerelease?"-0":"",W?G===">"||G==="<"?H="<0.0.0-0":H="*":G&&Q?(M&&(J=0),F=0,G===">"?(G=">=",M?(K=+K+1,J=0,F=0):(J=+J+1,F=0)):G==="<="&&(G="<",M?K=+K+1:J=+J+1),G==="<"&&(j="-0"),H=`${G+K}.${J}.${F}${j}`):M?H=`>=${K}.0.0${j} <${+K+1}.0.0-0`:V&&(H=`>=${K}.${J}.0${j} <${K}.${+J+1}.0-0`),s("xRange return",H),H})},$=(O,B)=>(s("replaceStars",O,B),O.trim().replace(a[u.STAR],"")),k=(O,B)=>(s("replaceGTE0",O,B),O.trim().replace(a[B.includePrerelease?u.GTE0PRE:u.GTE0],"")),P=O=>(B,q,H,G,K,J,F,j,W,M,V,Q,se)=>(v(H)?q="":v(G)?q=`>=${H}.0.0${O?"-0":""}`:v(K)?q=`>=${H}.${G}.0${O?"-0":""}`:J?q=`>=${q}`:q=`>=${q}${O?"-0":""}`,v(W)?j="":v(M)?j=`<${+W+1}.0.0-0`:v(V)?j=`<${W}.${+M+1}.0-0`:Q?j=`<=${W}.${M}.${V}-${Q}`:O?j=`<${W}.${M}.${+V+1}-0`:j=`<=${j}`,`${q} ${j}`.trim()),L=(O,B,q)=>{for(let H=0;H<O.length;H++)if(!O[H].test(B))return!1;if(B.prerelease.length&&!q.includePrerelease){for(let H=0;H<O.length;H++)if(s(O[H].semver),O[H].semver!==i.ANY&&O[H].semver.prerelease.length>0){const G=O[H].semver;if(G.major===B.major&&G.minor===B.minor&&G.patch===B.patch)return!0}return!1}return!0};return tK}const OWn=BJe(),DWn=(e,t,n)=>{try{t=new OWn(t,n)}catch{return!1}return t.test(e)};var LWn=DWn,jJe=Mqn(LWn);function MWn(e,t,n){const r=e.open(t),i=250,{origin:s}=new URL(t);let o=40;function a(l){l.source===r&&(o=0,e.removeEventListener("message",a,!1))}e.addEventListener("message",a,!1);function u(){o<=0||(r.postMessage(n,s),setTimeout(u,i),o-=1)}setTimeout(u,i)}var FWn=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function UJe(e,...t){for(const n of t)BWn(e,n);return e}function BWn(e,t){for(const n of Object.keys(t))h3(e,n,t[n],!0)}const zh=xLn;let XR=CHn;const _O=typeof window<"u"?window:void 0;var Vke;XR===void 0&&((Vke=_O==null?void 0:_O.vl)!=null&&Vke.compile)&&(XR=_O.vl);const jWn={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},UWn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},c6={vega:"Vega","vega-lite":"Vega-Lite"},PF={vega:zh.version,"vega-lite":XR?XR.version:"not available"},zWn={vega:e=>e,"vega-lite":(e,t)=>XR.compile(e,{config:t}).spec},VWn=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,HWn="chart-wrapper";function qWn(e){return typeof e=="function"}function w4e(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${n}</body></html>`,o=window.open("");o.document.write(i+e+s),o.document.title=`${c6[r]} JSON Source`}function WWn(e,t){if(e.$schema){const n=NJe(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${c6[n.library]}, but mode argument sets ${c6[t]??t}.`);const r=n.library;return jJe(PF[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${c6[r]} ${n.version}, but the current version of ${c6[r]} is v${PF[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function zJe(e){return!!(e&&"load"in e)}function x4e(e){return zJe(e)?e:zh.loader(e)}function GWn(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Pt(t.defaultStyle)&&(t.defaultStyle=!1),t}async function YWn(e,t,n={}){let r,i;Pt(t)?(i=x4e(n.loader),r=JSON.parse(await i.load(t))):r=t;const s=GWn(r),o=s.loader;(!i||o)&&(i=x4e(n.loader??o));const a=await E4e(s,i),u=await E4e(n,i),l={...UJe(u,a),config:d3(u.config??{},a.config??{})};return await XWn(e,r,l,i)}async function E4e(e,t){const n=Pt(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Pt(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function KWn(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function XWn(e,t,n={},r){const i=n.theme?d3(Iqn[n.theme],n.config??{}):n.config,s=w_(n.actions)?n.actions:UJe({},jWn,n.actions??{}),o={...UWn,...n.i18n},a=n.renderer??"canvas",u=n.logLevel??zh.Warn,l=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const x="vega-embed-style",{root:S,rootContainer:A}=KWn(c);if(!S.getElementById(x)){const C=document.createElement("style");C.id=x,C.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?FWn.toString():n.defaultStyle,A.appendChild(C)}}const f=WWn(t,n.mode);let d=zWn[f](t,i);if(f==="vega-lite"&&d.$schema){const x=NJe(d.$schema);jJe(PF.vega,`^${x.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${x.version}, but current version is v${PF.vega}.`)}c.classList.add("vega-embed"),s&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(s){const x=document.createElement("div");x.classList.add(HWn),c.appendChild(x),h=x}const p=n.patch;if(p&&(d=p instanceof Function?p(d):Fj(d,p,!0,!1).newDocument),n.formatLocale&&zh.formatLocale(n.formatLocale),n.timeFormatLocale&&zh.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const x in n.expressionFunctions){const S=n.expressionFunctions[x];"fn"in S?zh.expressionFunction(x,S.fn,S.visitor):S instanceof Function&&zh.expressionFunction(x,S)}const{ast:m}=n,g=zh.parse(d,f==="vega-lite"?{}:i,{ast:m}),y=new(n.viewClass||zh.View)(g,{loader:r,logLevel:u,renderer:a,...m?{expr:zh.expressionInterpreter??n.expr??NLn}:{}});if(y.addSignalListener("autosize",(x,S)=>{const{type:A}=S;A=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):A=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):A=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:x,tooltip:S}=n,A=x&&!zJe(x)?x==null?void 0:x.baseURL:void 0,C=qWn(S)?S:new Lqn({baseURL:A,...S===!0?{}:S}).call;y.tooltip(C)}let{hover:v}=n;if(v===void 0&&(v=f==="vega"),v){const{hoverSet:x,updateSet:S}=typeof v=="boolean"?{}:v;y.hover(x,S)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let b;if(s!==!1){let x=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const A=document.createElement("details");A.title=o.CLICK_TO_VIEW_ACTIONS,c.append(A),x=A;const C=document.createElement("summary");C.innerHTML=VWn,A.append(C),b=$=>{A.contains($.target)||A.removeAttribute("open")},document.addEventListener("click",b)}const S=document.createElement("div");if(x.append(S),S.classList.add("vega-actions"),s===!0||s.export!==!1){for(const A of["svg","png"])if(s===!0||s.export===!0||s.export[A]){const C=o[`${A.toUpperCase()}_ACTION`],$=document.createElement("a"),k=Ot(n.scaleFactor)?n.scaleFactor[A]:n.scaleFactor;$.text=C,$.href="#",$.target="_blank",$.download=`${l}.${A}`,$.addEventListener("mousedown",async function(P){P.preventDefault();const L=await y.toImageURL(A,k);this.href=L}),S.append($)}}if(s===!0||s.source!==!1){const A=document.createElement("a");A.text=o.SOURCE_ACTION,A.href="#",A.addEventListener("click",function(C){w4e(nY(t),n.sourceHeader??"",n.sourceFooter??"",f),C.preventDefault()}),S.append(A)}if(f==="vega-lite"&&(s===!0||s.compiled!==!1)){const A=document.createElement("a");A.text=o.COMPILED_ACTION,A.href="#",A.addEventListener("click",function(C){w4e(nY(d),n.sourceHeader??"",n.sourceFooter??"","vega"),C.preventDefault()}),S.append(A)}if(s===!0||s.editor!==!1){const A=n.editorUrl??"https://vega.github.io/editor/",C=document.createElement("a");C.text=o.EDITOR_ACTION,C.href="#",C.addEventListener("click",function($){MWn(window,A,{config:i,mode:f,renderer:a,spec:nY(t)}),$.preventDefault()}),S.append(C)}}function w(){b&&document.removeEventListener("click",b),y.finalize()}return{view:y,spec:t,vgSpec:d,finalize:w,embedOptions:n}}function QWn(e){return!!e&&{}.toString.call(e)==="[object Function]"}function JWn(e,t,n){n&&(QWn(n)?n(e.data(t)):e.change(t,zh.changeset().remove(()=>!0).insert(n)))}function ZWn(e,t){Object.keys(t).forEach(n=>{JWn(e,n,t[n])})}function VJe(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const HJe=()=>{};function nK(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function eGn(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=VJe([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!cD(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function T4e(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function rK(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function f6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class qJe extends ui.PureComponent{constructor(){super(...arguments),f6(this,"containerRef",ui.createRef()),f6(this,"resultPromise",void 0),f6(this,"handleError",t=>{const{onError:n=HJe}=this.props;n(t,this.containerRef.current),console.warn(t)}),f6(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=VJe([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=eGn(rK(this.props),rK(t)),{signalListeners:i}=this.props,{signalListeners:s}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const o=!$Z(i,s);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),o&&(s&&T4e(a,s),i&&nK(a,i)),a.run()})}else $Z(i,s)||this.modifyView(o=>{s&&T4e(o,s),i&&nK(o,i),o.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:s,...o}=this.props;if(this.containerRef.current){const a=rK(this.props);this.resultPromise=YWn(this.containerRef.current,a,o).then(u=>{if(u){const{view:l}=u;nK(l,r)&&l.run()}return u}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return ui.createElement("div",{ref:this.containerRef,className:t,style:n})}}f6(qJe,"propTypes",{className:$1e.string,onError:$1e.func});function ste(){return ste=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ste.apply(this,arguments)}function ote(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tGn={};class Ihe extends ui.PureComponent{constructor(){super(...arguments),ote(this,"vegaEmbed",ui.createRef()),ote(this,"handleNewView",t=>{this.update();const{onNewView:n=HJe}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){$Z(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{ZWn(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return ui.createElement(qJe,ste({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}ote(Ihe,"defaultProps",{data:tGn});function ate(){return ate=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ate.apply(this,arguments)}function S4e(e){return ui.createElement(Ihe,ate({},e,{mode:"vega-lite"}))}function nGn({currentConfig:e,provState:t}){const n=lh(),r=ch(),i=rf(),[s,o]=R.useState(null),[a,u]=R.useState(!0),{updateResponseBlockValidation:l,setIframeAnswers:c}=Pl(),[f,d]=R.useState(),{actions:h,trrack:p}=R.useMemo(()=>{const b=P2.create(),w=b.register("signal",(S,A)=>(S.event=A,S)),x=K$({registry:b,initialState:{event:{}}});return{actions:{signalAction:w},trrack:x}},[]),m=R.useCallback(({status:b,provenanceGraph:w,answers:x})=>{i(l({location:"sidebar",identifier:`${r}_${n}`,status:b,values:x,provenanceGraph:w})),i(c(x))},[r,n,i,c,l]),g=R.useCallback((b,w)=>{p.apply(b,h.signalAction({key:b,value:w}))},[h,p]),y=R.useCallback((b,w)=>{const{responseId:x,response:S}=w;m({status:!0,provenanceGraph:p.graph.backend,answers:{[x]:S}})},[m,p.graph.backend]),v=R.useMemo(()=>{var w;const b=(w=s==null?void 0:s.config)==null?void 0:w.signals;return b?b.reduce((x,S)=>(S.name==="revisitAnswer"?x[S.name]=y:x[S.name]=g,x),{}):{}},[y,g,s]);return R.useEffect(()=>{async function b(){u(!0);let w;"path"in e?w=await c6t(e.path):w=e.config,w!==void 0&&o(w),u(!1)}e&&b()},[e]),R.useEffect(()=>{f&&t&&t.event&&t.event.key&&f.signal(t.event.key,t.event.value).run()},[f,t]),a?E.jsx("div",{children:"Loading..."}):"path"in e&&!s?E.jsx(hb,{path:e.path}):s?E.jsx(Ihe,{spec:structuredClone(s),signalListeners:v,onNewView:b=>d(b)}):E.jsx("div",{children:"Failed to load vega config"})}function rGn(){const e=Ey(),t=lh(),n=ch()||"Notfound",r=e.components[n],{storageEngine:i}=Ao(),s=R.useRef(null),[o,a]=R.useState(null),{setIsRecording:u}=Pl(),l=Kr($=>$.analysisProvState),c=MC(),f=gse(),d=Kr($=>$.sequence),[h]=a_(),p=Kr($=>$.participantId),m=R.useMemo(()=>h.get("participantId"),[h]);CVe();const g=rf(),{setAlertModal:y}=Pl();R.useEffect(()=>{(i==null?void 0:i.getEngine())!=="firebase"&&g(y({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[y,i,g]),R.useEffect(()=>{!e||!e.recordStudyAudio||!i||i.getEngine()!=="firebase"||f&&f.endTime>0||c||(s.current&&o&&i.saveAudio(s.current,o),s.current&&(s.current.stream.getTracks().forEach($=>{var k;$.stop(),(k=s.current)==null||k.stream.removeTrack($)}),s.current.stream.getAudioTracks().forEach($=>{var k;$.stop(),(k=s.current)==null||k.stream.removeTrack($)}),s.current.stop(),s.current=null),r&&r.recordAudio!==void 0&&!r.recordAudio||n==="end"?(a(null),g(u(!1))):navigator.mediaDevices.getUserMedia({audio:!0}).then($=>{const k=new MediaRecorder($);s.current=k,s.current.start(),g(u(!0)),a(`${n}_${t}`)}))},[n,t]);const[v,b]=R.useState([]),w=R.useRef([]);R.useEffect(()=>{async function $(){var L;const P=((L=cse(d,t))==null?void 0:L.map(O=>O.currentBlock.id).filter(O=>O!==void 0))||[];b(P)}async function k(){const P=w.current;JSON.stringify(P)!==JSON.stringify(v)&&v.length>0&&i&&await i.addParticipantTags(v),w.current=v}$().then(k)},[t,i,d]);const x=R.useMemo(()=>{var $;return n!=="end"&&c3(r)&&e.baseComponents?mse({},($=e.baseComponents)==null?void 0:$[r.baseComponent],r):r},[r,e]);if(n==="end")return E.jsx(_An,{});if(n==="__trainingFailed")return E.jsx(wAn,{});if(n==="__timedOut")return E.jsx(xAn,{});if(n==="Notfound")return E.jsx(hb,{email:e.uiConfig.contactEmail});if(m&&p!==m)return E.jsx(oa,{style:{height:"80vh"},children:E.jsx(nf,{})});const S=x.instruction||"",{instructionLocation:A}=x,C=e.uiConfig.sidebar&&(A==="sidebar"||A===void 0);return E.jsxs(E.Fragment,{children:[A==="aboveStimulus"&&E.jsx(Ku,{text:S}),E.jsx(oL,{status:f,config:x,location:"aboveStimulus"},`${t}-above-response-block`),E.jsxs(R.Suspense,{fallback:E.jsx("div",{children:"Loading..."}),children:[x.type==="markdown"&&E.jsx(lAn,{currentConfig:x}),x.type==="website"&&E.jsx(l6t,{currentConfig:x}),x.type==="image"&&E.jsx(d6t,{currentConfig:x}),x.type==="react-component"&&E.jsx(uAn,{currentConfig:x,provState:l}),x.type==="vega"&&E.jsx(nGn,{currentConfig:x,provState:l})]},`${t}-stimulus`),(A==="belowStimulus"||A===void 0&&!C)&&E.jsx(Ku,{text:S}),E.jsx(oL,{status:f,config:x,location:"belowStimulus"},`${t}-below-response-block`)]})}function WJe(e){const[t]=a_();return E.jsx(Oie,{...e,to:{pathname:e.to,search:t.toString()}})}function GJe(e,t,n,r){let i=0;for(let s=0;s<e.components.length;s+=1){const o=e.components[s];if(typeof o=="string"){if(r===e.orderPath&&o===t&&s>=n)break;i+=1}else if(i+=GJe(o,t,n,r),r.includes(o.orderPath))break}return i}function YJe(e,t){let n=0;return t.components.forEach(r=>{var i;if(typeof r=="string"&&((i=e.interruptions)!=null&&i.flatMap(s=>s.components).includes(r)))n+=1;else if(typeof r!="string"){const s=e.components.find(o=>typeof o!="string"&&o.orderPath===r.orderPath);n+=YJe(s,r)}}),n}function iGn(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(s=>typeof s=="string"?s===r:typeof r!="string"&&s.orderPath===r.orderPath);i!==-1&&(n.push(e[i]),e.splice(i,1)),i===-1&&typeof r=="string"&&n.push(r)}),n.push(...e),n}function sGn({step:e,disabled:t,fullSequence:n,startIndex:r,interruption:i,participantView:s,studyConfig:o,subSequence:a,analysisNavigation:u}){const l=I2(),c=Dp(),f=lh(),[d,{close:h,open:p}]=Wne(!1),m=e in o.components&&o.components[e],g=a&&a.components.slice(r).includes(e)?GJe(n,e,r,a.orderPath):-1,{trialId:y}=sm(),[v]=a_(),b=R.useMemo(()=>v.get("participantId"),[v]),w=y===e,x=s?f===g:f===`reviewer-${e}`,S=u?w:x,A=R.useCallback(()=>c(y?`./../${e}`:`./${e}`),[c,e,y]),$=u?A:()=>c(s?b?`/${l}/${Jh(g)}?participantId=${b}`:`/${l}/${Jh(g)}`:`/${l}/reviewer-${e}`),k=e.includes(".co.")?".co.":e.includes(".components.")?".components.":!1,P=e.includes("$")&&k&&e.includes(k)?e.split(k).at(-1):e;return E.jsxs(Lc,{withinPortal:!0,position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:d,offset:20,children:[E.jsx(Lc.Target,{children:E.jsx(ke,{onMouseEnter:p,onMouseLeave:h,children:E.jsx(H7,{active:S,style:{lineHeight:"32px",height:"32px"},label:E.jsxs(ke,{children:[i&&E.jsx(dwt,{size:16,style:{marginRight:4,marginBottom:-2},color:"orange"}),e!==P&&E.jsx(Cwt,{size:16,style:{marginRight:4,marginBottom:-2},color:"var(--mantine-color-blue-outline)"}),E.jsx(Ue,{size:"sm",span:S,fw:S?"700":void 0,display:"inline",children:P})]}),onClick:$,disabled:t})})}),m&&(m.description||m.meta)&&E.jsx(Lc.Dropdown,{onMouseLeave:h,children:E.jsxs(ke,{children:[m.description&&E.jsxs(ke,{children:[E.jsx(Ue,{fw:900,display:"inline-block",mr:2,children:"Description:"}),E.jsx(Ue,{fw:400,component:"span",children:m.description})]}),m.meta&&E.jsxs(ke,{children:[E.jsx(Ue,{fw:"900",component:"span",children:"Task Meta: "}),E.jsx(Ue,{component:"pre",style:{margin:0,padding:0},children:`${JSON.stringify(m.meta,null,2)}`})]})]})})]})}function OF({configSequence:e,fullSequence:t,participantSequence:n,participantView:r,studyConfig:i,analysisNavigation:s}){var a;let o=ty(e.components);return n&&r&&(o=iGn(ty(e.components),ty(n.components))),r||(o=[...((a=e.interruptions)==null?void 0:a.flatMap(u=>u.components))||[],...o]),E.jsx(E.Fragment,{children:o.map((u,l)=>{if(typeof u=="string")return E.jsx(sGn,{step:u,disabled:r&&(n==null?void 0:n.components[l])!==u,fullSequence:t,startIndex:l,interruption:e.interruptions&&e.interruptions.findIndex(h=>h.components.includes(u))>-1||!1,participantView:r,studyConfig:i,subSequence:n,analysisNavigation:s},l);const c=n==null?void 0:n.components.find(h=>typeof h!="string"&&h.orderPath===u.orderPath),f=c?Tp(c).length-YJe(u,c):0,d=Tp(u);return E.jsx(H7,{label:E.jsxs(ke,{style:{opacity:f>0?1:.5},children:[E.jsx(Ue,{size:"sm",display:"inline",children:u.order}),u.order==="random"||u.order==="latinSquare"?E.jsx(cwt,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null,r&&E.jsxs(qv,{ml:5,variant:"light",children:[f,"/",d.length]}),r&&u.interruptions&&E.jsx(qv,{ml:5,color:"orange",variant:"light",children:(c==null?void 0:c.components.filter(h=>{var p;return typeof h=="string"&&((p=u.interruptions)==null?void 0:p.flatMap(m=>m.components).includes(h))}).length)||0})]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px"},children:E.jsx(ke,{style:{borderLeft:"1px solid #e9ecef"},children:E.jsx(OF,{configSequence:u,participantSequence:c,fullSequence:t,participantView:r,studyConfig:i,analysisNavigation:s})})},l)})})}function KJe(e,t,n,r){e==null||e.nextParticipant().then(()=>{window.location.href=r}).catch(i=>{console.error(i)})}function A4e({text:e}){return E.jsx(vs,{label:e,multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:E.jsx(Lie,{size:16,style:{marginBottom:-3,marginLeft:4}})})}function oGn(){const e=Kr(h=>h.sequence),t=Kr(h=>h.metadata),{toggleStudyBrowser:n}=Pl(),r=Ey(),i=rf(),s=I2(),o=ZPe(`/${s}`),{storageEngine:a}=Ao(),u=MC(),l=R.useMemo(()=>{let h=ty(r.sequence);return h=fse(h,"root"),h.components.push("end"),h},[r.sequence]),[c,f]=R.useState("participant"),d=R.useMemo(()=>c==="allTrials"||u,[c,u]);return E.jsxs(Ui.Aside,{p:"0",children:[E.jsx(Ui.Section,{p:"md",children:E.jsxs(qt,{direction:"row",justify:"space-between",children:[E.jsx(Ue,{size:"md",fw:700,pt:3,children:"Study Browser"}),E.jsx(vs,{label:"Go to the sequence of the next participant in the experiment. Sequences can be different between participants due to randomization, etc.",w:280,multiline:!0,disabled:d,children:E.jsx(on,{variant:"light",leftSection:E.jsx(Mie,{size:14}),onClick:()=>KJe(a,r,t,o),size:"xs",disabled:d,children:"Next Participant"})}),E.jsx(t_,{onClick:()=>i(n()),mt:1})]})}),E.jsx(Ui.Section,{grow:!0,component:yy,p:"md",children:E.jsxs(Fr,{value:c,onChange:f,children:[E.jsx(ke,{style:{position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:E.jsxs(Fr.List,{grow:!0,children:[E.jsxs(Fr.Tab,{value:"participant",children:["Participant View",E.jsx(A4e,{text:"The Participants View shows items just as a participants would see them, considering randomization, omissions, etc. You can navigate between multiple participants using the next participant button."})]}),E.jsxs(Fr.Tab,{value:"allTrials",disabled:u,children:["All Trials View",E.jsx(A4e,{text:"The All Trials View shows all items in the order defined in the config."})]})]})}),E.jsx(Fr.Panel,{value:"participant",children:E.jsx(OF,{configSequence:l,participantSequence:e,fullSequence:e,participantView:!0,studyConfig:r})}),E.jsx(Fr.Panel,{value:"allTrials",children:E.jsx(OF,{configSequence:l,participantSequence:e,fullSequence:e,participantView:!1,studyConfig:r})})]})})]})}function aGn({studyNavigatorEnabled:e,dataCollectionEnabled:t}){const n=Kr(C=>C.config),r=Kr(C=>C.metadata),i=dse(),s=rf(),{toggleShowHelpText:o,toggleStudyBrowser:a,incrementHelpCounter:u}=Pl(),{storageEngine:l}=Ao(),c=ch(),f=lh(),d=i.length-1,h=typeof f=="number"?f/d*100:0,[p,m]=R.useState(!1),g=n==null?void 0:n.uiConfig.logoPath,y=n==null?void 0:n.uiConfig.withProgressBar,v=I2(),b=ZPe(`/${v}`),w=R.useRef(null),[x,S]=R.useState(!1),A=Kr(C=>C.isRecording);return R.useEffect(()=>{const C=w.current;C&&S(C.scrollWidth>C.offsetWidth)},[n]),E.jsx(Ui.Header,{p:"md",children:E.jsxs(Rf,{mt:-7,align:"center",children:[E.jsx(Rf.Col,{span:4,children:E.jsxs(qt,{align:"center",children:[E.jsx(i_,{w:40,src:`${Nl}${g}`,alt:"Study Logo"}),E.jsx(iu,{w:"md"}),E.jsx(to,{ref:w,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:x?n==null?void 0:n.studyMetadata.title:void 0,children:n==null?void 0:n.studyMetadata.title})]})}),E.jsx(Rf.Col,{span:4,children:y&&E.jsx(CC,{radius:"md",size:"lg",value:h})}),E.jsx(Rf.Col,{span:4,children:E.jsxs(Si,{wrap:"nowrap",justify:"right",children:[A?E.jsxs(Si,{ml:"xl",gap:20,wrap:"nowrap",children:[E.jsx(Ue,{color:"red",children:"Recording audio"}),E.jsx(Zje,{})]}):null,!t&&E.jsx(vs,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:E.jsx(qv,{size:"lg",color:"orange",children:"Demo Mode"})}),(n==null?void 0:n.uiConfig.helpTextPath)!==void 0&&E.jsx(on,{variant:"outline",onClick:()=>{s(o()),s(u({identifier:`${c}_${f}`}))},children:"Help"}),E.jsxs(yl,{shadow:"md",width:200,withinPortal:!0,opened:p,onChange:m,children:[E.jsx(yl.Target,{children:E.jsx(b2,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:E.jsx(bwt,{})})}),E.jsxs(yl.Dropdown,{children:[e&&E.jsx(yl.Item,{leftSection:E.jsx(Nwt,{size:14}),onClick:()=>s(a()),children:"Study Browser"}),E.jsx(yl.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:E.jsx(Swt,{size:14}),children:"Contact"}),e&&E.jsx(yl.Item,{leftSection:E.jsx(Mie,{size:14}),onClick:()=>KJe(l,n,r,b),children:"Next Participant"}),e&&E.jsx(yl.Item,{leftSection:E.jsx(i8e,{size:14}),component:"a",href:`${Nl}analysis/stats/${v}`,children:"Analyze & Manage"})]})]})]})})]})})}function XJe(e,t){var n;return c3(e)&&t.baseComponents?mse({},(n=t.baseComponents)==null?void 0:n[e.baseComponent],e):e}function uGn(){var u;const e=(u=Ey())==null?void 0:u.uiConfig.sidebar,t=Ey(),n=ch(),r=t.components[n],i=R.useMemo(()=>r?XJe(r,t):null,[r,t]),s=gse(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?E.jsxs(Ui.Navbar,{bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&E.jsx(Ui.Section,{bg:"gray.3",p:"md",children:E.jsxs(Ue,{c:"gray.9",children:[E.jsx(Ue,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),E.jsx(Ku,{text:o})]})}),E.jsx(Ui.Section,{p:"md",children:E.jsx(oL,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):E.jsx(Ui.Navbar,{bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:E.jsx(oL,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)})}function lGn(){const e=Kr(u=>u.showHelpText),t=Kr(u=>u.config),n=rf(),{toggleShowHelpText:r}=Pl(),[i,s]=R.useState(""),[o,a]=R.useState(!0);return R.useEffect(()=>{async function u(){if(!t.uiConfig.helpTextPath){a(!1);return}const l=await vse(t.uiConfig.helpTextPath);l!==void 0&&s(l),a(!1)}u()},[t.uiConfig.helpTextPath]),E.jsx(io,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:o||i?E.jsx(Ku,{text:i}):E.jsx(hb,{path:t.uiConfig.helpTextPath})})}function cGn(){const e=Kr(o=>o.alertModal),{setAlertModal:t}=Pl(),n=rf(),[r,i]=R.useState(e.show),s=R.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return R.useEffect(()=>i(e.show),[e.show]),E.jsx(io,{opened:r,centered:!0,size:"lg",withCloseButton:!1,onClose:s,children:E.jsxs(ey,{color:"red",radius:"xs",title:"Alert",icon:E.jsx(lwt,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[E.jsx(Ue,{my:"md",children:e.message}),E.jsx(Si,{w:"100%",justify:"end",children:E.jsx(on,{onClick:s,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}const C4e=15,I4e=3;function fGn({xScale:e,answer:t,height:n,currentNode:r,setCurrentNode:i,taskName:s}){return E.jsxs("g",{style:{cursor:"pointer"},children:[t.provenanceGraph?Object.entries(t.provenanceGraph.nodes).map(o=>{const[a,u]=o;return E.jsx("g",{onClick:()=>i(a,u.createdOn,s),children:E.jsx("rect",{fill:a===r?"#e15759":"#484848",x:e(u.createdOn)-I4e/2,y:n/2-C4e/2,width:I4e,height:C4e})},a)}):null,r&&t.provenanceGraph&&t.provenanceGraph.nodes[r]?E.jsx("rect",{fill:"var(--mantine-color-blue-filled)",cx:e(t.provenanceGraph.nodes[r].createdOn),cy:n/2,r:5}):null]})}const k4e={left:5,top:0,right:5,bottom:0};function dGn({xScale:e,participantData:t,width:n,height:r,currentNode:i,setCurrentNode:s,setPlayTime:o,trialName:a}){const u=R.useMemo(()=>e.domain()[1]-e.domain()[0],[e]),l=R.useCallback((f,d)=>{o(d,(d-e.domain()[0])/u),s(f)},[s,o,u,e]),c=R.useMemo(()=>Object.entries(t.answers).filter(f=>a?a===f[0]:!0).map(f=>{const[d,h]=f;return E.jsx(fGn,{taskName:d,answer:h,height:r,currentNode:i,setCurrentNode:l,xScale:e},d)}),[i,l,r,t.answers,a,e]);return E.jsxs("svg",{style:{width:n,height:r},children:[E.jsx("line",{stroke:"black",strokeWidth:1,x1:k4e.left,x2:n+k4e.left,y1:r/2,y2:r/2}),c]})}function hGn(e){const t=R.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return R.useLayoutEffect(()=>{t.current=e}),R.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function pGn({width:e,height:t,updateTimer:n,duration:r,isPlaying:i,xScale:s,startTime:o}){const a=R.useRef(0),u=R.useRef(Date.now()),[l,c]=R.useState(0);R.useEffect(()=>{o&&(a.current=0,n(o,0))},[o,n]);const f=hGn(()=>{if(a.current>=r)return;const h=Date.now();a.current=h-u.current,n(o+a.current,void 0),c(l+1)});R.useEffect(()=>{let h=null;return i&&(u.current=Date.now()-a.current,h=setInterval(()=>{i&&f()},30)),()=>{h&&clearInterval(h)}},[f,i]);const d=R.useCallback(h=>{a.current=s.invert(h.clientX-10)-s.domain()[0],u.current=Date.now()-a.current,c(l+1),n(o+a.current,a.current/r)},[r,l,o,n,s]);return E.jsx("svg",{onClick:d,style:{width:e,height:t,position:"absolute",zIndex:1e4},children:E.jsx("line",{stroke:"#e15759",strokeWidth:3,y1:0,y2:t,x1:s(o+a.current),x2:s(o+a.current)})})}function ute(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`,o=t<10?`0${t}`:`${t}`;return`${t>0?`${o}h`:""} ${n>0?`${s}m`:""} ${i}s`}const iK={left:0,top:0,right:0,bottom:0};function mGn(e,t){return t?t.getParticipantData(e):null}function gGn({setTimeString:e}){const[t]=a_(),n=R.useMemo(()=>t.get("participantId")||void 0,[t]),{storageEngine:r}=Ao(),i=Kr(j=>j.analysisIsPlaying),s=Kr(j=>j.analysisHasAudio),o=Kr(j=>j.analysisHasProvenance),{saveAnalysisState:a,setAnalysisHasAudio:u,setAnalysisHasProvenance:l}=Pl(),c=rf(),f=ch(),d=lh();R.useEffect(()=>{c(a(null))},[d,a,c]);const[h,{width:p}]=Mf(),[m,g]=R.useState(0),[y,v]=R.useState(null),[b,w]=R.useState(0),{value:x,status:S}=BM(mGn,[n,r]),[A,C]=iht(0,100),$=R.useRef(null),[k,P]=R.useState(!0),L=R.useRef(null),O=R.useMemo(()=>`${f}_${d}`,[f,d]);R.useEffect(()=>{var j;if(O&&x&&((j=x.answers[O])!=null&&j.provenanceGraph)){const W=P2.create(),M=K$({registry:W,initialState:{}});x.answers[O].provenanceGraph&&(M.importObject(ty(x.answers[O].provenanceGraph)),c(l(!0)),L.current=M)}else c(l(!1))},[x,O,c,l]);const B=R.useCallback(j=>{var W;j&&(O&&x&&L.current&&(c(a(L.current.getState((W=x.answers[O].provenanceGraph)==null?void 0:W.nodes[j]))),L.current.to(j)),v(j))},[x,a,c,O]);R.useEffect(()=>{var M;if(!O||!x||!L.current||!((M=x.answers[O])!=null&&M.provenanceGraph))return;const j=x.answers[O].provenanceGraph;if(!j)return;if(!y||!j.nodes[y]){B(j.root);return}let W=j.nodes[y];for(;;)if(A<W.createdOn){if(yLt(W))break;{const V=W.parent;W=j.nodes[V]}}else if(W.children.length>0){const V=W.children[0];if(A>j.nodes[V].createdOn)W=j.nodes[V];else break}else break;W.id!==y&&B(W.id)},[B,y,x,n,A,O]);const q=R.useMemo(()=>(x==null?void 0:x.answers[O].startTime)||0,[x,O]);R.useEffect(()=>{b===0?e(""):A!==0&&e(`${ute(A-q)} / ${ute(b*1e3)}`)},[O,x,A,e,q,b]);const H=MC(),G=R.useRef(null),K=R.useCallback(async j=>{if(G.current=j,j&&x&&H&&O&&r)try{const W=await r.getAudio(O,n);await j.load(W),P(!1),c(u(!0)),w(j.getDuration()),g(j.getWidth()),j.seekTo(0),j.on("redrawcomplete",()=>g(j.getWidth()))}catch(W){c(u(!1));const M=x.answers[O].endTime-x.answers[O].startTime;throw w(M>-1?M/1e3:0),c(u(!1)),new Error(W)}else c(u(!1)),w(0)},[x,H,O,r,n,c,u]),J=R.useCallback((j,W)=>{C(j),G.current&&W&&setTimeout(()=>{var M;(M=G.current)==null||M.seekTo(W)})},[C,G]);R.useEffect(()=>{G.current&&(i?G.current.play():G.current.pause())},[G,i]);const F=R.useMemo(()=>{var M,V;if(!x||!((M=x.answers[O])!=null&&M.startTime)||!((V=x.answers[O])!=null&&V.endTime))return null;const j=b>0?x.answers[O].startTime+b*1e3:x.answers[O].endTime;return Pa([iK.left,p+iK.left+iK.right]).domain([x.answers[O].startTime,j]).clamp(!0)},[x,O,p,b]);return R.useEffect(()=>{K(G.current)},[J,K,x,n,G]),E.jsx(Si,{wrap:"nowrap",gap:10,mx:10,children:E.jsxs(zi,{ref:h,style:{width:"100%"},gap:0,children:[E.jsx(oa,{}),x!==null&&O?E.jsxs(ke,{ref:$,style:{overflow:"hidden",width:"100%",pointerEvents:"none"},display:s?"block":"none",id:"waveformDiv",children:[E.jsx(Xje,{onMount:K,plugins:[],container:"#waveformDiv",height:50,waveColor:"#484848",progressColor:"#e15759",barHeight:0,cursorColor:"rgba(0, 0, 0, 0)",children:E.jsx(Qje,{id:"waveform",height:50})}),k?E.jsx(nf,{}):null]}):null,S==="success"&&x&&F&&O&&x.answers[O].provenanceGraph?E.jsx(dGn,{xScale:F,trialName:O,setPlayTime:J,currentNode:y,setCurrentNode:B,participantData:x,width:m||p,height:25}):null,F&&x&&(s||o)?E.jsx(pGn,{duration:b*1e3,height:(s?50:0)+(o?25:0),isPlaying:i,startTime:x.answers[O].startTime,width:p,xScale:F,updateTimer:J}):null]})})}function yGn(e,t){return t?t.getParticipantData(e):null}function vGn(e){return e?e.getAllParticipantsData():null}function bGn(){const[e]=a_(),t=R.useMemo(()=>e.get("participantId")||void 0,[e]),n=ch(),r=lh(),i=Dp(),{setAnalysisIsPlaying:s}=Pl(),o=rf(),a=Kr(y=>y.analysisIsPlaying),{storageEngine:u}=Ao(),{value:l,status:c}=BM(yGn,[t,u]),{value:f}=BM(vGn,[u]),[d,h]=R.useMemo(()=>{if(f&&l&&t&&n){const y=f.filter(x=>x.participantConfigHash===l.participantConfigHash),v=y.findIndex(x=>x.participantId===t),b=v<y.length-1?y[v+1]:y[0],w=v>0?y[v-1]:y[y.length-1];return[[b.participantId,Tp(b.sequence).indexOf(n)],[w.participantId,Tp(w.sequence).indexOf(n)]]}return[["",0],["",0]]},[f,n,l,t]),p=R.useMemo(()=>{const y={};return f==null||f.forEach(v=>{y[v.participantConfigHash]||(y[v.participantConfigHash]=new Set),y[v.participantConfigHash].add(v.participantId)}),Object.keys(y).sort((v,b)=>v===(l==null?void 0:l.participantConfigHash)?-1:b===(l==null?void 0:l.participantConfigHash)?1:0).map(v=>({group:`Config version: ${v}`,items:[...y[v]].map(b=>({value:b,label:b,disabled:v!==(l==null?void 0:l.participantConfigHash)}))}))},[f,l==null?void 0:l.participantConfigHash]),[m,g]=R.useState("");return E.jsx(Ui.Footer,{zIndex:101,withBorder:!1,children:E.jsxs(ke,{style:{backgroundColor:"var(--mantine-color-blue-1)",height:"150px"},children:[E.jsx(qf,{visible:c!=="success",overlayProps:{backgroundOpacity:.4}}),E.jsx(gGn,{setTimeString:g}),E.jsx(oa,{children:E.jsxs(Si,{gap:"xs",style:{height:"50px"},children:[E.jsx(Ue,{size:"sm",ff:"monospace",children:m}),E.jsx(b2,{variant:"filled",size:30,onClick:()=>o(s(!a)),children:a?E.jsx(Fwt,{}):E.jsx(Bwt,{})}),E.jsx(Ue,{mx:"0",children:"Participant:"}),E.jsx(IC,{style:{width:"300px"},value:(l==null?void 0:l.participantId)||"",onChange:y=>{i(`./${Jh(0)}?participantId=${y}`,{relative:"path"})},data:p}),E.jsx(on,{onClick:()=>i(`./${Jh(+r-1)}?participantId=${t}`,{relative:"path"}),children:E.jsx(V1e,{})}),E.jsx(on,{onClick:()=>i(`./${Jh(+r+1)}?participantId=${t}`,{relative:"path"}),children:E.jsx(H1e,{})}),E.jsxs(on,{px:"xs",disabled:!l||d[0]===l.participantId,onClick:()=>i(`./${Jh(h[1])}?participantId=${h[0]}`),children:[E.jsx(V1e,{}),E.jsx(W1e,{})]}),E.jsxs(on,{px:"xs",disabled:!l||d[0]===l.participantId,onClick:()=>i(`./${Jh(d[1])}?participantId=${d[0]}`),children:[E.jsx(W1e,{}),E.jsx(H1e,{})]})]})})]})})}function _Gn(){const e=R.useRef([]),t=Ey(),n=t.uiConfig.windowEventDebounceTime??100,r=Kr(d=>d.showStudyBrowser),i=Kr(d=>d.analysisHasAudio),s=Kr(d=>d.analysisHasProvenance),o=Kr(d=>d.modes);R.useEffect(()=>{const d=Bh(x=>{e.current.push([Date.now(),"focus",x.target instanceof HTMLElement?x.target.tagName:""])},n,{maxWait:n}),h=Bh(x=>{e.current.push([Date.now(),"input",x.data??""])},n,{maxWait:n}),p=Bh(x=>{e.current.push([Date.now(),"keypress",x.key])},n,{maxWait:n}),m=Bh(x=>{e.current.push([Date.now(),"mousedown",[x.clientX,x.clientY]])},n,{maxWait:n}),g=Bh(x=>{e.current.push([Date.now(),"mouseup",[x.clientX,x.clientY]])},n,{maxWait:n}),y=Bh(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),v=Bh(x=>{e.current.push([Date.now(),"mousemove",[x.clientX,x.clientY]])},n,{maxWait:n}),b=Bh(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),w=Bh(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",d,!0),window.addEventListener("input",h),window.addEventListener("keypress",p),window.addEventListener("mousedown",m),window.addEventListener("mouseup",g),window.addEventListener("resize",y),window.addEventListener("mousemove",v),window.addEventListener("scroll",b),document.addEventListener("visibilitychange",w),()=>{window.removeEventListener("focus",d,!0),window.removeEventListener("input",h),window.removeEventListener("keypress",p),window.addEventListener("mousedown",m),window.addEventListener("mouseup",g),window.removeEventListener("resize",y),window.removeEventListener("mousemove",v),window.removeEventListener("scroll",b),document.removeEventListener("visibilitychange",w)}},[]);const a=t.uiConfig.sidebarWidth??300,{studyNavigatorEnabled:u,dataCollectionEnabled:l}=R.useMemo(()=>o,[o]),c=R.useMemo(()=>u&&r,[u,r]),f=MC();return E.jsx(dDe.Provider,{value:e,children:E.jsxs(Ui,{padding:"md",header:{height:70},navbar:{width:a,breakpoint:"xs",collapsed:{desktop:!t.uiConfig.sidebar,mobile:!t.uiConfig.sidebar}},aside:{width:360,breakpoint:"xs",collapsed:{desktop:!c,mobile:!c}},footer:{height:(f?50:0)+(i?50:0)+(s?25:0)},children:[E.jsx(uGn,{}),E.jsx(oGn,{}),E.jsx(aGn,{studyNavigatorEnabled:u,dataCollectionEnabled:l}),E.jsx(lGn,{}),E.jsx(cGn,{}),E.jsx(Ui.Main,{children:E.jsx(Y_t,{})}),f&&E.jsx(bGn,{})]})})}function wGn(e,t=!1){return typeof e=="number"?R4e(e,t):R4e(e.length,t).map(r=>r.map(i=>e[i]))}function R4e(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function QJe(e,t,n){let r=e.components;e.order==="random"?r=e.components.sort(()=>.5-Math.random()):e.order==="latinSquare"&&t&&(r=t[n].pop().map(i=>i.startsWith("_componentBlock")?e.components[+i.slice(15)]:i)),r=r.slice(0,e.numSamples);for(let i=0;i<r.length;i+=1){const s=r[i];if(typeof s!="string"&&!Array.isArray(s)){const o=e.components.indexOf(s);r[i]=QJe(s,t,`${n}-${o}`)}}return e.interruptions&&e.interruptions.forEach(i=>{const s=[];if(i.spacing!=="random")for(let o=0;o<r.length;o+=1)(o===i.firstLocation||o>i.firstLocation&&o%i.spacing===0)&&s.push(i.components),s.push(r[o]);if(i.spacing==="random"){const o=new Set;if(i.numInterruptions>r.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;o.size<i.numInterruptions;){const l=Math.floor(Math.random()*r.length-1)+1;o.add(l)}const a=Array.from(o).sort((l,c)=>l-c);let u=0;for(let l=0;l<r.length;l+=1)l===a[u]&&(s.push(i.components),u+=1),s.push(r[l])}r=s}),{id:e.id,orderPath:n,components:r.flat(),skip:e.skip}}function xGn(e,t){const n=ty(e);return QJe(n,t,"root")}function JJe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&JJe(s,t,i,o)})}function EGn(e){const t=[];return JJe(e,t,"",0),t}function $4e(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_componentBlock${a}`);return wGn(i.sort(()=>.5-Math.random()),!0)}function N4e(e){const n=EGn(e.sequence).map(s=>({[s]:$4e(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=xGn(e.sequence,n);s.components.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=$4e(e,o))})}),i}var TGn=lDe;function SGn(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function AGn(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function CGn(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function IGn(e){return e.__COMMENTS__}function kGn(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var Tz={EOL:TGn.EOL||`
`,tryParseNumber:SGn,createComment:AGn,removeComment:CGn,getComment:IGn,forceComment:kGn},RGn="3.2.1";function $Gn(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return P4e}else if(e.length===0)return P4e;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return PGn(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),NGn.bind(null,n)}function NGn(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function P4e(){}function PGn(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function ZJe(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}ZJe.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function eZe(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}eZe.description="parse hexadecimal numbers prefixed with 0x";function tZe(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}tZe.description="support ISO dates";var khe={loadDsf:$Gn,std:{math:ZJe,hex:eZe,date:tZe}},OGn=function(e,t){var n=Tz,r=khe,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(B){return B==="{"||B==="}"||B==="["||B==="]"||B===","||B===":"}function d(B){var q,H=0,G=1;for(q=s-1;q>0&&i[q]!==`
`;q--,H++);for(;q>0;q--)i[q]===`
`&&G++;throw new Error(B+" at line "+G+","+H+" >>>"+i.substr(s-H,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(B){return i.charAt(s+B)}function m(B){for(var q="",H=o;h();){if(o===H)return h(),B&&H==="'"&&o==="'"&&q.length===0?(h(),g()):q;if(o==="\\")if(h(),o==="u"){for(var G=0,K=0;K<4;K++){h();var J=o.charCodeAt(0),F;o>="0"&&o<="9"?F=J-48:o>="a"&&o<="f"?F=J-97+10:o>="A"&&o<="F"?F=J-65+10:d("Bad \\u char "+o),G=G*16+F}q+=String.fromCharCode(G)}else if(typeof a[o]=="string")q+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):q+=o}d("Bad string")}function g(){for(var B="",q=0,H=0;;){var G=p(-H-5);if(!G||G===`
`)break;H++}function K(){for(var J=H;o&&o<=" "&&o!==`
`&&J-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),K());;){if(!o)d("Bad multiline string");else if(o==="'"){if(q++,h(),q===3)return B.slice(-1)===`
`&&(B=B.slice(0,-1)),B;continue}else for(;q>0;)B+="'",q--;o===`
`?(B+=`
`,h(),K()):(o!=="\r"&&(B+=o),h())}}function y(){if(o==='"'||o==="'")return m(!1);for(var B="",q=s,H=-1;;){if(o===":")return B?H>=0&&H!==B.length&&(s=q+H,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),B;o<=" "?o?H<0&&(H=B.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):B+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function b(){var B=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var q=o==="\r"||o===`
`||o==="";if(q||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var H=B[0];switch(H){case"f":if(B.trim()==="false")return!1;break;case"n":if(B.trim()==="null")return null;break;case"t":if(B.trim()==="true")return!0;break;default:if(H==="-"||H>="0"&&H<="9"){var G=n.tryParseNumber(B);if(G!==void 0)return G}}if(q){B=B.trim();var K=l(B);return K!==void 0?K:B}}B+=o}}function w(B,q){var H;for(B--,H=s-2;H>B&&i[H]<=" "&&i[H]!==`
`;H--);i[H]===`
`&&H--,i[H]==="\r"&&H--;var G=i.substr(B,H-B+1);for(H=0;H<G.length;H++)if(G[H]>" "){var K=G.indexOf(`
`);if(K>=0){var J=[G.substr(0,K),G.substr(K+1)];return q&&J[0].trim().length===0&&J.shift(),J}else return[G]}return[]}function x(B){function q(G,K){var J,F,j,W;switch(typeof G){case"string":G.indexOf(K)>=0&&(W=G);break;case"object":if(Object.prototype.toString.apply(G)==="[object Array]")for(J=0,j=G.length;J<j;J++)W=q(G[J],K)||W;else for(F in G)Object.prototype.hasOwnProperty.call(G,F)&&(W=q(G[F],K)||W)}return W}function H(G){var K=q(B,G);return K?"found '"+G+`' in a string value, your mistake could be with:
  > `+K+`
  (unquoted strings contain everything up to the next line!)`:""}return H("}")||H("]")}function S(){var B=[],q,H,G;try{if(u&&(q=n.createComment(B,{a:[]})),h(),H=s,v(),q&&(G=w(H,!0).join(`
`)),o==="]")return h(),q&&(q.e=[G]),B;for(;o;){if(B.push(C()),H=s,v(),o===","&&(h(),H=s,v()),q){var K=w(H);q.a.push([G||"",K[0]||""]),G=K[1]}if(o==="]")return h(),q&&(q.a[q.a.length-1][1]+=G||""),B;v()}d("End of input while parsing an array (missing ']')")}catch(J){throw J.hint=J.hint||x(B),J}}function A(B){var q="",H={},G,K,J;try{if(u&&(G=n.createComment(H,{c:{},o:[]})),B?K=1:(h(),K=s),v(),G&&(J=w(K,!0).join(`
`)),o==="}"&&!B)return G&&(G.e=[J]),h(),H;for(;o;){if(q=y(),v(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),H[q]=C(),K=s,v(),o===","&&(h(),K=s,v()),G){var F=w(K);G.c[q]=[J||"",F[0]||""],J=F[1],G.o.push(q)}if(o==="}"&&!B)return h(),G&&(G.c[q][1]+=J||""),H;v()}if(B)return H;d("End of input while parsing an object (missing '}')")}catch(j){throw j.hint=j.hint||x(H),j}}function C(){switch(v(),o){case"{":return A();case"[":return S();case"'":case'"':return m(!0);default:return b()}}function $(B,q){var H=s;if(v(),o&&d("Syntax error, found trailing characters"),u){var G=q.join(`
`),K=w(H).join(`
`);if(K||G){var J=n.createComment(B,n.getComment(B));J.r=[G,K]}}return B}function k(){v();var B=u?w(1):null;switch(o){case"{":return $(A(),B);case"[":return $(S(),B);default:return $(C(),B)}}function P(){v();var B=u?w(1):null;switch(o){case"{":return $(A(),B);case"[":return $(S(),B)}try{return $(A(!0),B)}catch(q){c();try{return $(C(),B)}catch{throw q}}}if(typeof e!="string")throw new Error("source is not a string");var L=null,O=!0;return t&&typeof t=="object"&&(u=t.keepWsc,L=t.dsf,O=t.legacyRoot!==!1),l=r.loadDsf(L,"parse"),i=e,c(),O?P():k()},DGn=function(e,t){var n=Tz,r=khe,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var y,v=Object.keys(i);for(y=v.length-1;y>=0;y--){var b=v[y];g[b].push(i[b][0].length,i[b][1].length)}}var w,x="---\u2028--\uFEFF-",S=new RegExp('[\\\\\\"\0-'+x+"]","g"),A=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+x+"]","g"),C=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+x+"]","g"),$=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),k={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},P=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,L="",O=0;function B(W,M){return O+=W[0].length+W[1].length-W[2]-W[3],W[0]+M+W[1]}function q(W){return W.replace(S,function(M){var V=k[M];return typeof V=="string"?B(g.esc,V):B(g.uni,("0000"+M.charCodeAt(0).toString(16)).slice(-4))})}function H(W,M,V,Q){return W?(A.lastIndex=0,$.lastIndex=0,c||V||A.test(W)||n.tryParseNumber(W,!0)!==void 0||$.test(W)?(S.lastIndex=0,C.lastIndex=0,S.test(W)?!C.test(W)&&!Q&&d?G(W,M):B(g.qstr,q(W)):B(g.qstr,W)):B(g.str,W)):B(g.qstr,"")}function G(W,M){var V,Q=W.replace(/\r/g,"").split(`
`);if(M+=o,Q.length===1)return B(g.mstr,Q[0]);var se=s+M+g.mstr[0];for(V=0;V<Q.length;V++)se+=s,Q[V]&&(se+=M+Q[V]);return se+s+M+g.mstr[1]}function K(W){return W?l||P.test(W)?(S.lastIndex=0,B(g.qkey,S.test(W)?q(W):W)):B(g.key,W):'""'}function J(W,M,V,Q){function se(Cn){return Cn&&Cn[Cn[0]==="\r"?1:0]===`
`}function be(Cn){return Cn&&!se(Cn)}function he(Cn,Wn,vr){if(!Cn)return"";Cn=n.forceComment(Cn);var wr,da=Cn.length;for(wr=0;wr<da&&Cn[wr]<=" ";wr++);return vr&&wr>0&&(Cn=Cn.substr(wr)),wr<da?Wn+B(g.rem,Cn):Cn}var Ce=w(W);if(Ce!==void 0)return B(g.dsf,Ce);switch(typeof W){case"string":return H(W,L,M,Q);case"number":return isFinite(W)?B(g.num,String(W)):B(g.lit,"null");case"boolean":return B(g.lit,String(W));case"object":if(!W)return B(g.lit,"null");var Pe;a&&(Pe=n.getComment(W));var rt=Object.prototype.toString.apply(W)==="[object Array]",Re=L;L+=o;var Tt=s+Re,Ze=s+L,It=V||u?"":Tt,mt=[],Se,Fe=f?[]:null,st=c,yt=d,$t=h?"":g.com[0],Je=0,xe,kt,Rt,Ee,Oe,ot,_t,jt,qn;if(rt){for(xe=0,kt=W.length;xe<kt;xe++){if(Se=xe<kt-1,Pe?(ot=Pe.a[xe]||[],_t=be(ot[1]),mt.push(he(ot[0],`
`)+Ze),Fe&&(ot[0]||ot[1]||_t)&&(Fe=null)):mt.push(Ze),O=0,Ee=W[xe],mt.push(J(Ee,Pe?_t:!1,!0)+(Se?h:"")),Fe){switch(typeof Ee){case"string":O=0,c=!0,d=0,Fe.push(J(Ee,!1,!0)+(Se?g.com[0]:"")),c=st,d=yt;break;case"object":if(Ee){Fe=null;break}default:Fe.push(mt[mt.length-1]+(Se?$t:""));break}Se&&(O+=g.com[0].length-g.com[2]),Je+=O}Pe&&ot[1]&&mt.push(he(ot[1],_t?" ":`
`,_t))}kt===0?Pe&&Pe.e&&mt.push(he(Pe.e[0],`
`)+Tt):mt.push(Tt),mt.length===0?jt=B(g.arr,""):(jt=It+B(g.arr,mt.join("")),Fe&&(qn=Fe.join(" "),qn.length-Je<=f&&(jt=B(g.arr,qn))))}else{var yr=Pe?Pe.o.slice():[],$r=[];for(Rt in W)Object.prototype.hasOwnProperty.call(W,Rt)&&yr.indexOf(Rt)<0&&$r.push(Rt);m&&$r.sort();var Ci=yr.concat($r);for(xe=0,kt=Ci.length;xe<kt;xe++)if(Se=xe<kt-1,Rt=Ci[xe],Pe?(ot=Pe.c[Rt]||[],_t=be(ot[1]),mt.push(he(ot[0],`
`)+Ze),Fe&&(ot[0]||ot[1]||_t)&&(Fe=null)):mt.push(Ze),O=0,Ee=W[Rt],Oe=J(Ee,Pe&&_t),mt.push(K(Rt)+g.col[0]+(se(Oe)?"":" ")+Oe+(Se?h:"")),Pe&&ot[1]&&mt.push(he(ot[1],_t?" ":`
`,_t)),Fe){switch(typeof Ee){case"string":O=0,c=!0,d=0,Oe=J(Ee,!1),c=st,d=yt,Fe.push(K(Rt)+g.col[0]+" "+Oe+(Se?g.com[0]:""));break;case"object":if(Ee){Fe=null;break}default:Fe.push(mt[mt.length-1]+(Se?$t:""));break}O+=g.col[0].length-g.col[2],Se&&(O+=g.com[0].length-g.com[2]),Je+=O}kt===0?Pe&&Pe.e&&mt.push(he(Pe.e[0],`
`)+Tt):mt.push(Tt),mt.length===0?jt=B(g.obj,""):(jt=It+B(g.obj,mt.join("")),Fe&&(qn=Fe.join(" "),qn.length-Je<=f&&(jt=B(g.obj,qn))))}return L=Re,jt}}w=r.loadDsf(p,"stringify");var F="",j=a?j=(n.getComment(e)||{}).r:null;return j&&j[0]&&(F=j[0]+`
`),F+=J(e,null,!0,!0),j&&(F+=j[1]||""),F},FS=Tz;function ok(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function lte(e,t){if(!(e===null||typeof e!="object")){var n=FS.getComment(e);n&&FS.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)O4e(o.a,r,n.a[r],lte(e[r]))&&(s=!0);!s&&n.e&&(o.e=ok(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];O4e(o.s,l,n.c[l],lte(e[l]))&&(s=!0)}!s&&n.e&&(o.e=ok(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=ok(n.r[0],n.r[1])),s?o:void 0}}function LGn(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function MGn(e,t){var n=[];if(cte(e,t,n,[]),n.length>0){var r=DF(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+LGn(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),DF(t,r,1)}}function O4e(e,t,n,r){var i=ok(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function ak(e,t){var n=ok(t.b,t.a);return n.path=e,n}function uk(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(ak(s,o)),uk(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(ak(u,l)),uk(l.x,t,u))});e.e&&t.push(ak(n,e.e))}}function cte(e,t,n,r){if(e){if(t===null||typeof t!="object"){uk(e,n,r);return}var i,s=FS.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],cte(u.x,t[i],n,l)):(n.push(ak(l,u)),uk(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],cte(d.x,t[c],n,f))):d&&(n.push(ak(f,d)),uk(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function DF(e,t,n){var r=FS.createComment(e,FS.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=FS.forceComment(t)),r.r[n]||""}var FGn={extract:function(e){return lte(e,!0)},merge:MGn,header:function(e,t){return DF(e,t,0)},footer:function(e,t){return DF(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var D4e=Tz,BGn=RGn,L4e=OGn,M4e=DGn,jGn=FGn,UGn=khe,Sz={parse:L4e,stringify:M4e,endOfLine:function(){return D4e.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(D4e.EOL=e)},version:BGn,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,L4e(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,M4e(e,t)}},comments:jGn,dsf:UGn.std},fte={exports:{}},nZe={},bp={},iC={},n5={},gr={},QR={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((b,w)=>`${b}${w}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((b,w)=>(w instanceof n&&(b[w.str]=(b[w.str]||0)+1),b),{})}}e._Code=r,e.nil=new r("");function i(y,...v){const b=[y[0]];let w=0;for(;w<v.length;)a(b,v[w]),b.push(y[++w]);return new r(b)}e._=i;const s=new r("+");function o(y,...v){const b=[h(y[0])];let w=0;for(;w<v.length;)b.push(s),a(b,v[w]),b.push(s,h(y[++w]));return u(b),new r(b)}e.str=o;function a(y,v){v instanceof r?y.push(...v._items):v instanceof n?y.push(v):y.push(f(v))}e.addCodeArg=a;function u(y){let v=1;for(;v<y.length-1;){if(y[v]===s){const b=l(y[v-1],y[v+1]);if(b!==void 0){y.splice(v-1,3,b);continue}y[v++]="+"}v++}}function l(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof n||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof n))return`"${y}${v.slice(1)}`}function c(y,v){return v.emptyStr()?y:y.emptyStr()?v:o`${y}${v}`}e.strConcat=c;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function d(y){return new r(h(y))}e.stringify=d;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}e.getProperty=p;function m(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(y){return new r(y.toString())}e.regexpCode=g})(QR);var dte={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=QR;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,d);const g=this._scope[h]||(this._scope[h]=[]),y=g.length;return g[y]=c.ref,d.setValue(c,{property:h,itemIndex:y}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const m=l[p];if(!m)continue;const g=f[p]=f[p]||new Map;m.forEach(y=>{if(g.has(y))return;g.set(y,r.Started);let v=c(y);if(v){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${b} ${y} = ${v};${this.opts._n}`}else if(v=d==null?void 0:d(y))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(y);g.set(y,r.Completed)})}return h}}e.ValueScope=a})(dte);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=QR,n=dte;var r=QR;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=dte;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(V,Q){return this}}class o extends s{constructor(V,Q,se){super(),this.varKind=V,this.name=Q,this.rhs=se}render({es5:V,_n:Q}){const se=V?n.varKinds.var:this.varKind,be=this.rhs===void 0?"":` = ${this.rhs}`;return`${se} ${this.name}${be};`+Q}optimizeNames(V,Q){if(V[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,V,Q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(V,Q,se){super(),this.lhs=V,this.rhs=Q,this.sideEffects=se}render({_n:V}){return`${this.lhs} = ${this.rhs};`+V}optimizeNames(V,Q){if(!(this.lhs instanceof t.Name&&!V[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,V,Q),this}get names(){const V=this.lhs instanceof t.Name?{}:{...this.lhs.names};return O(V,this.rhs)}}class u extends a{constructor(V,Q,se,be){super(V,se,be),this.op=Q}render({_n:V}){return`${this.lhs} ${this.op}= ${this.rhs};`+V}}class l extends s{constructor(V){super(),this.label=V,this.names={}}render({_n:V}){return`${this.label}:`+V}}class c extends s{constructor(V){super(),this.label=V,this.names={}}render({_n:V}){return`break${this.label?` ${this.label}`:""};`+V}}class f extends s{constructor(V){super(),this.error=V}render({_n:V}){return`throw ${this.error};`+V}get names(){return this.error.names}}class d extends s{constructor(V){super(),this.code=V}render({_n:V}){return`${this.code};`+V}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(V,Q){return this.code=B(this.code,V,Q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(V=[]){super(),this.nodes=V}render(V){return this.nodes.reduce((Q,se)=>Q+se.render(V),"")}optimizeNodes(){const{nodes:V}=this;let Q=V.length;for(;Q--;){const se=V[Q].optimizeNodes();Array.isArray(se)?V.splice(Q,1,...se):se?V[Q]=se:V.splice(Q,1)}return V.length>0?this:void 0}optimizeNames(V,Q){const{nodes:se}=this;let be=se.length;for(;be--;){const he=se[be];he.optimizeNames(V,Q)||(q(V,he.names),se.splice(be,1))}return se.length>0?this:void 0}get names(){return this.nodes.reduce((V,Q)=>L(V,Q.names),{})}}class p extends h{render(V){return"{"+V._n+super.render(V)+"}"+V._n}}class m extends h{}class g extends p{}g.kind="else";class y extends p{constructor(V,Q){super(Q),this.condition=V}render(V){let Q=`if(${this.condition})`+super.render(V);return this.else&&(Q+="else "+this.else.render(V)),Q}optimizeNodes(){super.optimizeNodes();const V=this.condition;if(V===!0)return this.nodes;let Q=this.else;if(Q){const se=Q.optimizeNodes();Q=this.else=Array.isArray(se)?new g(se):se}if(Q)return V===!1?Q instanceof y?Q:Q.nodes:this.nodes.length?this:new y(H(V),Q instanceof y?[Q]:Q.nodes);if(!(V===!1||!this.nodes.length))return this}optimizeNames(V,Q){var se;if(this.else=(se=this.else)===null||se===void 0?void 0:se.optimizeNames(V,Q),!!(super.optimizeNames(V,Q)||this.else))return this.condition=B(this.condition,V,Q),this}get names(){const V=super.names;return O(V,this.condition),this.else&&L(V,this.else.names),V}}y.kind="if";class v extends p{}v.kind="for";class b extends v{constructor(V){super(),this.iteration=V}render(V){return`for(${this.iteration})`+super.render(V)}optimizeNames(V,Q){if(super.optimizeNames(V,Q))return this.iteration=B(this.iteration,V,Q),this}get names(){return L(super.names,this.iteration.names)}}class w extends v{constructor(V,Q,se,be){super(),this.varKind=V,this.name=Q,this.from=se,this.to=be}render(V){const Q=V.es5?n.varKinds.var:this.varKind,{name:se,from:be,to:he}=this;return`for(${Q} ${se}=${be}; ${se}<${he}; ${se}++)`+super.render(V)}get names(){const V=O(super.names,this.from);return O(V,this.to)}}class x extends v{constructor(V,Q,se,be){super(),this.loop=V,this.varKind=Q,this.name=se,this.iterable=be}render(V){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(V)}optimizeNames(V,Q){if(super.optimizeNames(V,Q))return this.iterable=B(this.iterable,V,Q),this}get names(){return L(super.names,this.iterable.names)}}class S extends p{constructor(V,Q,se){super(),this.name=V,this.args=Q,this.async=se}render(V){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(V)}}S.kind="func";class A extends h{render(V){return"return "+super.render(V)}}A.kind="return";class C extends p{render(V){let Q="try"+super.render(V);return this.catch&&(Q+=this.catch.render(V)),this.finally&&(Q+=this.finally.render(V)),Q}optimizeNodes(){var V,Q;return super.optimizeNodes(),(V=this.catch)===null||V===void 0||V.optimizeNodes(),(Q=this.finally)===null||Q===void 0||Q.optimizeNodes(),this}optimizeNames(V,Q){var se,be;return super.optimizeNames(V,Q),(se=this.catch)===null||se===void 0||se.optimizeNames(V,Q),(be=this.finally)===null||be===void 0||be.optimizeNames(V,Q),this}get names(){const V=super.names;return this.catch&&L(V,this.catch.names),this.finally&&L(V,this.finally.names),V}}class $ extends p{constructor(V){super(),this.error=V}render(V){return`catch(${this.error})`+super.render(V)}}$.kind="catch";class k extends p{render(V){return"finally"+super.render(V)}}k.kind="finally";class P{constructor(V,Q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Q,_n:Q.lines?`
`:""},this._extScope=V,this._scope=new n.Scope({parent:V}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(V){return this._scope.name(V)}scopeName(V){return this._extScope.name(V)}scopeValue(V,Q){const se=this._extScope.value(V,Q);return(this._values[se.prefix]||(this._values[se.prefix]=new Set)).add(se),se}getScopeValue(V,Q){return this._extScope.getValue(V,Q)}scopeRefs(V){return this._extScope.scopeRefs(V,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(V,Q,se,be){const he=this._scope.toName(Q);return se!==void 0&&be&&(this._constants[he.str]=se),this._leafNode(new o(V,he,se)),he}const(V,Q,se){return this._def(n.varKinds.const,V,Q,se)}let(V,Q,se){return this._def(n.varKinds.let,V,Q,se)}var(V,Q,se){return this._def(n.varKinds.var,V,Q,se)}assign(V,Q,se){return this._leafNode(new a(V,Q,se))}add(V,Q){return this._leafNode(new u(V,e.operators.ADD,Q))}code(V){return typeof V=="function"?V():V!==t.nil&&this._leafNode(new d(V)),this}object(...V){const Q=["{"];for(const[se,be]of V)Q.length>1&&Q.push(","),Q.push(se),(se!==be||this.opts.es5)&&(Q.push(":"),(0,t.addCodeArg)(Q,be));return Q.push("}"),new t._Code(Q)}if(V,Q,se){if(this._blockNode(new y(V)),Q&&se)this.code(Q).else().code(se).endIf();else if(Q)this.code(Q).endIf();else if(se)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(V){return this._elseNode(new y(V))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(V,Q){return this._blockNode(V),Q&&this.code(Q).endFor(),this}for(V,Q){return this._for(new b(V),Q)}forRange(V,Q,se,be,he=this.opts.es5?n.varKinds.var:n.varKinds.let){const Ce=this._scope.toName(V);return this._for(new w(he,Ce,Q,se),()=>be(Ce))}forOf(V,Q,se,be=n.varKinds.const){const he=this._scope.toName(V);if(this.opts.es5){const Ce=Q instanceof t.Name?Q:this.var("_arr",Q);return this.forRange("_i",0,(0,t._)`${Ce}.length`,Pe=>{this.var(he,(0,t._)`${Ce}[${Pe}]`),se(he)})}return this._for(new x("of",be,he,Q),()=>se(he))}forIn(V,Q,se,be=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(V,(0,t._)`Object.keys(${Q})`,se);const he=this._scope.toName(V);return this._for(new x("in",be,he,Q),()=>se(he))}endFor(){return this._endBlockNode(v)}label(V){return this._leafNode(new l(V))}break(V){return this._leafNode(new c(V))}return(V){const Q=new A;if(this._blockNode(Q),this.code(V),Q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(A)}try(V,Q,se){if(!Q&&!se)throw new Error('CodeGen: "try" without "catch" and "finally"');const be=new C;if(this._blockNode(be),this.code(V),Q){const he=this.name("e");this._currNode=be.catch=new $(he),Q(he)}return se&&(this._currNode=be.finally=new k,this.code(se)),this._endBlockNode($,k)}throw(V){return this._leafNode(new f(V))}block(V,Q){return this._blockStarts.push(this._nodes.length),V&&this.code(V).endBlock(Q),this}endBlock(V){const Q=this._blockStarts.pop();if(Q===void 0)throw new Error("CodeGen: not in self-balancing block");const se=this._nodes.length-Q;if(se<0||V!==void 0&&se!==V)throw new Error(`CodeGen: wrong number of nodes: ${se} vs ${V} expected`);return this._nodes.length=Q,this}func(V,Q=t.nil,se,be){return this._blockNode(new S(V,Q,se)),be&&this.code(be).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(V=1){for(;V-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(V){return this._currNode.nodes.push(V),this}_blockNode(V){this._currNode.nodes.push(V),this._nodes.push(V)}_endBlockNode(V,Q){const se=this._currNode;if(se instanceof V||Q&&se instanceof Q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Q?`${V.kind}/${Q.kind}`:V.kind}"`)}_elseNode(V){const Q=this._currNode;if(!(Q instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=Q.else=V,this}get _root(){return this._nodes[0]}get _currNode(){const V=this._nodes;return V[V.length-1]}set _currNode(V){const Q=this._nodes;Q[Q.length-1]=V}}e.CodeGen=P;function L(M,V){for(const Q in V)M[Q]=(M[Q]||0)+(V[Q]||0);return M}function O(M,V){return V instanceof t._CodeOrName?L(M,V.names):M}function B(M,V,Q){if(M instanceof t.Name)return se(M);if(!be(M))return M;return new t._Code(M._items.reduce((he,Ce)=>(Ce instanceof t.Name&&(Ce=se(Ce)),Ce instanceof t._Code?he.push(...Ce._items):he.push(Ce),he),[]));function se(he){const Ce=Q[he.str];return Ce===void 0||V[he.str]!==1?he:(delete V[he.str],Ce)}function be(he){return he instanceof t._Code&&he._items.some(Ce=>Ce instanceof t.Name&&V[Ce.str]===1&&Q[Ce.str]!==void 0)}}function q(M,V){for(const Q in V)M[Q]=(M[Q]||0)-(V[Q]||0)}function H(M){return typeof M=="boolean"||typeof M=="number"||M===null?!M:(0,t._)`!${W(M)}`}e.not=H;const G=j(e.operators.AND);function K(...M){return M.reduce(G)}e.and=K;const J=j(e.operators.OR);function F(...M){return M.reduce(J)}e.or=F;function j(M){return(V,Q)=>V===t.nil?Q:Q===t.nil?V:(0,t._)`${W(V)} ${M} ${W(Q)}`}function W(M){return M instanceof t.Name?M:(0,t._)`(${M})`}})(gr);var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.checkStrictMode=Ft.getErrorPath=Ft.Type=Ft.useFunc=Ft.setEvaluated=Ft.evaluatedPropsToName=Ft.mergeEvaluated=Ft.eachItem=Ft.unescapeJsonPointer=Ft.escapeJsonPointer=Ft.escapeFragment=Ft.unescapeFragment=Ft.schemaRefOrVal=Ft.schemaHasRulesButRef=Ft.schemaHasRules=Ft.checkUnknownRules=Ft.alwaysValidSchema=Ft.toHash=void 0;const es=gr,zGn=QR;function VGn(e){const t={};for(const n of e)t[n]=!0;return t}Ft.toHash=VGn;function HGn(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(rZe(e,t),!iZe(t,e.self.RULES.all))}Ft.alwaysValidSchema=HGn;function rZe(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema||typeof t=="boolean")return;const i=r.RULES.keywords;for(const s in t)i[s]||aZe(e,`unknown keyword: "${s}"`)}Ft.checkUnknownRules=rZe;function iZe(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(t[n])return!0;return!1}Ft.schemaHasRules=iZe;function qGn(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(n!=="$ref"&&t.all[n])return!0;return!1}Ft.schemaHasRulesButRef=qGn;function WGn({topSchemaRef:e,schemaPath:t},n,r,i){if(!i){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,es._)`${n}`}return(0,es._)`${e}${t}${(0,es.getProperty)(r)}`}Ft.schemaRefOrVal=WGn;function GGn(e){return sZe(decodeURIComponent(e))}Ft.unescapeFragment=GGn;function YGn(e){return encodeURIComponent(Rhe(e))}Ft.escapeFragment=YGn;function Rhe(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Ft.escapeJsonPointer=Rhe;function sZe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Ft.unescapeJsonPointer=sZe;function KGn(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)}Ft.eachItem=KGn;function F4e({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(i,s,o,a)=>{const u=o===void 0?s:o instanceof es.Name?(s instanceof es.Name?e(i,s,o):t(i,s,o),o):s instanceof es.Name?(t(i,o,s),s):n(s,o);return a===es.Name&&!(u instanceof es.Name)?r(i,u):u}}Ft.mergeEvaluated={props:F4e({mergeNames:(e,t,n)=>e.if((0,es._)`${n} !== true && ${t} !== undefined`,()=>{e.if((0,es._)`${t} === true`,()=>e.assign(n,!0),()=>e.assign(n,(0,es._)`${n} || {}`).code((0,es._)`Object.assign(${n}, ${t})`))}),mergeToName:(e,t,n)=>e.if((0,es._)`${n} !== true`,()=>{t===!0?e.assign(n,!0):(e.assign(n,(0,es._)`${n} || {}`),$he(e,n,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:oZe}),items:F4e({mergeNames:(e,t,n)=>e.if((0,es._)`${n} !== true && ${t} !== undefined`,()=>e.assign(n,(0,es._)`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`)),mergeToName:(e,t,n)=>e.if((0,es._)`${n} !== true`,()=>e.assign(n,t===!0?!0:(0,es._)`${n} > ${t} ? ${n} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function oZe(e,t){if(t===!0)return e.var("props",!0);const n=e.var("props",(0,es._)`{}`);return t!==void 0&&$he(e,n,t),n}Ft.evaluatedPropsToName=oZe;function $he(e,t,n){Object.keys(n).forEach(r=>e.assign((0,es._)`${t}${(0,es.getProperty)(r)}`,!0))}Ft.setEvaluated=$he;const B4e={};function XGn(e,t){return e.scopeValue("func",{ref:t,code:B4e[t.code]||(B4e[t.code]=new zGn._Code(t.code))})}Ft.useFunc=XGn;var hte;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(hte||(Ft.Type=hte={}));function QGn(e,t,n){if(e instanceof es.Name){const r=t===hte.Num;return n?r?(0,es._)`"[" + ${e} + "]"`:(0,es._)`"['" + ${e} + "']"`:r?(0,es._)`"/" + ${e}`:(0,es._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,es.getProperty)(e).toString():"/"+Rhe(e)}Ft.getErrorPath=QGn;function aZe(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,n===!0)throw new Error(t);e.self.logger.warn(t)}}Ft.checkStrictMode=aZe;var Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});const Cu=gr,JGn={data:new Cu.Name("data"),valCxt:new Cu.Name("valCxt"),instancePath:new Cu.Name("instancePath"),parentData:new Cu.Name("parentData"),parentDataProperty:new Cu.Name("parentDataProperty"),rootData:new Cu.Name("rootData"),dynamicAnchors:new Cu.Name("dynamicAnchors"),vErrors:new Cu.Name("vErrors"),errors:new Cu.Name("errors"),this:new Cu.Name("this"),self:new Cu.Name("self"),scope:new Cu.Name("scope"),json:new Cu.Name("json"),jsonPos:new Cu.Name("jsonPos"),jsonLen:new Cu.Name("jsonLen"),jsonPart:new Cu.Name("jsonPart")};Gm.default=JGn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=gr,n=Ft,r=Gm;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,y=e.keywordError,v,b){const{it:w}=g,{gen:x,compositeRule:S,allErrors:A}=w,C=f(g,y,v);b??(S||A)?u(x,C):l(w,(0,t._)`[${C}]`)}e.reportError=i;function s(g,y=e.keywordError,v){const{it:b}=g,{gen:w,compositeRule:x,allErrors:S}=b,A=f(g,y,v);u(w,A),x||S||l(b,r.default.vErrors)}e.reportExtraError=s;function o(g,y){g.assign(r.default.errors,y),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${r.default.vErrors}.length`,y),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:g,keyword:y,schemaValue:v,data:b,errsCount:w,it:x}){if(w===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",w,r.default.errors,A=>{g.const(S,(0,t._)`${r.default.vErrors}[${A}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(r.default.instancePath,x.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${x.errSchemaPath}/${y}`),x.opts.verbose&&(g.assign((0,t._)`${S}.schema`,v),g.assign((0,t._)`${S}.data`,b))})}e.extendErrors=a;function u(g,y){const v=g.const("err",y);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),g.code((0,t._)`${r.default.errors}++`)}function l(g,y){const{gen:v,validateName:b,schemaEnv:w}=g;w.$async?v.throw((0,t._)`new ${g.ValidationError}(${y})`):(v.assign((0,t._)`${b}.errors`,y),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(g,y,v){const{createErrors:b}=g.it;return b===!1?(0,t._)`{}`:d(g,y,v)}function d(g,y,v={}){const{gen:b,it:w}=g,x=[h(w,v),p(g,v)];return m(g,y,x),b.object(...x)}function h({errorPath:g},{instancePath:y}){const v=y?(0,t.str)`${g}${(0,n.getErrorPath)(y,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:g,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:b}){let w=b?y:(0,t.str)`${y}/${g}`;return v&&(w=(0,t.str)`${w}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,w]}function m(g,{params:y,message:v},b){const{keyword:w,data:x,schemaValue:S,it:A}=g,{opts:C,propertyName:$,topSchemaRef:k,schemaPath:P}=A;b.push([c.keyword,w],[c.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),C.messages&&b.push([c.message,typeof v=="function"?v(g):v]),C.verbose&&b.push([c.schema,S],[c.parentSchema,(0,t._)`${k}${P}`],[r.default.data,x]),$&&b.push([c.propertyName,$])}})(n5);Object.defineProperty(iC,"__esModule",{value:!0});iC.boolOrEmptySchema=iC.topBoolOrEmptySchema=void 0;const ZGn=n5,eYn=gr,tYn=Gm,nYn={message:"boolean schema is false"};function rYn(e){const{gen:t,schema:n,validateName:r}=e;n===!1?uZe(e,!1):typeof n=="object"&&n.$async===!0?t.return(tYn.default.data):(t.assign((0,eYn._)`${r}.errors`,null),t.return(!0))}iC.topBoolOrEmptySchema=rYn;function iYn(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),uZe(e)):n.var(t,!0)}iC.boolOrEmptySchema=iYn;function uZe(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,ZGn.reportError)(i,nYn,void 0,t)}var Ko={},s2={};Object.defineProperty(s2,"__esModule",{value:!0});s2.getRules=s2.isJSONType=void 0;const sYn=["string","number","integer","boolean","null","object","array"],oYn=new Set(sYn);function aYn(e){return typeof e=="string"&&oYn.has(e)}s2.isJSONType=aYn;function uYn(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}s2.getRules=uYn;var cy={};Object.defineProperty(cy,"__esModule",{value:!0});cy.shouldUseRule=cy.shouldUseGroup=cy.schemaHasRulesForType=void 0;function lYn({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&lZe(e,r)}cy.schemaHasRulesForType=lYn;function lZe(e,t){return t.rules.some(n=>cZe(e,n))}cy.shouldUseGroup=lZe;function cZe(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}cy.shouldUseRule=cZe;Object.defineProperty(Ko,"__esModule",{value:!0});Ko.reportTypeError=Ko.checkDataTypes=Ko.checkDataType=Ko.coerceAndCheckDataType=Ko.getJSONTypes=Ko.getSchemaTypes=Ko.DataType=void 0;const cYn=s2,fYn=cy,dYn=n5,er=gr,fZe=Ft;var BS;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(BS||(Ko.DataType=BS={}));function hYn(e){const t=dZe(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Ko.getSchemaTypes=hYn;function dZe(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(cYn.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Ko.getJSONTypes=dZe;function pYn(e,t){const{gen:n,data:r,opts:i}=e,s=mYn(t,i.coerceTypes),o=t.length>0&&!(s.length===0&&t.length===1&&(0,fYn.schemaHasRulesForType)(e,t[0]));if(o){const a=Nhe(t,r,i.strictNumbers,BS.Wrong);n.if(a,()=>{s.length?gYn(e,t,s):Phe(e)})}return o}Ko.coerceAndCheckDataType=pYn;const hZe=new Set(["string","number","integer","boolean","null"]);function mYn(e,t){return t?e.filter(n=>hZe.has(n)||t==="array"&&n==="array"):[]}function gYn(e,t,n){const{gen:r,data:i,opts:s}=e,o=r.let("dataType",(0,er._)`typeof ${i}`),a=r.let("coerced",(0,er._)`undefined`);s.coerceTypes==="array"&&r.if((0,er._)`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>r.assign(i,(0,er._)`${i}[0]`).assign(o,(0,er._)`typeof ${i}`).if(Nhe(t,i,s.strictNumbers),()=>r.assign(a,i))),r.if((0,er._)`${a} !== undefined`);for(const l of n)(hZe.has(l)||l==="array"&&s.coerceTypes==="array")&&u(l);r.else(),Phe(e),r.endIf(),r.if((0,er._)`${a} !== undefined`,()=>{r.assign(i,a),yYn(e,a)});function u(l){switch(l){case"string":r.elseIf((0,er._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,er._)`"" + ${i}`).elseIf((0,er._)`${i} === null`).assign(a,(0,er._)`""`);return;case"number":r.elseIf((0,er._)`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,er._)`+${i}`);return;case"integer":r.elseIf((0,er._)`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,er._)`+${i}`);return;case"boolean":r.elseIf((0,er._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,er._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":r.elseIf((0,er._)`${i} === "" || ${i} === 0 || ${i} === false`),r.assign(a,null);return;case"array":r.elseIf((0,er._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(a,(0,er._)`[${i}]`)}}}function yYn({gen:e,parentData:t,parentDataProperty:n},r){e.if((0,er._)`${t} !== undefined`,()=>e.assign((0,er._)`${t}[${n}]`,r))}function pte(e,t,n,r=BS.Correct){const i=r===BS.Correct?er.operators.EQ:er.operators.NEQ;let s;switch(e){case"null":return(0,er._)`${t} ${i} null`;case"array":s=(0,er._)`Array.isArray(${t})`;break;case"object":s=(0,er._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=o((0,er._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=o();break;default:return(0,er._)`typeof ${t} ${i} ${e}`}return r===BS.Correct?s:(0,er.not)(s);function o(a=er.nil){return(0,er.and)((0,er._)`typeof ${t} == "number"`,a,n?(0,er._)`isFinite(${t})`:er.nil)}}Ko.checkDataType=pte;function Nhe(e,t,n,r){if(e.length===1)return pte(e[0],t,n,r);let i;const s=(0,fZe.toHash)(e);if(s.array&&s.object){const o=(0,er._)`typeof ${t} != "object"`;i=s.null?o:(0,er._)`!${t} || ${o}`,delete s.null,delete s.array,delete s.object}else i=er.nil;s.number&&delete s.integer;for(const o in s)i=(0,er.and)(i,pte(o,t,n,r));return i}Ko.checkDataTypes=Nhe;const vYn={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,er._)`{type: ${e}}`:(0,er._)`{type: ${t}}`};function Phe(e){const t=bYn(e);(0,dYn.reportError)(t,vYn)}Ko.reportTypeError=Phe;function bYn(e){const{gen:t,data:n,schema:r}=e,i=(0,fZe.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}var Az={};Object.defineProperty(Az,"__esModule",{value:!0});Az.assignDefaults=void 0;const dT=gr,_Yn=Ft;function wYn(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)j4e(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>j4e(e,s,i.default))}Az.assignDefaults=wYn;function j4e(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,dT._)`${s}${(0,dT.getProperty)(t)}`;if(i){(0,_Yn.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,dT._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,dT._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,dT._)`${a} = ${(0,dT.stringify)(n)}`)}var B0={},hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.validateUnion=hr.validateArray=hr.usePattern=hr.callValidateCode=hr.schemaProperties=hr.allSchemaProperties=hr.noPropertyInData=hr.propertyInData=hr.isOwnProperty=hr.hasPropFunc=hr.reportMissingProp=hr.checkMissingProp=hr.checkReportMissingProp=void 0;const ws=gr,Ohe=Ft,H1=Gm,xYn=Ft;function EYn(e,t){const{gen:n,data:r,it:i}=e;n.if(Lhe(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ws._)`${t}`},!0),e.error()})}hr.checkReportMissingProp=EYn;function TYn({gen:e,data:t,it:{opts:n}},r,i){return(0,ws.or)(...r.map(s=>(0,ws.and)(Lhe(e,t,s,n.ownProperties),(0,ws._)`${i} = ${s}`)))}hr.checkMissingProp=TYn;function SYn(e,t){e.setParams({missingProperty:t},!0),e.error()}hr.reportMissingProp=SYn;function pZe(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ws._)`Object.prototype.hasOwnProperty`})}hr.hasPropFunc=pZe;function Dhe(e,t,n){return(0,ws._)`${pZe(e)}.call(${t}, ${n})`}hr.isOwnProperty=Dhe;function AYn(e,t,n,r){const i=(0,ws._)`${t}${(0,ws.getProperty)(n)} !== undefined`;return r?(0,ws._)`${i} && ${Dhe(e,t,n)}`:i}hr.propertyInData=AYn;function Lhe(e,t,n,r){const i=(0,ws._)`${t}${(0,ws.getProperty)(n)} === undefined`;return r?(0,ws.or)(i,(0,ws.not)(Dhe(e,t,n))):i}hr.noPropertyInData=Lhe;function mZe(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}hr.allSchemaProperties=mZe;function CYn(e,t){return mZe(t).filter(n=>!(0,Ohe.alwaysValidSchema)(e,t[n]))}hr.schemaProperties=CYn;function IYn({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,ws._)`${e}, ${t}, ${r}${i}`:t,f=[[H1.default.instancePath,(0,ws.strConcat)(H1.default.instancePath,s)],[H1.default.parentData,o.parentData],[H1.default.parentDataProperty,o.parentDataProperty],[H1.default.rootData,H1.default.rootData]];o.opts.dynamicRef&&f.push([H1.default.dynamicAnchors,H1.default.dynamicAnchors]);const d=(0,ws._)`${c}, ${n.object(...f)}`;return u!==ws.nil?(0,ws._)`${a}.call(${u}, ${d})`:(0,ws._)`${a}(${d})`}hr.callValidateCode=IYn;const kYn=(0,ws._)`new RegExp`;function RYn({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,ws._)`${i.code==="new RegExp"?kYn:(0,xYn.useFunc)(e,i)}(${n}, ${r})`})}hr.usePattern=RYn;function $Yn(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,ws._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:Ohe.Type.Num},s),t.if((0,ws.not)(s),a)})}}hr.validateArray=$Yn;function NYn(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,Ohe.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,ws._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,ws.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}hr.validateUnion=NYn;Object.defineProperty(B0,"__esModule",{value:!0});B0.validateKeywordUsage=B0.validSchemaType=B0.funcKeywordCode=B0.macroKeywordCode=void 0;const gl=gr,Mw=Gm,PYn=hr,OYn=n5;function DYn(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=gZe(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:gl.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}B0.macroKeywordCode=DYn;function LYn(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;FYn(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=gZe(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)m(),t.modifying&&U4e(e),g(()=>e.error());else{const y=t.async?h():p();t.modifying&&U4e(e),g(()=>MYn(e,y))}}function h(){const y=r.let("ruleErrs",null);return r.try(()=>m((0,gl._)`await `),v=>r.assign(f,!1).if((0,gl._)`${v} instanceof ${u.ValidationError}`,()=>r.assign(y,(0,gl._)`${v}.errors`),()=>r.throw(v))),y}function p(){const y=(0,gl._)`${c}.errors`;return r.assign(y,null),m(gl.nil),y}function m(y=t.async?(0,gl._)`await `:gl.nil){const v=u.opts.passContext?Mw.default.this:Mw.default.self,b=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,gl._)`${y}${(0,PYn.callValidateCode)(e,c,v,b)}`,t.modifying)}function g(y){var v;r.if((0,gl.not)((v=t.valid)!==null&&v!==void 0?v:f),y)}}B0.funcKeywordCode=LYn;function U4e(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,gl._)`${r.parentData}[${r.parentDataProperty}]`))}function MYn(e,t){const{gen:n}=e;n.if((0,gl._)`Array.isArray(${t})`,()=>{n.assign(Mw.default.vErrors,(0,gl._)`${Mw.default.vErrors} === null ? ${t} : ${Mw.default.vErrors}.concat(${t})`).assign(Mw.default.errors,(0,gl._)`${Mw.default.vErrors}.length`),(0,OYn.extendErrors)(e)},()=>e.error())}function FYn({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function gZe(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,gl.stringify)(n)})}function BYn(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}B0.validSchemaType=BYn;function jYn({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}B0.validateKeywordUsage=jYn;var nb={};Object.defineProperty(nb,"__esModule",{value:!0});nb.extendSubschemaMode=nb.extendSubschemaData=nb.getSubschema=void 0;const D0=gr,yZe=Ft;function UYn(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,D0._)`${e.schemaPath}${(0,D0.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,D0._)`${e.schemaPath}${(0,D0.getProperty)(t)}${(0,D0.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,yZe.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}nb.getSubschema=UYn;function zYn(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,D0._)`${t.data}${(0,D0.getProperty)(n)}`,!0);u(d),e.errorPath=(0,D0.str)`${l}${(0,yZe.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,D0._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof D0.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}nb.extendSubschemaData=zYn;function VYn(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}nb.extendSubschemaMode=VYn;var Qa={},vZe={exports:{}},Dv=vZe.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};QD(t,r,i,e,"",e)};Dv.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Dv.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Dv.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Dv.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function QD(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in Dv.arrayKeywords)for(var d=0;d<f.length;d++)QD(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in Dv.propsKeywords){if(f&&typeof f=="object")for(var h in f)QD(e,t,n,f[h],i+"/"+c+"/"+HYn(h),s,i,c,r,h)}else(c in Dv.keywords||e.allKeys&&!(c in Dv.skipKeywords))&&QD(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function HYn(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var qYn=vZe.exports;Object.defineProperty(Qa,"__esModule",{value:!0});Qa.getSchemaRefs=Qa.resolveUrl=Qa.normalizeId=Qa._getFullPath=Qa.getFullPath=Qa.inlineRef=void 0;const WYn=Ft,GYn=yse,YYn=qYn,KYn=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function XYn(e,t=!0){return typeof e=="boolean"?!0:t===!0?!mte(e):t?bZe(e)<=t:!1}Qa.inlineRef=XYn;const QYn=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function mte(e){for(const t in e){if(QYn.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(mte)||typeof n=="object"&&mte(n))return!0}return!1}function bZe(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!KYn.has(n)&&(typeof e[n]=="object"&&(0,WYn.eachItem)(e[n],r=>t+=bZe(r)),t===1/0))return 1/0}return t}function _Ze(e,t="",n){n!==!1&&(t=jS(t));const r=e.parse(t);return wZe(e,r)}Qa.getFullPath=_Ze;function wZe(e,t){return e.serialize(t).split("#")[0]+"#"}Qa._getFullPath=wZe;const JYn=/#\/?$/;function jS(e){return e?e.replace(JYn,""):""}Qa.normalizeId=jS;function ZYn(e,t,n){return n=jS(n),e.resolve(t,n)}Qa.resolveUrl=ZYn;const eKn=/^[a-z_][-a-z0-9._]*$/i;function tKn(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=jS(e[n]||t),s={"":i},o=_Ze(r,i,!1),a={},u=new Set;return YYn(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const m=o+d;let g=s[p];typeof f[n]=="string"&&(g=y.call(this,f[n])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),s[d]=g;function y(b){const w=this.opts.uriResolver.resolve;if(b=jS(g?w(g,b):b),u.has(b))throw c(b);u.add(b);let x=this.refs[b];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?l(f,x.schema,b):b!==jS(m)&&(b[0]==="#"?(l(f,a[b],b),a[b]=f):this.refs[b]=m),b}function v(b){if(typeof b=="string"){if(!eKn.test(b))throw new Error(`invalid anchor "${b}"`);y.call(this,`#${b}`)}}}),a;function l(f,d,h){if(d!==void 0&&!GYn(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Qa.getSchemaRefs=tKn;Object.defineProperty(bp,"__esModule",{value:!0});bp.getData=bp.KeywordCxt=bp.validateFunctionCode=void 0;const xZe=iC,z4e=Ko,Mhe=cy,LF=Ko,nKn=Az,lk=B0,sK=nb,Zt=gr,$n=Gm,rKn=Qa,fy=Ft,g4=n5;function iKn(e){if(SZe(e)&&(AZe(e),TZe(e))){aKn(e);return}EZe(e,()=>(0,xZe.topBoolOrEmptySchema)(e))}bp.validateFunctionCode=iKn;function EZe({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,Zt._)`${$n.default.data}, ${$n.default.valCxt}`,r.$async,()=>{e.code((0,Zt._)`"use strict"; ${V4e(n,i)}`),oKn(e,i),e.code(s)}):e.func(t,(0,Zt._)`${$n.default.data}, ${sKn(i)}`,r.$async,()=>e.code(V4e(n,i)).code(s))}function sKn(e){return(0,Zt._)`{${$n.default.instancePath}="", ${$n.default.parentData}, ${$n.default.parentDataProperty}, ${$n.default.rootData}=${$n.default.data}${e.dynamicRef?(0,Zt._)`, ${$n.default.dynamicAnchors}={}`:Zt.nil}}={}`}function oKn(e,t){e.if($n.default.valCxt,()=>{e.var($n.default.instancePath,(0,Zt._)`${$n.default.valCxt}.${$n.default.instancePath}`),e.var($n.default.parentData,(0,Zt._)`${$n.default.valCxt}.${$n.default.parentData}`),e.var($n.default.parentDataProperty,(0,Zt._)`${$n.default.valCxt}.${$n.default.parentDataProperty}`),e.var($n.default.rootData,(0,Zt._)`${$n.default.valCxt}.${$n.default.rootData}`),t.dynamicRef&&e.var($n.default.dynamicAnchors,(0,Zt._)`${$n.default.valCxt}.${$n.default.dynamicAnchors}`)},()=>{e.var($n.default.instancePath,(0,Zt._)`""`),e.var($n.default.parentData,(0,Zt._)`undefined`),e.var($n.default.parentDataProperty,(0,Zt._)`undefined`),e.var($n.default.rootData,$n.default.data),t.dynamicRef&&e.var($n.default.dynamicAnchors,(0,Zt._)`{}`)})}function aKn(e){const{schema:t,opts:n,gen:r}=e;EZe(e,()=>{n.$comment&&t.$comment&&IZe(e),dKn(e),r.let($n.default.vErrors,null),r.let($n.default.errors,0),n.unevaluated&&uKn(e),CZe(e),mKn(e)})}function uKn(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,Zt._)`${n}.evaluated`),t.if((0,Zt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Zt._)`${e.evaluated}.props`,(0,Zt._)`undefined`)),t.if((0,Zt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Zt._)`${e.evaluated}.items`,(0,Zt._)`undefined`))}function V4e(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,Zt._)`/*# sourceURL=${n} */`:Zt.nil}function lKn(e,t){if(SZe(e)&&(AZe(e),TZe(e))){cKn(e,t);return}(0,xZe.boolOrEmptySchema)(e,t)}function TZe({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function SZe(e){return typeof e.schema!="boolean"}function cKn(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&IZe(e),hKn(e),pKn(e);const s=r.const("_errs",$n.default.errors);CZe(e,s),r.var(t,(0,Zt._)`${s} === ${$n.default.errors}`)}function AZe(e){(0,fy.checkUnknownRules)(e),fKn(e)}function CZe(e,t){if(e.opts.jtd)return H4e(e,[],!1,t);const n=(0,z4e.getSchemaTypes)(e.schema),r=(0,z4e.coerceAndCheckDataType)(e,n);H4e(e,n,!r,t)}function fKn(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,fy.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function dKn(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,fy.checkStrictMode)(e,"default is ignored in the schema root")}function hKn(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,rKn.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function pKn(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function IZe({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,Zt._)`${$n.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,Zt.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,Zt._)`${$n.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function mKn(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,Zt._)`${$n.default.errors} === 0`,()=>t.return($n.default.data),()=>t.throw((0,Zt._)`new ${i}(${$n.default.vErrors})`)):(t.assign((0,Zt._)`${r}.errors`,$n.default.vErrors),s.unevaluated&&gKn(e),t.return((0,Zt._)`${$n.default.errors} === 0`))}function gKn({gen:e,evaluated:t,props:n,items:r}){n instanceof Zt.Name&&e.assign((0,Zt._)`${t}.props`,n),r instanceof Zt.Name&&e.assign((0,Zt._)`${t}.items`,r)}function H4e(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,fy.schemaHasRulesButRef)(s,c))){i.block(()=>$Ze(e,"$ref",c.all.$ref.definition));return}u.jtd||yKn(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,Mhe.shouldUseGroup)(s,d)&&(d.type?(i.if((0,LF.checkDataType)(d.type,o,u.strictNumbers)),q4e(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,LF.reportTypeError)(e)),i.endIf()):q4e(e,d),a||i.if((0,Zt._)`${$n.default.errors} === ${r||0}`))}}function q4e(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,nKn.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,Mhe.shouldUseRule)(r,s)&&$Ze(e,s.keyword,s.definition,t.type)})}function yKn(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(vKn(e,t),e.opts.allowUnionTypes||bKn(e,t),_Kn(e,e.dataTypes))}function vKn(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{kZe(e.dataTypes,n)||Fhe(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),xKn(e,t)}}function bKn(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Fhe(e,"use allowUnionTypes to allow union type keyword")}function _Kn(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,Mhe.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>wKn(t,o))&&Fhe(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function wKn(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function kZe(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function xKn(e,t){const n=[];for(const r of e.dataTypes)kZe(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function Fhe(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,fy.checkStrictMode)(e,t,e.opts.strictTypes)}class RZe{constructor(t,n,r){if((0,lk.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,fy.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",NZe(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,lk.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",$n.default.errors))}result(t,n,r){this.failResult((0,Zt.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,Zt.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,Zt._)`${n} !== undefined && (${(0,Zt.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?g4.reportExtraError:g4.reportError)(this,this.def.error,n)}$dataError(){(0,g4.reportError)(this,this.def.$dataError||g4.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,g4.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=Zt.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=Zt.nil,n=Zt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,Zt.or)((0,Zt._)`${i} === undefined`,n)),t!==Zt.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==Zt.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,Zt.or)(o(),a());function o(){if(r.length){if(!(n instanceof Zt.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,Zt._)`${(0,LF.checkDataTypes)(u,n,s.opts.strictNumbers,LF.DataType.Wrong)}`}return Zt.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Zt._)`!${u}(${n})`}return Zt.nil}}subschema(t,n){const r=(0,sK.getSubschema)(this.it,t);(0,sK.extendSubschemaData)(r,this.it,t),(0,sK.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return lKn(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=fy.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=fy.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,Zt.Name)),!0}}bp.KeywordCxt=RZe;function $Ze(e,t,n,r){const i=new RZe(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,lk.funcKeywordCode)(i,n):"macro"in n?(0,lk.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,lk.funcKeywordCode)(i,n)}const EKn=/^\/(?:[^~]|~0|~1)*$/,TKn=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function NZe(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return $n.default.rootData;if(e[0]==="/"){if(!EKn.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=$n.default.rootData}else{const l=TKn.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,Zt._)`${s}${(0,Zt.getProperty)((0,fy.unescapeJsonPointer)(l))}`,o=(0,Zt._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}bp.getData=NZe;var r5={};Object.defineProperty(r5,"__esModule",{value:!0});class SKn extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}r5.default=SKn;var N3={};Object.defineProperty(N3,"__esModule",{value:!0});const oK=Qa;class AKn extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,oK.resolveUrl)(t,n,r),this.missingSchema=(0,oK.normalizeId)((0,oK.getFullPath)(t,this.missingRef))}}N3.default=AKn;var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.resolveSchema=Ec.getCompilingSchema=Ec.resolveRef=Ec.compileSchema=Ec.SchemaEnv=void 0;const Ph=gr,CKn=r5,uw=Gm,rp=Qa,W4e=Ft,IKn=bp;class Cz{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,rp.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Ec.SchemaEnv=Cz;function Bhe(e){const t=PZe.call(this,e);if(t)return t;const n=(0,rp.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Ph.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:CKn.default,code:(0,Ph._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:uw.default.data,parentData:uw.default.parentData,parentDataProperty:uw.default.parentDataProperty,dataNames:[uw.default.data],dataPathArr:[Ph.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ph.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:Ph.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ph._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,IKn.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(uw.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${uw.default.self}`,`${uw.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=l;h.evaluated={props:p instanceof Ph.Name?void 0:p,items:m instanceof Ph.Name?void 0:m,dynamicProps:p instanceof Ph.Name,dynamicItems:m instanceof Ph.Name},h.source&&(h.source.evaluated=(0,Ph.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Ec.compileSchema=Bhe;function kKn(e,t,n){var r;n=(0,rp.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=NKn.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new Cz({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=RKn.call(this,s)}Ec.resolveRef=kKn;function RKn(e){return(0,rp.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Bhe.call(this,e)}function PZe(e){for(const t of this._compilations)if($Kn(t,e))return t}Ec.getCompilingSchema=PZe;function $Kn(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function NKn(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||Iz.call(this,e,t)}function Iz(e,t){const n=this.opts.uriResolver.parse(t),r=(0,rp._getFullPath)(this.opts.uriResolver,n);let i=(0,rp.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return aK.call(this,n,e);const s=(0,rp.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=Iz.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:aK.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Bhe.call(this,o),s===(0,rp.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,rp.resolveUrl)(this.opts.uriResolver,i,l)),new Cz({schema:a,schemaId:u,root:e,baseId:i})}return aK.call(this,n,o)}}Ec.resolveSchema=Iz;const PKn=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function aK(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,W4e.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!PKn.has(a)&&l&&(t=(0,rp.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,W4e.schemaHasRulesButRef)(n,this.RULES)){const a=(0,rp.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=Iz.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new Cz({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const OKn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",DKn="Meta-schema for $data reference (JSON AnySchema extension proposal)",LKn="object",MKn=["$data"],FKn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},BKn=!1,jKn={$id:OKn,description:DKn,type:LKn,required:MKn,properties:FKn,additionalProperties:BKn};var jhe={},gte={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Jt,function(n){function r(){for(var me=arguments.length,ue=Array(me),ge=0;ge<me;ge++)ue[ge]=arguments[ge];if(ue.length>1){ue[0]=ue[0].slice(0,-1);for(var Me=ue.length-1,Le=1;Le<Me;++Le)ue[Le]=ue[Le].slice(1,-1);return ue[Me]=ue[Me].slice(1),ue.join("")}else return ue[0]}function i(me){return"(?:"+me+")"}function s(me){return me===void 0?"undefined":me===null?"null":Object.prototype.toString.call(me).split(" ").pop().split("]").shift().toLowerCase()}function o(me){return me.toUpperCase()}function a(me){return me!=null?me instanceof Array?me:typeof me.length!="number"||me.split||me.setInterval||me.call?[me]:Array.prototype.slice.call(me):[]}function u(me,ue){var ge=me;if(ue)for(var Me in ue)ge[Me]=ue[Me];return ge}function l(me){var ue="[A-Za-z]",ge="[0-9]",Me=r(ge,"[A-Fa-f]"),Le=i(i("%[EFef]"+Me+"%"+Me+Me+"%"+Me+Me)+"|"+i("%[89A-Fa-f]"+Me+"%"+Me+Me)+"|"+i("%"+Me+Me)),wt="[\\:\\/\\?\\#\\[\\]\\@]",Ut="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",pn=r(wt,Ut),rr=me?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",dr=me?"[\\uE000-\\uF8FF]":"[]",Ln=r(ue,ge,"[\\-\\.\\_\\~]",rr);i(ue+r(ue,ge,"[\\+\\-\\.]")+"*"),i(i(Le+"|"+r(Ln,Ut,"[\\:]"))+"*");var Nr=i(i("25[0-5]")+"|"+i("2[0-4]"+ge)+"|"+i("1"+ge+ge)+"|"+i("0?[1-9]"+ge)+"|0?0?"+ge),hi=i(Nr+"\\."+Nr+"\\."+Nr+"\\."+Nr),an=i(Me+"{1,4}"),Pr=i(i(an+"\\:"+an)+"|"+hi),ii=i(i(an+"\\:")+"{6}"+Pr),xr=i("\\:\\:"+i(an+"\\:")+"{5}"+Pr),Fi=i(i(an)+"?\\:\\:"+i(an+"\\:")+"{4}"+Pr),Io=i(i(i(an+"\\:")+"{0,1}"+an)+"?\\:\\:"+i(an+"\\:")+"{3}"+Pr),Bi=i(i(i(an+"\\:")+"{0,2}"+an)+"?\\:\\:"+i(an+"\\:")+"{2}"+Pr),Bo=i(i(i(an+"\\:")+"{0,3}"+an)+"?\\:\\:"+an+"\\:"+Pr),ps=i(i(i(an+"\\:")+"{0,4}"+an)+"?\\:\\:"+Pr),ms=i(i(i(an+"\\:")+"{0,5}"+an)+"?\\:\\:"+an),jo=i(i(i(an+"\\:")+"{0,6}"+an)+"?\\:\\:"),Ba=i([ii,xr,Fi,Io,Bi,Bo,ps,ms,jo].join("|")),ko=i(i(Ln+"|"+Le)+"+");i("[vV]"+Me+"+\\."+r(Ln,Ut,"[\\:]")+"+"),i(i(Le+"|"+r(Ln,Ut))+"*");var Jl=i(Le+"|"+r(Ln,Ut,"[\\:\\@]"));return i(i(Le+"|"+r(Ln,Ut,"[\\@]"))+"+"),i(i(Jl+"|"+r("[\\/\\?]",dr))+"*"),{NOT_SCHEME:new RegExp(r("[^]",ue,ge,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Ln,Ut),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Ln,Ut),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Ln,Ut),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Ln,Ut),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Ln,Ut,"[\\:\\@\\/\\?]",dr),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Ln,Ut,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Ln,Ut),"g"),UNRESERVED:new RegExp(Ln,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Ln,pn),"g"),PCT_ENCODED:new RegExp(Le,"g"),IPV4ADDRESS:new RegExp("^("+hi+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ba+")"+i(i("\\%25|\\%(?!"+Me+"{2})")+"("+ko+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function me(ue,ge){var Me=[],Le=!0,wt=!1,Ut=void 0;try{for(var pn=ue[Symbol.iterator](),rr;!(Le=(rr=pn.next()).done)&&(Me.push(rr.value),!(ge&&Me.length===ge));Le=!0);}catch(dr){wt=!0,Ut=dr}finally{try{!Le&&pn.return&&pn.return()}finally{if(wt)throw Ut}}return Me}return function(ue,ge){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return me(ue,ge);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(me){if(Array.isArray(me)){for(var ue=0,ge=Array(me.length);ue<me.length;ue++)ge[ue]=me[ue];return ge}else return Array.from(me)},p=2147483647,m=36,g=1,y=26,v=38,b=700,w=72,x=128,S="-",A=/^xn--/,C=/[^\0-\x7E]/,$=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=m-g,L=Math.floor,O=String.fromCharCode;function B(me){throw new RangeError(k[me])}function q(me,ue){for(var ge=[],Me=me.length;Me--;)ge[Me]=ue(me[Me]);return ge}function H(me,ue){var ge=me.split("@"),Me="";ge.length>1&&(Me=ge[0]+"@",me=ge[1]),me=me.replace($,".");var Le=me.split("."),wt=q(Le,ue).join(".");return Me+wt}function G(me){for(var ue=[],ge=0,Me=me.length;ge<Me;){var Le=me.charCodeAt(ge++);if(Le>=55296&&Le<=56319&&ge<Me){var wt=me.charCodeAt(ge++);(wt&64512)==56320?ue.push(((Le&1023)<<10)+(wt&1023)+65536):(ue.push(Le),ge--)}else ue.push(Le)}return ue}var K=function(ue){return String.fromCodePoint.apply(String,h(ue))},J=function(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:m},F=function(ue,ge){return ue+22+75*(ue<26)-((ge!=0)<<5)},j=function(ue,ge,Me){var Le=0;for(ue=Me?L(ue/b):ue>>1,ue+=L(ue/ge);ue>P*y>>1;Le+=m)ue=L(ue/P);return L(Le+(P+1)*ue/(ue+v))},W=function(ue){var ge=[],Me=ue.length,Le=0,wt=x,Ut=w,pn=ue.lastIndexOf(S);pn<0&&(pn=0);for(var rr=0;rr<pn;++rr)ue.charCodeAt(rr)>=128&&B("not-basic"),ge.push(ue.charCodeAt(rr));for(var dr=pn>0?pn+1:0;dr<Me;){for(var Ln=Le,Nr=1,hi=m;;hi+=m){dr>=Me&&B("invalid-input");var an=J(ue.charCodeAt(dr++));(an>=m||an>L((p-Le)/Nr))&&B("overflow"),Le+=an*Nr;var Pr=hi<=Ut?g:hi>=Ut+y?y:hi-Ut;if(an<Pr)break;var ii=m-Pr;Nr>L(p/ii)&&B("overflow"),Nr*=ii}var xr=ge.length+1;Ut=j(Le-Ln,xr,Ln==0),L(Le/xr)>p-wt&&B("overflow"),wt+=L(Le/xr),Le%=xr,ge.splice(Le++,0,wt)}return String.fromCodePoint.apply(String,ge)},M=function(ue){var ge=[];ue=G(ue);var Me=ue.length,Le=x,wt=0,Ut=w,pn=!0,rr=!1,dr=void 0;try{for(var Ln=ue[Symbol.iterator](),Nr;!(pn=(Nr=Ln.next()).done);pn=!0){var hi=Nr.value;hi<128&&ge.push(O(hi))}}catch(qe){rr=!0,dr=qe}finally{try{!pn&&Ln.return&&Ln.return()}finally{if(rr)throw dr}}var an=ge.length,Pr=an;for(an&&ge.push(S);Pr<Me;){var ii=p,xr=!0,Fi=!1,Io=void 0;try{for(var Bi=ue[Symbol.iterator](),Bo;!(xr=(Bo=Bi.next()).done);xr=!0){var ps=Bo.value;ps>=Le&&ps<ii&&(ii=ps)}}catch(qe){Fi=!0,Io=qe}finally{try{!xr&&Bi.return&&Bi.return()}finally{if(Fi)throw Io}}var ms=Pr+1;ii-Le>L((p-wt)/ms)&&B("overflow"),wt+=(ii-Le)*ms,Le=ii;var jo=!0,Ba=!1,ko=void 0;try{for(var Jl=ue[Symbol.iterator](),od;!(jo=(od=Jl.next()).done);jo=!0){var ee=od.value;if(ee<Le&&++wt>p&&B("overflow"),ee==Le){for(var pe=wt,oe=m;;oe+=m){var we=oe<=Ut?g:oe>=Ut+y?y:oe-Ut;if(pe<we)break;var Ae=pe-we,_e=m-we;ge.push(O(F(we+Ae%_e,0))),pe=L(Ae/_e)}ge.push(O(F(pe,0))),Ut=j(wt,ms,Pr==an),wt=0,++Pr}}}catch(qe){Ba=!0,ko=qe}finally{try{!jo&&Jl.return&&Jl.return()}finally{if(Ba)throw ko}}++wt,++Le}return ge.join("")},V=function(ue){return H(ue,function(ge){return A.test(ge)?W(ge.slice(4).toLowerCase()):ge})},Q=function(ue){return H(ue,function(ge){return C.test(ge)?"xn--"+M(ge):ge})},se={version:"2.1.0",ucs2:{decode:G,encode:K},decode:W,encode:M,toASCII:Q,toUnicode:V},be={};function he(me){var ue=me.charCodeAt(0),ge=void 0;return ue<16?ge="%0"+ue.toString(16).toUpperCase():ue<128?ge="%"+ue.toString(16).toUpperCase():ue<2048?ge="%"+(ue>>6|192).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase():ge="%"+(ue>>12|224).toString(16).toUpperCase()+"%"+(ue>>6&63|128).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase(),ge}function Ce(me){for(var ue="",ge=0,Me=me.length;ge<Me;){var Le=parseInt(me.substr(ge+1,2),16);if(Le<128)ue+=String.fromCharCode(Le),ge+=3;else if(Le>=194&&Le<224){if(Me-ge>=6){var wt=parseInt(me.substr(ge+4,2),16);ue+=String.fromCharCode((Le&31)<<6|wt&63)}else ue+=me.substr(ge,6);ge+=6}else if(Le>=224){if(Me-ge>=9){var Ut=parseInt(me.substr(ge+4,2),16),pn=parseInt(me.substr(ge+7,2),16);ue+=String.fromCharCode((Le&15)<<12|(Ut&63)<<6|pn&63)}else ue+=me.substr(ge,9);ge+=9}else ue+=me.substr(ge,3),ge+=3}return ue}function Pe(me,ue){function ge(Me){var Le=Ce(Me);return Le.match(ue.UNRESERVED)?Le:Me}return me.scheme&&(me.scheme=String(me.scheme).replace(ue.PCT_ENCODED,ge).toLowerCase().replace(ue.NOT_SCHEME,"")),me.userinfo!==void 0&&(me.userinfo=String(me.userinfo).replace(ue.PCT_ENCODED,ge).replace(ue.NOT_USERINFO,he).replace(ue.PCT_ENCODED,o)),me.host!==void 0&&(me.host=String(me.host).replace(ue.PCT_ENCODED,ge).toLowerCase().replace(ue.NOT_HOST,he).replace(ue.PCT_ENCODED,o)),me.path!==void 0&&(me.path=String(me.path).replace(ue.PCT_ENCODED,ge).replace(me.scheme?ue.NOT_PATH:ue.NOT_PATH_NOSCHEME,he).replace(ue.PCT_ENCODED,o)),me.query!==void 0&&(me.query=String(me.query).replace(ue.PCT_ENCODED,ge).replace(ue.NOT_QUERY,he).replace(ue.PCT_ENCODED,o)),me.fragment!==void 0&&(me.fragment=String(me.fragment).replace(ue.PCT_ENCODED,ge).replace(ue.NOT_FRAGMENT,he).replace(ue.PCT_ENCODED,o)),me}function rt(me){return me.replace(/^0*(.*)/,"$1")||"0"}function Re(me,ue){var ge=me.match(ue.IPV4ADDRESS)||[],Me=d(ge,2),Le=Me[1];return Le?Le.split(".").map(rt).join("."):me}function Tt(me,ue){var ge=me.match(ue.IPV6ADDRESS)||[],Me=d(ge,3),Le=Me[1],wt=Me[2];if(Le){for(var Ut=Le.toLowerCase().split("::").reverse(),pn=d(Ut,2),rr=pn[0],dr=pn[1],Ln=dr?dr.split(":").map(rt):[],Nr=rr.split(":").map(rt),hi=ue.IPV4ADDRESS.test(Nr[Nr.length-1]),an=hi?7:8,Pr=Nr.length-an,ii=Array(an),xr=0;xr<an;++xr)ii[xr]=Ln[xr]||Nr[Pr+xr]||"";hi&&(ii[an-1]=Re(ii[an-1],ue));var Fi=ii.reduce(function(ms,jo,Ba){if(!jo||jo==="0"){var ko=ms[ms.length-1];ko&&ko.index+ko.length===Ba?ko.length++:ms.push({index:Ba,length:1})}return ms},[]),Io=Fi.sort(function(ms,jo){return jo.length-ms.length})[0],Bi=void 0;if(Io&&Io.length>1){var Bo=ii.slice(0,Io.index),ps=ii.slice(Io.index+Io.length);Bi=Bo.join(":")+"::"+ps.join(":")}else Bi=ii.join(":");return wt&&(Bi+="%"+wt),Bi}else return me}var Ze=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,It="".match(/(){0}/)[1]===void 0;function mt(me){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge={},Me=ue.iri!==!1?f:c;ue.reference==="suffix"&&(me=(ue.scheme?ue.scheme+":":"")+"//"+me);var Le=me.match(Ze);if(Le){It?(ge.scheme=Le[1],ge.userinfo=Le[3],ge.host=Le[4],ge.port=parseInt(Le[5],10),ge.path=Le[6]||"",ge.query=Le[7],ge.fragment=Le[8],isNaN(ge.port)&&(ge.port=Le[5])):(ge.scheme=Le[1]||void 0,ge.userinfo=me.indexOf("@")!==-1?Le[3]:void 0,ge.host=me.indexOf("//")!==-1?Le[4]:void 0,ge.port=parseInt(Le[5],10),ge.path=Le[6]||"",ge.query=me.indexOf("?")!==-1?Le[7]:void 0,ge.fragment=me.indexOf("#")!==-1?Le[8]:void 0,isNaN(ge.port)&&(ge.port=me.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Le[4]:void 0)),ge.host&&(ge.host=Tt(Re(ge.host,Me),Me)),ge.scheme===void 0&&ge.userinfo===void 0&&ge.host===void 0&&ge.port===void 0&&!ge.path&&ge.query===void 0?ge.reference="same-document":ge.scheme===void 0?ge.reference="relative":ge.fragment===void 0?ge.reference="absolute":ge.reference="uri",ue.reference&&ue.reference!=="suffix"&&ue.reference!==ge.reference&&(ge.error=ge.error||"URI is not a "+ue.reference+" reference.");var wt=be[(ue.scheme||ge.scheme||"").toLowerCase()];if(!ue.unicodeSupport&&(!wt||!wt.unicodeSupport)){if(ge.host&&(ue.domainHost||wt&&wt.domainHost))try{ge.host=se.toASCII(ge.host.replace(Me.PCT_ENCODED,Ce).toLowerCase())}catch(Ut){ge.error=ge.error||"Host's domain name can not be converted to ASCII via punycode: "+Ut}Pe(ge,c)}else Pe(ge,Me);wt&&wt.parse&&wt.parse(ge,ue)}else ge.error=ge.error||"URI can not be parsed.";return ge}function Se(me,ue){var ge=ue.iri!==!1?f:c,Me=[];return me.userinfo!==void 0&&(Me.push(me.userinfo),Me.push("@")),me.host!==void 0&&Me.push(Tt(Re(String(me.host),ge),ge).replace(ge.IPV6ADDRESS,function(Le,wt,Ut){return"["+wt+(Ut?"%25"+Ut:"")+"]"})),(typeof me.port=="number"||typeof me.port=="string")&&(Me.push(":"),Me.push(String(me.port))),Me.length?Me.join(""):void 0}var Fe=/^\.\.?\//,st=/^\/\.(\/|$)/,yt=/^\/\.\.(\/|$)/,$t=/^\/?(?:.|\n)*?(?=\/|$)/;function Je(me){for(var ue=[];me.length;)if(me.match(Fe))me=me.replace(Fe,"");else if(me.match(st))me=me.replace(st,"/");else if(me.match(yt))me=me.replace(yt,"/"),ue.pop();else if(me==="."||me==="..")me="";else{var ge=me.match($t);if(ge){var Me=ge[0];me=me.slice(Me.length),ue.push(Me)}else throw new Error("Unexpected dot segment condition")}return ue.join("")}function xe(me){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=ue.iri?f:c,Me=[],Le=be[(ue.scheme||me.scheme||"").toLowerCase()];if(Le&&Le.serialize&&Le.serialize(me,ue),me.host&&!ge.IPV6ADDRESS.test(me.host)){if(ue.domainHost||Le&&Le.domainHost)try{me.host=ue.iri?se.toUnicode(me.host):se.toASCII(me.host.replace(ge.PCT_ENCODED,Ce).toLowerCase())}catch(pn){me.error=me.error||"Host's domain name can not be converted to "+(ue.iri?"Unicode":"ASCII")+" via punycode: "+pn}}Pe(me,ge),ue.reference!=="suffix"&&me.scheme&&(Me.push(me.scheme),Me.push(":"));var wt=Se(me,ue);if(wt!==void 0&&(ue.reference!=="suffix"&&Me.push("//"),Me.push(wt),me.path&&me.path.charAt(0)!=="/"&&Me.push("/")),me.path!==void 0){var Ut=me.path;!ue.absolutePath&&(!Le||!Le.absolutePath)&&(Ut=Je(Ut)),wt===void 0&&(Ut=Ut.replace(/^\/\//,"/%2F")),Me.push(Ut)}return me.query!==void 0&&(Me.push("?"),Me.push(me.query)),me.fragment!==void 0&&(Me.push("#"),Me.push(me.fragment)),Me.join("")}function kt(me,ue){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Me=arguments[3],Le={};return Me||(me=mt(xe(me,ge),ge),ue=mt(xe(ue,ge),ge)),ge=ge||{},!ge.tolerant&&ue.scheme?(Le.scheme=ue.scheme,Le.userinfo=ue.userinfo,Le.host=ue.host,Le.port=ue.port,Le.path=Je(ue.path||""),Le.query=ue.query):(ue.userinfo!==void 0||ue.host!==void 0||ue.port!==void 0?(Le.userinfo=ue.userinfo,Le.host=ue.host,Le.port=ue.port,Le.path=Je(ue.path||""),Le.query=ue.query):(ue.path?(ue.path.charAt(0)==="/"?Le.path=Je(ue.path):((me.userinfo!==void 0||me.host!==void 0||me.port!==void 0)&&!me.path?Le.path="/"+ue.path:me.path?Le.path=me.path.slice(0,me.path.lastIndexOf("/")+1)+ue.path:Le.path=ue.path,Le.path=Je(Le.path)),Le.query=ue.query):(Le.path=me.path,ue.query!==void 0?Le.query=ue.query:Le.query=me.query),Le.userinfo=me.userinfo,Le.host=me.host,Le.port=me.port),Le.scheme=me.scheme),Le.fragment=ue.fragment,Le}function Rt(me,ue,ge){var Me=u({scheme:"null"},ge);return xe(kt(mt(me,Me),mt(ue,Me),Me,!0),Me)}function Ee(me,ue){return typeof me=="string"?me=xe(mt(me,ue),ue):s(me)==="object"&&(me=mt(xe(me,ue),ue)),me}function Oe(me,ue,ge){return typeof me=="string"?me=xe(mt(me,ge),ge):s(me)==="object"&&(me=xe(me,ge)),typeof ue=="string"?ue=xe(mt(ue,ge),ge):s(ue)==="object"&&(ue=xe(ue,ge)),me===ue}function ot(me,ue){return me&&me.toString().replace(!ue||!ue.iri?c.ESCAPE:f.ESCAPE,he)}function _t(me,ue){return me&&me.toString().replace(!ue||!ue.iri?c.PCT_ENCODED:f.PCT_ENCODED,Ce)}var jt={scheme:"http",domainHost:!0,parse:function(ue,ge){return ue.host||(ue.error=ue.error||"HTTP URIs must have a host."),ue},serialize:function(ue,ge){var Me=String(ue.scheme).toLowerCase()==="https";return(ue.port===(Me?443:80)||ue.port==="")&&(ue.port=void 0),ue.path||(ue.path="/"),ue}},qn={scheme:"https",domainHost:jt.domainHost,parse:jt.parse,serialize:jt.serialize};function yr(me){return typeof me.secure=="boolean"?me.secure:String(me.scheme).toLowerCase()==="wss"}var $r={scheme:"ws",domainHost:!0,parse:function(ue,ge){var Me=ue;return Me.secure=yr(Me),Me.resourceName=(Me.path||"/")+(Me.query?"?"+Me.query:""),Me.path=void 0,Me.query=void 0,Me},serialize:function(ue,ge){if((ue.port===(yr(ue)?443:80)||ue.port==="")&&(ue.port=void 0),typeof ue.secure=="boolean"&&(ue.scheme=ue.secure?"wss":"ws",ue.secure=void 0),ue.resourceName){var Me=ue.resourceName.split("?"),Le=d(Me,2),wt=Le[0],Ut=Le[1];ue.path=wt&&wt!=="/"?wt:void 0,ue.query=Ut,ue.resourceName=void 0}return ue.fragment=void 0,ue}},Ci={scheme:"wss",domainHost:$r.domainHost,parse:$r.parse,serialize:$r.serialize},Cn={},Wn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",vr="[0-9A-Fa-f]",wr=i(i("%[EFef]"+vr+"%"+vr+vr+"%"+vr+vr)+"|"+i("%[89A-Fa-f]"+vr+"%"+vr+vr)+"|"+i("%"+vr+vr)),da="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",hs="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ss=r(hs,'[\\"\\\\]'),qs="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Xr=new RegExp(Wn,"g"),As=new RegExp(wr,"g"),lf=new RegExp(r("[^]",da,"[\\.]",'[\\"]',Ss),"g"),ha=new RegExp(r("[^]",Wn,qs),"g"),rl=ha;function qr(me){var ue=Ce(me);return ue.match(Xr)?ue:me}var Li={scheme:"mailto",parse:function(ue,ge){var Me=ue,Le=Me.to=Me.path?Me.path.split(","):[];if(Me.path=void 0,Me.query){for(var wt=!1,Ut={},pn=Me.query.split("&"),rr=0,dr=pn.length;rr<dr;++rr){var Ln=pn[rr].split("=");switch(Ln[0]){case"to":for(var Nr=Ln[1].split(","),hi=0,an=Nr.length;hi<an;++hi)Le.push(Nr[hi]);break;case"subject":Me.subject=_t(Ln[1],ge);break;case"body":Me.body=_t(Ln[1],ge);break;default:wt=!0,Ut[_t(Ln[0],ge)]=_t(Ln[1],ge);break}}wt&&(Me.headers=Ut)}Me.query=void 0;for(var Pr=0,ii=Le.length;Pr<ii;++Pr){var xr=Le[Pr].split("@");if(xr[0]=_t(xr[0]),ge.unicodeSupport)xr[1]=_t(xr[1],ge).toLowerCase();else try{xr[1]=se.toASCII(_t(xr[1],ge).toLowerCase())}catch(Fi){Me.error=Me.error||"Email address's domain name can not be converted to ASCII via punycode: "+Fi}Le[Pr]=xr.join("@")}return Me},serialize:function(ue,ge){var Me=ue,Le=a(ue.to);if(Le){for(var wt=0,Ut=Le.length;wt<Ut;++wt){var pn=String(Le[wt]),rr=pn.lastIndexOf("@"),dr=pn.slice(0,rr).replace(As,qr).replace(As,o).replace(lf,he),Ln=pn.slice(rr+1);try{Ln=ge.iri?se.toUnicode(Ln):se.toASCII(_t(Ln,ge).toLowerCase())}catch(Pr){Me.error=Me.error||"Email address's domain name can not be converted to "+(ge.iri?"Unicode":"ASCII")+" via punycode: "+Pr}Le[wt]=dr+"@"+Ln}Me.path=Le.join(",")}var Nr=ue.headers=ue.headers||{};ue.subject&&(Nr.subject=ue.subject),ue.body&&(Nr.body=ue.body);var hi=[];for(var an in Nr)Nr[an]!==Cn[an]&&hi.push(an.replace(As,qr).replace(As,o).replace(ha,he)+"="+Nr[an].replace(As,qr).replace(As,o).replace(rl,he));return hi.length&&(Me.query=hi.join("&")),Me}},wi=/^([^\:]+)\:(.*)/,lo={scheme:"urn",parse:function(ue,ge){var Me=ue.path&&ue.path.match(wi),Le=ue;if(Me){var wt=ge.scheme||Le.scheme||"urn",Ut=Me[1].toLowerCase(),pn=Me[2],rr=wt+":"+(ge.nid||Ut),dr=be[rr];Le.nid=Ut,Le.nss=pn,Le.path=void 0,dr&&(Le=dr.parse(Le,ge))}else Le.error=Le.error||"URN can not be parsed.";return Le},serialize:function(ue,ge){var Me=ge.scheme||ue.scheme||"urn",Le=ue.nid,wt=Me+":"+(ge.nid||Le),Ut=be[wt];Ut&&(ue=Ut.serialize(ue,ge));var pn=ue,rr=ue.nss;return pn.path=(Le||ge.nid)+":"+rr,pn}},di=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Mi={scheme:"urn:uuid",parse:function(ue,ge){var Me=ue;return Me.uuid=Me.nss,Me.nss=void 0,!ge.tolerant&&(!Me.uuid||!Me.uuid.match(di))&&(Me.error=Me.error||"UUID is not valid."),Me},serialize:function(ue,ge){var Me=ue;return Me.nss=(ue.uuid||"").toLowerCase(),Me}};be[jt.scheme]=jt,be[qn.scheme]=qn,be[$r.scheme]=$r,be[Ci.scheme]=Ci,be[Li.scheme]=Li,be[lo.scheme]=lo,be[Mi.scheme]=Mi,n.SCHEMES=be,n.pctEncChar=he,n.pctDecChars=Ce,n.parse=mt,n.removeDotSegments=Je,n.serialize=xe,n.resolveComponents=kt,n.resolve=Rt,n.normalize=Ee,n.equal=Oe,n.escapeComponent=ot,n.unescapeComponent=_t,Object.defineProperty(n,"__esModule",{value:!0})})})(gte,gte.exports);var UKn=gte.exports;Object.defineProperty(jhe,"__esModule",{value:!0});const OZe=UKn;OZe.code='require("ajv/dist/runtime/uri").default';jhe.default=OZe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=bp;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=gr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=r5,i=N3,s=s2,o=Ec,a=gr,u=Qa,l=Ko,c=Ft,f=jKn,d=jhe,h=(F,j)=>new RegExp(F,j);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function b(F){var j,W,M,V,Q,se,be,he,Ce,Pe,rt,Re,Tt,Ze,It,mt,Se,Fe,st,yt,$t,Je,xe,kt,Rt;const Ee=F.strict,Oe=(j=F.code)===null||j===void 0?void 0:j.optimize,ot=Oe===!0||Oe===void 0?1:Oe||0,_t=(M=(W=F.code)===null||W===void 0?void 0:W.regExp)!==null&&M!==void 0?M:h,jt=(V=F.uriResolver)!==null&&V!==void 0?V:d.default;return{strictSchema:(se=(Q=F.strictSchema)!==null&&Q!==void 0?Q:Ee)!==null&&se!==void 0?se:!0,strictNumbers:(he=(be=F.strictNumbers)!==null&&be!==void 0?be:Ee)!==null&&he!==void 0?he:!0,strictTypes:(Pe=(Ce=F.strictTypes)!==null&&Ce!==void 0?Ce:Ee)!==null&&Pe!==void 0?Pe:"log",strictTuples:(Re=(rt=F.strictTuples)!==null&&rt!==void 0?rt:Ee)!==null&&Re!==void 0?Re:"log",strictRequired:(Ze=(Tt=F.strictRequired)!==null&&Tt!==void 0?Tt:Ee)!==null&&Ze!==void 0?Ze:!1,code:F.code?{...F.code,optimize:ot,regExp:_t}:{optimize:ot,regExp:_t},loopRequired:(It=F.loopRequired)!==null&&It!==void 0?It:v,loopEnum:(mt=F.loopEnum)!==null&&mt!==void 0?mt:v,meta:(Se=F.meta)!==null&&Se!==void 0?Se:!0,messages:(Fe=F.messages)!==null&&Fe!==void 0?Fe:!0,inlineRefs:(st=F.inlineRefs)!==null&&st!==void 0?st:!0,schemaId:(yt=F.schemaId)!==null&&yt!==void 0?yt:"$id",addUsedSchema:($t=F.addUsedSchema)!==null&&$t!==void 0?$t:!0,validateSchema:(Je=F.validateSchema)!==null&&Je!==void 0?Je:!0,validateFormats:(xe=F.validateFormats)!==null&&xe!==void 0?xe:!0,unicodeRegExp:(kt=F.unicodeRegExp)!==null&&kt!==void 0?kt:!0,int32range:(Rt=F.int32range)!==null&&Rt!==void 0?Rt:!0,uriResolver:jt}}class w{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...b(j)};const{es5:W,lines:M}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:W,lines:M}),this.logger=L(j.logger);const V=j.validateFormats;j.validateFormats=!1,this.RULES=(0,s.getRules)(),x.call(this,g,j,"NOT SUPPORTED"),x.call(this,y,j,"DEPRECATED","warn"),this._metaOpts=k.call(this),j.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&$.call(this,j.keywords),typeof j.meta=="object"&&this.addMetaSchema(j.meta),A.call(this),j.validateFormats=V}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:W,schemaId:M}=this.opts;let V=f;M==="id"&&(V={...f},V.id=V.$id,delete V.$id),W&&j&&this.addMetaSchema(V,V[M],!1)}defaultMeta(){const{meta:j,schemaId:W}=this.opts;return this.opts.defaultMeta=typeof j=="object"?j[W]||j:void 0}validate(j,W){let M;if(typeof j=="string"){if(M=this.getSchema(j),!M)throw new Error(`no schema with key or ref "${j}"`)}else M=this.compile(j);const V=M(W);return"$async"in M||(this.errors=M.errors),V}compile(j,W){const M=this._addSchema(j,W);return M.validate||this._compileSchemaEnv(M)}compileAsync(j,W){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:M}=this.opts;return V.call(this,j,W);async function V(Pe,rt){await Q.call(this,Pe.$schema);const Re=this._addSchema(Pe,rt);return Re.validate||se.call(this,Re)}async function Q(Pe){Pe&&!this.getSchema(Pe)&&await V.call(this,{$ref:Pe},!0)}async function se(Pe){try{return this._compileSchemaEnv(Pe)}catch(rt){if(!(rt instanceof i.default))throw rt;return be.call(this,rt),await he.call(this,rt.missingSchema),se.call(this,Pe)}}function be({missingSchema:Pe,missingRef:rt}){if(this.refs[Pe])throw new Error(`AnySchema ${Pe} is loaded but ${rt} cannot be resolved`)}async function he(Pe){const rt=await Ce.call(this,Pe);this.refs[Pe]||await Q.call(this,rt.$schema),this.refs[Pe]||this.addSchema(rt,Pe,W)}async function Ce(Pe){const rt=this._loading[Pe];if(rt)return rt;try{return await(this._loading[Pe]=M(Pe))}finally{delete this._loading[Pe]}}}addSchema(j,W,M,V=this.opts.validateSchema){if(Array.isArray(j)){for(const se of j)this.addSchema(se,void 0,M,V);return this}let Q;if(typeof j=="object"){const{schemaId:se}=this.opts;if(Q=j[se],Q!==void 0&&typeof Q!="string")throw new Error(`schema ${se} must be string`)}return W=(0,u.normalizeId)(W||Q),this._checkUnique(W),this.schemas[W]=this._addSchema(j,M,W,V,!0),this}addMetaSchema(j,W,M=this.opts.validateSchema){return this.addSchema(j,W,!0,M),this}validateSchema(j,W){if(typeof j=="boolean")return!0;let M;if(M=j.$schema,M!==void 0&&typeof M!="string")throw new Error("$schema must be a string");if(M=M||this.opts.defaultMeta||this.defaultMeta(),!M)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const V=this.validate(M,j);if(!V&&W){const Q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(Q);else throw new Error(Q)}return V}getSchema(j){let W;for(;typeof(W=S.call(this,j))=="string";)j=W;if(W===void 0){const{schemaId:M}=this.opts,V=new o.SchemaEnv({schema:{},schemaId:M});if(W=o.resolveSchema.call(this,V,j),!W)return;this.refs[j]=W}return W.validate||this._compileSchemaEnv(W)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const W=S.call(this,j);return typeof W=="object"&&this._cache.delete(W.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{const W=j;this._cache.delete(W);let M=j[this.opts.schemaId];return M&&(M=(0,u.normalizeId)(M),delete this.schemas[M],delete this.refs[M]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const W of j)this.addKeyword(W);return this}addKeyword(j,W){let M;if(typeof j=="string")M=j,typeof W=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),W.keyword=M);else if(typeof j=="object"&&W===void 0){if(W=j,M=W.keyword,Array.isArray(M)&&!M.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,M,W),!W)return(0,c.eachItem)(M,Q=>q.call(this,Q)),this;G.call(this,W);const V={...W,type:(0,l.getJSONTypes)(W.type),schemaType:(0,l.getJSONTypes)(W.schemaType)};return(0,c.eachItem)(M,V.type.length===0?Q=>q.call(this,Q,V):Q=>V.type.forEach(se=>q.call(this,Q,V,se))),this}getKeyword(j){const W=this.RULES.all[j];return typeof W=="object"?W.definition:!!W}removeKeyword(j){const{RULES:W}=this;delete W.keywords[j],delete W.all[j];for(const M of W.rules){const V=M.rules.findIndex(Q=>Q.keyword===j);V>=0&&M.rules.splice(V,1)}return this}addFormat(j,W){return typeof W=="string"&&(W=new RegExp(W)),this.formats[j]=W,this}errorsText(j=this.errors,{separator:W=", ",dataVar:M="data"}={}){return!j||j.length===0?"No errors":j.map(V=>`${M}${V.instancePath} ${V.message}`).reduce((V,Q)=>V+W+Q)}$dataMetaSchema(j,W){const M=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const V of W){const Q=V.split("/").slice(1);let se=j;for(const be of Q)se=se[be];for(const be in M){const he=M[be];if(typeof he!="object")continue;const{$data:Ce}=he.definition,Pe=se[be];Ce&&Pe&&(se[be]=J(Pe))}}return j}_removeAllSchemas(j,W){for(const M in j){const V=j[M];(!W||W.test(M))&&(typeof V=="string"?delete j[M]:V&&!V.meta&&(this._cache.delete(V.schema),delete j[M]))}}_addSchema(j,W,M,V=this.opts.validateSchema,Q=this.opts.addUsedSchema){let se;const{schemaId:be}=this.opts;if(typeof j=="object")se=j[be];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof j!="boolean")throw new Error("schema must be object or boolean")}let he=this._cache.get(j);if(he!==void 0)return he;M=(0,u.normalizeId)(se||M);const Ce=u.getSchemaRefs.call(this,j,M);return he=new o.SchemaEnv({schema:j,schemaId:be,meta:W,baseId:M,localRefs:Ce}),this._cache.set(he.schema,he),Q&&!M.startsWith("#")&&(M&&this._checkUnique(M),this.refs[M]=he),V&&this.validateSchema(j,!0),he}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):o.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const W=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,j)}finally{this.opts=W}}}w.ValidationError=r.default,w.MissingRefError=i.default,e.default=w;function x(F,j,W,M="error"){for(const V in F){const Q=V;Q in j&&this.logger[M](`${W}: option ${V}. ${F[Q]}`)}}function S(F){return F=(0,u.normalizeId)(F),this.schemas[F]||this.refs[F]}function A(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const j in F)this.addSchema(F[j],j)}function C(){for(const F in this.opts.formats){const j=this.opts.formats[F];j&&this.addFormat(F,j)}}function $(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const j in F){const W=F[j];W.keyword||(W.keyword=j),this.addKeyword(W)}}function k(){const F={...this.opts};for(const j of p)delete F[j];return F}const P={log(){},warn(){},error(){}};function L(F){if(F===!1)return P;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}const O=/^[a-z_$][a-z0-9_$:-]*$/i;function B(F,j){const{RULES:W}=this;if((0,c.eachItem)(F,M=>{if(W.keywords[M])throw new Error(`Keyword ${M} is already defined`);if(!O.test(M))throw new Error(`Keyword ${M} has invalid name`)}),!!j&&j.$data&&!("code"in j||"validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function q(F,j,W){var M;const V=j==null?void 0:j.post;if(W&&V)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Q}=this;let se=V?Q.post:Q.rules.find(({type:he})=>he===W);if(se||(se={type:W,rules:[]},Q.rules.push(se)),Q.keywords[F]=!0,!j)return;const be={keyword:F,definition:{...j,type:(0,l.getJSONTypes)(j.type),schemaType:(0,l.getJSONTypes)(j.schemaType)}};j.before?H.call(this,se,be,j.before):se.rules.push(be),Q.all[F]=be,(M=j.implements)===null||M===void 0||M.forEach(he=>this.addKeyword(he))}function H(F,j,W){const M=F.rules.findIndex(V=>V.keyword===W);M>=0?F.rules.splice(M,0,j):(F.rules.push(j),this.logger.warn(`rule ${W} is not defined`))}function G(F){let{metaSchema:j}=F;j!==void 0&&(F.$data&&this.opts.$data&&(j=J(j)),F.validateSchema=this.compile(j,!0))}const K={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function J(F){return{anyOf:[F,K]}}})(nZe);var Uhe={},zhe={},Vhe={};Object.defineProperty(Vhe,"__esModule",{value:!0});const zKn={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Vhe.default=zKn;var o2={};Object.defineProperty(o2,"__esModule",{value:!0});o2.callRef=o2.getValidate=void 0;const VKn=N3,G4e=hr,fc=gr,hT=Gm,Y4e=Ec,wO=Ft,HKn={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=Y4e.resolveRef.call(u,l,i,n);if(c===void 0)throw new VKn.default(r.opts.uriResolver,i,n);if(c instanceof Y4e.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return JD(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return JD(e,(0,fc._)`${p}.validate`,l,l.$async)}function d(p){const m=DZe(e,p);JD(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,fc.stringify)(p)}:{ref:p}),g=t.name("valid"),y=e.subschema({schema:p,dataTypes:[],schemaPath:fc.nil,topSchemaRef:m,errSchemaPath:n},g);e.mergeEvaluated(y),e.ok(g)}}};function DZe(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,fc._)`${n.scopeValue("wrapper",{ref:t})}.validate`}o2.getValidate=DZe;function JD(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?hT.default.this:fc.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,fc._)`await ${(0,G4e.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,fc._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),d(m),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,G4e.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const m=(0,fc._)`${p}.errors`;i.assign(hT.default.vErrors,(0,fc._)`${hT.default.vErrors} === null ? ${m} : ${hT.default.vErrors}.concat(${m})`),i.assign(hT.default.errors,(0,fc._)`${hT.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const g=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(s.props=wO.mergeEvaluated.props(i,g.props,s.props));else{const y=i.var("props",(0,fc._)`${p}.evaluated.props`);s.props=wO.mergeEvaluated.props(i,y,s.props,fc.Name)}if(s.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(s.items=wO.mergeEvaluated.items(i,g.items,s.items));else{const y=i.var("items",(0,fc._)`${p}.evaluated.items`);s.items=wO.mergeEvaluated.items(i,y,s.items,fc.Name)}}}o2.callRef=JD;o2.default=HKn;Object.defineProperty(zhe,"__esModule",{value:!0});const qKn=Vhe,WKn=o2,GKn=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",qKn.default,WKn.default];zhe.default=GKn;var Hhe={},qhe={};Object.defineProperty(qhe,"__esModule",{value:!0});const MF=gr,q1=MF.operators,FF={maximum:{okStr:"<=",ok:q1.LTE,fail:q1.GT},minimum:{okStr:">=",ok:q1.GTE,fail:q1.LT},exclusiveMaximum:{okStr:"<",ok:q1.LT,fail:q1.GTE},exclusiveMinimum:{okStr:">",ok:q1.GT,fail:q1.LTE}},YKn={message:({keyword:e,schemaCode:t})=>(0,MF.str)`must be ${FF[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,MF._)`{comparison: ${FF[e].okStr}, limit: ${t}}`},KKn={keyword:Object.keys(FF),type:"number",schemaType:"number",$data:!0,error:YKn,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,MF._)`${n} ${FF[t].fail} ${r} || isNaN(${n})`)}};qhe.default=KKn;var Whe={};Object.defineProperty(Whe,"__esModule",{value:!0});const ck=gr,XKn={message:({schemaCode:e})=>(0,ck.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ck._)`{multipleOf: ${e}}`},QKn={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:XKn,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,ck._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,ck._)`${o} !== parseInt(${o})`;e.fail$data((0,ck._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};Whe.default=QKn;var Ghe={},Yhe={};Object.defineProperty(Yhe,"__esModule",{value:!0});function LZe(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}Yhe.default=LZe;LZe.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Ghe,"__esModule",{value:!0});const Fw=gr,JKn=Ft,ZKn=Yhe,eXn={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,Fw.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,Fw._)`{limit: ${e}}`},tXn={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:eXn,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?Fw.operators.GT:Fw.operators.LT,o=i.opts.unicode===!1?(0,Fw._)`${n}.length`:(0,Fw._)`${(0,JKn.useFunc)(e.gen,ZKn.default)}(${n})`;e.fail$data((0,Fw._)`${o} ${s} ${r}`)}};Ghe.default=tXn;var Khe={};Object.defineProperty(Khe,"__esModule",{value:!0});const nXn=hr,BF=gr,rXn={message:({schemaCode:e})=>(0,BF.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,BF._)`{pattern: ${e}}`},iXn={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:rXn,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,BF._)`(new RegExp(${i}, ${o}))`:(0,nXn.usePattern)(e,r);e.fail$data((0,BF._)`!${a}.test(${t})`)}};Khe.default=iXn;var Xhe={};Object.defineProperty(Xhe,"__esModule",{value:!0});const fk=gr,sXn={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,fk.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,fk._)`{limit: ${e}}`},oXn={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:sXn,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?fk.operators.GT:fk.operators.LT;e.fail$data((0,fk._)`Object.keys(${n}).length ${i} ${r}`)}};Xhe.default=oXn;var Qhe={};Object.defineProperty(Qhe,"__esModule",{value:!0});const y4=hr,dk=gr,aXn=Ft,uXn={message:({params:{missingProperty:e}})=>(0,dk.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,dk._)`{missingProperty: ${e}}`},lXn={keyword:"required",type:"object",schemaType:"array",$data:!0,error:uXn,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const g=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${m}" is not defined at "${g}" (strictRequired)`;(0,aXn.checkStrictMode)(o,y,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(dk.nil,f);else for(const h of n)(0,y4.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,y4.checkMissingProp)(e,n,h)),(0,y4.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,y4.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,y4.propertyInData)(t,i,h,a.ownProperties)),t.if((0,dk.not)(p),()=>{e.error(),t.break()})},dk.nil)}}};Qhe.default=lXn;var Jhe={};Object.defineProperty(Jhe,"__esModule",{value:!0});const hk=gr,cXn={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,hk.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,hk._)`{limit: ${e}}`},fXn={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:cXn,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?hk.operators.GT:hk.operators.LT;e.fail$data((0,hk._)`${n}.length ${i} ${r}`)}};Jhe.default=fXn;var Zhe={},i5={};Object.defineProperty(i5,"__esModule",{value:!0});const MZe=yse;MZe.code='require("ajv/dist/runtime/equal").default';i5.default=MZe;Object.defineProperty(Zhe,"__esModule",{value:!0});const uK=Ko,qa=gr,dXn=Ft,hXn=i5,pXn={message:({params:{i:e,j:t}})=>(0,qa.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,qa._)`{i: ${e}, j: ${t}}`},mXn={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:pXn,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,uK.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,qa._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,qa._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(u,!0),t.if((0,qa._)`${p} > 1`,()=>(f()?d:h)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,m){const g=t.name("item"),y=(0,uK.checkDataTypes)(l,g,a.opts.strictNumbers,uK.DataType.Wrong),v=t.const("indices",(0,qa._)`{}`);t.for((0,qa._)`;${p}--;`,()=>{t.let(g,(0,qa._)`${n}[${p}]`),t.if(y,(0,qa._)`continue`),l.length>1&&t.if((0,qa._)`typeof ${g} == "string"`,(0,qa._)`${g} += "_"`),t.if((0,qa._)`typeof ${v}[${g}] == "number"`,()=>{t.assign(m,(0,qa._)`${v}[${g}]`),e.error(),t.assign(u,!1).break()}).code((0,qa._)`${v}[${g}] = ${p}`)})}function h(p,m){const g=(0,dXn.useFunc)(t,hXn.default),y=t.name("outer");t.label(y).for((0,qa._)`;${p}--;`,()=>t.for((0,qa._)`${m} = ${p}; ${m}--;`,()=>t.if((0,qa._)`${g}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(u,!1).break(y)})))}}};Zhe.default=mXn;var epe={};Object.defineProperty(epe,"__esModule",{value:!0});const yte=gr,gXn=Ft,yXn=i5,vXn={message:"must be equal to constant",params:({schemaCode:e})=>(0,yte._)`{allowedValue: ${e}}`},bXn={keyword:"const",$data:!0,error:vXn,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,yte._)`!${(0,gXn.useFunc)(t,yXn.default)}(${n}, ${i})`):e.fail((0,yte._)`${s} !== ${n}`)}};epe.default=bXn;var tpe={};Object.defineProperty(tpe,"__esModule",{value:!0});const d6=gr,_Xn=Ft,wXn=i5,xXn={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,d6._)`{allowedValues: ${e}}`},EXn={keyword:"enum",schemaType:"array",$data:!0,error:xXn,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,_Xn.useFunc)(t,wXn.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,d6.or)(...i.map((p,m)=>d(h,m)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,d6._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,d6._)`${l()}(${n}, ${h}[${p}])`:(0,d6._)`${n} === ${m}`}}};tpe.default=EXn;Object.defineProperty(Hhe,"__esModule",{value:!0});const TXn=qhe,SXn=Whe,AXn=Ghe,CXn=Khe,IXn=Xhe,kXn=Qhe,RXn=Jhe,$Xn=Zhe,NXn=epe,PXn=tpe,OXn=[TXn.default,SXn.default,AXn.default,CXn.default,IXn.default,kXn.default,RXn.default,$Xn.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},NXn.default,PXn.default];Hhe.default=OXn;var npe={},P3={};Object.defineProperty(P3,"__esModule",{value:!0});P3.validateAdditionalItems=void 0;const Bw=gr,vte=Ft,DXn={message:({params:{len:e}})=>(0,Bw.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Bw._)`{limit: ${e}}`},LXn={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:DXn,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,vte.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}FZe(e,r)}};function FZe(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,Bw._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Bw._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,vte.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,Bw._)`${a} <= ${t.length}`);n.if((0,Bw.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:vte.Type.Num},l),o.allErrors||n.if((0,Bw.not)(l),()=>n.break())})}}P3.validateAdditionalItems=FZe;P3.default=LXn;var rpe={},O3={};Object.defineProperty(O3,"__esModule",{value:!0});O3.validateTuple=void 0;const K4e=gr,ZD=Ft,MXn=hr,FXn={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return BZe(e,"additionalItems",t);n.items=!0,!(0,ZD.alwaysValidSchema)(n,t)&&e.ok((0,MXn.validateArray)(e))}};function BZe(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=ZD.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,K4e._)`${s}.length`);n.forEach((f,d)=>{(0,ZD.alwaysValidSchema)(a,f)||(r.if((0,K4e._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!m){const g=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,ZD.checkStrictMode)(a,g,d.strictTuples)}}}O3.validateTuple=BZe;O3.default=FXn;Object.defineProperty(rpe,"__esModule",{value:!0});const BXn=O3,jXn={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,BXn.validateTuple)(e,"items")};rpe.default=jXn;var ipe={};Object.defineProperty(ipe,"__esModule",{value:!0});const X4e=gr,UXn=Ft,zXn=hr,VXn=P3,HXn={message:({params:{len:e}})=>(0,X4e.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,X4e._)`{limit: ${e}}`},qXn={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:HXn,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,UXn.alwaysValidSchema)(r,t)&&(i?(0,VXn.validateAdditionalItems)(e,i):e.ok((0,zXn.validateArray)(e)))}};ipe.default=qXn;var spe={};Object.defineProperty(spe,"__esModule",{value:!0});const Id=gr,xO=Ft,WXn={message:({params:{min:e,max:t}})=>t===void 0?(0,Id.str)`must contain at least ${e} valid item(s)`:(0,Id.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Id._)`{minContains: ${e}}`:(0,Id._)`{minContains: ${e}, maxContains: ${t}}`},GXn={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:WXn,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Id._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,xO.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,xO.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,xO.alwaysValidSchema)(s,n)){let m=(0,Id._)`${c} >= ${o}`;a!==void 0&&(m=(0,Id._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Id._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const m=t.name("_valid"),g=t.let("count",0);h(m,()=>t.if(m,()=>p(g)))}function h(m,g){t.forRange("i",0,c,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:xO.Type.Num,compositeRule:!0},m),g()})}function p(m){t.code((0,Id._)`${m}++`),a===void 0?t.if((0,Id._)`${m} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Id._)`${m} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Id._)`${m} >= ${o}`,()=>t.assign(f,!0)))}}};spe.default=GXn;var jZe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=gr,n=Ft,r=hr;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(g,()=>{for(const y of m)(0,r.checkReportMissingProp)(u,y)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(u,m,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const m in l)(0,n.alwaysValidSchema)(h,l[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const g=u.subschema({keyword:d,schemaProp:m},p);u.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(jZe);var ope={};Object.defineProperty(ope,"__esModule",{value:!0});const UZe=gr,YXn=Ft,KXn={message:"property name must be valid",params:({params:e})=>(0,UZe._)`{propertyName: ${e.propertyName}}`},XXn={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:KXn,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,YXn.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,UZe.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};ope.default=XXn;var kz={};Object.defineProperty(kz,"__esModule",{value:!0});const EO=hr,Fh=gr,QXn=Gm,TO=Ft,JXn={message:"must NOT have additional properties",params:({params:e})=>(0,Fh._)`{additionalProperty: ${e.additionalProperty}}`},ZXn={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:JXn,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,TO.alwaysValidSchema)(o,n))return;const l=(0,EO.allSchemaProperties)(r.properties),c=(0,EO.allSchemaProperties)(r.patternProperties);f(),e.ok((0,Fh._)`${s} === ${QXn.default.errors}`);function f(){t.forIn("key",i,g=>{!l.length&&!c.length?p(g):t.if(d(g),()=>p(g))})}function d(g){let y;if(l.length>8){const v=(0,TO.schemaRefOrVal)(o,r.properties,"properties");y=(0,EO.isOwnProperty)(t,v,g)}else l.length?y=(0,Fh.or)(...l.map(v=>(0,Fh._)`${g} === ${v}`)):y=Fh.nil;return c.length&&(y=(0,Fh.or)(y,...c.map(v=>(0,Fh._)`${(0,EO.usePattern)(e,v)}.test(${g})`))),(0,Fh.not)(y)}function h(g){t.code((0,Fh._)`delete ${i}[${g}]`)}function p(g){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(g);return}if(n===!1){e.setParams({additionalProperty:g}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,TO.alwaysValidSchema)(o,n)){const y=t.name("valid");u.removeAdditional==="failing"?(m(g,y,!1),t.if((0,Fh.not)(y),()=>{e.reset(),h(g)})):(m(g,y),a||t.if((0,Fh.not)(y),()=>t.break()))}}function m(g,y,v){const b={keyword:"additionalProperties",dataProp:g,dataPropType:TO.Type.Str};v===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,y)}}};kz.default=ZXn;var ape={};Object.defineProperty(ape,"__esModule",{value:!0});const eQn=bp,Q4e=hr,lK=Ft,J4e=kz,tQn={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&J4e.default.code(new eQn.KeywordCxt(s,J4e.default,"additionalProperties"));const o=(0,Q4e.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=lK.mergeEvaluated.props(t,(0,lK.toHash)(o),s.props));const a=o.filter(f=>!(0,lK.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,Q4e.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};ape.default=tQn;var upe={};Object.defineProperty(upe,"__esModule",{value:!0});const Z4e=hr,SO=gr,e6e=Ft,t6e=Ft,nQn={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,Z4e.allSchemaProperties)(n),u=a.filter(m=>(0,e6e.alwaysValidSchema)(s,n[m]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof SO.Name)&&(s.props=(0,t6e.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const m of a)l&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const g in l)new RegExp(m).test(g)&&(0,e6e.checkStrictMode)(s,`property ${g} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,g=>{t.if((0,SO._)`${(0,Z4e.usePattern)(e,m)}.test(${g})`,()=>{const y=u.includes(m);y||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:g,dataPropType:t6e.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,SO._)`${f}[${g}]`,!0):!y&&!s.allErrors&&t.if((0,SO.not)(c),()=>t.break())})})}}};upe.default=nQn;var lpe={};Object.defineProperty(lpe,"__esModule",{value:!0});const rQn=Ft,iQn={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,rQn.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};lpe.default=iQn;var cpe={};Object.defineProperty(cpe,"__esModule",{value:!0});const sQn=hr,oQn={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:sQn.validateUnion,error:{message:"must match a schema in anyOf"}};cpe.default=oQn;var fpe={};Object.defineProperty(fpe,"__esModule",{value:!0});const e9=gr,aQn=Ft,uQn={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,e9._)`{passingSchemas: ${e.passing}}`},lQn={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:uQn,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,aQn.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,e9._)`${u} && ${o}`).assign(o,!1).assign(a,(0,e9._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,e9.Name)})})}}};fpe.default=lQn;var dpe={};Object.defineProperty(dpe,"__esModule",{value:!0});const cQn=Ft,fQn={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,cQn.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};dpe.default=fQn;var hpe={};Object.defineProperty(hpe,"__esModule",{value:!0});const jF=gr,zZe=Ft,dQn={message:({params:e})=>(0,jF.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,jF._)`{failingKeyword: ${e.ifClause}}`},hQn={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:dQn,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,zZe.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=n6e(r,"then"),s=n6e(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,jF.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,jF._)`${c}`):e.setParams({ifClause:c})}}}};function n6e(e,t){const n=e.schema[t];return n!==void 0&&!(0,zZe.alwaysValidSchema)(e,n)}hpe.default=hQn;var ppe={};Object.defineProperty(ppe,"__esModule",{value:!0});const pQn=Ft,mQn={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,pQn.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};ppe.default=mQn;Object.defineProperty(npe,"__esModule",{value:!0});const gQn=P3,yQn=rpe,vQn=O3,bQn=ipe,_Qn=spe,wQn=jZe,xQn=ope,EQn=kz,TQn=ape,SQn=upe,AQn=lpe,CQn=cpe,IQn=fpe,kQn=dpe,RQn=hpe,$Qn=ppe;function NQn(e=!1){const t=[AQn.default,CQn.default,IQn.default,kQn.default,RQn.default,$Qn.default,xQn.default,EQn.default,wQn.default,TQn.default,SQn.default];return e?t.push(yQn.default,bQn.default):t.push(gQn.default,vQn.default),t.push(_Qn.default),t}npe.default=NQn;var mpe={},gpe={};Object.defineProperty(gpe,"__esModule",{value:!0});const po=gr,PQn={message:({schemaCode:e})=>(0,po.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,po._)`{format: ${e}}`},OQn={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:PQn,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),m=n.const("fDef",(0,po._)`${p}[${o}]`),g=n.let("fType"),y=n.let("format");n.if((0,po._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(g,(0,po._)`${m}.type || "string"`).assign(y,(0,po._)`${m}.validate`),()=>n.assign(g,(0,po._)`"string"`).assign(y,m)),e.fail$data((0,po.or)(v(),b()));function v(){return u.strictSchema===!1?po.nil:(0,po._)`${o} && !${y}`}function b(){const w=c.$async?(0,po._)`(${m}.async ? await ${y}(${r}) : ${y}(${r}))`:(0,po._)`${y}(${r})`,x=(0,po._)`(typeof ${y} == "function" ? ${w} : ${y}.test(${r}))`;return(0,po._)`${y} && ${y} !== true && ${g} === ${t} && !${x}`}}function h(){const p=f.formats[s];if(!p){v();return}if(p===!0)return;const[m,g,y]=b(p);m===t&&e.pass(w());function v(){if(u.strictSchema===!1){f.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function b(x){const S=x instanceof RegExp?(0,po.regexpCode)(x):u.code.formats?(0,po._)`${u.code.formats}${(0,po.getProperty)(s)}`:void 0,A=n.scopeValue("formats",{key:s,ref:x,code:S});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,po._)`${A}.validate`]:["string",x,A]}function w(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,po._)`await ${y}(${r})`}return typeof g=="function"?(0,po._)`${y}(${r})`:(0,po._)`${y}.test(${r})`}}}};gpe.default=OQn;Object.defineProperty(mpe,"__esModule",{value:!0});const DQn=gpe,LQn=[DQn.default];mpe.default=LQn;var sC={};Object.defineProperty(sC,"__esModule",{value:!0});sC.contentVocabulary=sC.metadataVocabulary=void 0;sC.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];sC.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Uhe,"__esModule",{value:!0});const MQn=zhe,FQn=Hhe,BQn=npe,jQn=mpe,r6e=sC,UQn=[MQn.default,FQn.default,(0,BQn.default)(),jQn.default,r6e.metadataVocabulary,r6e.contentVocabulary];Uhe.default=UQn;var ype={},Rz={};Object.defineProperty(Rz,"__esModule",{value:!0});Rz.DiscrError=void 0;var i6e;(function(e){e.Tag="tag",e.Mapping="mapping"})(i6e||(Rz.DiscrError=i6e={}));Object.defineProperty(ype,"__esModule",{value:!0});const ST=gr,bte=Rz,s6e=Ec,zQn=N3,VQn=Ft,HQn={message:({params:{discrError:e,tagName:t}})=>e===bte.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,ST._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},qQn={keyword:"discriminator",type:"object",schemaType:"object",error:HQn,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,ST._)`${n}${(0,ST.getProperty)(a)}`);t.if((0,ST._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:bte.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,ST._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:bte.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,ST.Name),p}function d(){var h;const p={},m=y(i);let g=!0;for(let w=0;w<o.length;w++){let x=o[w];if(x!=null&&x.$ref&&!(0,VQn.schemaHasRulesButRef)(x,s.self.RULES)){const A=x.$ref;if(x=s6e.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,A),x instanceof s6e.SchemaEnv&&(x=x.schema),x===void 0)throw new zQn.default(s.opts.uriResolver,s.baseId,A)}const S=(h=x==null?void 0:x.properties)===null||h===void 0?void 0:h[a];if(typeof S!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);g=g&&(m||y(x)),v(S,w)}if(!g)throw new Error(`discriminator: "${a}" must be required`);return p;function y({required:w}){return Array.isArray(w)&&w.includes(a)}function v(w,x){if(w.const)b(w.const,x);else if(w.enum)for(const S of w.enum)b(S,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function b(w,x){if(typeof w!="string"||w in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[w]=x}}}};ype.default=qQn;const WQn="http://json-schema.org/draft-07/schema#",GQn="http://json-schema.org/draft-07/schema#",YQn="Core schema meta-schema",KQn={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},XQn=["object","boolean"],QQn={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},JQn={$schema:WQn,$id:GQn,title:YQn,definitions:KQn,type:XQn,properties:QQn,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=nZe,r=Uhe,i=ype,s=JQn,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=u,e.exports=t=u,e.exports.Ajv=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=bp;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=gr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=r5;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=N3;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(fte,fte.exports);var ZQn=fte.exports;const vpe=tf(ZQn),eJn="#/definitions/StudyConfig",tJn="http://json-schema.org/draft-07/schema#",nJn={Answer:{additionalProperties:!1,description:`The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.

Answers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.

Here's an example of how to use the Answer interface to define the correct answer to a question:

\`\`\`js { "type": "markdown", "path": "<study-name>/assets/question.md", "response": [  {    "id": "response1",    "prompt": "What is 2 + 2?",    "location": "belowStimulus",    "type": "numerical"  } ] "correctAnswer": [{  "id": "response1",  "answer": 4 }] } \`\`\`

In this example, the correct answer to the question "What is 2 + 2?" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.`,properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},BaseComponents:{additionalProperties:{additionalProperties:!1,properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{enum:["markdown","react-component","image","website","questionnaire","vega"],type:"string"}},type:"object"},description:'The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\n\n Using baseComponents:\n\n```js "baseComponents": { "my-image-component": { "instructionLocation": "sidebar", "nextButtonLocation": "sidebar", "path": "<study-name>/assets/my-image.jpg", "response": [   {     "id": "my-image-id",     "options": ["Europe", "Japan", "USA"],     "prompt": "Your Selected Answer:",     "type": "dropdown"   } ], "type": "image" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `"baseComponent":"my-image-component"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js "components": { "q1": { "baseComponent": "my-image-component", "description": "Choosing section with largest GDP", "instruction": "Which region has the largest GDP?" }, "q2": { "baseComponent": "my-image-component", "description": "Choosing section with lowest GDP", "instruction": "Which region has the lowest GDP?" }, "q3": { "baseComponent": "my-image-component", "description": "Choosing section with highest exports of Wheat", "instruction": "Which region had the most Wheat exported in 2022?" } } ```',type:"object"},CheckboxResponse:{additionalProperties:!1,description:'The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\n\n```js { "id": "q7", "prompt": "Checkbox example (not required)", "required": false, "location": "aboveStimulus", "type": "checkbox", "options": ["Option 1", "Option 2", "Option 3"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},maxSelections:{description:"The maximum number of selections that are required.",type:"number"},minSelections:{description:"The minimum number of selections that are required.",type:"number"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"checkbox",type:"string"}},required:["id","options","prompt","type"],type:"object"},ComponentBlock:{additionalProperties:!1,description:'The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\n\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\n\nHere\'s a snippet that shows how to use the random order:\n\n```js { "order": "random", "components": [ "component1", "component2", "component3" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\n\n```js [ ["component2", "component3", "component1"], ["component1", "component3", "component2"], ["component3", "component1", "component2"], ... ] ```\n\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2", "component3"], ["component2", "component3", "component1"], ["component3", "component1", "component2"], ... ] ```\n\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\n\n```js [ ["component1", "component2", "component3"], ["component1", "component2", "component3"], ["component1", "component2", "component3"], ... ] ```\n\nIn addition to the order property, the ComponentBlock interface also includes the `"numSamples"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `"numSamples"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ], "numSamples": 2 } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2"], ["component2", "component3"], ["component3", "component1"], ... ] ```\n\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\n\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.',properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/ComponentBlock"}]},type:"array"},id:{description:"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.",type:"string"},interruptions:{description:"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.",items:{$ref:"#/definitions/InterruptionBlock"},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"},skip:{$ref:"#/definitions/SkipConditions",description:"The skip conditions for the block."}},required:["order","components"],type:"object"},ComponentBlockCondition:{additionalProperties:!1,description:`The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.

Answers are checked against the correct answers defined in the IndividualComponent's [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.

You might use this if a participant answers two questions in a block incorrectly. Here's an example of how to use the ComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "check": "block",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.

When the condition is met, the participant will immediately be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.`,properties:{check:{const:"block",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["check","condition","value","to"],type:"object"},DeterministicInterruption:{additionalProperties:!1,description:`The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.

For example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.

The components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.

Here's an example of how to use the DeterministicInterruption:

\`\`\`js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "firstLocation": 2,   "spacing": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } \`\`\`

The resulting sequence array could be:

\`\`\`js [ ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ... ] \`\`\``,properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},firstLocation:{description:"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).",type:"number"},spacing:{description:"The number of components between breaks.",type:"number"}},required:["firstLocation","spacing","components"],type:"object"},DropdownResponse:{additionalProperties:!1,description:'The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\n\nExample: ```js { "id": "q-color", "prompt": "What is your favorite color?", "location": "aboveStimulus", "type": "dropdown", "placeholder": "Please choose your favorite color", "options": ["Red", "Blue"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed in the dropdown.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"dropdown",type:"string"}},required:["id","options","prompt","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"iframe",type:"string"}},required:["id","prompt","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:'The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\n\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { "type": "image", "path": "<study-name>/assets/image.jpg", "style": { "maxWidth": "50%" } } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"},{$ref:"#/definitions/VegaComponent"}]},IndividualComponentAllResponsesCondition:{additionalProperties:!1,description:`The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::


Here's an example of how to use the IndividualComponentAllResponsesCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "responses",   "to": "end" } ] ... } \`\`\`

In this example, if all responses to the component with the ID "attentionCheck" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.`,properties:{check:{const:"responses",description:"The check we'll perform.",type:"string"},name:{description:"The name of the component to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"}},required:["name","check","to"],type:"object"},IndividualComponentSingleResponseCondition:{additionalProperties:!1,description:`The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::

For example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here's an example of how to use the IndividualComponentSingleResponseCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "response",   "responseId": "attentionCheckResponse",   "value": "the right answer",   "comparison": "equal",   "to": "end" } ] ... } \`\`\`

In this example, we assign our skip logic to the component whose ID is "attentionCheck". If the answer given to the response "attentionCheckResponse" is equal to "the right answer", then the user will be redirected to the end of the study. If the response is _not_ equal to "the right answer", then the participant will continue to the next component in the sequence.`,properties:{check:{const:"response",description:"The check we'll perform.",type:"string"},comparison:{description:"The comparison to use.",enum:["equal","notEqual"],type:"string"},name:{description:"The name of the component to check.",type:"string"},responseId:{description:"The response id to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The value to check.",type:["string","number"]}},required:["name","check","responseId","value","comparison","to"],type:"object"},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},baseComponent:{type:"string"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{enum:["markdown","react-component","image","website","questionnaire","vega"],type:"string"}},required:["baseComponent"],type:"object"},InterruptionBlock:{anyOf:[{$ref:"#/definitions/DeterministicInterruption"},{$ref:"#/definitions/RandomInterruption"}],description:"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},LikertResponse:{additionalProperties:!1,description:`The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.

Example for a five-point Likert Scale:

\`\`\`js { "id": "q-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).", "location": "aboveStimulus", "type": "likert", "leftLabel": "Not Enjoyable", "rightLabel": "Very Enjoyable", "numItems": 5 } \`\`\``,properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},numItems:{description:"The number of options to render.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"likert",type:"string"}},required:["id","numItems","prompt","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:'The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { "id": "q-name", "prompt": "What is your first name?", "location": "aboveStimulus", "type": "longText", "placeholder": "Please enter your first name" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"longText",type:"string"}},required:["id","prompt","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:'The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\n\n```js { "type": "markdown", "path": "<study-name>/assets/help.md", "response": [] } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},MatrixResponse:{additionalProperties:!1,description:`The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, \`answerOptions\` can be set to one of the following custom strings: 'satisfaction5','satisfaction7', 'likely5', 'likely7'. This will automatically generate the appropriate headers for the matrix.

Example for a 5-scale satisfaction matrix with three questions:

\`\`\`js { "id": "multi-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.", "location": "aboveStimulus", "type": "matrix-radio", "answerOptions": "satisfaction5", "questionOptions": [  "The tool we created",  "The technique we developed",  "The authors of the tools" ] } \`\`\`

Here's an example using custom columns (answerOptions):

\`\`\`js { "id": "multi-custom", "prompt": "Which categories do the following items belong to?", "location": "aboveStimulus", "type": "matrix-checkbox", "answerOptions": [  "Has Legs",  "Has Wings",  "Can Swim" ], "questionOptions": [  "Dog",  "Snake",  "Eagle",  "Salmon",  "Platypus" ]

} \`\`\``,properties:{answerOptions:{anyOf:[{items:{type:"string"},type:"array"},{const:"likely5",type:"string"},{const:"likely7",type:"string"},{const:"satisfaction5",type:"string"},{const:"satisfaction7",type:"string"}],description:"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},questionOptions:{description:"The question options (rows) are the prompts for each response you'd like to record.",items:{type:"string"},type:"array"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{enum:["matrix-radio","matrix-checkbox"],type:"string"}},required:["answerOptions","id","prompt","questionOptions","type"],type:"object"},NumberOption:{additionalProperties:!1,description:"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"number"}},required:["label","value"],type:"object"},NumericalResponse:{additionalProperties:!1,description:'The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\n\nExample: ```js { "id": "q-numerical", "prompt": "Numerical example", "location": "aboveStimulus", "type": "numerical", "placeholder": "Enter your age, range from 0 - 120", "max": 120, "min": 0 } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"numerical",type:"string"}},required:["id","prompt","type"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:'A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\n\n```js { "type": "questionnaire", "response": [  {    "id": "gender",    "prompt": "Gender:",    "location": "belowStimulus",    "type": "checkbox",    "options": ["Man", "Woman", "Genderqueer", "Third-gender", ...]  } ] } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:'The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\n\nExample: ```js { "id": "q-radio", "prompt": "Radio button example", "location": "aboveStimulus", "type": "radio", "options": ["Option 1", "Option 2"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the radio group. Used in Likert scales for example",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the radio group. Used in Likert scales for example",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"radio",type:"string"}},required:["id","options","prompt","type"],type:"object"},RandomInterruption:{additionalProperties:!1,description:'The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\n\nFor example, if you want to show a single interruption randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 1. If you want to show 3 interruptions randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 3.\n\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\n\nHere\'s an example of how to use the RandomInterruption:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "spacing": "random",   "numInterruptions": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } ```\n\nThe resulting sequence array could be:\n\n```js [ ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "component5", "interruption1", "interruption2", "component6], ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "interruption1", "interruption2", "component5", "component6], ["component1", "component2" "interruption1", "interruption2", "component3", "interruption1", "interruption2", "component4", "component5", "interruption1", "interruption2", "component6], ... ] ```',properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},numInterruptions:{description:"The number of times the interruption will be randomly added",type:"number"},spacing:{const:"random",description:"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.",type:"string"}},required:["spacing","numInterruptions","components"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\n\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\n\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\n\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\n\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don't use the default answer interface, and instead have something more unique.\n\nSo, for example, if I had the following ReactComponent in my config ```js { type: 'react-component'; path: 'my_study/CoolComponent.tsx'; parameters: {  name: 'Zach';  age: 26; } } ```\n\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\n\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\n\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.0.0-rc3/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.0.0-rc3/src/public/example-brush-interactions/assets)",properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},RepeatedComponentBlockCondition:{additionalProperties:!1,description:`The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.

Here's an example of how to use the RepeatedComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "repeatedComponent",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of incorrect responses to the repeated component with the name "attentionCheck" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.`,properties:{check:{const:"repeatedComponent",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},name:{description:"The name of the repeated component to check (e.g. attentionCheck).",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["name","check","condition","value","to"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"},{$ref:"#/definitions/MatrixResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:'The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\n\n```js { "id": "q-short-text", "prompt": "Short text example", "location": "aboveStimulus", "type": "shortText", "placeholder": "Enter your answer here" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"shortText",type:"string"}},required:["id","prompt","type"],type:"object"},SkipConditions:{description:`The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks' skip conditions will be considered when computing the skip logic.

Skip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.

Skip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.

Please see the interface definitions for more specific information on the different types of skip conditions.`,items:{anyOf:[{$ref:"#/definitions/IndividualComponentSingleResponseCondition"},{$ref:"#/definitions/IndividualComponentAllResponsesCondition"},{$ref:"#/definitions/ComponentBlockCondition"},{$ref:"#/definitions/RepeatedComponentBlockCondition"}]},type:"array"},SliderResponse:{additionalProperties:!1,description:'The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\n\nExample: ```js { "id": "q-slider", "prompt": "How are you feeling?", "location": "aboveStimulus", "type": "slider", "options": [  {    "label": "Bad",    "value": 0  },  {    "label": "OK",    "value": 50  },  {    "label": "Good",    "value": 100  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.",items:{$ref:"#/definitions/NumberOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"slider",type:"string"}},required:["id","options","prompt","type"],type:"object"},StringOption:{additionalProperties:!1,description:"The StringOption interface is used to define the options for a dropdown, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"string"}},required:["label","value"],type:"object"},StudyConfig:{additionalProperties:!1,description:'The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\n\n```js { "$schema": "https://raw.githubusercontent.com/revisit-studies/study/v2.0.0-rc3/src/parser/StudyConfigSchema.json", "studyMetadata": {  ... }, "uiConfig": {  ... }, "components": {  ... }, "sequence": {  ... } } ```\n\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\n\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.',properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you're using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information",type:"string"},baseComponents:{$ref:"#/definitions/BaseComponents",description:"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},importedLibraries:{description:"A list of libraries that are used in the study. This is used to import external libraries into the study. Library names are valid namespaces to be used later.",items:{type:"string"},type:"array"},recordStudyAudio:{description:"Whether or not we want to utilize think-aloud features. If true, will record audio on all components unless deactivated on individual components. Defaults to false.",type:"boolean"},sequence:{$ref:"#/definitions/ComponentBlock",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:'The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\n\n```js "studyMetadata" : { "title": "My New Study", "version": "pilot", "authors": [  "Jane Doe",  "John Doe" ], "date": "2024-04-01", "description": "This study is meant to test your ability.", "organizations": [  "The reVISit Team",  "The Other Team" ] } ```',properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:'The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ "contactEmail": "contact@revisit.dev", "helpTextPath": "<study-name>/assets/help.md", "logoPath": "<study-name>/assets/logo.jpg", "withProgressBar": true, "autoDownloadStudy": true "autoDownloadTime": 5000, "studyEndMsg": "Thank you for completing this study. You\'re the best!", "sidebar": true, "windowEventDebounceTime": 500, "urlParticipantIdParam": "PROLIFIC_ID", "numSequences": 500 } ``` In the above, the `path/to/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)',properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},enumerateQuestions:{description:"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.",type:"boolean"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},sidebarWidth:{description:"The width of the left sidebar. Defaults to 300.",type:"number"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},timeoutReject:{description:"Whether to redirect a timed out participant to a rejection page. This only works for components where the `nextButtonDisableTime` field is set.",type:"boolean"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},VegaComponent:{anyOf:[{$ref:"#/definitions/VegaComponentPath"},{$ref:"#/definitions/VegaComponentConfig"}]},VegaComponentConfig:{additionalProperties:!1,properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"vega",type:"string"}},required:["config","response","type"],type:"object"},VegaComponentPath:{additionalProperties:!1,properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"vega",type:"string"}},required:["path","response","type"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:'The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\n\n```js { "type": "website", "path": "<study-name>/assets/website.html", } ```\n\nTo pass a data from the config to the website, you can use the `parameters` field as below:\n\n```js { "type": "website", "path": "<study-name>/website.html", "parameters": {  "barData": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] } "response": [  {    "id": "barChart",    "prompt": "Your selected answer:",    "location": "belowStimulus",    "type": "iframe"  } ], } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\n\n```html <script src="../../revisitUtilities/revisit-communicate.js"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\n\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\n\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\n\n```js const trrack = initializeTrrack({ initialState, registry });\n\n... Revisit.postProvenance(trrack.graph.backend); ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},rJn={$ref:eJn,$schema:tJn,definitions:nJn},iJn="#/definitions/GlobalConfig",sJn="http://json-schema.org/draft-07/schema#",oJn={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},aJn={$ref:iJn,$schema:sJn,definitions:oJn};var UF={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */UF.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",f=1,d=2,h=4,p=1,m=2,g=1,y=2,v=4,b=8,w=16,x=32,S=64,A=128,C=256,$=512,k=30,P="...",L=800,O=16,B=1,q=2,H=3,G=1/0,K=9007199254740991,J=17976931348623157e292,F=NaN,j=4294967295,W=j-1,M=j>>>1,V=[["ary",A],["bind",g],["bindKey",y],["curry",b],["curryRight",w],["flip",$],["partial",x],["partialRight",S],["rearg",C]],Q="[object Arguments]",se="[object Array]",be="[object AsyncFunction]",he="[object Boolean]",Ce="[object Date]",Pe="[object DOMException]",rt="[object Error]",Re="[object Function]",Tt="[object GeneratorFunction]",Ze="[object Map]",It="[object Number]",mt="[object Null]",Se="[object Object]",Fe="[object Promise]",st="[object Proxy]",yt="[object RegExp]",$t="[object Set]",Je="[object String]",xe="[object Symbol]",kt="[object Undefined]",Rt="[object WeakMap]",Ee="[object WeakSet]",Oe="[object ArrayBuffer]",ot="[object DataView]",_t="[object Float32Array]",jt="[object Float64Array]",qn="[object Int8Array]",yr="[object Int16Array]",$r="[object Int32Array]",Ci="[object Uint8Array]",Cn="[object Uint8ClampedArray]",Wn="[object Uint16Array]",vr="[object Uint32Array]",wr=/\b__p \+= '';/g,da=/\b(__p \+=) '' \+/g,hs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ss=/&(?:amp|lt|gt|quot|#39);/g,qs=/[&<>"']/g,Xr=RegExp(Ss.source),As=RegExp(qs.source),lf=/<%-([\s\S]+?)%>/g,ha=/<%([\s\S]+?)%>/g,rl=/<%=([\s\S]+?)%>/g,qr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Li=/^\w*$/,wi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lo=/[\\^$.*+?()[\]{}|]/g,di=RegExp(lo.source),Mi=/^\s+/,me=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ge=/\{\n\/\* \[wrapped with (.+)\] \*/,Me=/,? & /,Le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wt=/[()=,{}\[\]\/\s]/,Ut=/\\(\\)?/g,pn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rr=/\w*$/,dr=/^[-+]0x[0-9a-f]+$/i,Ln=/^0b[01]+$/i,Nr=/^\[object .+?Constructor\]$/,hi=/^0o[0-7]+$/i,an=/^(?:0|[1-9]\d*)$/,Pr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ii=/($^)/,xr=/['\n\r\u2028\u2029\\]/g,Fi="\\ud800-\\udfff",Io="\\u0300-\\u036f",Bi="\\ufe20-\\ufe2f",Bo="\\u20d0-\\u20ff",ps=Io+Bi+Bo,ms="\\u2700-\\u27bf",jo="a-z\\xdf-\\xf6\\xf8-\\xff",Ba="\\xac\\xb1\\xd7\\xf7",ko="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jl="\\u2000-\\u206f",od=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ee="A-Z\\xc0-\\xd6\\xd8-\\xde",pe="\\ufe0e\\ufe0f",oe=Ba+ko+Jl+od,we="[']",Ae="["+Fi+"]",_e="["+oe+"]",qe="["+ps+"]",it="\\d+",at="["+ms+"]",ut="["+jo+"]",vt="[^"+Fi+oe+it+ms+jo+ee+"]",Lt="\\ud83c[\\udffb-\\udfff]",Mn="(?:"+qe+"|"+Lt+")",Kt="[^"+Fi+"]",ir="(?:\\ud83c[\\udde6-\\uddff]){2}",Qr="[\\ud800-\\udbff][\\udc00-\\udfff]",Er="["+ee+"]",Uo="\\u200d",cf="(?:"+ut+"|"+vt+")",vh="(?:"+Er+"|"+vt+")",g1="(?:"+we+"(?:d|ll|m|re|s|t|ve))?",Xp="(?:"+we+"(?:D|LL|M|RE|S|T|VE))?",N_=Mn+"?",il="["+pe+"]?",gu="(?:"+Uo+"(?:"+[Kt,ir,Qr].join("|")+")"+il+N_+")*",bh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",y1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",P_=il+N_+gu,_h="(?:"+[at,ir,Qr].join("|")+")"+P_,O_="(?:"+[Kt+qe+"?",qe,ir,Qr,Ae].join("|")+")",hE=RegExp(we,"g"),wh=RegExp(qe,"g"),pa=RegExp(Lt+"(?="+Lt+")|"+O_+P_,"g"),z3=RegExp([Er+"?"+ut+"+"+g1+"(?="+[_e,Er,"$"].join("|")+")",vh+"+"+Xp+"(?="+[_e,Er+cf,"$"].join("|")+")",Er+"?"+cf+"+"+g1,Er+"+"+Xp,y1,bh,it,_h].join("|"),"g"),pE=RegExp("["+Uo+Fi+ps+pe+"]"),Km=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mE=-1,Jr={};Jr[_t]=Jr[jt]=Jr[qn]=Jr[yr]=Jr[$r]=Jr[Ci]=Jr[Cn]=Jr[Wn]=Jr[vr]=!0,Jr[Q]=Jr[se]=Jr[Oe]=Jr[he]=Jr[ot]=Jr[Ce]=Jr[rt]=Jr[Re]=Jr[Ze]=Jr[It]=Jr[Se]=Jr[yt]=Jr[$t]=Jr[Je]=Jr[Rt]=!1;var Or={};Or[Q]=Or[se]=Or[Oe]=Or[ot]=Or[he]=Or[Ce]=Or[_t]=Or[jt]=Or[qn]=Or[yr]=Or[$r]=Or[Ze]=Or[It]=Or[Se]=Or[yt]=Or[$t]=Or[Je]=Or[xe]=Or[Ci]=Or[Cn]=Or[Wn]=Or[vr]=!0,Or[rt]=Or[Re]=Or[Rt]=!1;var gE={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},le={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ye={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ht=parseFloat,ur=parseInt,Zr=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,Ii=typeof self=="object"&&self&&self.Object===Object&&self,un=Zr||Ii||Function("return this")(),pi=t&&!t.nodeType&&t,ki=pi&&!0&&e&&!e.nodeType&&e,zo=ki&&ki.exports===pi,xh=zo&&Zr.process,Ws=function(){try{var Te=ki&&ki.require&&ki.require("util").types;return Te||xh&&xh.binding&&xh.binding("util")}catch{}}(),Qm=Ws&&Ws.isArrayBuffer,Jm=Ws&&Ws.isDate,D_=Ws&&Ws.isMap,V3=Ws&&Ws.isRegExp,L_=Ws&&Ws.isSet,x5=Ws&&Ws.isTypedArray;function yu(Te,Ye,je){switch(je.length){case 0:return Te.call(Ye);case 1:return Te.call(Ye,je[0]);case 2:return Te.call(Ye,je[0],je[1]);case 3:return Te.call(Ye,je[0],je[1],je[2])}return Te.apply(Ye,je)}function M_(Te,Ye,je,zt){for(var jn=-1,gi=Te==null?0:Te.length;++jn<gi;){var Ho=Te[jn];Ye(zt,Ho,je(Ho),Te)}return zt}function sl(Te,Ye){for(var je=-1,zt=Te==null?0:Te.length;++je<zt&&Ye(Te[je],je,Te)!==!1;);return Te}function E5(Te,Ye){for(var je=Te==null?0:Te.length;je--&&Ye(Te[je],je,Te)!==!1;);return Te}function yE(Te,Ye){for(var je=-1,zt=Te==null?0:Te.length;++je<zt;)if(!Ye(Te[je],je,Te))return!1;return!0}function ad(Te,Ye){for(var je=-1,zt=Te==null?0:Te.length,jn=0,gi=[];++je<zt;){var Ho=Te[je];Ye(Ho,je,Te)&&(gi[jn++]=Ho)}return gi}function F_(Te,Ye){var je=Te==null?0:Te.length;return!!je&&Zm(Te,Ye,0)>-1}function v1(Te,Ye,je){for(var zt=-1,jn=Te==null?0:Te.length;++zt<jn;)if(je(Ye,Te[zt]))return!0;return!1}function Ji(Te,Ye){for(var je=-1,zt=Te==null?0:Te.length,jn=Array(zt);++je<zt;)jn[je]=Ye(Te[je],je,Te);return jn}function Eh(Te,Ye){for(var je=-1,zt=Ye.length,jn=Te.length;++je<zt;)Te[jn+je]=Ye[je];return Te}function Th(Te,Ye,je,zt){var jn=-1,gi=Te==null?0:Te.length;for(zt&&gi&&(je=Te[++jn]);++jn<gi;)je=Ye(je,Te[jn],jn,Te);return je}function T5(Te,Ye,je,zt){var jn=Te==null?0:Te.length;for(zt&&jn&&(je=Te[--jn]);jn--;)je=Ye(je,Te[jn],jn,Te);return je}function vE(Te,Ye){for(var je=-1,zt=Te==null?0:Te.length;++je<zt;)if(Ye(Te[je],je,Te))return!0;return!1}var S5=Y("length");function A5(Te){return Te.split("")}function bE(Te){return Te.match(Le)||[]}function vu(Te,Ye,je){var zt;return je(Te,function(jn,gi,Ho){if(Ye(jn,gi,Ho))return zt=gi,!1}),zt}function B_(Te,Ye,je,zt){for(var jn=Te.length,gi=je+(zt?1:-1);zt?gi--:++gi<jn;)if(Ye(Te[gi],gi,Te))return gi;return-1}function Zm(Te,Ye,je){return Ye===Ye?Jnt(Te,Ye,je):B_(Te,I,je)}function b1(Te,Ye,je,zt){for(var jn=je-1,gi=Te.length;++jn<gi;)if(zt(Te[jn],Ye))return jn;return-1}function I(Te){return Te!==Te}function U(Te,Ye){var je=Te==null?0:Te.length;return je?Ct(Te,Ye)/je:F}function Y(Te){return function(Ye){return Ye==null?n:Ye[Te]}}function ne(Te){return function(Ye){return Te==null?n:Te[Ye]}}function $e(Te,Ye,je,zt,jn){return jn(Te,function(gi,Ho,Zi){je=zt?(zt=!1,gi):Ye(je,gi,Ho,Zi)}),je}function Ve(Te,Ye){var je=Te.length;for(Te.sort(Ye);je--;)Te[je]=Te[je].value;return Te}function Ct(Te,Ye){for(var je,zt=-1,jn=Te.length;++zt<jn;){var gi=Ye(Te[zt]);gi!==n&&(je=je===n?gi:je+gi)}return je}function mi(Te,Ye){for(var je=-1,zt=Array(Te);++je<Te;)zt[je]=Ye(je);return zt}function Vo(Te,Ye){return Ji(Ye,function(je){return[je,Te[je]]})}function Dr(Te){return Te&&Te.slice(0,C0e(Te)+1).replace(Mi,"")}function xi(Te){return function(Ye){return Te(Ye)}}function Ro(Te,Ye){return Ji(Ye,function(je){return Te[je]})}function ud(Te,Ye){return Te.has(Ye)}function Zl(Te,Ye){for(var je=-1,zt=Te.length;++je<zt&&Zm(Ye,Te[je],0)>-1;);return je}function j_(Te,Ye){for(var je=Te.length;je--&&Zm(Ye,Te[je],0)>-1;);return je}function H3(Te,Ye){for(var je=Te.length,zt=0;je--;)Te[je]===Ye&&++zt;return zt}var qnt=ne(gE),Wnt=ne(le);function Gnt(Te){return"\\"+Be[Te]}function Ynt(Te,Ye){return Te==null?n:Te[Ye]}function _E(Te){return pE.test(Te)}function Knt(Te){return Km.test(Te)}function Xnt(Te){for(var Ye,je=[];!(Ye=Te.next()).done;)je.push(Ye.value);return je}function eV(Te){var Ye=-1,je=Array(Te.size);return Te.forEach(function(zt,jn){je[++Ye]=[jn,zt]}),je}function A0e(Te,Ye){return function(je){return Te(Ye(je))}}function _1(Te,Ye){for(var je=-1,zt=Te.length,jn=0,gi=[];++je<zt;){var Ho=Te[je];(Ho===Ye||Ho===c)&&(Te[je]=c,gi[jn++]=je)}return gi}function C5(Te){var Ye=-1,je=Array(Te.size);return Te.forEach(function(zt){je[++Ye]=zt}),je}function Qnt(Te){var Ye=-1,je=Array(Te.size);return Te.forEach(function(zt){je[++Ye]=[zt,zt]}),je}function Jnt(Te,Ye,je){for(var zt=je-1,jn=Te.length;++zt<jn;)if(Te[zt]===Ye)return zt;return-1}function Znt(Te,Ye,je){for(var zt=je+1;zt--;)if(Te[zt]===Ye)return zt;return zt}function wE(Te){return _E(Te)?trt(Te):S5(Te)}function Sh(Te){return _E(Te)?nrt(Te):A5(Te)}function C0e(Te){for(var Ye=Te.length;Ye--&&me.test(Te.charAt(Ye)););return Ye}var ert=ne(ye);function trt(Te){for(var Ye=pa.lastIndex=0;pa.test(Te);)++Ye;return Ye}function nrt(Te){return Te.match(pa)||[]}function rrt(Te){return Te.match(z3)||[]}var irt=function Te(Ye){Ye=Ye==null?un:xE.defaults(un.Object(),Ye,xE.pick(un,Xm));var je=Ye.Array,zt=Ye.Date,jn=Ye.Error,gi=Ye.Function,Ho=Ye.Math,Zi=Ye.Object,tV=Ye.RegExp,srt=Ye.String,ld=Ye.TypeError,I5=je.prototype,ort=gi.prototype,EE=Zi.prototype,k5=Ye["__core-js_shared__"],R5=ort.toString,Ri=EE.hasOwnProperty,art=0,I0e=function(){var _=/[^.]+$/.exec(k5&&k5.keys&&k5.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),$5=EE.toString,urt=R5.call(Zi),lrt=un._,crt=tV("^"+R5.call(Ri).replace(lo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N5=zo?Ye.Buffer:n,w1=Ye.Symbol,P5=Ye.Uint8Array,k0e=N5?N5.allocUnsafe:n,O5=A0e(Zi.getPrototypeOf,Zi),R0e=Zi.create,$0e=EE.propertyIsEnumerable,D5=I5.splice,N0e=w1?w1.isConcatSpreadable:n,q3=w1?w1.iterator:n,U_=w1?w1.toStringTag:n,L5=function(){try{var _=W_(Zi,"defineProperty");return _({},"",{}),_}catch{}}(),frt=Ye.clearTimeout!==un.clearTimeout&&Ye.clearTimeout,drt=zt&&zt.now!==un.Date.now&&zt.now,hrt=Ye.setTimeout!==un.setTimeout&&Ye.setTimeout,M5=Ho.ceil,F5=Ho.floor,nV=Zi.getOwnPropertySymbols,prt=N5?N5.isBuffer:n,P0e=Ye.isFinite,mrt=I5.join,grt=A0e(Zi.keys,Zi),qo=Ho.max,bu=Ho.min,yrt=zt.now,vrt=Ye.parseInt,O0e=Ho.random,brt=I5.reverse,rV=W_(Ye,"DataView"),W3=W_(Ye,"Map"),iV=W_(Ye,"Promise"),TE=W_(Ye,"Set"),G3=W_(Ye,"WeakMap"),Y3=W_(Zi,"create"),B5=G3&&new G3,SE={},_rt=G_(rV),wrt=G_(W3),xrt=G_(iV),Ert=G_(TE),Trt=G_(G3),j5=w1?w1.prototype:n,K3=j5?j5.valueOf:n,D0e=j5?j5.toString:n;function Z(_){if(Gs(_)&&!Gn(_)&&!(_ instanceof Tr)){if(_ instanceof cd)return _;if(Ri.call(_,"__wrapped__"))return Lme(_)}return new cd(_)}var AE=function(){function _(){}return function(T){if(!Bs(T))return{};if(R0e)return R0e(T);_.prototype=T;var N=new _;return _.prototype=n,N}}();function U5(){}function cd(_,T){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!T,this.__index__=0,this.__values__=n}Z.templateSettings={escape:lf,evaluate:ha,interpolate:rl,variable:"",imports:{_:Z}},Z.prototype=U5.prototype,Z.prototype.constructor=Z,cd.prototype=AE(U5.prototype),cd.prototype.constructor=cd;function Tr(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function Srt(){var _=new Tr(this.__wrapped__);return _.__actions__=ec(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=ec(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=ec(this.__views__),_}function Art(){if(this.__filtered__){var _=new Tr(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function Crt(){var _=this.__wrapped__.value(),T=this.__dir__,N=Gn(_),z=T<0,X=N?_.length:0,re=Bit(0,X,this.__views__),ce=re.start,ve=re.end,Ie=ve-ce,et=z?ve:ce-1,tt=this.__iteratees__,lt=tt.length,Dt=0,Qt=bu(Ie,this.__takeCount__);if(!N||!z&&X==Ie&&Qt==Ie)return sme(_,this.__actions__);var yn=[];e:for(;Ie--&&Dt<Qt;){et+=T;for(var sr=-1,vn=_[et];++sr<lt;){var br=tt[sr],Lr=br.iteratee,hf=br.type,ul=Lr(vn);if(hf==q)vn=ul;else if(!ul){if(hf==B)continue e;break e}}yn[Dt++]=vn}return yn}Tr.prototype=AE(U5.prototype),Tr.prototype.constructor=Tr;function z_(_){var T=-1,N=_==null?0:_.length;for(this.clear();++T<N;){var z=_[T];this.set(z[0],z[1])}}function Irt(){this.__data__=Y3?Y3(null):{},this.size=0}function krt(_){var T=this.has(_)&&delete this.__data__[_];return this.size-=T?1:0,T}function Rrt(_){var T=this.__data__;if(Y3){var N=T[_];return N===u?n:N}return Ri.call(T,_)?T[_]:n}function $rt(_){var T=this.__data__;return Y3?T[_]!==n:Ri.call(T,_)}function Nrt(_,T){var N=this.__data__;return this.size+=this.has(_)?0:1,N[_]=Y3&&T===n?u:T,this}z_.prototype.clear=Irt,z_.prototype.delete=krt,z_.prototype.get=Rrt,z_.prototype.has=$rt,z_.prototype.set=Nrt;function eg(_){var T=-1,N=_==null?0:_.length;for(this.clear();++T<N;){var z=_[T];this.set(z[0],z[1])}}function Prt(){this.__data__=[],this.size=0}function Ort(_){var T=this.__data__,N=z5(T,_);if(N<0)return!1;var z=T.length-1;return N==z?T.pop():D5.call(T,N,1),--this.size,!0}function Drt(_){var T=this.__data__,N=z5(T,_);return N<0?n:T[N][1]}function Lrt(_){return z5(this.__data__,_)>-1}function Mrt(_,T){var N=this.__data__,z=z5(N,_);return z<0?(++this.size,N.push([_,T])):N[z][1]=T,this}eg.prototype.clear=Prt,eg.prototype.delete=Ort,eg.prototype.get=Drt,eg.prototype.has=Lrt,eg.prototype.set=Mrt;function tg(_){var T=-1,N=_==null?0:_.length;for(this.clear();++T<N;){var z=_[T];this.set(z[0],z[1])}}function Frt(){this.size=0,this.__data__={hash:new z_,map:new(W3||eg),string:new z_}}function Brt(_){var T=eP(this,_).delete(_);return this.size-=T?1:0,T}function jrt(_){return eP(this,_).get(_)}function Urt(_){return eP(this,_).has(_)}function zrt(_,T){var N=eP(this,_),z=N.size;return N.set(_,T),this.size+=N.size==z?0:1,this}tg.prototype.clear=Frt,tg.prototype.delete=Brt,tg.prototype.get=jrt,tg.prototype.has=Urt,tg.prototype.set=zrt;function V_(_){var T=-1,N=_==null?0:_.length;for(this.__data__=new tg;++T<N;)this.add(_[T])}function Vrt(_){return this.__data__.set(_,u),this}function Hrt(_){return this.__data__.has(_)}V_.prototype.add=V_.prototype.push=Vrt,V_.prototype.has=Hrt;function Ah(_){var T=this.__data__=new eg(_);this.size=T.size}function qrt(){this.__data__=new eg,this.size=0}function Wrt(_){var T=this.__data__,N=T.delete(_);return this.size=T.size,N}function Grt(_){return this.__data__.get(_)}function Yrt(_){return this.__data__.has(_)}function Krt(_,T){var N=this.__data__;if(N instanceof eg){var z=N.__data__;if(!W3||z.length<i-1)return z.push([_,T]),this.size=++N.size,this;N=this.__data__=new tg(z)}return N.set(_,T),this.size=N.size,this}Ah.prototype.clear=qrt,Ah.prototype.delete=Wrt,Ah.prototype.get=Grt,Ah.prototype.has=Yrt,Ah.prototype.set=Krt;function L0e(_,T){var N=Gn(_),z=!N&&Y_(_),X=!N&&!z&&A1(_),re=!N&&!z&&!X&&RE(_),ce=N||z||X||re,ve=ce?mi(_.length,srt):[],Ie=ve.length;for(var et in _)(T||Ri.call(_,et))&&!(ce&&(et=="length"||X&&(et=="offset"||et=="parent")||re&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||sg(et,Ie)))&&ve.push(et);return ve}function M0e(_){var T=_.length;return T?_[mV(0,T-1)]:n}function Xrt(_,T){return tP(ec(_),H_(T,0,_.length))}function Qrt(_){return tP(ec(_))}function sV(_,T,N){(N!==n&&!Ch(_[T],N)||N===n&&!(T in _))&&ng(_,T,N)}function X3(_,T,N){var z=_[T];(!(Ri.call(_,T)&&Ch(z,N))||N===n&&!(T in _))&&ng(_,T,N)}function z5(_,T){for(var N=_.length;N--;)if(Ch(_[N][0],T))return N;return-1}function Jrt(_,T,N,z){return x1(_,function(X,re,ce){T(z,X,N(X),ce)}),z}function F0e(_,T){return _&&Jp(T,ma(T),_)}function Zrt(_,T){return _&&Jp(T,nc(T),_)}function ng(_,T,N){T=="__proto__"&&L5?L5(_,T,{configurable:!0,enumerable:!0,value:N,writable:!0}):_[T]=N}function oV(_,T){for(var N=-1,z=T.length,X=je(z),re=_==null;++N<z;)X[N]=re?n:jV(_,T[N]);return X}function H_(_,T,N){return _===_&&(N!==n&&(_=_<=N?_:N),T!==n&&(_=_>=T?_:T)),_}function fd(_,T,N,z,X,re){var ce,ve=T&f,Ie=T&d,et=T&h;if(N&&(ce=X?N(_,z,X,re):N(_)),ce!==n)return ce;if(!Bs(_))return _;var tt=Gn(_);if(tt){if(ce=Uit(_),!ve)return ec(_,ce)}else{var lt=_u(_),Dt=lt==Re||lt==Tt;if(A1(_))return ume(_,ve);if(lt==Se||lt==Q||Dt&&!X){if(ce=Ie||Dt?{}:Cme(_),!ve)return Ie?Rit(_,Zrt(ce,_)):kit(_,F0e(ce,_))}else{if(!Or[lt])return X?_:{};ce=zit(_,lt,ve)}}re||(re=new Ah);var Qt=re.get(_);if(Qt)return Qt;re.set(_,ce),nge(_)?_.forEach(function(vn){ce.add(fd(vn,T,N,vn,_,re))}):ege(_)&&_.forEach(function(vn,br){ce.set(br,fd(vn,T,N,br,_,re))});var yn=et?Ie?AV:SV:Ie?nc:ma,sr=tt?n:yn(_);return sl(sr||_,function(vn,br){sr&&(br=vn,vn=_[br]),X3(ce,br,fd(vn,T,N,br,_,re))}),ce}function eit(_){var T=ma(_);return function(N){return B0e(N,_,T)}}function B0e(_,T,N){var z=N.length;if(_==null)return!z;for(_=Zi(_);z--;){var X=N[z],re=T[X],ce=_[X];if(ce===n&&!(X in _)||!re(ce))return!1}return!0}function j0e(_,T,N){if(typeof _!="function")throw new ld(o);return rI(function(){_.apply(n,N)},T)}function Q3(_,T,N,z){var X=-1,re=F_,ce=!0,ve=_.length,Ie=[],et=T.length;if(!ve)return Ie;N&&(T=Ji(T,xi(N))),z?(re=v1,ce=!1):T.length>=i&&(re=ud,ce=!1,T=new V_(T));e:for(;++X<ve;){var tt=_[X],lt=N==null?tt:N(tt);if(tt=z||tt!==0?tt:0,ce&&lt===lt){for(var Dt=et;Dt--;)if(T[Dt]===lt)continue e;Ie.push(tt)}else re(T,lt,z)||Ie.push(tt)}return Ie}var x1=hme(Qp),U0e=hme(uV,!0);function tit(_,T){var N=!0;return x1(_,function(z,X,re){return N=!!T(z,X,re),N}),N}function V5(_,T,N){for(var z=-1,X=_.length;++z<X;){var re=_[z],ce=T(re);if(ce!=null&&(ve===n?ce===ce&&!df(ce):N(ce,ve)))var ve=ce,Ie=re}return Ie}function nit(_,T,N,z){var X=_.length;for(N=Zn(N),N<0&&(N=-N>X?0:X+N),z=z===n||z>X?X:Zn(z),z<0&&(z+=X),z=N>z?0:ige(z);N<z;)_[N++]=T;return _}function z0e(_,T){var N=[];return x1(_,function(z,X,re){T(z,X,re)&&N.push(z)}),N}function ja(_,T,N,z,X){var re=-1,ce=_.length;for(N||(N=Hit),X||(X=[]);++re<ce;){var ve=_[re];T>0&&N(ve)?T>1?ja(ve,T-1,N,z,X):Eh(X,ve):z||(X[X.length]=ve)}return X}var aV=pme(),V0e=pme(!0);function Qp(_,T){return _&&aV(_,T,ma)}function uV(_,T){return _&&V0e(_,T,ma)}function H5(_,T){return ad(T,function(N){return og(_[N])})}function q_(_,T){T=T1(T,_);for(var N=0,z=T.length;_!=null&&N<z;)_=_[Zp(T[N++])];return N&&N==z?_:n}function H0e(_,T,N){var z=T(_);return Gn(_)?z:Eh(z,N(_))}function ol(_){return _==null?_===n?kt:mt:U_&&U_ in Zi(_)?Fit(_):Qit(_)}function lV(_,T){return _>T}function rit(_,T){return _!=null&&Ri.call(_,T)}function iit(_,T){return _!=null&&T in Zi(_)}function sit(_,T,N){return _>=bu(T,N)&&_<qo(T,N)}function cV(_,T,N){for(var z=N?v1:F_,X=_[0].length,re=_.length,ce=re,ve=je(re),Ie=1/0,et=[];ce--;){var tt=_[ce];ce&&T&&(tt=Ji(tt,xi(T))),Ie=bu(tt.length,Ie),ve[ce]=!N&&(T||X>=120&&tt.length>=120)?new V_(ce&&tt):n}tt=_[0];var lt=-1,Dt=ve[0];e:for(;++lt<X&&et.length<Ie;){var Qt=tt[lt],yn=T?T(Qt):Qt;if(Qt=N||Qt!==0?Qt:0,!(Dt?ud(Dt,yn):z(et,yn,N))){for(ce=re;--ce;){var sr=ve[ce];if(!(sr?ud(sr,yn):z(_[ce],yn,N)))continue e}Dt&&Dt.push(yn),et.push(Qt)}}return et}function oit(_,T,N,z){return Qp(_,function(X,re,ce){T(z,N(X),re,ce)}),z}function J3(_,T,N){T=T1(T,_),_=$me(_,T);var z=_==null?_:_[Zp(hd(T))];return z==null?n:yu(z,_,N)}function q0e(_){return Gs(_)&&ol(_)==Q}function ait(_){return Gs(_)&&ol(_)==Oe}function uit(_){return Gs(_)&&ol(_)==Ce}function Z3(_,T,N,z,X){return _===T?!0:_==null||T==null||!Gs(_)&&!Gs(T)?_!==_&&T!==T:lit(_,T,N,z,Z3,X)}function lit(_,T,N,z,X,re){var ce=Gn(_),ve=Gn(T),Ie=ce?se:_u(_),et=ve?se:_u(T);Ie=Ie==Q?Se:Ie,et=et==Q?Se:et;var tt=Ie==Se,lt=et==Se,Dt=Ie==et;if(Dt&&A1(_)){if(!A1(T))return!1;ce=!0,tt=!1}if(Dt&&!tt)return re||(re=new Ah),ce||RE(_)?Tme(_,T,N,z,X,re):Lit(_,T,Ie,N,z,X,re);if(!(N&p)){var Qt=tt&&Ri.call(_,"__wrapped__"),yn=lt&&Ri.call(T,"__wrapped__");if(Qt||yn){var sr=Qt?_.value():_,vn=yn?T.value():T;return re||(re=new Ah),X(sr,vn,N,z,re)}}return Dt?(re||(re=new Ah),Mit(_,T,N,z,X,re)):!1}function cit(_){return Gs(_)&&_u(_)==Ze}function fV(_,T,N,z){var X=N.length,re=X,ce=!z;if(_==null)return!re;for(_=Zi(_);X--;){var ve=N[X];if(ce&&ve[2]?ve[1]!==_[ve[0]]:!(ve[0]in _))return!1}for(;++X<re;){ve=N[X];var Ie=ve[0],et=_[Ie],tt=ve[1];if(ce&&ve[2]){if(et===n&&!(Ie in _))return!1}else{var lt=new Ah;if(z)var Dt=z(et,tt,Ie,_,T,lt);if(!(Dt===n?Z3(tt,et,p|m,z,lt):Dt))return!1}}return!0}function W0e(_){if(!Bs(_)||Wit(_))return!1;var T=og(_)?crt:Nr;return T.test(G_(_))}function fit(_){return Gs(_)&&ol(_)==yt}function dit(_){return Gs(_)&&_u(_)==$t}function hit(_){return Gs(_)&&aP(_.length)&&!!Jr[ol(_)]}function G0e(_){return typeof _=="function"?_:_==null?rc:typeof _=="object"?Gn(_)?X0e(_[0],_[1]):K0e(_):mge(_)}function dV(_){if(!nI(_))return grt(_);var T=[];for(var N in Zi(_))Ri.call(_,N)&&N!="constructor"&&T.push(N);return T}function pit(_){if(!Bs(_))return Xit(_);var T=nI(_),N=[];for(var z in _)z=="constructor"&&(T||!Ri.call(_,z))||N.push(z);return N}function hV(_,T){return _<T}function Y0e(_,T){var N=-1,z=tc(_)?je(_.length):[];return x1(_,function(X,re,ce){z[++N]=T(X,re,ce)}),z}function K0e(_){var T=IV(_);return T.length==1&&T[0][2]?kme(T[0][0],T[0][1]):function(N){return N===_||fV(N,_,T)}}function X0e(_,T){return RV(_)&&Ime(T)?kme(Zp(_),T):function(N){var z=jV(N,_);return z===n&&z===T?UV(N,_):Z3(T,z,p|m)}}function q5(_,T,N,z,X){_!==T&&aV(T,function(re,ce){if(X||(X=new Ah),Bs(re))mit(_,T,ce,N,q5,z,X);else{var ve=z?z(NV(_,ce),re,ce+"",_,T,X):n;ve===n&&(ve=re),sV(_,ce,ve)}},nc)}function mit(_,T,N,z,X,re,ce){var ve=NV(_,N),Ie=NV(T,N),et=ce.get(Ie);if(et){sV(_,N,et);return}var tt=re?re(ve,Ie,N+"",_,T,ce):n,lt=tt===n;if(lt){var Dt=Gn(Ie),Qt=!Dt&&A1(Ie),yn=!Dt&&!Qt&&RE(Ie);tt=Ie,Dt||Qt||yn?Gn(ve)?tt=ve:co(ve)?tt=ec(ve):Qt?(lt=!1,tt=ume(Ie,!0)):yn?(lt=!1,tt=lme(Ie,!0)):tt=[]:iI(Ie)||Y_(Ie)?(tt=ve,Y_(ve)?tt=sge(ve):(!Bs(ve)||og(ve))&&(tt=Cme(Ie))):lt=!1}lt&&(ce.set(Ie,tt),X(tt,Ie,z,re,ce),ce.delete(Ie)),sV(_,N,tt)}function Q0e(_,T){var N=_.length;if(N)return T+=T<0?N:0,sg(T,N)?_[T]:n}function J0e(_,T,N){T.length?T=Ji(T,function(re){return Gn(re)?function(ce){return q_(ce,re.length===1?re[0]:re)}:re}):T=[rc];var z=-1;T=Ji(T,xi(gn()));var X=Y0e(_,function(re,ce,ve){var Ie=Ji(T,function(et){return et(re)});return{criteria:Ie,index:++z,value:re}});return Ve(X,function(re,ce){return Iit(re,ce,N)})}function git(_,T){return Z0e(_,T,function(N,z){return UV(_,z)})}function Z0e(_,T,N){for(var z=-1,X=T.length,re={};++z<X;){var ce=T[z],ve=q_(_,ce);N(ve,ce)&&eI(re,T1(ce,_),ve)}return re}function yit(_){return function(T){return q_(T,_)}}function pV(_,T,N,z){var X=z?b1:Zm,re=-1,ce=T.length,ve=_;for(_===T&&(T=ec(T)),N&&(ve=Ji(_,xi(N)));++re<ce;)for(var Ie=0,et=T[re],tt=N?N(et):et;(Ie=X(ve,tt,Ie,z))>-1;)ve!==_&&D5.call(ve,Ie,1),D5.call(_,Ie,1);return _}function eme(_,T){for(var N=_?T.length:0,z=N-1;N--;){var X=T[N];if(N==z||X!==re){var re=X;sg(X)?D5.call(_,X,1):vV(_,X)}}return _}function mV(_,T){return _+F5(O0e()*(T-_+1))}function vit(_,T,N,z){for(var X=-1,re=qo(M5((T-_)/(N||1)),0),ce=je(re);re--;)ce[z?re:++X]=_,_+=N;return ce}function gV(_,T){var N="";if(!_||T<1||T>K)return N;do T%2&&(N+=_),T=F5(T/2),T&&(_+=_);while(T);return N}function lr(_,T){return PV(Rme(_,T,rc),_+"")}function bit(_){return M0e($E(_))}function _it(_,T){var N=$E(_);return tP(N,H_(T,0,N.length))}function eI(_,T,N,z){if(!Bs(_))return _;T=T1(T,_);for(var X=-1,re=T.length,ce=re-1,ve=_;ve!=null&&++X<re;){var Ie=Zp(T[X]),et=N;if(Ie==="__proto__"||Ie==="constructor"||Ie==="prototype")return _;if(X!=ce){var tt=ve[Ie];et=z?z(tt,Ie,ve):n,et===n&&(et=Bs(tt)?tt:sg(T[X+1])?[]:{})}X3(ve,Ie,et),ve=ve[Ie]}return _}var tme=B5?function(_,T){return B5.set(_,T),_}:rc,wit=L5?function(_,T){return L5(_,"toString",{configurable:!0,enumerable:!1,value:VV(T),writable:!0})}:rc;function xit(_){return tP($E(_))}function dd(_,T,N){var z=-1,X=_.length;T<0&&(T=-T>X?0:X+T),N=N>X?X:N,N<0&&(N+=X),X=T>N?0:N-T>>>0,T>>>=0;for(var re=je(X);++z<X;)re[z]=_[z+T];return re}function Eit(_,T){var N;return x1(_,function(z,X,re){return N=T(z,X,re),!N}),!!N}function W5(_,T,N){var z=0,X=_==null?z:_.length;if(typeof T=="number"&&T===T&&X<=M){for(;z<X;){var re=z+X>>>1,ce=_[re];ce!==null&&!df(ce)&&(N?ce<=T:ce<T)?z=re+1:X=re}return X}return yV(_,T,rc,N)}function yV(_,T,N,z){var X=0,re=_==null?0:_.length;if(re===0)return 0;T=N(T);for(var ce=T!==T,ve=T===null,Ie=df(T),et=T===n;X<re;){var tt=F5((X+re)/2),lt=N(_[tt]),Dt=lt!==n,Qt=lt===null,yn=lt===lt,sr=df(lt);if(ce)var vn=z||yn;else et?vn=yn&&(z||Dt):ve?vn=yn&&Dt&&(z||!Qt):Ie?vn=yn&&Dt&&!Qt&&(z||!sr):Qt||sr?vn=!1:vn=z?lt<=T:lt<T;vn?X=tt+1:re=tt}return bu(re,W)}function nme(_,T){for(var N=-1,z=_.length,X=0,re=[];++N<z;){var ce=_[N],ve=T?T(ce):ce;if(!N||!Ch(ve,Ie)){var Ie=ve;re[X++]=ce===0?0:ce}}return re}function rme(_){return typeof _=="number"?_:df(_)?F:+_}function ff(_){if(typeof _=="string")return _;if(Gn(_))return Ji(_,ff)+"";if(df(_))return D0e?D0e.call(_):"";var T=_+"";return T=="0"&&1/_==-1/0?"-0":T}function E1(_,T,N){var z=-1,X=F_,re=_.length,ce=!0,ve=[],Ie=ve;if(N)ce=!1,X=v1;else if(re>=i){var et=T?null:Oit(_);if(et)return C5(et);ce=!1,X=ud,Ie=new V_}else Ie=T?[]:ve;e:for(;++z<re;){var tt=_[z],lt=T?T(tt):tt;if(tt=N||tt!==0?tt:0,ce&&lt===lt){for(var Dt=Ie.length;Dt--;)if(Ie[Dt]===lt)continue e;T&&Ie.push(lt),ve.push(tt)}else X(Ie,lt,N)||(Ie!==ve&&Ie.push(lt),ve.push(tt))}return ve}function vV(_,T){return T=T1(T,_),_=$me(_,T),_==null||delete _[Zp(hd(T))]}function ime(_,T,N,z){return eI(_,T,N(q_(_,T)),z)}function G5(_,T,N,z){for(var X=_.length,re=z?X:-1;(z?re--:++re<X)&&T(_[re],re,_););return N?dd(_,z?0:re,z?re+1:X):dd(_,z?re+1:0,z?X:re)}function sme(_,T){var N=_;return N instanceof Tr&&(N=N.value()),Th(T,function(z,X){return X.func.apply(X.thisArg,Eh([z],X.args))},N)}function bV(_,T,N){var z=_.length;if(z<2)return z?E1(_[0]):[];for(var X=-1,re=je(z);++X<z;)for(var ce=_[X],ve=-1;++ve<z;)ve!=X&&(re[X]=Q3(re[X]||ce,_[ve],T,N));return E1(ja(re,1),T,N)}function ome(_,T,N){for(var z=-1,X=_.length,re=T.length,ce={};++z<X;){var ve=z<re?T[z]:n;N(ce,_[z],ve)}return ce}function _V(_){return co(_)?_:[]}function wV(_){return typeof _=="function"?_:rc}function T1(_,T){return Gn(_)?_:RV(_,T)?[_]:Dme(Ei(_))}var Tit=lr;function S1(_,T,N){var z=_.length;return N=N===n?z:N,!T&&N>=z?_:dd(_,T,N)}var ame=frt||function(_){return un.clearTimeout(_)};function ume(_,T){if(T)return _.slice();var N=_.length,z=k0e?k0e(N):new _.constructor(N);return _.copy(z),z}function xV(_){var T=new _.constructor(_.byteLength);return new P5(T).set(new P5(_)),T}function Sit(_,T){var N=T?xV(_.buffer):_.buffer;return new _.constructor(N,_.byteOffset,_.byteLength)}function Ait(_){var T=new _.constructor(_.source,rr.exec(_));return T.lastIndex=_.lastIndex,T}function Cit(_){return K3?Zi(K3.call(_)):{}}function lme(_,T){var N=T?xV(_.buffer):_.buffer;return new _.constructor(N,_.byteOffset,_.length)}function cme(_,T){if(_!==T){var N=_!==n,z=_===null,X=_===_,re=df(_),ce=T!==n,ve=T===null,Ie=T===T,et=df(T);if(!ve&&!et&&!re&&_>T||re&&ce&&Ie&&!ve&&!et||z&&ce&&Ie||!N&&Ie||!X)return 1;if(!z&&!re&&!et&&_<T||et&&N&&X&&!z&&!re||ve&&N&&X||!ce&&X||!Ie)return-1}return 0}function Iit(_,T,N){for(var z=-1,X=_.criteria,re=T.criteria,ce=X.length,ve=N.length;++z<ce;){var Ie=cme(X[z],re[z]);if(Ie){if(z>=ve)return Ie;var et=N[z];return Ie*(et=="desc"?-1:1)}}return _.index-T.index}function fme(_,T,N,z){for(var X=-1,re=_.length,ce=N.length,ve=-1,Ie=T.length,et=qo(re-ce,0),tt=je(Ie+et),lt=!z;++ve<Ie;)tt[ve]=T[ve];for(;++X<ce;)(lt||X<re)&&(tt[N[X]]=_[X]);for(;et--;)tt[ve++]=_[X++];return tt}function dme(_,T,N,z){for(var X=-1,re=_.length,ce=-1,ve=N.length,Ie=-1,et=T.length,tt=qo(re-ve,0),lt=je(tt+et),Dt=!z;++X<tt;)lt[X]=_[X];for(var Qt=X;++Ie<et;)lt[Qt+Ie]=T[Ie];for(;++ce<ve;)(Dt||X<re)&&(lt[Qt+N[ce]]=_[X++]);return lt}function ec(_,T){var N=-1,z=_.length;for(T||(T=je(z));++N<z;)T[N]=_[N];return T}function Jp(_,T,N,z){var X=!N;N||(N={});for(var re=-1,ce=T.length;++re<ce;){var ve=T[re],Ie=z?z(N[ve],_[ve],ve,N,_):n;Ie===n&&(Ie=_[ve]),X?ng(N,ve,Ie):X3(N,ve,Ie)}return N}function kit(_,T){return Jp(_,kV(_),T)}function Rit(_,T){return Jp(_,Sme(_),T)}function Y5(_,T){return function(N,z){var X=Gn(N)?M_:Jrt,re=T?T():{};return X(N,_,gn(z,2),re)}}function CE(_){return lr(function(T,N){var z=-1,X=N.length,re=X>1?N[X-1]:n,ce=X>2?N[2]:n;for(re=_.length>3&&typeof re=="function"?(X--,re):n,ce&&al(N[0],N[1],ce)&&(re=X<3?n:re,X=1),T=Zi(T);++z<X;){var ve=N[z];ve&&_(T,ve,z,re)}return T})}function hme(_,T){return function(N,z){if(N==null)return N;if(!tc(N))return _(N,z);for(var X=N.length,re=T?X:-1,ce=Zi(N);(T?re--:++re<X)&&z(ce[re],re,ce)!==!1;);return N}}function pme(_){return function(T,N,z){for(var X=-1,re=Zi(T),ce=z(T),ve=ce.length;ve--;){var Ie=ce[_?ve:++X];if(N(re[Ie],Ie,re)===!1)break}return T}}function $it(_,T,N){var z=T&g,X=tI(_);function re(){var ce=this&&this!==un&&this instanceof re?X:_;return ce.apply(z?N:this,arguments)}return re}function mme(_){return function(T){T=Ei(T);var N=_E(T)?Sh(T):n,z=N?N[0]:T.charAt(0),X=N?S1(N,1).join(""):T.slice(1);return z[_]()+X}}function IE(_){return function(T){return Th(hge(dge(T).replace(hE,"")),_,"")}}function tI(_){return function(){var T=arguments;switch(T.length){case 0:return new _;case 1:return new _(T[0]);case 2:return new _(T[0],T[1]);case 3:return new _(T[0],T[1],T[2]);case 4:return new _(T[0],T[1],T[2],T[3]);case 5:return new _(T[0],T[1],T[2],T[3],T[4]);case 6:return new _(T[0],T[1],T[2],T[3],T[4],T[5]);case 7:return new _(T[0],T[1],T[2],T[3],T[4],T[5],T[6])}var N=AE(_.prototype),z=_.apply(N,T);return Bs(z)?z:N}}function Nit(_,T,N){var z=tI(_);function X(){for(var re=arguments.length,ce=je(re),ve=re,Ie=kE(X);ve--;)ce[ve]=arguments[ve];var et=re<3&&ce[0]!==Ie&&ce[re-1]!==Ie?[]:_1(ce,Ie);if(re-=et.length,re<N)return _me(_,T,K5,X.placeholder,n,ce,et,n,n,N-re);var tt=this&&this!==un&&this instanceof X?z:_;return yu(tt,this,ce)}return X}function gme(_){return function(T,N,z){var X=Zi(T);if(!tc(T)){var re=gn(N,3);T=ma(T),N=function(ve){return re(X[ve],ve,X)}}var ce=_(T,N,z);return ce>-1?X[re?T[ce]:ce]:n}}function yme(_){return ig(function(T){var N=T.length,z=N,X=cd.prototype.thru;for(_&&T.reverse();z--;){var re=T[z];if(typeof re!="function")throw new ld(o);if(X&&!ce&&Z5(re)=="wrapper")var ce=new cd([],!0)}for(z=ce?z:N;++z<N;){re=T[z];var ve=Z5(re),Ie=ve=="wrapper"?CV(re):n;Ie&&$V(Ie[0])&&Ie[1]==(A|b|x|C)&&!Ie[4].length&&Ie[9]==1?ce=ce[Z5(Ie[0])].apply(ce,Ie[3]):ce=re.length==1&&$V(re)?ce[ve]():ce.thru(re)}return function(){var et=arguments,tt=et[0];if(ce&&et.length==1&&Gn(tt))return ce.plant(tt).value();for(var lt=0,Dt=N?T[lt].apply(this,et):tt;++lt<N;)Dt=T[lt].call(this,Dt);return Dt}})}function K5(_,T,N,z,X,re,ce,ve,Ie,et){var tt=T&A,lt=T&g,Dt=T&y,Qt=T&(b|w),yn=T&$,sr=Dt?n:tI(_);function vn(){for(var br=arguments.length,Lr=je(br),hf=br;hf--;)Lr[hf]=arguments[hf];if(Qt)var ul=kE(vn),pf=H3(Lr,ul);if(z&&(Lr=fme(Lr,z,X,Qt)),re&&(Lr=dme(Lr,re,ce,Qt)),br-=pf,Qt&&br<et){var fo=_1(Lr,ul);return _me(_,T,K5,vn.placeholder,N,Lr,fo,ve,Ie,et-br)}var Ih=lt?N:this,ug=Dt?Ih[_]:_;return br=Lr.length,ve?Lr=Jit(Lr,ve):yn&&br>1&&Lr.reverse(),tt&&Ie<br&&(Lr.length=Ie),this&&this!==un&&this instanceof vn&&(ug=sr||tI(ug)),ug.apply(Ih,Lr)}return vn}function vme(_,T){return function(N,z){return oit(N,_,T(z),{})}}function X5(_,T){return function(N,z){var X;if(N===n&&z===n)return T;if(N!==n&&(X=N),z!==n){if(X===n)return z;typeof N=="string"||typeof z=="string"?(N=ff(N),z=ff(z)):(N=rme(N),z=rme(z)),X=_(N,z)}return X}}function EV(_){return ig(function(T){return T=Ji(T,xi(gn())),lr(function(N){var z=this;return _(T,function(X){return yu(X,z,N)})})})}function Q5(_,T){T=T===n?" ":ff(T);var N=T.length;if(N<2)return N?gV(T,_):T;var z=gV(T,M5(_/wE(T)));return _E(T)?S1(Sh(z),0,_).join(""):z.slice(0,_)}function Pit(_,T,N,z){var X=T&g,re=tI(_);function ce(){for(var ve=-1,Ie=arguments.length,et=-1,tt=z.length,lt=je(tt+Ie),Dt=this&&this!==un&&this instanceof ce?re:_;++et<tt;)lt[et]=z[et];for(;Ie--;)lt[et++]=arguments[++ve];return yu(Dt,X?N:this,lt)}return ce}function bme(_){return function(T,N,z){return z&&typeof z!="number"&&al(T,N,z)&&(N=z=n),T=ag(T),N===n?(N=T,T=0):N=ag(N),z=z===n?T<N?1:-1:ag(z),vit(T,N,z,_)}}function J5(_){return function(T,N){return typeof T=="string"&&typeof N=="string"||(T=pd(T),N=pd(N)),_(T,N)}}function _me(_,T,N,z,X,re,ce,ve,Ie,et){var tt=T&b,lt=tt?ce:n,Dt=tt?n:ce,Qt=tt?re:n,yn=tt?n:re;T|=tt?x:S,T&=~(tt?S:x),T&v||(T&=-4);var sr=[_,T,X,Qt,lt,yn,Dt,ve,Ie,et],vn=N.apply(n,sr);return $V(_)&&Nme(vn,sr),vn.placeholder=z,Pme(vn,_,T)}function TV(_){var T=Ho[_];return function(N,z){if(N=pd(N),z=z==null?0:bu(Zn(z),292),z&&P0e(N)){var X=(Ei(N)+"e").split("e"),re=T(X[0]+"e"+(+X[1]+z));return X=(Ei(re)+"e").split("e"),+(X[0]+"e"+(+X[1]-z))}return T(N)}}var Oit=TE&&1/C5(new TE([,-0]))[1]==G?function(_){return new TE(_)}:WV;function wme(_){return function(T){var N=_u(T);return N==Ze?eV(T):N==$t?Qnt(T):Vo(T,_(T))}}function rg(_,T,N,z,X,re,ce,ve){var Ie=T&y;if(!Ie&&typeof _!="function")throw new ld(o);var et=z?z.length:0;if(et||(T&=-97,z=X=n),ce=ce===n?ce:qo(Zn(ce),0),ve=ve===n?ve:Zn(ve),et-=X?X.length:0,T&S){var tt=z,lt=X;z=X=n}var Dt=Ie?n:CV(_),Qt=[_,T,N,z,X,tt,lt,re,ce,ve];if(Dt&&Kit(Qt,Dt),_=Qt[0],T=Qt[1],N=Qt[2],z=Qt[3],X=Qt[4],ve=Qt[9]=Qt[9]===n?Ie?0:_.length:qo(Qt[9]-et,0),!ve&&T&(b|w)&&(T&=-25),!T||T==g)var yn=$it(_,T,N);else T==b||T==w?yn=Nit(_,T,ve):(T==x||T==(g|x))&&!X.length?yn=Pit(_,T,N,z):yn=K5.apply(n,Qt);var sr=Dt?tme:Nme;return Pme(sr(yn,Qt),_,T)}function xme(_,T,N,z){return _===n||Ch(_,EE[N])&&!Ri.call(z,N)?T:_}function Eme(_,T,N,z,X,re){return Bs(_)&&Bs(T)&&(re.set(T,_),q5(_,T,n,Eme,re),re.delete(T)),_}function Dit(_){return iI(_)?n:_}function Tme(_,T,N,z,X,re){var ce=N&p,ve=_.length,Ie=T.length;if(ve!=Ie&&!(ce&&Ie>ve))return!1;var et=re.get(_),tt=re.get(T);if(et&&tt)return et==T&&tt==_;var lt=-1,Dt=!0,Qt=N&m?new V_:n;for(re.set(_,T),re.set(T,_);++lt<ve;){var yn=_[lt],sr=T[lt];if(z)var vn=ce?z(sr,yn,lt,T,_,re):z(yn,sr,lt,_,T,re);if(vn!==n){if(vn)continue;Dt=!1;break}if(Qt){if(!vE(T,function(br,Lr){if(!ud(Qt,Lr)&&(yn===br||X(yn,br,N,z,re)))return Qt.push(Lr)})){Dt=!1;break}}else if(!(yn===sr||X(yn,sr,N,z,re))){Dt=!1;break}}return re.delete(_),re.delete(T),Dt}function Lit(_,T,N,z,X,re,ce){switch(N){case ot:if(_.byteLength!=T.byteLength||_.byteOffset!=T.byteOffset)return!1;_=_.buffer,T=T.buffer;case Oe:return!(_.byteLength!=T.byteLength||!re(new P5(_),new P5(T)));case he:case Ce:case It:return Ch(+_,+T);case rt:return _.name==T.name&&_.message==T.message;case yt:case Je:return _==T+"";case Ze:var ve=eV;case $t:var Ie=z&p;if(ve||(ve=C5),_.size!=T.size&&!Ie)return!1;var et=ce.get(_);if(et)return et==T;z|=m,ce.set(_,T);var tt=Tme(ve(_),ve(T),z,X,re,ce);return ce.delete(_),tt;case xe:if(K3)return K3.call(_)==K3.call(T)}return!1}function Mit(_,T,N,z,X,re){var ce=N&p,ve=SV(_),Ie=ve.length,et=SV(T),tt=et.length;if(Ie!=tt&&!ce)return!1;for(var lt=Ie;lt--;){var Dt=ve[lt];if(!(ce?Dt in T:Ri.call(T,Dt)))return!1}var Qt=re.get(_),yn=re.get(T);if(Qt&&yn)return Qt==T&&yn==_;var sr=!0;re.set(_,T),re.set(T,_);for(var vn=ce;++lt<Ie;){Dt=ve[lt];var br=_[Dt],Lr=T[Dt];if(z)var hf=ce?z(Lr,br,Dt,T,_,re):z(br,Lr,Dt,_,T,re);if(!(hf===n?br===Lr||X(br,Lr,N,z,re):hf)){sr=!1;break}vn||(vn=Dt=="constructor")}if(sr&&!vn){var ul=_.constructor,pf=T.constructor;ul!=pf&&"constructor"in _&&"constructor"in T&&!(typeof ul=="function"&&ul instanceof ul&&typeof pf=="function"&&pf instanceof pf)&&(sr=!1)}return re.delete(_),re.delete(T),sr}function ig(_){return PV(Rme(_,n,Bme),_+"")}function SV(_){return H0e(_,ma,kV)}function AV(_){return H0e(_,nc,Sme)}var CV=B5?function(_){return B5.get(_)}:WV;function Z5(_){for(var T=_.name+"",N=SE[T],z=Ri.call(SE,T)?N.length:0;z--;){var X=N[z],re=X.func;if(re==null||re==_)return X.name}return T}function kE(_){var T=Ri.call(Z,"placeholder")?Z:_;return T.placeholder}function gn(){var _=Z.iteratee||HV;return _=_===HV?G0e:_,arguments.length?_(arguments[0],arguments[1]):_}function eP(_,T){var N=_.__data__;return qit(T)?N[typeof T=="string"?"string":"hash"]:N.map}function IV(_){for(var T=ma(_),N=T.length;N--;){var z=T[N],X=_[z];T[N]=[z,X,Ime(X)]}return T}function W_(_,T){var N=Ynt(_,T);return W0e(N)?N:n}function Fit(_){var T=Ri.call(_,U_),N=_[U_];try{_[U_]=n;var z=!0}catch{}var X=$5.call(_);return z&&(T?_[U_]=N:delete _[U_]),X}var kV=nV?function(_){return _==null?[]:(_=Zi(_),ad(nV(_),function(T){return $0e.call(_,T)}))}:GV,Sme=nV?function(_){for(var T=[];_;)Eh(T,kV(_)),_=O5(_);return T}:GV,_u=ol;(rV&&_u(new rV(new ArrayBuffer(1)))!=ot||W3&&_u(new W3)!=Ze||iV&&_u(iV.resolve())!=Fe||TE&&_u(new TE)!=$t||G3&&_u(new G3)!=Rt)&&(_u=function(_){var T=ol(_),N=T==Se?_.constructor:n,z=N?G_(N):"";if(z)switch(z){case _rt:return ot;case wrt:return Ze;case xrt:return Fe;case Ert:return $t;case Trt:return Rt}return T});function Bit(_,T,N){for(var z=-1,X=N.length;++z<X;){var re=N[z],ce=re.size;switch(re.type){case"drop":_+=ce;break;case"dropRight":T-=ce;break;case"take":T=bu(T,_+ce);break;case"takeRight":_=qo(_,T-ce);break}}return{start:_,end:T}}function jit(_){var T=_.match(ge);return T?T[1].split(Me):[]}function Ame(_,T,N){T=T1(T,_);for(var z=-1,X=T.length,re=!1;++z<X;){var ce=Zp(T[z]);if(!(re=_!=null&&N(_,ce)))break;_=_[ce]}return re||++z!=X?re:(X=_==null?0:_.length,!!X&&aP(X)&&sg(ce,X)&&(Gn(_)||Y_(_)))}function Uit(_){var T=_.length,N=new _.constructor(T);return T&&typeof _[0]=="string"&&Ri.call(_,"index")&&(N.index=_.index,N.input=_.input),N}function Cme(_){return typeof _.constructor=="function"&&!nI(_)?AE(O5(_)):{}}function zit(_,T,N){var z=_.constructor;switch(T){case Oe:return xV(_);case he:case Ce:return new z(+_);case ot:return Sit(_,N);case _t:case jt:case qn:case yr:case $r:case Ci:case Cn:case Wn:case vr:return lme(_,N);case Ze:return new z;case It:case Je:return new z(_);case yt:return Ait(_);case $t:return new z;case xe:return Cit(_)}}function Vit(_,T){var N=T.length;if(!N)return _;var z=N-1;return T[z]=(N>1?"& ":"")+T[z],T=T.join(N>2?", ":" "),_.replace(ue,`{
/* [wrapped with `+T+`] */
`)}function Hit(_){return Gn(_)||Y_(_)||!!(N0e&&_&&_[N0e])}function sg(_,T){var N=typeof _;return T=T??K,!!T&&(N=="number"||N!="symbol"&&an.test(_))&&_>-1&&_%1==0&&_<T}function al(_,T,N){if(!Bs(N))return!1;var z=typeof T;return(z=="number"?tc(N)&&sg(T,N.length):z=="string"&&T in N)?Ch(N[T],_):!1}function RV(_,T){if(Gn(_))return!1;var N=typeof _;return N=="number"||N=="symbol"||N=="boolean"||_==null||df(_)?!0:Li.test(_)||!qr.test(_)||T!=null&&_ in Zi(T)}function qit(_){var T=typeof _;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?_!=="__proto__":_===null}function $V(_){var T=Z5(_),N=Z[T];if(typeof N!="function"||!(T in Tr.prototype))return!1;if(_===N)return!0;var z=CV(N);return!!z&&_===z[0]}function Wit(_){return!!I0e&&I0e in _}var Git=k5?og:YV;function nI(_){var T=_&&_.constructor,N=typeof T=="function"&&T.prototype||EE;return _===N}function Ime(_){return _===_&&!Bs(_)}function kme(_,T){return function(N){return N==null?!1:N[_]===T&&(T!==n||_ in Zi(N))}}function Yit(_){var T=sP(_,function(z){return N.size===l&&N.clear(),z}),N=T.cache;return T}function Kit(_,T){var N=_[1],z=T[1],X=N|z,re=X<(g|y|A),ce=z==A&&N==b||z==A&&N==C&&_[7].length<=T[8]||z==(A|C)&&T[7].length<=T[8]&&N==b;if(!(re||ce))return _;z&g&&(_[2]=T[2],X|=N&g?0:v);var ve=T[3];if(ve){var Ie=_[3];_[3]=Ie?fme(Ie,ve,T[4]):ve,_[4]=Ie?_1(_[3],c):T[4]}return ve=T[5],ve&&(Ie=_[5],_[5]=Ie?dme(Ie,ve,T[6]):ve,_[6]=Ie?_1(_[5],c):T[6]),ve=T[7],ve&&(_[7]=ve),z&A&&(_[8]=_[8]==null?T[8]:bu(_[8],T[8])),_[9]==null&&(_[9]=T[9]),_[0]=T[0],_[1]=X,_}function Xit(_){var T=[];if(_!=null)for(var N in Zi(_))T.push(N);return T}function Qit(_){return $5.call(_)}function Rme(_,T,N){return T=qo(T===n?_.length-1:T,0),function(){for(var z=arguments,X=-1,re=qo(z.length-T,0),ce=je(re);++X<re;)ce[X]=z[T+X];X=-1;for(var ve=je(T+1);++X<T;)ve[X]=z[X];return ve[T]=N(ce),yu(_,this,ve)}}function $me(_,T){return T.length<2?_:q_(_,dd(T,0,-1))}function Jit(_,T){for(var N=_.length,z=bu(T.length,N),X=ec(_);z--;){var re=T[z];_[z]=sg(re,N)?X[re]:n}return _}function NV(_,T){if(!(T==="constructor"&&typeof _[T]=="function")&&T!="__proto__")return _[T]}var Nme=Ome(tme),rI=hrt||function(_,T){return un.setTimeout(_,T)},PV=Ome(wit);function Pme(_,T,N){var z=T+"";return PV(_,Vit(z,Zit(jit(z),N)))}function Ome(_){var T=0,N=0;return function(){var z=yrt(),X=O-(z-N);if(N=z,X>0){if(++T>=L)return arguments[0]}else T=0;return _.apply(n,arguments)}}function tP(_,T){var N=-1,z=_.length,X=z-1;for(T=T===n?z:T;++N<T;){var re=mV(N,X),ce=_[re];_[re]=_[N],_[N]=ce}return _.length=T,_}var Dme=Yit(function(_){var T=[];return _.charCodeAt(0)===46&&T.push(""),_.replace(wi,function(N,z,X,re){T.push(X?re.replace(Ut,"$1"):z||N)}),T});function Zp(_){if(typeof _=="string"||df(_))return _;var T=_+"";return T=="0"&&1/_==-1/0?"-0":T}function G_(_){if(_!=null){try{return R5.call(_)}catch{}try{return _+""}catch{}}return""}function Zit(_,T){return sl(V,function(N){var z="_."+N[0];T&N[1]&&!F_(_,z)&&_.push(z)}),_.sort()}function Lme(_){if(_ instanceof Tr)return _.clone();var T=new cd(_.__wrapped__,_.__chain__);return T.__actions__=ec(_.__actions__),T.__index__=_.__index__,T.__values__=_.__values__,T}function est(_,T,N){(N?al(_,T,N):T===n)?T=1:T=qo(Zn(T),0);var z=_==null?0:_.length;if(!z||T<1)return[];for(var X=0,re=0,ce=je(M5(z/T));X<z;)ce[re++]=dd(_,X,X+=T);return ce}function tst(_){for(var T=-1,N=_==null?0:_.length,z=0,X=[];++T<N;){var re=_[T];re&&(X[z++]=re)}return X}function nst(){var _=arguments.length;if(!_)return[];for(var T=je(_-1),N=arguments[0],z=_;z--;)T[z-1]=arguments[z];return Eh(Gn(N)?ec(N):[N],ja(T,1))}var rst=lr(function(_,T){return co(_)?Q3(_,ja(T,1,co,!0)):[]}),ist=lr(function(_,T){var N=hd(T);return co(N)&&(N=n),co(_)?Q3(_,ja(T,1,co,!0),gn(N,2)):[]}),sst=lr(function(_,T){var N=hd(T);return co(N)&&(N=n),co(_)?Q3(_,ja(T,1,co,!0),n,N):[]});function ost(_,T,N){var z=_==null?0:_.length;return z?(T=N||T===n?1:Zn(T),dd(_,T<0?0:T,z)):[]}function ast(_,T,N){var z=_==null?0:_.length;return z?(T=N||T===n?1:Zn(T),T=z-T,dd(_,0,T<0?0:T)):[]}function ust(_,T){return _&&_.length?G5(_,gn(T,3),!0,!0):[]}function lst(_,T){return _&&_.length?G5(_,gn(T,3),!0):[]}function cst(_,T,N,z){var X=_==null?0:_.length;return X?(N&&typeof N!="number"&&al(_,T,N)&&(N=0,z=X),nit(_,T,N,z)):[]}function Mme(_,T,N){var z=_==null?0:_.length;if(!z)return-1;var X=N==null?0:Zn(N);return X<0&&(X=qo(z+X,0)),B_(_,gn(T,3),X)}function Fme(_,T,N){var z=_==null?0:_.length;if(!z)return-1;var X=z-1;return N!==n&&(X=Zn(N),X=N<0?qo(z+X,0):bu(X,z-1)),B_(_,gn(T,3),X,!0)}function Bme(_){var T=_==null?0:_.length;return T?ja(_,1):[]}function fst(_){var T=_==null?0:_.length;return T?ja(_,G):[]}function dst(_,T){var N=_==null?0:_.length;return N?(T=T===n?1:Zn(T),ja(_,T)):[]}function hst(_){for(var T=-1,N=_==null?0:_.length,z={};++T<N;){var X=_[T];z[X[0]]=X[1]}return z}function jme(_){return _&&_.length?_[0]:n}function pst(_,T,N){var z=_==null?0:_.length;if(!z)return-1;var X=N==null?0:Zn(N);return X<0&&(X=qo(z+X,0)),Zm(_,T,X)}function mst(_){var T=_==null?0:_.length;return T?dd(_,0,-1):[]}var gst=lr(function(_){var T=Ji(_,_V);return T.length&&T[0]===_[0]?cV(T):[]}),yst=lr(function(_){var T=hd(_),N=Ji(_,_V);return T===hd(N)?T=n:N.pop(),N.length&&N[0]===_[0]?cV(N,gn(T,2)):[]}),vst=lr(function(_){var T=hd(_),N=Ji(_,_V);return T=typeof T=="function"?T:n,T&&N.pop(),N.length&&N[0]===_[0]?cV(N,n,T):[]});function bst(_,T){return _==null?"":mrt.call(_,T)}function hd(_){var T=_==null?0:_.length;return T?_[T-1]:n}function _st(_,T,N){var z=_==null?0:_.length;if(!z)return-1;var X=z;return N!==n&&(X=Zn(N),X=X<0?qo(z+X,0):bu(X,z-1)),T===T?Znt(_,T,X):B_(_,I,X,!0)}function wst(_,T){return _&&_.length?Q0e(_,Zn(T)):n}var xst=lr(Ume);function Ume(_,T){return _&&_.length&&T&&T.length?pV(_,T):_}function Est(_,T,N){return _&&_.length&&T&&T.length?pV(_,T,gn(N,2)):_}function Tst(_,T,N){return _&&_.length&&T&&T.length?pV(_,T,n,N):_}var Sst=ig(function(_,T){var N=_==null?0:_.length,z=oV(_,T);return eme(_,Ji(T,function(X){return sg(X,N)?+X:X}).sort(cme)),z});function Ast(_,T){var N=[];if(!(_&&_.length))return N;var z=-1,X=[],re=_.length;for(T=gn(T,3);++z<re;){var ce=_[z];T(ce,z,_)&&(N.push(ce),X.push(z))}return eme(_,X),N}function OV(_){return _==null?_:brt.call(_)}function Cst(_,T,N){var z=_==null?0:_.length;return z?(N&&typeof N!="number"&&al(_,T,N)?(T=0,N=z):(T=T==null?0:Zn(T),N=N===n?z:Zn(N)),dd(_,T,N)):[]}function Ist(_,T){return W5(_,T)}function kst(_,T,N){return yV(_,T,gn(N,2))}function Rst(_,T){var N=_==null?0:_.length;if(N){var z=W5(_,T);if(z<N&&Ch(_[z],T))return z}return-1}function $st(_,T){return W5(_,T,!0)}function Nst(_,T,N){return yV(_,T,gn(N,2),!0)}function Pst(_,T){var N=_==null?0:_.length;if(N){var z=W5(_,T,!0)-1;if(Ch(_[z],T))return z}return-1}function Ost(_){return _&&_.length?nme(_):[]}function Dst(_,T){return _&&_.length?nme(_,gn(T,2)):[]}function Lst(_){var T=_==null?0:_.length;return T?dd(_,1,T):[]}function Mst(_,T,N){return _&&_.length?(T=N||T===n?1:Zn(T),dd(_,0,T<0?0:T)):[]}function Fst(_,T,N){var z=_==null?0:_.length;return z?(T=N||T===n?1:Zn(T),T=z-T,dd(_,T<0?0:T,z)):[]}function Bst(_,T){return _&&_.length?G5(_,gn(T,3),!1,!0):[]}function jst(_,T){return _&&_.length?G5(_,gn(T,3)):[]}var Ust=lr(function(_){return E1(ja(_,1,co,!0))}),zst=lr(function(_){var T=hd(_);return co(T)&&(T=n),E1(ja(_,1,co,!0),gn(T,2))}),Vst=lr(function(_){var T=hd(_);return T=typeof T=="function"?T:n,E1(ja(_,1,co,!0),n,T)});function Hst(_){return _&&_.length?E1(_):[]}function qst(_,T){return _&&_.length?E1(_,gn(T,2)):[]}function Wst(_,T){return T=typeof T=="function"?T:n,_&&_.length?E1(_,n,T):[]}function DV(_){if(!(_&&_.length))return[];var T=0;return _=ad(_,function(N){if(co(N))return T=qo(N.length,T),!0}),mi(T,function(N){return Ji(_,Y(N))})}function zme(_,T){if(!(_&&_.length))return[];var N=DV(_);return T==null?N:Ji(N,function(z){return yu(T,n,z)})}var Gst=lr(function(_,T){return co(_)?Q3(_,T):[]}),Yst=lr(function(_){return bV(ad(_,co))}),Kst=lr(function(_){var T=hd(_);return co(T)&&(T=n),bV(ad(_,co),gn(T,2))}),Xst=lr(function(_){var T=hd(_);return T=typeof T=="function"?T:n,bV(ad(_,co),n,T)}),Qst=lr(DV);function Jst(_,T){return ome(_||[],T||[],X3)}function Zst(_,T){return ome(_||[],T||[],eI)}var eot=lr(function(_){var T=_.length,N=T>1?_[T-1]:n;return N=typeof N=="function"?(_.pop(),N):n,zme(_,N)});function Vme(_){var T=Z(_);return T.__chain__=!0,T}function tot(_,T){return T(_),_}function nP(_,T){return T(_)}var not=ig(function(_){var T=_.length,N=T?_[0]:0,z=this.__wrapped__,X=function(re){return oV(re,_)};return T>1||this.__actions__.length||!(z instanceof Tr)||!sg(N)?this.thru(X):(z=z.slice(N,+N+(T?1:0)),z.__actions__.push({func:nP,args:[X],thisArg:n}),new cd(z,this.__chain__).thru(function(re){return T&&!re.length&&re.push(n),re}))});function rot(){return Vme(this)}function iot(){return new cd(this.value(),this.__chain__)}function sot(){this.__values__===n&&(this.__values__=rge(this.value()));var _=this.__index__>=this.__values__.length,T=_?n:this.__values__[this.__index__++];return{done:_,value:T}}function oot(){return this}function aot(_){for(var T,N=this;N instanceof U5;){var z=Lme(N);z.__index__=0,z.__values__=n,T?X.__wrapped__=z:T=z;var X=z;N=N.__wrapped__}return X.__wrapped__=_,T}function uot(){var _=this.__wrapped__;if(_ instanceof Tr){var T=_;return this.__actions__.length&&(T=new Tr(this)),T=T.reverse(),T.__actions__.push({func:nP,args:[OV],thisArg:n}),new cd(T,this.__chain__)}return this.thru(OV)}function lot(){return sme(this.__wrapped__,this.__actions__)}var cot=Y5(function(_,T,N){Ri.call(_,N)?++_[N]:ng(_,N,1)});function fot(_,T,N){var z=Gn(_)?yE:tit;return N&&al(_,T,N)&&(T=n),z(_,gn(T,3))}function dot(_,T){var N=Gn(_)?ad:z0e;return N(_,gn(T,3))}var hot=gme(Mme),pot=gme(Fme);function mot(_,T){return ja(rP(_,T),1)}function got(_,T){return ja(rP(_,T),G)}function yot(_,T,N){return N=N===n?1:Zn(N),ja(rP(_,T),N)}function Hme(_,T){var N=Gn(_)?sl:x1;return N(_,gn(T,3))}function qme(_,T){var N=Gn(_)?E5:U0e;return N(_,gn(T,3))}var vot=Y5(function(_,T,N){Ri.call(_,N)?_[N].push(T):ng(_,N,[T])});function bot(_,T,N,z){_=tc(_)?_:$E(_),N=N&&!z?Zn(N):0;var X=_.length;return N<0&&(N=qo(X+N,0)),uP(_)?N<=X&&_.indexOf(T,N)>-1:!!X&&Zm(_,T,N)>-1}var _ot=lr(function(_,T,N){var z=-1,X=typeof T=="function",re=tc(_)?je(_.length):[];return x1(_,function(ce){re[++z]=X?yu(T,ce,N):J3(ce,T,N)}),re}),wot=Y5(function(_,T,N){ng(_,N,T)});function rP(_,T){var N=Gn(_)?Ji:Y0e;return N(_,gn(T,3))}function xot(_,T,N,z){return _==null?[]:(Gn(T)||(T=T==null?[]:[T]),N=z?n:N,Gn(N)||(N=N==null?[]:[N]),J0e(_,T,N))}var Eot=Y5(function(_,T,N){_[N?0:1].push(T)},function(){return[[],[]]});function Tot(_,T,N){var z=Gn(_)?Th:$e,X=arguments.length<3;return z(_,gn(T,4),N,X,x1)}function Sot(_,T,N){var z=Gn(_)?T5:$e,X=arguments.length<3;return z(_,gn(T,4),N,X,U0e)}function Aot(_,T){var N=Gn(_)?ad:z0e;return N(_,oP(gn(T,3)))}function Cot(_){var T=Gn(_)?M0e:bit;return T(_)}function Iot(_,T,N){(N?al(_,T,N):T===n)?T=1:T=Zn(T);var z=Gn(_)?Xrt:_it;return z(_,T)}function kot(_){var T=Gn(_)?Qrt:xit;return T(_)}function Rot(_){if(_==null)return 0;if(tc(_))return uP(_)?wE(_):_.length;var T=_u(_);return T==Ze||T==$t?_.size:dV(_).length}function $ot(_,T,N){var z=Gn(_)?vE:Eit;return N&&al(_,T,N)&&(T=n),z(_,gn(T,3))}var Not=lr(function(_,T){if(_==null)return[];var N=T.length;return N>1&&al(_,T[0],T[1])?T=[]:N>2&&al(T[0],T[1],T[2])&&(T=[T[0]]),J0e(_,ja(T,1),[])}),iP=drt||function(){return un.Date.now()};function Pot(_,T){if(typeof T!="function")throw new ld(o);return _=Zn(_),function(){if(--_<1)return T.apply(this,arguments)}}function Wme(_,T,N){return T=N?n:T,T=_&&T==null?_.length:T,rg(_,A,n,n,n,n,T)}function Gme(_,T){var N;if(typeof T!="function")throw new ld(o);return _=Zn(_),function(){return--_>0&&(N=T.apply(this,arguments)),_<=1&&(T=n),N}}var LV=lr(function(_,T,N){var z=g;if(N.length){var X=_1(N,kE(LV));z|=x}return rg(_,z,T,N,X)}),Yme=lr(function(_,T,N){var z=g|y;if(N.length){var X=_1(N,kE(Yme));z|=x}return rg(T,z,_,N,X)});function Kme(_,T,N){T=N?n:T;var z=rg(_,b,n,n,n,n,n,T);return z.placeholder=Kme.placeholder,z}function Xme(_,T,N){T=N?n:T;var z=rg(_,w,n,n,n,n,n,T);return z.placeholder=Xme.placeholder,z}function Qme(_,T,N){var z,X,re,ce,ve,Ie,et=0,tt=!1,lt=!1,Dt=!0;if(typeof _!="function")throw new ld(o);T=pd(T)||0,Bs(N)&&(tt=!!N.leading,lt="maxWait"in N,re=lt?qo(pd(N.maxWait)||0,T):re,Dt="trailing"in N?!!N.trailing:Dt);function Qt(fo){var Ih=z,ug=X;return z=X=n,et=fo,ce=_.apply(ug,Ih),ce}function yn(fo){return et=fo,ve=rI(br,T),tt?Qt(fo):ce}function sr(fo){var Ih=fo-Ie,ug=fo-et,gge=T-Ih;return lt?bu(gge,re-ug):gge}function vn(fo){var Ih=fo-Ie,ug=fo-et;return Ie===n||Ih>=T||Ih<0||lt&&ug>=re}function br(){var fo=iP();if(vn(fo))return Lr(fo);ve=rI(br,sr(fo))}function Lr(fo){return ve=n,Dt&&z?Qt(fo):(z=X=n,ce)}function hf(){ve!==n&&ame(ve),et=0,z=Ie=X=ve=n}function ul(){return ve===n?ce:Lr(iP())}function pf(){var fo=iP(),Ih=vn(fo);if(z=arguments,X=this,Ie=fo,Ih){if(ve===n)return yn(Ie);if(lt)return ame(ve),ve=rI(br,T),Qt(Ie)}return ve===n&&(ve=rI(br,T)),ce}return pf.cancel=hf,pf.flush=ul,pf}var Oot=lr(function(_,T){return j0e(_,1,T)}),Dot=lr(function(_,T,N){return j0e(_,pd(T)||0,N)});function Lot(_){return rg(_,$)}function sP(_,T){if(typeof _!="function"||T!=null&&typeof T!="function")throw new ld(o);var N=function(){var z=arguments,X=T?T.apply(this,z):z[0],re=N.cache;if(re.has(X))return re.get(X);var ce=_.apply(this,z);return N.cache=re.set(X,ce)||re,ce};return N.cache=new(sP.Cache||tg),N}sP.Cache=tg;function oP(_){if(typeof _!="function")throw new ld(o);return function(){var T=arguments;switch(T.length){case 0:return!_.call(this);case 1:return!_.call(this,T[0]);case 2:return!_.call(this,T[0],T[1]);case 3:return!_.call(this,T[0],T[1],T[2])}return!_.apply(this,T)}}function Mot(_){return Gme(2,_)}var Fot=Tit(function(_,T){T=T.length==1&&Gn(T[0])?Ji(T[0],xi(gn())):Ji(ja(T,1),xi(gn()));var N=T.length;return lr(function(z){for(var X=-1,re=bu(z.length,N);++X<re;)z[X]=T[X].call(this,z[X]);return yu(_,this,z)})}),MV=lr(function(_,T){var N=_1(T,kE(MV));return rg(_,x,n,T,N)}),Jme=lr(function(_,T){var N=_1(T,kE(Jme));return rg(_,S,n,T,N)}),Bot=ig(function(_,T){return rg(_,C,n,n,n,T)});function jot(_,T){if(typeof _!="function")throw new ld(o);return T=T===n?T:Zn(T),lr(_,T)}function Uot(_,T){if(typeof _!="function")throw new ld(o);return T=T==null?0:qo(Zn(T),0),lr(function(N){var z=N[T],X=S1(N,0,T);return z&&Eh(X,z),yu(_,this,X)})}function zot(_,T,N){var z=!0,X=!0;if(typeof _!="function")throw new ld(o);return Bs(N)&&(z="leading"in N?!!N.leading:z,X="trailing"in N?!!N.trailing:X),Qme(_,T,{leading:z,maxWait:T,trailing:X})}function Vot(_){return Wme(_,1)}function Hot(_,T){return MV(wV(T),_)}function qot(){if(!arguments.length)return[];var _=arguments[0];return Gn(_)?_:[_]}function Wot(_){return fd(_,h)}function Got(_,T){return T=typeof T=="function"?T:n,fd(_,h,T)}function Yot(_){return fd(_,f|h)}function Kot(_,T){return T=typeof T=="function"?T:n,fd(_,f|h,T)}function Xot(_,T){return T==null||B0e(_,T,ma(T))}function Ch(_,T){return _===T||_!==_&&T!==T}var Qot=J5(lV),Jot=J5(function(_,T){return _>=T}),Y_=q0e(function(){return arguments}())?q0e:function(_){return Gs(_)&&Ri.call(_,"callee")&&!$0e.call(_,"callee")},Gn=je.isArray,Zot=Qm?xi(Qm):ait;function tc(_){return _!=null&&aP(_.length)&&!og(_)}function co(_){return Gs(_)&&tc(_)}function eat(_){return _===!0||_===!1||Gs(_)&&ol(_)==he}var A1=prt||YV,tat=Jm?xi(Jm):uit;function nat(_){return Gs(_)&&_.nodeType===1&&!iI(_)}function rat(_){if(_==null)return!0;if(tc(_)&&(Gn(_)||typeof _=="string"||typeof _.splice=="function"||A1(_)||RE(_)||Y_(_)))return!_.length;var T=_u(_);if(T==Ze||T==$t)return!_.size;if(nI(_))return!dV(_).length;for(var N in _)if(Ri.call(_,N))return!1;return!0}function iat(_,T){return Z3(_,T)}function sat(_,T,N){N=typeof N=="function"?N:n;var z=N?N(_,T):n;return z===n?Z3(_,T,n,N):!!z}function FV(_){if(!Gs(_))return!1;var T=ol(_);return T==rt||T==Pe||typeof _.message=="string"&&typeof _.name=="string"&&!iI(_)}function oat(_){return typeof _=="number"&&P0e(_)}function og(_){if(!Bs(_))return!1;var T=ol(_);return T==Re||T==Tt||T==be||T==st}function Zme(_){return typeof _=="number"&&_==Zn(_)}function aP(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=K}function Bs(_){var T=typeof _;return _!=null&&(T=="object"||T=="function")}function Gs(_){return _!=null&&typeof _=="object"}var ege=D_?xi(D_):cit;function aat(_,T){return _===T||fV(_,T,IV(T))}function uat(_,T,N){return N=typeof N=="function"?N:n,fV(_,T,IV(T),N)}function lat(_){return tge(_)&&_!=+_}function cat(_){if(Git(_))throw new jn(s);return W0e(_)}function fat(_){return _===null}function dat(_){return _==null}function tge(_){return typeof _=="number"||Gs(_)&&ol(_)==It}function iI(_){if(!Gs(_)||ol(_)!=Se)return!1;var T=O5(_);if(T===null)return!0;var N=Ri.call(T,"constructor")&&T.constructor;return typeof N=="function"&&N instanceof N&&R5.call(N)==urt}var BV=V3?xi(V3):fit;function hat(_){return Zme(_)&&_>=-9007199254740991&&_<=K}var nge=L_?xi(L_):dit;function uP(_){return typeof _=="string"||!Gn(_)&&Gs(_)&&ol(_)==Je}function df(_){return typeof _=="symbol"||Gs(_)&&ol(_)==xe}var RE=x5?xi(x5):hit;function pat(_){return _===n}function mat(_){return Gs(_)&&_u(_)==Rt}function gat(_){return Gs(_)&&ol(_)==Ee}var yat=J5(hV),vat=J5(function(_,T){return _<=T});function rge(_){if(!_)return[];if(tc(_))return uP(_)?Sh(_):ec(_);if(q3&&_[q3])return Xnt(_[q3]());var T=_u(_),N=T==Ze?eV:T==$t?C5:$E;return N(_)}function ag(_){if(!_)return _===0?_:0;if(_=pd(_),_===G||_===-1/0){var T=_<0?-1:1;return T*J}return _===_?_:0}function Zn(_){var T=ag(_),N=T%1;return T===T?N?T-N:T:0}function ige(_){return _?H_(Zn(_),0,j):0}function pd(_){if(typeof _=="number")return _;if(df(_))return F;if(Bs(_)){var T=typeof _.valueOf=="function"?_.valueOf():_;_=Bs(T)?T+"":T}if(typeof _!="string")return _===0?_:+_;_=Dr(_);var N=Ln.test(_);return N||hi.test(_)?ur(_.slice(2),N?2:8):dr.test(_)?F:+_}function sge(_){return Jp(_,nc(_))}function bat(_){return _?H_(Zn(_),-9007199254740991,K):_===0?_:0}function Ei(_){return _==null?"":ff(_)}var _at=CE(function(_,T){if(nI(T)||tc(T)){Jp(T,ma(T),_);return}for(var N in T)Ri.call(T,N)&&X3(_,N,T[N])}),oge=CE(function(_,T){Jp(T,nc(T),_)}),lP=CE(function(_,T,N,z){Jp(T,nc(T),_,z)}),wat=CE(function(_,T,N,z){Jp(T,ma(T),_,z)}),xat=ig(oV);function Eat(_,T){var N=AE(_);return T==null?N:F0e(N,T)}var Tat=lr(function(_,T){_=Zi(_);var N=-1,z=T.length,X=z>2?T[2]:n;for(X&&al(T[0],T[1],X)&&(z=1);++N<z;)for(var re=T[N],ce=nc(re),ve=-1,Ie=ce.length;++ve<Ie;){var et=ce[ve],tt=_[et];(tt===n||Ch(tt,EE[et])&&!Ri.call(_,et))&&(_[et]=re[et])}return _}),Sat=lr(function(_){return _.push(n,Eme),yu(age,n,_)});function Aat(_,T){return vu(_,gn(T,3),Qp)}function Cat(_,T){return vu(_,gn(T,3),uV)}function Iat(_,T){return _==null?_:aV(_,gn(T,3),nc)}function kat(_,T){return _==null?_:V0e(_,gn(T,3),nc)}function Rat(_,T){return _&&Qp(_,gn(T,3))}function $at(_,T){return _&&uV(_,gn(T,3))}function Nat(_){return _==null?[]:H5(_,ma(_))}function Pat(_){return _==null?[]:H5(_,nc(_))}function jV(_,T,N){var z=_==null?n:q_(_,T);return z===n?N:z}function Oat(_,T){return _!=null&&Ame(_,T,rit)}function UV(_,T){return _!=null&&Ame(_,T,iit)}var Dat=vme(function(_,T,N){T!=null&&typeof T.toString!="function"&&(T=$5.call(T)),_[T]=N},VV(rc)),Lat=vme(function(_,T,N){T!=null&&typeof T.toString!="function"&&(T=$5.call(T)),Ri.call(_,T)?_[T].push(N):_[T]=[N]},gn),Mat=lr(J3);function ma(_){return tc(_)?L0e(_):dV(_)}function nc(_){return tc(_)?L0e(_,!0):pit(_)}function Fat(_,T){var N={};return T=gn(T,3),Qp(_,function(z,X,re){ng(N,T(z,X,re),z)}),N}function Bat(_,T){var N={};return T=gn(T,3),Qp(_,function(z,X,re){ng(N,X,T(z,X,re))}),N}var jat=CE(function(_,T,N){q5(_,T,N)}),age=CE(function(_,T,N,z){q5(_,T,N,z)}),Uat=ig(function(_,T){var N={};if(_==null)return N;var z=!1;T=Ji(T,function(re){return re=T1(re,_),z||(z=re.length>1),re}),Jp(_,AV(_),N),z&&(N=fd(N,f|d|h,Dit));for(var X=T.length;X--;)vV(N,T[X]);return N});function zat(_,T){return uge(_,oP(gn(T)))}var Vat=ig(function(_,T){return _==null?{}:git(_,T)});function uge(_,T){if(_==null)return{};var N=Ji(AV(_),function(z){return[z]});return T=gn(T),Z0e(_,N,function(z,X){return T(z,X[0])})}function Hat(_,T,N){T=T1(T,_);var z=-1,X=T.length;for(X||(X=1,_=n);++z<X;){var re=_==null?n:_[Zp(T[z])];re===n&&(z=X,re=N),_=og(re)?re.call(_):re}return _}function qat(_,T,N){return _==null?_:eI(_,T,N)}function Wat(_,T,N,z){return z=typeof z=="function"?z:n,_==null?_:eI(_,T,N,z)}var lge=wme(ma),cge=wme(nc);function Gat(_,T,N){var z=Gn(_),X=z||A1(_)||RE(_);if(T=gn(T,4),N==null){var re=_&&_.constructor;X?N=z?new re:[]:Bs(_)?N=og(re)?AE(O5(_)):{}:N={}}return(X?sl:Qp)(_,function(ce,ve,Ie){return T(N,ce,ve,Ie)}),N}function Yat(_,T){return _==null?!0:vV(_,T)}function Kat(_,T,N){return _==null?_:ime(_,T,wV(N))}function Xat(_,T,N,z){return z=typeof z=="function"?z:n,_==null?_:ime(_,T,wV(N),z)}function $E(_){return _==null?[]:Ro(_,ma(_))}function Qat(_){return _==null?[]:Ro(_,nc(_))}function Jat(_,T,N){return N===n&&(N=T,T=n),N!==n&&(N=pd(N),N=N===N?N:0),T!==n&&(T=pd(T),T=T===T?T:0),H_(pd(_),T,N)}function Zat(_,T,N){return T=ag(T),N===n?(N=T,T=0):N=ag(N),_=pd(_),sit(_,T,N)}function eut(_,T,N){if(N&&typeof N!="boolean"&&al(_,T,N)&&(T=N=n),N===n&&(typeof T=="boolean"?(N=T,T=n):typeof _=="boolean"&&(N=_,_=n)),_===n&&T===n?(_=0,T=1):(_=ag(_),T===n?(T=_,_=0):T=ag(T)),_>T){var z=_;_=T,T=z}if(N||_%1||T%1){var X=O0e();return bu(_+X*(T-_+Ht("1e-"+((X+"").length-1))),T)}return mV(_,T)}var tut=IE(function(_,T,N){return T=T.toLowerCase(),_+(N?fge(T):T)});function fge(_){return zV(Ei(_).toLowerCase())}function dge(_){return _=Ei(_),_&&_.replace(Pr,qnt).replace(wh,"")}function nut(_,T,N){_=Ei(_),T=ff(T);var z=_.length;N=N===n?z:H_(Zn(N),0,z);var X=N;return N-=T.length,N>=0&&_.slice(N,X)==T}function rut(_){return _=Ei(_),_&&As.test(_)?_.replace(qs,Wnt):_}function iut(_){return _=Ei(_),_&&di.test(_)?_.replace(lo,"\\$&"):_}var sut=IE(function(_,T,N){return _+(N?"-":"")+T.toLowerCase()}),out=IE(function(_,T,N){return _+(N?" ":"")+T.toLowerCase()}),aut=mme("toLowerCase");function uut(_,T,N){_=Ei(_),T=Zn(T);var z=T?wE(_):0;if(!T||z>=T)return _;var X=(T-z)/2;return Q5(F5(X),N)+_+Q5(M5(X),N)}function lut(_,T,N){_=Ei(_),T=Zn(T);var z=T?wE(_):0;return T&&z<T?_+Q5(T-z,N):_}function cut(_,T,N){_=Ei(_),T=Zn(T);var z=T?wE(_):0;return T&&z<T?Q5(T-z,N)+_:_}function fut(_,T,N){return N||T==null?T=0:T&&(T=+T),vrt(Ei(_).replace(Mi,""),T||0)}function dut(_,T,N){return(N?al(_,T,N):T===n)?T=1:T=Zn(T),gV(Ei(_),T)}function hut(){var _=arguments,T=Ei(_[0]);return _.length<3?T:T.replace(_[1],_[2])}var put=IE(function(_,T,N){return _+(N?"_":"")+T.toLowerCase()});function mut(_,T,N){return N&&typeof N!="number"&&al(_,T,N)&&(T=N=n),N=N===n?j:N>>>0,N?(_=Ei(_),_&&(typeof T=="string"||T!=null&&!BV(T))&&(T=ff(T),!T&&_E(_))?S1(Sh(_),0,N):_.split(T,N)):[]}var gut=IE(function(_,T,N){return _+(N?" ":"")+zV(T)});function yut(_,T,N){return _=Ei(_),N=N==null?0:H_(Zn(N),0,_.length),T=ff(T),_.slice(N,N+T.length)==T}function vut(_,T,N){var z=Z.templateSettings;N&&al(_,T,N)&&(T=n),_=Ei(_),T=lP({},T,z,xme);var X=lP({},T.imports,z.imports,xme),re=ma(X),ce=Ro(X,re),ve,Ie,et=0,tt=T.interpolate||ii,lt="__p += '",Dt=tV((T.escape||ii).source+"|"+tt.source+"|"+(tt===rl?pn:ii).source+"|"+(T.evaluate||ii).source+"|$","g"),Qt="//# sourceURL="+(Ri.call(T,"sourceURL")?(T.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++mE+"]")+`
`;_.replace(Dt,function(vn,br,Lr,hf,ul,pf){return Lr||(Lr=hf),lt+=_.slice(et,pf).replace(xr,Gnt),br&&(ve=!0,lt+=`' +
__e(`+br+`) +
'`),ul&&(Ie=!0,lt+=`';
`+ul+`;
__p += '`),Lr&&(lt+=`' +
((__t = (`+Lr+`)) == null ? '' : __t) +
'`),et=pf+vn.length,vn}),lt+=`';
`;var yn=Ri.call(T,"variable")&&T.variable;if(!yn)lt=`with (obj) {
`+lt+`
}
`;else if(wt.test(yn))throw new jn(a);lt=(Ie?lt.replace(wr,""):lt).replace(da,"$1").replace(hs,"$1;"),lt="function("+(yn||"obj")+`) {
`+(yn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ve?", __e = _.escape":"")+(Ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+lt+`return __p
}`;var sr=pge(function(){return gi(re,Qt+"return "+lt).apply(n,ce)});if(sr.source=lt,FV(sr))throw sr;return sr}function but(_){return Ei(_).toLowerCase()}function _ut(_){return Ei(_).toUpperCase()}function wut(_,T,N){if(_=Ei(_),_&&(N||T===n))return Dr(_);if(!_||!(T=ff(T)))return _;var z=Sh(_),X=Sh(T),re=Zl(z,X),ce=j_(z,X)+1;return S1(z,re,ce).join("")}function xut(_,T,N){if(_=Ei(_),_&&(N||T===n))return _.slice(0,C0e(_)+1);if(!_||!(T=ff(T)))return _;var z=Sh(_),X=j_(z,Sh(T))+1;return S1(z,0,X).join("")}function Eut(_,T,N){if(_=Ei(_),_&&(N||T===n))return _.replace(Mi,"");if(!_||!(T=ff(T)))return _;var z=Sh(_),X=Zl(z,Sh(T));return S1(z,X).join("")}function Tut(_,T){var N=k,z=P;if(Bs(T)){var X="separator"in T?T.separator:X;N="length"in T?Zn(T.length):N,z="omission"in T?ff(T.omission):z}_=Ei(_);var re=_.length;if(_E(_)){var ce=Sh(_);re=ce.length}if(N>=re)return _;var ve=N-wE(z);if(ve<1)return z;var Ie=ce?S1(ce,0,ve).join(""):_.slice(0,ve);if(X===n)return Ie+z;if(ce&&(ve+=Ie.length-ve),BV(X)){if(_.slice(ve).search(X)){var et,tt=Ie;for(X.global||(X=tV(X.source,Ei(rr.exec(X))+"g")),X.lastIndex=0;et=X.exec(tt);)var lt=et.index;Ie=Ie.slice(0,lt===n?ve:lt)}}else if(_.indexOf(ff(X),ve)!=ve){var Dt=Ie.lastIndexOf(X);Dt>-1&&(Ie=Ie.slice(0,Dt))}return Ie+z}function Sut(_){return _=Ei(_),_&&Xr.test(_)?_.replace(Ss,ert):_}var Aut=IE(function(_,T,N){return _+(N?" ":"")+T.toUpperCase()}),zV=mme("toUpperCase");function hge(_,T,N){return _=Ei(_),T=N?n:T,T===n?Knt(_)?rrt(_):bE(_):_.match(T)||[]}var pge=lr(function(_,T){try{return yu(_,n,T)}catch(N){return FV(N)?N:new jn(N)}}),Cut=ig(function(_,T){return sl(T,function(N){N=Zp(N),ng(_,N,LV(_[N],_))}),_});function Iut(_){var T=_==null?0:_.length,N=gn();return _=T?Ji(_,function(z){if(typeof z[1]!="function")throw new ld(o);return[N(z[0]),z[1]]}):[],lr(function(z){for(var X=-1;++X<T;){var re=_[X];if(yu(re[0],this,z))return yu(re[1],this,z)}})}function kut(_){return eit(fd(_,f))}function VV(_){return function(){return _}}function Rut(_,T){return _==null||_!==_?T:_}var $ut=yme(),Nut=yme(!0);function rc(_){return _}function HV(_){return G0e(typeof _=="function"?_:fd(_,f))}function Put(_){return K0e(fd(_,f))}function Out(_,T){return X0e(_,fd(T,f))}var Dut=lr(function(_,T){return function(N){return J3(N,_,T)}}),Lut=lr(function(_,T){return function(N){return J3(_,N,T)}});function qV(_,T,N){var z=ma(T),X=H5(T,z);N==null&&!(Bs(T)&&(X.length||!z.length))&&(N=T,T=_,_=this,X=H5(T,ma(T)));var re=!(Bs(N)&&"chain"in N)||!!N.chain,ce=og(_);return sl(X,function(ve){var Ie=T[ve];_[ve]=Ie,ce&&(_.prototype[ve]=function(){var et=this.__chain__;if(re||et){var tt=_(this.__wrapped__),lt=tt.__actions__=ec(this.__actions__);return lt.push({func:Ie,args:arguments,thisArg:_}),tt.__chain__=et,tt}return Ie.apply(_,Eh([this.value()],arguments))})}),_}function Mut(){return un._===this&&(un._=lrt),this}function WV(){}function Fut(_){return _=Zn(_),lr(function(T){return Q0e(T,_)})}var But=EV(Ji),jut=EV(yE),Uut=EV(vE);function mge(_){return RV(_)?Y(Zp(_)):yit(_)}function zut(_){return function(T){return _==null?n:q_(_,T)}}var Vut=bme(),Hut=bme(!0);function GV(){return[]}function YV(){return!1}function qut(){return{}}function Wut(){return""}function Gut(){return!0}function Yut(_,T){if(_=Zn(_),_<1||_>K)return[];var N=j,z=bu(_,j);T=gn(T),_-=j;for(var X=mi(z,T);++N<_;)T(N);return X}function Kut(_){return Gn(_)?Ji(_,Zp):df(_)?[_]:ec(Dme(Ei(_)))}function Xut(_){var T=++art;return Ei(_)+T}var Qut=X5(function(_,T){return _+T},0),Jut=TV("ceil"),Zut=X5(function(_,T){return _/T},1),elt=TV("floor");function tlt(_){return _&&_.length?V5(_,rc,lV):n}function nlt(_,T){return _&&_.length?V5(_,gn(T,2),lV):n}function rlt(_){return U(_,rc)}function ilt(_,T){return U(_,gn(T,2))}function slt(_){return _&&_.length?V5(_,rc,hV):n}function olt(_,T){return _&&_.length?V5(_,gn(T,2),hV):n}var alt=X5(function(_,T){return _*T},1),ult=TV("round"),llt=X5(function(_,T){return _-T},0);function clt(_){return _&&_.length?Ct(_,rc):0}function flt(_,T){return _&&_.length?Ct(_,gn(T,2)):0}return Z.after=Pot,Z.ary=Wme,Z.assign=_at,Z.assignIn=oge,Z.assignInWith=lP,Z.assignWith=wat,Z.at=xat,Z.before=Gme,Z.bind=LV,Z.bindAll=Cut,Z.bindKey=Yme,Z.castArray=qot,Z.chain=Vme,Z.chunk=est,Z.compact=tst,Z.concat=nst,Z.cond=Iut,Z.conforms=kut,Z.constant=VV,Z.countBy=cot,Z.create=Eat,Z.curry=Kme,Z.curryRight=Xme,Z.debounce=Qme,Z.defaults=Tat,Z.defaultsDeep=Sat,Z.defer=Oot,Z.delay=Dot,Z.difference=rst,Z.differenceBy=ist,Z.differenceWith=sst,Z.drop=ost,Z.dropRight=ast,Z.dropRightWhile=ust,Z.dropWhile=lst,Z.fill=cst,Z.filter=dot,Z.flatMap=mot,Z.flatMapDeep=got,Z.flatMapDepth=yot,Z.flatten=Bme,Z.flattenDeep=fst,Z.flattenDepth=dst,Z.flip=Lot,Z.flow=$ut,Z.flowRight=Nut,Z.fromPairs=hst,Z.functions=Nat,Z.functionsIn=Pat,Z.groupBy=vot,Z.initial=mst,Z.intersection=gst,Z.intersectionBy=yst,Z.intersectionWith=vst,Z.invert=Dat,Z.invertBy=Lat,Z.invokeMap=_ot,Z.iteratee=HV,Z.keyBy=wot,Z.keys=ma,Z.keysIn=nc,Z.map=rP,Z.mapKeys=Fat,Z.mapValues=Bat,Z.matches=Put,Z.matchesProperty=Out,Z.memoize=sP,Z.merge=jat,Z.mergeWith=age,Z.method=Dut,Z.methodOf=Lut,Z.mixin=qV,Z.negate=oP,Z.nthArg=Fut,Z.omit=Uat,Z.omitBy=zat,Z.once=Mot,Z.orderBy=xot,Z.over=But,Z.overArgs=Fot,Z.overEvery=jut,Z.overSome=Uut,Z.partial=MV,Z.partialRight=Jme,Z.partition=Eot,Z.pick=Vat,Z.pickBy=uge,Z.property=mge,Z.propertyOf=zut,Z.pull=xst,Z.pullAll=Ume,Z.pullAllBy=Est,Z.pullAllWith=Tst,Z.pullAt=Sst,Z.range=Vut,Z.rangeRight=Hut,Z.rearg=Bot,Z.reject=Aot,Z.remove=Ast,Z.rest=jot,Z.reverse=OV,Z.sampleSize=Iot,Z.set=qat,Z.setWith=Wat,Z.shuffle=kot,Z.slice=Cst,Z.sortBy=Not,Z.sortedUniq=Ost,Z.sortedUniqBy=Dst,Z.split=mut,Z.spread=Uot,Z.tail=Lst,Z.take=Mst,Z.takeRight=Fst,Z.takeRightWhile=Bst,Z.takeWhile=jst,Z.tap=tot,Z.throttle=zot,Z.thru=nP,Z.toArray=rge,Z.toPairs=lge,Z.toPairsIn=cge,Z.toPath=Kut,Z.toPlainObject=sge,Z.transform=Gat,Z.unary=Vot,Z.union=Ust,Z.unionBy=zst,Z.unionWith=Vst,Z.uniq=Hst,Z.uniqBy=qst,Z.uniqWith=Wst,Z.unset=Yat,Z.unzip=DV,Z.unzipWith=zme,Z.update=Kat,Z.updateWith=Xat,Z.values=$E,Z.valuesIn=Qat,Z.without=Gst,Z.words=hge,Z.wrap=Hot,Z.xor=Yst,Z.xorBy=Kst,Z.xorWith=Xst,Z.zip=Qst,Z.zipObject=Jst,Z.zipObjectDeep=Zst,Z.zipWith=eot,Z.entries=lge,Z.entriesIn=cge,Z.extend=oge,Z.extendWith=lP,qV(Z,Z),Z.add=Qut,Z.attempt=pge,Z.camelCase=tut,Z.capitalize=fge,Z.ceil=Jut,Z.clamp=Jat,Z.clone=Wot,Z.cloneDeep=Yot,Z.cloneDeepWith=Kot,Z.cloneWith=Got,Z.conformsTo=Xot,Z.deburr=dge,Z.defaultTo=Rut,Z.divide=Zut,Z.endsWith=nut,Z.eq=Ch,Z.escape=rut,Z.escapeRegExp=iut,Z.every=fot,Z.find=hot,Z.findIndex=Mme,Z.findKey=Aat,Z.findLast=pot,Z.findLastIndex=Fme,Z.findLastKey=Cat,Z.floor=elt,Z.forEach=Hme,Z.forEachRight=qme,Z.forIn=Iat,Z.forInRight=kat,Z.forOwn=Rat,Z.forOwnRight=$at,Z.get=jV,Z.gt=Qot,Z.gte=Jot,Z.has=Oat,Z.hasIn=UV,Z.head=jme,Z.identity=rc,Z.includes=bot,Z.indexOf=pst,Z.inRange=Zat,Z.invoke=Mat,Z.isArguments=Y_,Z.isArray=Gn,Z.isArrayBuffer=Zot,Z.isArrayLike=tc,Z.isArrayLikeObject=co,Z.isBoolean=eat,Z.isBuffer=A1,Z.isDate=tat,Z.isElement=nat,Z.isEmpty=rat,Z.isEqual=iat,Z.isEqualWith=sat,Z.isError=FV,Z.isFinite=oat,Z.isFunction=og,Z.isInteger=Zme,Z.isLength=aP,Z.isMap=ege,Z.isMatch=aat,Z.isMatchWith=uat,Z.isNaN=lat,Z.isNative=cat,Z.isNil=dat,Z.isNull=fat,Z.isNumber=tge,Z.isObject=Bs,Z.isObjectLike=Gs,Z.isPlainObject=iI,Z.isRegExp=BV,Z.isSafeInteger=hat,Z.isSet=nge,Z.isString=uP,Z.isSymbol=df,Z.isTypedArray=RE,Z.isUndefined=pat,Z.isWeakMap=mat,Z.isWeakSet=gat,Z.join=bst,Z.kebabCase=sut,Z.last=hd,Z.lastIndexOf=_st,Z.lowerCase=out,Z.lowerFirst=aut,Z.lt=yat,Z.lte=vat,Z.max=tlt,Z.maxBy=nlt,Z.mean=rlt,Z.meanBy=ilt,Z.min=slt,Z.minBy=olt,Z.stubArray=GV,Z.stubFalse=YV,Z.stubObject=qut,Z.stubString=Wut,Z.stubTrue=Gut,Z.multiply=alt,Z.nth=wst,Z.noConflict=Mut,Z.noop=WV,Z.now=iP,Z.pad=uut,Z.padEnd=lut,Z.padStart=cut,Z.parseInt=fut,Z.random=eut,Z.reduce=Tot,Z.reduceRight=Sot,Z.repeat=dut,Z.replace=hut,Z.result=Hat,Z.round=ult,Z.runInContext=Te,Z.sample=Cot,Z.size=Rot,Z.snakeCase=put,Z.some=$ot,Z.sortedIndex=Ist,Z.sortedIndexBy=kst,Z.sortedIndexOf=Rst,Z.sortedLastIndex=$st,Z.sortedLastIndexBy=Nst,Z.sortedLastIndexOf=Pst,Z.startCase=gut,Z.startsWith=yut,Z.subtract=llt,Z.sum=clt,Z.sumBy=flt,Z.template=vut,Z.times=Yut,Z.toFinite=ag,Z.toInteger=Zn,Z.toLength=ige,Z.toLower=but,Z.toNumber=pd,Z.toSafeInteger=bat,Z.toString=Ei,Z.toUpper=_ut,Z.trim=wut,Z.trimEnd=xut,Z.trimStart=Eut,Z.truncate=Tut,Z.unescape=Sut,Z.uniqueId=Xut,Z.upperCase=Aut,Z.upperFirst=zV,Z.each=Hme,Z.eachRight=qme,Z.first=jme,qV(Z,function(){var _={};return Qp(Z,function(T,N){Ri.call(Z.prototype,N)||(_[N]=T)}),_}(),{chain:!1}),Z.VERSION=r,sl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){Z[_].placeholder=Z}),sl(["drop","take"],function(_,T){Tr.prototype[_]=function(N){N=N===n?1:qo(Zn(N),0);var z=this.__filtered__&&!T?new Tr(this):this.clone();return z.__filtered__?z.__takeCount__=bu(N,z.__takeCount__):z.__views__.push({size:bu(N,j),type:_+(z.__dir__<0?"Right":"")}),z},Tr.prototype[_+"Right"]=function(N){return this.reverse()[_](N).reverse()}}),sl(["filter","map","takeWhile"],function(_,T){var N=T+1,z=N==B||N==H;Tr.prototype[_]=function(X){var re=this.clone();return re.__iteratees__.push({iteratee:gn(X,3),type:N}),re.__filtered__=re.__filtered__||z,re}}),sl(["head","last"],function(_,T){var N="take"+(T?"Right":"");Tr.prototype[_]=function(){return this[N](1).value()[0]}}),sl(["initial","tail"],function(_,T){var N="drop"+(T?"":"Right");Tr.prototype[_]=function(){return this.__filtered__?new Tr(this):this[N](1)}}),Tr.prototype.compact=function(){return this.filter(rc)},Tr.prototype.find=function(_){return this.filter(_).head()},Tr.prototype.findLast=function(_){return this.reverse().find(_)},Tr.prototype.invokeMap=lr(function(_,T){return typeof _=="function"?new Tr(this):this.map(function(N){return J3(N,_,T)})}),Tr.prototype.reject=function(_){return this.filter(oP(gn(_)))},Tr.prototype.slice=function(_,T){_=Zn(_);var N=this;return N.__filtered__&&(_>0||T<0)?new Tr(N):(_<0?N=N.takeRight(-_):_&&(N=N.drop(_)),T!==n&&(T=Zn(T),N=T<0?N.dropRight(-T):N.take(T-_)),N)},Tr.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},Tr.prototype.toArray=function(){return this.take(j)},Qp(Tr.prototype,function(_,T){var N=/^(?:filter|find|map|reject)|While$/.test(T),z=/^(?:head|last)$/.test(T),X=Z[z?"take"+(T=="last"?"Right":""):T],re=z||/^find/.test(T);X&&(Z.prototype[T]=function(){var ce=this.__wrapped__,ve=z?[1]:arguments,Ie=ce instanceof Tr,et=ve[0],tt=Ie||Gn(ce),lt=function(br){var Lr=X.apply(Z,Eh([br],ve));return z&&Dt?Lr[0]:Lr};tt&&N&&typeof et=="function"&&et.length!=1&&(Ie=tt=!1);var Dt=this.__chain__,Qt=!!this.__actions__.length,yn=re&&!Dt,sr=Ie&&!Qt;if(!re&&tt){ce=sr?ce:new Tr(this);var vn=_.apply(ce,ve);return vn.__actions__.push({func:nP,args:[lt],thisArg:n}),new cd(vn,Dt)}return yn&&sr?_.apply(this,ve):(vn=this.thru(lt),yn?z?vn.value()[0]:vn.value():vn)})}),sl(["pop","push","shift","sort","splice","unshift"],function(_){var T=I5[_],N=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",z=/^(?:pop|shift)$/.test(_);Z.prototype[_]=function(){var X=arguments;if(z&&!this.__chain__){var re=this.value();return T.apply(Gn(re)?re:[],X)}return this[N](function(ce){return T.apply(Gn(ce)?ce:[],X)})}}),Qp(Tr.prototype,function(_,T){var N=Z[T];if(N){var z=N.name+"";Ri.call(SE,z)||(SE[z]=[]),SE[z].push({name:T,func:N})}}),SE[K5(n,y).name]=[{name:"wrapper",func:n}],Tr.prototype.clone=Srt,Tr.prototype.reverse=Art,Tr.prototype.value=Crt,Z.prototype.at=not,Z.prototype.chain=rot,Z.prototype.commit=iot,Z.prototype.next=sot,Z.prototype.plant=aot,Z.prototype.reverse=uot,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=lot,Z.prototype.first=Z.prototype.head,q3&&(Z.prototype[q3]=oot),Z},xE=irt();ki?((ki.exports=xE)._=xE,pi._=xE):un._=xE}).call(Jt)})(UF,UF.exports);var uJn=UF.exports;const lJn="#/definitions/LibraryConfig",cJn="http://json-schema.org/draft-07/schema#",fJn={Answer:{additionalProperties:!1,description:`The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.

Answers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.

Here's an example of how to use the Answer interface to define the correct answer to a question:

\`\`\`js { "type": "markdown", "path": "<study-name>/assets/question.md", "response": [  {    "id": "response1",    "prompt": "What is 2 + 2?",    "location": "belowStimulus",    "type": "numerical"  } ] "correctAnswer": [{  "id": "response1",  "answer": 4 }] } \`\`\`

In this example, the correct answer to the question "What is 2 + 2?" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.`,properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},BaseComponents:{additionalProperties:{additionalProperties:!1,properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{enum:["markdown","react-component","image","website","questionnaire","vega"],type:"string"}},type:"object"},description:'The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\n\n Using baseComponents:\n\n```js "baseComponents": { "my-image-component": { "instructionLocation": "sidebar", "nextButtonLocation": "sidebar", "path": "<study-name>/assets/my-image.jpg", "response": [   {     "id": "my-image-id",     "options": ["Europe", "Japan", "USA"],     "prompt": "Your Selected Answer:",     "type": "dropdown"   } ], "type": "image" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `"baseComponent":"my-image-component"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js "components": { "q1": { "baseComponent": "my-image-component", "description": "Choosing section with largest GDP", "instruction": "Which region has the largest GDP?" }, "q2": { "baseComponent": "my-image-component", "description": "Choosing section with lowest GDP", "instruction": "Which region has the lowest GDP?" }, "q3": { "baseComponent": "my-image-component", "description": "Choosing section with highest exports of Wheat", "instruction": "Which region had the most Wheat exported in 2022?" } } ```',type:"object"},CheckboxResponse:{additionalProperties:!1,description:'The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\n\n```js { "id": "q7", "prompt": "Checkbox example (not required)", "required": false, "location": "aboveStimulus", "type": "checkbox", "options": ["Option 1", "Option 2", "Option 3"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},maxSelections:{description:"The maximum number of selections that are required.",type:"number"},minSelections:{description:"The minimum number of selections that are required.",type:"number"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"checkbox",type:"string"}},required:["id","options","prompt","type"],type:"object"},ComponentBlock:{additionalProperties:!1,description:'The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\n\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\n\nHere\'s a snippet that shows how to use the random order:\n\n```js { "order": "random", "components": [ "component1", "component2", "component3" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\n\n```js [ ["component2", "component3", "component1"], ["component1", "component3", "component2"], ["component3", "component1", "component2"], ... ] ```\n\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2", "component3"], ["component2", "component3", "component1"], ["component3", "component1", "component2"], ... ] ```\n\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\n\n```js [ ["component1", "component2", "component3"], ["component1", "component2", "component3"], ["component1", "component2", "component3"], ... ] ```\n\nIn addition to the order property, the ComponentBlock interface also includes the `"numSamples"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `"numSamples"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ], "numSamples": 2 } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2"], ["component2", "component3"], ["component3", "component1"], ... ] ```\n\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\n\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.',properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/ComponentBlock"}]},type:"array"},id:{description:"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.",type:"string"},interruptions:{description:"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.",items:{$ref:"#/definitions/InterruptionBlock"},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"},skip:{$ref:"#/definitions/SkipConditions",description:"The skip conditions for the block."}},required:["order","components"],type:"object"},ComponentBlockCondition:{additionalProperties:!1,description:`The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.

Answers are checked against the correct answers defined in the IndividualComponent's [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.

You might use this if a participant answers two questions in a block incorrectly. Here's an example of how to use the ComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "check": "block",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.

When the condition is met, the participant will immediately be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.`,properties:{check:{const:"block",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["check","condition","value","to"],type:"object"},DeterministicInterruption:{additionalProperties:!1,description:`The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.

For example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.

The components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.

Here's an example of how to use the DeterministicInterruption:

\`\`\`js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "firstLocation": 2,   "spacing": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } \`\`\`

The resulting sequence array could be:

\`\`\`js [ ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ... ] \`\`\``,properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},firstLocation:{description:"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).",type:"number"},spacing:{description:"The number of components between breaks.",type:"number"}},required:["firstLocation","spacing","components"],type:"object"},DropdownResponse:{additionalProperties:!1,description:'The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\n\nExample: ```js { "id": "q-color", "prompt": "What is your favorite color?", "location": "aboveStimulus", "type": "dropdown", "placeholder": "Please choose your favorite color", "options": ["Red", "Blue"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed in the dropdown.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"dropdown",type:"string"}},required:["id","options","prompt","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"iframe",type:"string"}},required:["id","prompt","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:'The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\n\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { "type": "image", "path": "<study-name>/assets/image.jpg", "style": { "maxWidth": "50%" } } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"},{$ref:"#/definitions/VegaComponent"}]},IndividualComponentAllResponsesCondition:{additionalProperties:!1,description:`The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::


Here's an example of how to use the IndividualComponentAllResponsesCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "responses",   "to": "end" } ] ... } \`\`\`

In this example, if all responses to the component with the ID "attentionCheck" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.`,properties:{check:{const:"responses",description:"The check we'll perform.",type:"string"},name:{description:"The name of the component to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"}},required:["name","check","to"],type:"object"},IndividualComponentSingleResponseCondition:{additionalProperties:!1,description:`The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::

For example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here's an example of how to use the IndividualComponentSingleResponseCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "response",   "responseId": "attentionCheckResponse",   "value": "the right answer",   "comparison": "equal",   "to": "end" } ] ... } \`\`\`

In this example, we assign our skip logic to the component whose ID is "attentionCheck". If the answer given to the response "attentionCheckResponse" is equal to "the right answer", then the user will be redirected to the end of the study. If the response is _not_ equal to "the right answer", then the participant will continue to the next component in the sequence.`,properties:{check:{const:"response",description:"The check we'll perform.",type:"string"},comparison:{description:"The comparison to use.",enum:["equal","notEqual"],type:"string"},name:{description:"The name of the component to check.",type:"string"},responseId:{description:"The response id to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The value to check.",type:["string","number"]}},required:["name","check","responseId","value","comparison","to"],type:"object"},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},baseComponent:{type:"string"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{enum:["markdown","react-component","image","website","questionnaire","vega"],type:"string"}},required:["baseComponent"],type:"object"},InterruptionBlock:{anyOf:[{$ref:"#/definitions/DeterministicInterruption"},{$ref:"#/definitions/RandomInterruption"}],description:"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},LibraryConfig:{additionalProperties:!1,description:'LibraryConfig is used to define the properties of a library configuration. This is a JSON object with three main components: baseComponents, components, and the sequences. Libraries are useful for defining components and sequences of these components that are to be reused across multiple studies. We (the reVISit team) provide several libraries that can be used in your study configurations. Check the public/libraries folder in the reVISit-studies repository for available libraries. We also plan to accept community contributions for libraries. If you have a library that you think would be useful for others, please reach out to us. We would love to include it in our repository.\n\nBelow is the general template that should be followed when constructing a Library configuration file.\n\n```js {  "$schema": "https://raw.githubusercontent.com/revisit-studies/study/v2.0.0-rc3/src/parser/LibraryConfigSchema.json",  "baseComponents": {    // BaseComponents here are defined exactly as is in the StudyConfig  },  "components": {    // Components here are defined exactly as is in the StudyConfig  },  "sequences": {   // Sequences here are defined as "key": "value" pairs where the key is the name of the sequence and the value is a ComponentBlock, just like in the StudyConfig  } } ```',properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you're using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information",type:"string"},baseComponents:{$ref:"#/definitions/BaseComponents",description:"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},description:{description:"A description of the library.",type:"string"},name:{description:"The name of the library.",type:"string"},reference:{description:"The reference to the paper where the content of the library is based on.",type:"string"},sequences:{additionalProperties:{$ref:"#/definitions/ComponentBlock"},description:"The order of the components in the study. This might include some randomness.",type:"object"}},required:["$schema","components","sequences"],type:"object"},LikertResponse:{additionalProperties:!1,description:`The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.

Example for a five-point Likert Scale:

\`\`\`js { "id": "q-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).", "location": "aboveStimulus", "type": "likert", "leftLabel": "Not Enjoyable", "rightLabel": "Very Enjoyable", "numItems": 5 } \`\`\``,properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},numItems:{description:"The number of options to render.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"likert",type:"string"}},required:["id","numItems","prompt","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:'The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { "id": "q-name", "prompt": "What is your first name?", "location": "aboveStimulus", "type": "longText", "placeholder": "Please enter your first name" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"longText",type:"string"}},required:["id","prompt","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:'The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\n\n```js { "type": "markdown", "path": "<study-name>/assets/help.md", "response": [] } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},MatrixResponse:{additionalProperties:!1,description:`The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, \`answerOptions\` can be set to one of the following custom strings: 'satisfaction5','satisfaction7', 'likely5', 'likely7'. This will automatically generate the appropriate headers for the matrix.

Example for a 5-scale satisfaction matrix with three questions:

\`\`\`js { "id": "multi-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.", "location": "aboveStimulus", "type": "matrix-radio", "answerOptions": "satisfaction5", "questionOptions": [  "The tool we created",  "The technique we developed",  "The authors of the tools" ] } \`\`\`

Here's an example using custom columns (answerOptions):

\`\`\`js { "id": "multi-custom", "prompt": "Which categories do the following items belong to?", "location": "aboveStimulus", "type": "matrix-checkbox", "answerOptions": [  "Has Legs",  "Has Wings",  "Can Swim" ], "questionOptions": [  "Dog",  "Snake",  "Eagle",  "Salmon",  "Platypus" ]

} \`\`\``,properties:{answerOptions:{anyOf:[{items:{type:"string"},type:"array"},{const:"likely5",type:"string"},{const:"likely7",type:"string"},{const:"satisfaction5",type:"string"},{const:"satisfaction7",type:"string"}],description:"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},questionOptions:{description:"The question options (rows) are the prompts for each response you'd like to record.",items:{type:"string"},type:"array"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{enum:["matrix-radio","matrix-checkbox"],type:"string"}},required:["answerOptions","id","prompt","questionOptions","type"],type:"object"},NumberOption:{additionalProperties:!1,description:"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"number"}},required:["label","value"],type:"object"},NumericalResponse:{additionalProperties:!1,description:'The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\n\nExample: ```js { "id": "q-numerical", "prompt": "Numerical example", "location": "aboveStimulus", "type": "numerical", "placeholder": "Enter your age, range from 0 - 120", "max": 120, "min": 0 } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"numerical",type:"string"}},required:["id","prompt","type"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:'A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\n\n```js { "type": "questionnaire", "response": [  {    "id": "gender",    "prompt": "Gender:",    "location": "belowStimulus",    "type": "checkbox",    "options": ["Man", "Woman", "Genderqueer", "Third-gender", ...]  } ] } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:'The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\n\nExample: ```js { "id": "q-radio", "prompt": "Radio button example", "location": "aboveStimulus", "type": "radio", "options": ["Option 1", "Option 2"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the radio group. Used in Likert scales for example",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the radio group. Used in Likert scales for example",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"radio",type:"string"}},required:["id","options","prompt","type"],type:"object"},RandomInterruption:{additionalProperties:!1,description:'The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\n\nFor example, if you want to show a single interruption randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 1. If you want to show 3 interruptions randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 3.\n\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\n\nHere\'s an example of how to use the RandomInterruption:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "spacing": "random",   "numInterruptions": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } ```\n\nThe resulting sequence array could be:\n\n```js [ ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "component5", "interruption1", "interruption2", "component6], ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "interruption1", "interruption2", "component5", "component6], ["component1", "component2" "interruption1", "interruption2", "component3", "interruption1", "interruption2", "component4", "component5", "interruption1", "interruption2", "component6], ... ] ```',properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},numInterruptions:{description:"The number of times the interruption will be randomly added",type:"number"},spacing:{const:"random",description:"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.",type:"string"}},required:["spacing","numInterruptions","components"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\n\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\n\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\n\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\n\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don't use the default answer interface, and instead have something more unique.\n\nSo, for example, if I had the following ReactComponent in my config ```js { type: 'react-component'; path: 'my_study/CoolComponent.tsx'; parameters: {  name: 'Zach';  age: 26; } } ```\n\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\n\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\n\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.0.0-rc3/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.0.0-rc3/src/public/example-brush-interactions/assets)",properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},RepeatedComponentBlockCondition:{additionalProperties:!1,description:`The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.

Here's an example of how to use the RepeatedComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "repeatedComponent",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of incorrect responses to the repeated component with the name "attentionCheck" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.`,properties:{check:{const:"repeatedComponent",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},name:{description:"The name of the repeated component to check (e.g. attentionCheck).",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["name","check","condition","value","to"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"},{$ref:"#/definitions/MatrixResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:'The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\n\n```js { "id": "q-short-text", "prompt": "Short text example", "location": "aboveStimulus", "type": "shortText", "placeholder": "Enter your answer here" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"shortText",type:"string"}},required:["id","prompt","type"],type:"object"},SkipConditions:{description:`The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks' skip conditions will be considered when computing the skip logic.

Skip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.

Skip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.

Please see the interface definitions for more specific information on the different types of skip conditions.`,items:{anyOf:[{$ref:"#/definitions/IndividualComponentSingleResponseCondition"},{$ref:"#/definitions/IndividualComponentAllResponsesCondition"},{$ref:"#/definitions/ComponentBlockCondition"},{$ref:"#/definitions/RepeatedComponentBlockCondition"}]},type:"array"},SliderResponse:{additionalProperties:!1,description:'The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\n\nExample: ```js { "id": "q-slider", "prompt": "How are you feeling?", "location": "aboveStimulus", "type": "slider", "options": [  {    "label": "Bad",    "value": 0  },  {    "label": "OK",    "value": 50  },  {    "label": "Good",    "value": 100  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.",items:{$ref:"#/definitions/NumberOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"slider",type:"string"}},required:["id","options","prompt","type"],type:"object"},StringOption:{additionalProperties:!1,description:"The StringOption interface is used to define the options for a dropdown, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"string"}},required:["label","value"],type:"object"},VegaComponent:{anyOf:[{$ref:"#/definitions/VegaComponentPath"},{$ref:"#/definitions/VegaComponentConfig"}]},VegaComponentConfig:{additionalProperties:!1,properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"vega",type:"string"}},required:["config","response","type"],type:"object"},VegaComponentPath:{additionalProperties:!1,properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"vega",type:"string"}},required:["path","response","type"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:'The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\n\n```js { "type": "website", "path": "<study-name>/assets/website.html", } ```\n\nTo pass a data from the config to the website, you can use the `parameters` field as below:\n\n```js { "type": "website", "path": "<study-name>/website.html", "parameters": {  "barData": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] } "response": [  {    "id": "barChart",    "prompt": "Your selected answer:",    "location": "belowStimulus",    "type": "iframe"  } ], } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\n\n```html <script src="../../revisitUtilities/revisit-communicate.js"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\n\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\n\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\n\n```js const trrack = initializeTrrack({ initialState, registry });\n\n... Revisit.postProvenance(trrack.graph.backend); ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if StudyConfig.recordStudyAudio is true. Defaults to true.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},dJn={$ref:lJn,$schema:cJn,definitions:fJn},VZe=new vpe;VZe.addSchema(dJn);const hJn=VZe.getSchema("#/definitions/LibraryConfig");function HZe(e,t){return{...e,components:e.components.map(n=>typeof n=="object"?HZe(n,t):`$${t}.components.${n}`)}}function qZe(e,t,n=[]){return{...e,components:e.components.map(r=>{if(typeof r=="object")return qZe(r,t);const i=r.includes(".se.")?".se.":r.includes(".sequences.")?".sequences.":!1;if(typeof r=="string"&&r.startsWith("$")&&i){const[s,o]=r.split(i),a=s.slice(1);if(!t[a]){const c={message:`Library ${a} not found in imported libraries`,instancePath:"",params:{action:"check the library name"}};return n.push(c),r}let l=t[a].sequences[o];if(!l){const c={message:`Sequence ${o} not found in library ${s}`,instancePath:"",params:{action:"check the sequence name"}};return n.push(c),r}return l=HZe(l,a),l}return r})}}function pJn(e,t,n){Object.entries(n).forEach(([r,i])=>{Object.entries(i.components).forEach(([s,o])=>{var a;c3(o)&&!((a=i.baseComponents)!=null&&a[o.baseComponent])&&t.push({message:`Base component \`${o.baseComponent}\` is not defined in baseComponents object in library \`${r}\``,instancePath:`/importedLibraries/${r}/components/${s}`,params:{action:"add the base component to the baseComponents object"}})})})}function mJn(e,t){let n=!1,r;try{r=Sz.parse(e),n=hJn(r)}catch{n=!1}const i=[],s=[];return r?n||i.push({message:"Library config is not valid",instancePath:"",params:{action:"fix the errors in the library config"}}):i.push({message:`Could not find library \`${t}\``,instancePath:"/importedLibraries/",params:{action:"make sure the library is in the correct location"}}),{...r,errors:i,warnings:s}}async function gJn(e){const t=await(await fetch(`${Nl}libraries/${e}/config.json`)).text();return mJn(t,e)}async function yJn(e,t,n){const r=e.map(async s=>{const o=await gJn(s);return o.errors&&t.push(...o.errors),o.warnings&&n.push(...o.warnings),[s,o]}),i=Object.fromEntries(await Promise.all(r));return Object.entries(i).forEach(([s,o])=>{o.components||delete i[s]}),e.forEach(s=>{i[s]&&(i[s].components=Object.fromEntries(Object.entries(i[s].components).map(([o,a])=>{if(c3(a)){const u=uJn.merge({},i[s].baseComponents[a.baseComponent],a);return delete u.baseComponent,[[`$${s}.components.${o}`,u],[`$${s}.co.${o}`,u]]}return[[`$${s}.components.${o}`,a],[`$${s}.co.${o}`,a]]}).reduce((o,[a,u])=>(o.push(a,u),o),[])))}),i}const WZe=new vpe;WZe.addSchema(aJn);const o6e=WZe.getSchema("#/definitions/GlobalConfig"),GZe=new vpe;GZe.addSchema(rJn);const a6e=GZe.getSchema("#/definitions/StudyConfig");function vJn(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function bJn(e){const t=Sz.parse(e),n=o6e(t),r=vJn(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...o6e.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function YZe(e,t,n=[]){if(e.components.length===0){n.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"remove empty components block"}});return}e.id&&t.map((i,s)=>i===e.id?s:null).forEach(i=>{i!==null&&t.splice(i,1)}),e.components.forEach(r=>{typeof r=="string"?t.includes(r)&&t.map((s,o)=>s===r?o:null).forEach(s=>{s!==null&&t.splice(s,1)}):YZe(r,t,n)}),e.skip&&t.push(...e.skip.map(r=>r.to).filter(r=>r!=="end"))}function _Jn(e,t){const n=[],r=[];pJn(e,n,t),Object.entries(e.components).forEach(([o,a])=>{var u;c3(a)&&!((u=e.baseComponents)!=null&&u[a.baseComponent])&&n.push({message:`Base component \`${a.baseComponent}\` is not defined in baseComponents object`,instancePath:`/components/${o}`,params:{action:"add the base component to the baseComponents object"}})});const i=rDe(e.sequence);i.forEach(o=>{var a;e.components[o]||n.push({message:(a=e.baseComponents)!=null&&a[o]?`Component \`${o}\` is a base component and cannot be used in the sequence`:`Component \`${o}\` is not defined in components object`,instancePath:"/sequence/",params:{action:"add the component to the components object"}})}),Object.keys(e.components).filter(o=>!i.includes(o)&&!o.includes(".se.")&&!o.includes(".sequences.")&&!o.includes(".co.")&&!o.includes(".components.")).forEach(o=>{r.push({message:`Component \`${o}\` is defined in components object but not used in the sequence`,instancePath:"/components/",params:{action:"remove the component from the components object or add it to the sequence"}})});const s=[];return YZe(e.sequence,s),s.forEach(o=>{n.push({message:`Skip target \`${o}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"add the target to the sequence after the skip block"}})}),{errors:n,warnings:r}}async function bpe(e){let t=!1,n;try{n=Sz.parse(e),t=a6e(n)}catch{t=!1}let r=a6e.errors||[],i=[];if(t&&n){const s=n.importedLibraries||[],o=await yJn(s,r,i);Object.values(o).forEach(l=>{n.components={...n.components,...l.components},n.baseComponents={...n.baseComponents,...l.components}}),n.sequence=qZe(n.sequence,o,r);const{errors:a,warnings:u}=_Jn(n,o);r=[...r,...a],i=[...i,...u]}else r=[...r,{message:"There was an issue validating your config file",instancePath:"root",params:{action:"fix the errors in your file or make sure the global config references the right file path"}}];return{...n,errors:r,warnings:i}}async function wJn(e){const t=await(await fetch(`${Nl}${e}`)).text();return await bpe(t)}async function _pe(e,t){const n=t.configsList.find(r=>c8e(r)===e);if(n){const r=t.configs[n];return await wJn(`${r.path}`)}return null}async function xJn(e){const t={},n=e.configsList.map(async i=>_pe(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function EJn({globalConfig:e}){const t=I2(),[n,r]=R.useState(null),i=e.configsList.includes(t)||t==="__revisit-widget";R.useEffect(()=>{if(t!=="__revisit-widget")return _pe(t,e).then(p=>{r(p)}),()=>{};if(e&&t){const p=m=>{m.data.type==="revisitWidget/CONFIG"&&bpe(m.data.payload).then(async g=>{r(g);const y=await N4e(g);window.parent.postMessage({type:"revisitWidget/SEQUENCE_ARRAY",payload:y},"*")})};return window.addEventListener("message",p),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",p)}}return()=>{}},[e,t]);const[s,o]=R.useState([]),[a,u]=R.useState(null),{storageEngine:l}=Ao(),[c]=a_(),f=R.useMemo(()=>c.get("participantId"),[c]);R.useEffect(()=>{async function p(){if(!l||!n||!t)return;await l.initializeStudyDb(t,n),await l.getSequenceArray()||await l.setSequenceArray(await N4e(n));const g=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,y=Object.fromEntries(c.entries()),v=await fetch("https://api.ipify.org?format=json").catch(C=>""),b=v instanceof Response?await v.json():{ip:""},w={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:b.ip},x=await l.initializeParticipantSession(t,y,n,w,f||g),S=await l.getModes(t),A=await XIt(t,n,x.sequence,w,x.answers,S,x.participantId);u(A),o([{element:E.jsx(_Gn,{}),children:[{path:"/",element:E.jsx(WJe,{to:Jh(0),replace:!0})},{path:"/:index",element:n.errors.length>0?E.jsxs(E.Fragment,{children:[E.jsx(to,{order:2,mb:8,children:"Error loading config"}),E.jsx(lD,{issues:n.errors,type:"error"})]}):E.jsx(rGn,{})}]}])}p()},[l,n,t,c,f]);const d=t8e(s);let h=null;return i?s.length===0?h=E.jsx(qf,{visible:!0}):h=d&&a?E.jsx(aDe.Provider,{value:a,children:E.jsx(W3t,{store:a.store,children:d})}):E.jsx(hb,{}):h=E.jsx(hb,{}),h}function t9({studyIds:e}){const t=Dp(),{studyId:n}=sm(),r=o_(),i=e.map(o=>({value:o,label:o})),s=r.pathname.includes("analysis");return E.jsx(Ui.Header,{p:"md",children:E.jsxs(Rf,{mt:-7,align:"center",children:[E.jsx(Rf.Col,{span:6,children:E.jsxs(qt,{align:"center",onClick:()=>t("/"),style:{cursor:"pointer"},children:[E.jsx(i_,{w:40,src:`${Nl}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),E.jsx(iu,{w:"md"}),E.jsx(to,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),E.jsx(Rf.Col,{span:6,children:E.jsxs(qt,{justify:"flex-end",direction:"row",children:[s&&E.jsx(IC,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:o=>t(`/analysis/stats/${o}`),mr:16}),E.jsx(a8e,{onClick:()=>t("/settings"),style:{cursor:"pointer",marginTop:s?6:void 0}})]})})]})})}function KZe({visibleParticipants:e,studyId:t,gap:n,fileName:r}){const[i,{open:s,close:o}]=Wne(!1),[a,u]=R.useState([]),l=async()=>typeof e=="function"?await e():e,c=async()=>{const d=await l(),h=r?`${r}.json`:`${t}_all.json`;zue(JSON.stringify(d,null,2),h)},f=async()=>{const d=await l();u(d),s()};return E.jsxs(E.Fragment,{children:[E.jsxs(Si,{style:{gap:n},children:[E.jsx(vs,{label:"Download all participants data as JSON",children:E.jsx(on,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:c,px:4,children:E.jsx(vwt,{})})}),E.jsx(vs,{label:"Download all participants data as a tidy CSV",children:E.jsx(on,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:f,px:4,children:E.jsx(u8e,{})})})]}),i&&a.length>0&&E.jsx(bAn,{opened:i,close:o,filename:r?`${r}_tidy.csv`:`${t}_all_tidy.csv`,data:a,studyId:t})]})}var u6e={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},TJn=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},wpe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(XZe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):TJn(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new SJn;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class SJn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AJn=function(e){const t=XZe(e);return wpe.encodeByteArray(t,!0)},zF=function(e){return AJn(e).replace(/\./g,"")},QZe=function(e){try{return wpe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJn=()=>JZe().__FIREBASE_DEFAULTS__,IJn=()=>{if(typeof process>"u"||typeof u6e>"u")return;const e=u6e.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},kJn=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&QZe(e[1]);return t&&JSON.parse(t)},$z=()=>{try{return CJn()||IJn()||kJn()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ZZe=e=>{var t,n;return(n=(t=$z())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},RJn=e=>{const t=ZZe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},eet=()=>{var e;return(e=$z())===null||e===void 0?void 0:e.config},tet=e=>{var t;return(t=$z())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Jn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zF(JSON.stringify(n)),zF(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NJn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fu())}function PJn(){var e;const t=(e=$z())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OJn(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function DJn(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LJn(){const e=fu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function MJn(){return!PJn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xpe(){try{return typeof indexedDB=="object"}catch{return!1}}function FJn(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJn="FirebaseError";class Ym extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=BJn,Object.setPrototypeOf(this,Ym.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D3.prototype.create)}}class D3{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?jJn(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ym(i,a,r)}}function jJn(e,t){return e.replace(UJn,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const UJn=/\{\$([^}]+)}/g;function zJn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ZR(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(l6e(s)&&l6e(o)){if(!ZR(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function l6e(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function VJn(e,t){const n=new HJn(e,t);return n.subscribe.bind(n)}class HJn{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qJn(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=cK),i.error===void 0&&(i.error=cK),i.complete===void 0&&(i.complete=cK);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qJn(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function cK(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJn=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJn=1e3,YJn=2,KJn=4*60*60*1e3,XJn=.5;function QJn(e,t=GJn,n=YJn){const r=t*Math.pow(n,e),i=Math.round(XJn*r*(Math.random()-.5)*2);return Math.min(KJn,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e){return e&&e._delegate?e._delegate:e}class Sm{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJn{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new JR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eZn(t))try{this.getOrInitializeService({instanceIdentifier:Aw})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Aw){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Aw){return this.instances.has(t)}getOptions(t=Aw){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZJn(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Aw){return this.component?this.component.multipleInstances?t:Aw:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZJn(e){return e===Aw?void 0:e}function eZn(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZn{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new JJn(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Br||(Br={}));const nZn={debug:Br.DEBUG,verbose:Br.VERBOSE,info:Br.INFO,warn:Br.WARN,error:Br.ERROR,silent:Br.SILENT},rZn=Br.INFO,iZn={[Br.DEBUG]:"log",[Br.VERBOSE]:"log",[Br.INFO]:"info",[Br.WARN]:"warn",[Br.ERROR]:"error"},sZn=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=iZn[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nz{constructor(t){this.name=t,this._logLevel=rZn,this._logHandler=sZn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Br))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nZn[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Br.DEBUG,...t),this._logHandler(this,Br.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Br.VERBOSE,...t),this._logHandler(this,Br.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Br.INFO,...t),this._logHandler(this,Br.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Br.WARN,...t),this._logHandler(this,Br.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Br.ERROR,...t),this._logHandler(this,Br.ERROR,...t)}}const oZn=(e,t)=>t.some(n=>e instanceof n);let c6e,f6e;function aZn(){return c6e||(c6e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uZn(){return f6e||(f6e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const net=new WeakMap,_te=new WeakMap,ret=new WeakMap,fK=new WeakMap,Epe=new WeakMap;function lZn(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(rb(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&net.set(n,e)}).catch(()=>{}),Epe.set(t,e),t}function cZn(e){if(_te.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});_te.set(e,t)}let wte={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return _te.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ret.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rb(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function fZn(e){wte=e(wte)}function dZn(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(dK(this),t,...n);return ret.set(r,t.sort?t.sort():[t]),rb(r)}:uZn().includes(e)?function(...t){return e.apply(dK(this),t),rb(net.get(this))}:function(...t){return rb(e.apply(dK(this),t))}}function hZn(e){return typeof e=="function"?dZn(e):(e instanceof IDBTransaction&&cZn(e),oZn(e,aZn())?new Proxy(e,wte):e)}function rb(e){if(e instanceof IDBRequest)return lZn(e);if(fK.has(e))return fK.get(e);const t=hZn(e);return t!==e&&(fK.set(e,t),Epe.set(t,e)),t}const dK=e=>Epe.get(e);function pZn(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=rb(o);return r&&o.addEventListener("upgradeneeded",u=>{r(rb(o.result),u.oldVersion,u.newVersion,rb(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const mZn=["get","getKey","getAll","getAllKeys","count"],gZn=["put","add","delete","clear"],hK=new Map;function d6e(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hK.get(t))return hK.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=gZn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mZn.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return hK.set(t,s),s}fZn(e=>({...e,get:(t,n,r)=>d6e(t,n)||e.get(t,n,r),has:(t,n)=>!!d6e(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZn{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vZn(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vZn(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xte="@firebase/app",h6e="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Nz("@firebase/app"),bZn="@firebase/app-compat",_Zn="@firebase/analytics-compat",wZn="@firebase/analytics",xZn="@firebase/app-check-compat",EZn="@firebase/app-check",TZn="@firebase/auth",SZn="@firebase/auth-compat",AZn="@firebase/database",CZn="@firebase/database-compat",IZn="@firebase/functions",kZn="@firebase/functions-compat",RZn="@firebase/installations",$Zn="@firebase/installations-compat",NZn="@firebase/messaging",PZn="@firebase/messaging-compat",OZn="@firebase/performance",DZn="@firebase/performance-compat",LZn="@firebase/remote-config",MZn="@firebase/remote-config-compat",FZn="@firebase/storage",BZn="@firebase/storage-compat",jZn="@firebase/firestore",UZn="@firebase/vertexai-preview",zZn="@firebase/firestore-compat",VZn="firebase",HZn="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete="[DEFAULT]",qZn={[xte]:"fire-core",[bZn]:"fire-core-compat",[wZn]:"fire-analytics",[_Zn]:"fire-analytics-compat",[EZn]:"fire-app-check",[xZn]:"fire-app-check-compat",[TZn]:"fire-auth",[SZn]:"fire-auth-compat",[AZn]:"fire-rtdb",[CZn]:"fire-rtdb-compat",[IZn]:"fire-fn",[kZn]:"fire-fn-compat",[RZn]:"fire-iid",[$Zn]:"fire-iid-compat",[NZn]:"fire-fcm",[PZn]:"fire-fcm-compat",[OZn]:"fire-perf",[DZn]:"fire-perf-compat",[LZn]:"fire-rc",[MZn]:"fire-rc-compat",[FZn]:"fire-gcs",[BZn]:"fire-gcs-compat",[jZn]:"fire-fst",[zZn]:"fire-fst-compat",[UZn]:"fire-vertex","fire-js":"fire-js",[VZn]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=new Map,WZn=new Map,Tte=new Map;function p6e(e,t){try{e.container.addComponent(t)}catch(n){a2.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function My(e){const t=e.name;if(Tte.has(t))return a2.debug(`There were multiple attempts to register component ${t}.`),!1;Tte.set(t,e);for(const n of VF.values())p6e(n,e);for(const n of WZn.values())p6e(n,e);return!0}function L3(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function j0(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZn={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ib=new D3("app","Firebase",GZn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZn{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ib.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=HZn;function iet(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ete,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ib.create("bad-app-name",{appName:String(i)});if(n||(n=eet()),!n)throw ib.create("no-options");const s=VF.get(i);if(s){if(ZR(n,s.options)&&ZR(r,s.config))return s;throw ib.create("duplicate-app",{appName:i})}const o=new tZn(i);for(const u of Tte.values())o.addComponent(u);const a=new YZn(n,r,o);return VF.set(i,a),a}function Tpe(e=Ete){const t=VF.get(e);if(!t&&e===Ete&&eet())return iet();if(!t)throw ib.create("no-app",{appName:e});return t}function _p(e,t,n){var r;let i=(r=qZn[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),a2.warn(a.join(" "));return}My(new Sm(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZn="firebase-heartbeat-database",XZn=1,e$="firebase-heartbeat-store";let pK=null;function set(){return pK||(pK=pZn(KZn,XZn,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(e$)}catch(n){console.warn(n)}}}}).catch(e=>{throw ib.create("idb-open",{originalErrorMessage:e.message})})),pK}async function QZn(e){try{const n=(await set()).transaction(e$),r=await n.objectStore(e$).get(oet(e));return await n.done,r}catch(t){if(t instanceof Ym)a2.warn(t.message);else{const n=ib.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});a2.warn(n.message)}}}async function m6e(e,t){try{const r=(await set()).transaction(e$,"readwrite");await r.objectStore(e$).put(t,oet(e)),await r.done}catch(n){if(n instanceof Ym)a2.warn(n.message);else{const r=ib.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});a2.warn(r.message)}}}function oet(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZn=1024,ZZn=30*24*60*60*1e3;class eer{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ner(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g6e();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ZZn}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g6e(),{heartbeatsToSend:r,unsentEntries:i}=ter(this._heartbeatsCache.heartbeats),s=zF(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function g6e(){return new Date().toISOString().substring(0,10)}function ter(e,t=JZn){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),y6e(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),y6e(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ner{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xpe()?FJn().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QZn(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m6e(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m6e(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function y6e(e){return zF(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rer(e){My(new Sm("platform-logger",t=>new yZn(t),"PRIVATE")),My(new Sm("heartbeat",t=>new eer(t),"PRIVATE")),_p(xte,h6e,e),_p(xte,h6e,"esm2017"),_p("fire-js","")}rer("");function aet(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ier=aet,uet=new D3("auth","Firebase",aet());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=new Nz("@firebase/auth");function ser(e,...t){HF.logLevel<=Br.WARN&&HF.warn(`Auth (${uE}): ${e}`,...t)}function n9(e,...t){HF.logLevel<=Br.ERROR&&HF.error(`Auth (${uE}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(e,...t){throw Ape(e,...t)}function wp(e,...t){return Ape(e,...t)}function Spe(e,t,n){const r=Object.assign(Object.assign({},ier()),{[t]:n});return new D3("auth","Firebase",r).create(t,{appName:e.name})}function sb(e){return Spe(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oer(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Am(e,"argument-error"),Spe(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ape(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return uet.create(e,...t)}function Nn(e,t,...n){if(!e)throw Ape(t,...n)}function Kg(e){const t="INTERNAL ASSERTION FAILED: "+e;throw n9(t),new Error(t)}function Fy(e,t){e||Kg(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ste(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function aer(){return v6e()==="http:"||v6e()==="https:"}function v6e(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uer(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aer()||OJn()||"connection"in navigator)?navigator.onLine:!0}function ler(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fy(n>t,"Short delay should be less than long delay!"),this.isMobile=NJn()||DJn()}get(){return uer()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cpe(e,t){Fy(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cet{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cer={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fer=new o5(3e4,6e4);function Pz(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function M3(e,t,n,r,i={}){return fet(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=s5(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),cet.fetch()(het(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function fet(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},cer),t);try{const i=new der(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw AO(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw AO(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw AO(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw AO(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Spe(e,c,l);Am(e,c)}}catch(i){if(i instanceof Ym)throw i;Am(e,"network-request-failed",{message:String(i)})}}async function det(e,t,n,r,i={}){const s=await M3(e,t,n,r,i);return"mfaPendingCredential"in s&&Am(e,"multi-factor-auth-required",{_serverResponse:s}),s}function het(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Cpe(e.config,i):`${e.config.apiScheme}://${i}`}class der{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wp(this.auth,"network-request-failed")),fer.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function AO(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wp(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function her(e,t){return M3(e,"POST","/v1/accounts:delete",t)}async function pet(e,t){return M3(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function per(e,t=!1){const n=ds(e),r=await n.getIdToken(t),i=Ipe(r);Nn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pk(mK(i.auth_time)),issuedAtTime:pk(mK(i.iat)),expirationTime:pk(mK(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mK(e){return Number(e)*1e3}function Ipe(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return n9("JWT malformed, contained fewer than 3 sections"),null;try{const i=QZe(n);return i?JSON.parse(i):(n9("Failed to decode base64 JWT payload"),null)}catch(i){return n9("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function b6e(e){const t=Ipe(e);return Nn(t,"internal-error"),Nn(typeof t.exp<"u","internal-error"),Nn(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t$(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ym&&mer(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function mer({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ger{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pk(this.lastLoginAt),this.creationTime=pk(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(e){var t;const n=e.auth,r=await e.getIdToken(),i=await t$(e,pet(n,{idToken:r}));Nn(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?met(s.providerUserInfo):[],a=ver(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ate(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function yer(e){const t=ds(e);await qF(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ver(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function met(e){return e.map(t=>{var{providerId:n}=t,r=b$(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ber(e,t){const n=await fet(e,{},async()=>{const r=s5({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=het(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cet.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _er(e,t){return M3(e,"POST","/v2/accounts:revokeToken",Pz(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Nn(t.idToken,"internal-error"),Nn(typeof t.idToken<"u","internal-error"),Nn(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):b6e(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Nn(t.length!==0,"internal-error");const n=b6e(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Nn(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ber(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new US;return r&&(Nn(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Nn(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Nn(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new US,this.toJSON())}_performRefresh(){return Kg("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(e,t){Nn(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Xg{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=b$(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ger(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ate(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await t$(this,this.stsTokenManager.getToken(this.auth,t));return Nn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return per(this,t)}reload(){return yer(this)}_assign(t){this!==t&&(Nn(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Xg(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Nn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await qF(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(j0(this.auth.app))return Promise.reject(sb(this.auth));const t=await this.getIdToken();return await t$(this,her(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:S,stsTokenManager:A}=n;Nn(b&&A,t,"internal-error");const C=US.fromJSON(this.name,A);Nn(typeof b=="string",t,"internal-error"),W1(f,t.name),W1(d,t.name),Nn(typeof w=="boolean",t,"internal-error"),Nn(typeof x=="boolean",t,"internal-error"),W1(h,t.name),W1(p,t.name),W1(m,t.name),W1(g,t.name),W1(y,t.name),W1(v,t.name);const $=new Xg({uid:b,auth:t,email:d,emailVerified:w,displayName:f,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:C,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&($.providerData=S.map(k=>Object.assign({},k))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(t,n,r=!1){const i=new US;i.updateFromServerResponse(n);const s=new Xg({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await qF(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Nn(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?met(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new US;a.updateFromIdToken(r);const u=new Xg({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ate(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6e=new Map;function Qg(e){Fy(e instanceof Function,"Expected a class definition");let t=_6e.get(e);return t?(Fy(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_6e.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class get{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}get.type="NONE";const w6e=get;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(e,t,n){return`firebase:${e}:${t}:${n}`}class zS{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=r9(this.userKey,i.apiKey,s),this.fullPersistenceKey=r9("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Xg._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new zS(Qg(w6e),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Qg(w6e);const o=r9(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=Xg._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new zS(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new zS(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6e(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bet(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yet(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wet(t))return"Blackberry";if(xet(t))return"Webos";if(kpe(t))return"Safari";if((t.includes("chrome/")||vet(t))&&!t.includes("edge/"))return"Chrome";if(_et(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yet(e=fu()){return/firefox\//i.test(e)}function kpe(e=fu()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vet(e=fu()){return/crios\//i.test(e)}function bet(e=fu()){return/iemobile/i.test(e)}function _et(e=fu()){return/android/i.test(e)}function wet(e=fu()){return/blackberry/i.test(e)}function xet(e=fu()){return/webos/i.test(e)}function Oz(e=fu()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wer(e=fu()){var t;return Oz(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function xer(){return LJn()&&document.documentMode===10}function Eet(e=fu()){return Oz(e)||_et(e)||xet(e)||wet(e)||/windows phone/i.test(e)||bet(e)}function Eer(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tet(e,t=[]){let n;switch(e){case"Browser":n=x6e(fu());break;case"Worker":n=`${x6e(fu())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${uE}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ter{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ser(e,t={}){return M3(e,"GET","/v2/passwordPolicy",Pz(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aer=6;class Cer{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Aer,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ier{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E6e(this),this.idTokenSubscription=new E6e(this),this.beforeStateQueue=new Ter(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uet,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Qg(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await zS.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await pet(this,{idToken:t}),r=await Xg._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(j0(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Nn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await qF(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ler()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(j0(this.app))return Promise.reject(sb(this));const n=t?ds(t):null;return n&&Nn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Nn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return j0(this.app)?Promise.reject(sb(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return j0(this.app)?Promise.reject(sb(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qg(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ser(this),n=new Cer(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new D3("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _er(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Qg(t)||this._popupRedirectResolver;Nn(n,this,"argument-error"),this.redirectPersistenceManager=await zS.create(this,[Qg(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nn(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Nn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Tet(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&ser(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function a5(e){return ds(e)}class E6e{constructor(t){this.auth=t,this.observer=null,this.addObserver=VJn(n=>this.observer=n)}get next(){return Nn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rpe={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ker(e){Rpe=e}function Rer(e){return Rpe.loadJS(e)}function $er(){return Rpe.gapiScript}function Ner(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Per(e,t){const n=L3(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ZR(s,t??{}))return i;Am(i,"already-initialized")}return n.initialize({options:t})}function Oer(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qg);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Der(e,t,n){const r=a5(e);Nn(r._canInitEmulator,r,"emulator-config-failed"),Nn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=Aet(t),{host:o,port:a}=Ler(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Mer()}function Aet(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ler(e){const t=Aet(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:T6e(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:T6e(o)}}}function T6e(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Mer(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cet{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Kg("not implemented")}_getIdTokenResponse(t){return Kg("not implemented")}_linkToIdToken(t,n){return Kg("not implemented")}_getReauthenticationResolver(t){return Kg("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(e,t){return det(e,"POST","/v1/accounts:signInWithIdp",Pz(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fer="http://localhost";class u2 extends Cet{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new u2(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Am("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=b$(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new u2(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return VS(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,VS(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,VS(t,n)}buildRequest(){const t={requestUri:Fer,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=s5(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $pe{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5 extends $pe{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends u5{constructor(){super("facebook.com")}static credential(t){return u2._fromParams({providerId:vv.PROVIDER_ID,signInMethod:vv.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vv.credentialFromTaggedObject(t)}static credentialFromError(t){return vv.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vv.credential(t.oauthAccessToken)}catch{return null}}}vv.FACEBOOK_SIGN_IN_METHOD="facebook.com";vv.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends u5{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return u2._fromParams({providerId:Mg.PROVIDER_ID,signInMethod:Mg.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Mg.credentialFromTaggedObject(t)}static credentialFromError(t){return Mg.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Mg.credential(n,r)}catch{return null}}}Mg.GOOGLE_SIGN_IN_METHOD="google.com";Mg.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends u5{constructor(){super("github.com")}static credential(t){return u2._fromParams({providerId:bv.PROVIDER_ID,signInMethod:bv.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bv.credentialFromTaggedObject(t)}static credentialFromError(t){return bv.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bv.credential(t.oauthAccessToken)}catch{return null}}}bv.GITHUB_SIGN_IN_METHOD="github.com";bv.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends u5{constructor(){super("twitter.com")}static credential(t,n){return u2._fromParams({providerId:_v.PROVIDER_ID,signInMethod:_v.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return _v.credentialFromTaggedObject(t)}static credentialFromError(t){return _v.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return _v.credential(n,r)}catch{return null}}}_v.TWITTER_SIGN_IN_METHOD="twitter.com";_v.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ber(e,t){return det(e,"POST","/v1/accounts:signUp",Pz(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Xg._fromIdTokenResponse(t,r,i),o=S6e(r);return new Hb({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=S6e(r);return new Hb({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function S6e(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jer(e){var t;if(j0(e.app))return Promise.reject(sb(e));const n=a5(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Hb({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ber(n,{returnSecureToken:!0}),i=await Hb._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF extends Ym{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,WF.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new WF(t,n,r,i)}}function Iet(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?WF._fromErrorAndOperation(e,s,t,r):s})}async function Uer(e,t,n=!1){const r=await t$(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Hb._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zer(e,t,n=!1){const{auth:r}=e;if(j0(r.app))return Promise.reject(sb(r));const i="reauthenticate";try{const s=await t$(e,Iet(r,i,t,e),n);Nn(s.idToken,r,"internal-error");const o=Ipe(s.idToken);Nn(o,r,"internal-error");const{sub:a}=o;return Nn(e.uid===a,r,"user-mismatch"),Hb._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Am(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ver(e,t,n=!1){if(j0(e.app))return Promise.reject(sb(e));const r="signIn",i=await Iet(e,r,t),s=await Hb._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Her(e,t,n,r){return ds(e).onIdTokenChanged(t,n,r)}function qer(e,t,n){return ds(e).beforeAuthStateChanged(t,n)}function Wer(e,t,n,r){return ds(e).onAuthStateChanged(t,n,r)}function Ger(e){return ds(e).signOut()}const GF="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ket{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(GF,"1"),this.storage.removeItem(GF),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yer(){const e=fu();return kpe(e)||Oz(e)}const Ker=1e3,Xer=10;class Ret extends ket{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Yer()&&Eer(),this.fallbackToPolling=Eet(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);xer()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Xer):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Ker)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ret.type="LOCAL";const Qer=Ret;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $et extends ket{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}$et.type="SESSION";const Net=$et;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jer(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Dz(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await Jer(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dz.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Npe(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zer{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=Npe("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){return window}function etr(e){tm().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pet(){return typeof tm().WorkerGlobalScope<"u"&&typeof tm().importScripts=="function"}async function ttr(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ntr(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function rtr(){return Pet()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oet="firebaseLocalStorageDb",itr=1,YF="firebaseLocalStorage",Det="fbase_key";class l5{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lz(e,t){return e.transaction([YF],t?"readwrite":"readonly").objectStore(YF)}function str(){const e=indexedDB.deleteDatabase(Oet);return new l5(e).toPromise()}function Cte(){const e=indexedDB.open(Oet,itr);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(YF,{keyPath:Det})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(YF)?t(r):(r.close(),await str(),t(await Cte()))})})}async function A6e(e,t,n){const r=Lz(e,!0).put({[Det]:t,value:n});return new l5(r).toPromise()}async function otr(e,t){const n=Lz(e,!1).get(t),r=await new l5(n).toPromise();return r===void 0?null:r.value}function C6e(e,t){const n=Lz(e,!0).delete(t);return new l5(n).toPromise()}const atr=800,utr=3;class Let{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cte(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>utr)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pet()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dz._getInstance(rtr()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await ttr(),!this.activeServiceWorker)return;this.sender=new Zer(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ntr()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Cte();return await A6e(t,GF,"1"),await C6e(t,GF),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A6e(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>otr(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>C6e(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Lz(i,!1).getAll();return new l5(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),atr)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Let.type="LOCAL";const ltr=Let;new o5(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Met(e,t){return t?Qg(t):(Nn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ppe extends Cet{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return VS(t,this._buildIdpRequest())}_linkToIdToken(t,n){return VS(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return VS(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ctr(e){return Ver(e.auth,new Ppe(e),e.bypassAuthState)}function ftr(e){const{auth:t,user:n}=e;return Nn(n,t,"internal-error"),zer(n,new Ppe(e),e.bypassAuthState)}async function dtr(e){const{auth:t,user:n}=e;return Nn(n,t,"internal-error"),Uer(n,new Ppe(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fet{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ctr;case"linkViaPopup":case"linkViaRedirect":return dtr;case"reauthViaPopup":case"reauthViaRedirect":return ftr;default:Am(this.auth,"internal-error")}}resolve(t){Fy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const htr=new o5(2e3,1e4);async function ptr(e,t,n){if(j0(e.app))return Promise.reject(wp(e,"operation-not-supported-in-this-environment"));const r=a5(e);oer(e,t,$pe);const i=Met(r,n);return new ox(r,"signInViaPopup",t,i).executeNotNull()}class ox extends Fet{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ox.currentPopupAction&&ox.currentPopupAction.cancel(),ox.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Nn(t,this.auth,"internal-error"),t}async onExecution(){Fy(this.filter.length===1,"Popup operations only handle one event");const t=Npe();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wp(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(wp(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ox.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wp(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,htr.get())};t()}}ox.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mtr="pendingRedirect",i9=new Map;class gtr extends Fet{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=i9.get(this.auth._key());if(!t){try{const r=await ytr(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}i9.set(this.auth._key(),t)}return this.bypassAuthState||i9.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ytr(e,t){const n=_tr(t),r=btr(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vtr(e,t){i9.set(e._key(),t)}function btr(e){return Qg(e._redirectPersistence)}function _tr(e){return r9(mtr,e.config.apiKey,e.name)}async function wtr(e,t,n=!1){if(j0(e.app))return Promise.reject(sb(e));const r=a5(e),i=Met(r,t),o=await new gtr(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xtr=10*60*1e3;class Etr{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ttr(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Bet(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wp(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xtr&&this.cachedEventUids.clear(),this.cachedEventUids.has(I6e(t))}saveEventToCache(t){this.cachedEventUids.add(I6e(t)),this.lastProcessedEventTime=Date.now()}}function I6e(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Bet({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Ttr(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bet(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Str(e,t={}){return M3(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Atr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ctr=/^https?/;async function Itr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Str(e);for(const n of t)try{if(ktr(n))return}catch{}Am(e,"unauthorized-domain")}function ktr(e){const t=Ste(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ctr.test(n))return!1;if(Atr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rtr=new o5(3e4,6e4);function k6e(){const e=tm().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function $tr(e){return new Promise((t,n)=>{var r,i,s;function o(){k6e(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{k6e(),n(wp(e,"network-request-failed"))},timeout:Rtr.get()})}if(!((i=(r=tm().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=tm().gapi)===null||s===void 0)&&s.load)o();else{const a=Ner("iframefcb");return tm()[a]=()=>{gapi.load?o():n(wp(e,"network-request-failed"))},Rer(`${$er()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw s9=null,t})}let s9=null;function Ntr(e){return s9=s9||$tr(e),s9}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ptr=new o5(5e3,15e3),Otr="__/auth/iframe",Dtr="emulator/auth/iframe",Ltr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mtr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ftr(e){const t=e.config;Nn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Cpe(t,Dtr):`https://${e.config.authDomain}/${Otr}`,r={apiKey:t.apiKey,appName:e.name,v:uE},i=Mtr.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${s5(r).slice(1)}`}async function Btr(e){const t=await Ntr(e),n=tm().gapi;return Nn(n,e,"internal-error"),t.open({where:document.body,url:Ftr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ltr,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wp(e,"network-request-failed"),a=tm().setTimeout(()=>{s(o)},Ptr.get());function u(){tm().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jtr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Utr=500,ztr=600,Vtr="_blank",Htr="http://localhost";class R6e{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qtr(e,t,n,r=Utr,i=ztr){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},jtr),{width:r.toString(),height:i.toString(),top:s,left:o}),l=fu().toLowerCase();n&&(a=vet(l)?Vtr:n),yet(l)&&(t=t||Htr,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(wer(l)&&a!=="_self")return Wtr(t||"",a),new R6e(null);const f=window.open(t||"",a,c);Nn(f,e,"popup-blocked");try{f.focus()}catch{}return new R6e(f)}function Wtr(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gtr="__/auth/handler",Ytr="emulator/auth/handler",Ktr=encodeURIComponent("fac");async function $6e(e,t,n,r,i,s){Nn(e.config.authDomain,e,"auth-domain-config-required"),Nn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:uE,eventId:i};if(t instanceof $pe){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",zJn(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(t instanceof u5){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${Ktr}=${encodeURIComponent(u)}`:"";return`${Xtr(e)}?${s5(a).slice(1)}${l}`}function Xtr({config:e}){return e.emulator?Cpe(e,Ytr):`https://${e.authDomain}/${Gtr}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK="webStorageSupport";class Qtr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Net,this._completeRedirectFn=wtr,this._overrideRedirectResult=vtr}async _openPopup(t,n,r,i){var s;Fy((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await $6e(t,n,r,Ste(),i);return qtr(t,o,Npe())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await $6e(t,n,r,Ste(),i);return etr(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fy(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Btr(t),r=new Etr(t);return n.register("authEvent",i=>(Nn(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gK,{type:gK},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gK];o!==void 0&&n(!!o),Am(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Itr(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Eet()||kpe()||Oz()}}const jet=Qtr;var N6e="@firebase/auth",P6e="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jtr{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Nn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ztr(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function enr(e){My(new Sm("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Nn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tet(e)},l=new Ier(r,i,s,u);return Oer(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),My(new Sm("auth-internal",t=>{const n=a5(t.getProvider("auth").getImmediate());return(r=>new Jtr(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_p(N6e,P6e,Ztr(e)),_p(N6e,P6e,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tnr=5*60,nnr=tet("authIdTokenMaxAge")||tnr;let O6e=null;const rnr=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nnr)return;const i=n==null?void 0:n.token;O6e!==i&&(O6e=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KF(e=Tpe()){const t=L3(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Per(e,{popupRedirectResolver:jet,persistence:[ltr,Qer,Net]}),r=tet("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=rnr(s.toString());qer(n,o,()=>o(n.currentUser)),Her(n,a=>o(a))}}const i=ZZe("auth");return i&&Der(n,`http://${i}`),n}function inr(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}ker({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=wp("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",inr().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});enr("Browser");var snr="firebase",onr="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_p(snr,onr,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uet="firebasestorage.googleapis.com",zet="storageBucket",anr=2*60*1e3,unr=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Ym{constructor(t,n,r=0){super(yK(t),`Firebase Storage: ${n} (${yK(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,uo.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return yK(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ao;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ao||(ao={}));function yK(e){return"storage/"+e}function Ope(){const e="An unknown error occurred, please check the error payload for server response.";return new uo(ao.UNKNOWN,e)}function lnr(e){return new uo(ao.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function cnr(e){return new uo(ao.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function fnr(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new uo(ao.UNAUTHENTICATED,e)}function dnr(){return new uo(ao.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hnr(e){return new uo(ao.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function pnr(){return new uo(ao.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mnr(){return new uo(ao.CANCELED,"User canceled the upload/download.")}function gnr(e){return new uo(ao.INVALID_URL,"Invalid URL '"+e+"'.")}function ynr(e){return new uo(ao.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function vnr(){return new uo(ao.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zet+"' property when initializing the app?")}function bnr(){return new uo(ao.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _nr(){return new uo(ao.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wnr(e){return new uo(ao.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ite(e){return new uo(ao.INVALID_ARGUMENT,e)}function Vet(){return new uo(ao.APP_DELETED,"The Firebase app was deleted.")}function xnr(e){return new uo(ao.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mk(e,t){return new uo(ao.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function v4(e){throw new uo(ao.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Sl.makeFromUrl(t,n)}catch{return new Sl(t,"")}if(r.path==="")return r;throw ynr(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===Uet?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),b=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<b.length;w++){const x=b[w],S=x.regex.exec(t);if(S){const A=S[x.indices.bucket];let C=S[x.indices.path];C||(C=""),r=new Sl(A,C),x.postModify(r);break}}if(r==null)throw gnr(t);return r}}class Enr{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tnr(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...g){l||(l=!0,t.apply(null,g))}function f(g){i=setTimeout(()=>{i=null,e(h,u())},g)}function d(){s&&clearTimeout(s)}function h(g,...y){if(l){d();return}if(g){d(),c.call(null,g,...y);return}if(u()||o){d(),c.call(null,g,...y);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,f(b)}let p=!1;function m(g){p||(p=!0,d(),!l&&(i!==null?(g||(a=2),clearTimeout(i),f(0)):g||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function Snr(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Anr(e){return e!==void 0}function Cnr(e){return typeof e=="object"&&!Array.isArray(e)}function Dpe(e){return typeof e=="string"||e instanceof String}function D6e(e){return Lpe()&&e instanceof Blob}function Lpe(){return typeof Blob<"u"}function kte(e,t,n,r){if(r<t)throw Ite(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Ite(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Het(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wx;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(wx||(wx={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Inr(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class knr{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new CO(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===wx.NO_ERROR,u=s.getStatus();if(!a||Inr(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===wx.ABORT;r(!1,new CO(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new CO(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Anr(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=Ope();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?Vet():mnr();o(u)}else{const u=pnr();o(u)}};this.canceled_?n(!1,new CO(!1,null,!0)):this.backoffId_=Tnr(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Snr(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class CO{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Rnr(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function $nr(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Nnr(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Pnr(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Onr(e,t,n,r,i,s,o=!0){const a=Het(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return Nnr(l,t),Rnr(l,n),$nr(l,s),Pnr(l,r),new knr(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dnr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Lnr(...e){const t=Dnr();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Lpe())return new Blob(e);throw new uo(ao.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Mnr(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fnr(e){if(typeof atob>"u")throw wnr("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vK{constructor(t,n){this.data=t,this.contentType=n||null}}function Bnr(e,t){switch(e){case U0.RAW:return new vK(qet(t));case U0.BASE64:case U0.BASE64URL:return new vK(Wet(e,t));case U0.DATA_URL:return new vK(Unr(t),znr(t))}throw Ope()}function qet(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function jnr(e){let t;try{t=decodeURIComponent(e)}catch{throw mk(U0.DATA_URL,"Malformed data URL.")}return qet(t)}function Wet(e,t){switch(e){case U0.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw mk(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case U0.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw mk(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Fnr(t)}catch(i){throw i.message.includes("polyfill")?i:mk(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Get{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw mk(U0.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Vnr(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Unr(e){const t=new Get(e);return t.base64?Wet(U0.BASE64,t.rest):jnr(t.rest)}function znr(e){return new Get(e).contentType}function Vnr(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t,n){let r=0,i="";D6e(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(D6e(this.data_)){const r=this.data_,i=Mnr(r,t,n);return i===null?null:new wv(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new wv(r,!0)}}static getBlob(...t){if(Lpe()){const n=t.map(r=>r instanceof wv?r.data_:r);return new wv(Lnr.apply(null,n))}else{const n=t.map(o=>Dpe(o)?Bnr(U0.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new wv(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mpe(e){let t;try{t=JSON.parse(e)}catch{return null}return Cnr(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hnr(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function qnr(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Yet(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wnr(e,t){return t}class hl{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Wnr}}let IO=null;function Gnr(e){return!Dpe(e)||e.length<2?e:Yet(e)}function Ket(){if(IO)return IO;const e=[];e.push(new hl("bucket")),e.push(new hl("generation")),e.push(new hl("metageneration")),e.push(new hl("name","fullPath",!0));function t(s,o){return Gnr(o)}const n=new hl("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new hl("size");return i.xform=r,e.push(i),e.push(new hl("timeCreated")),e.push(new hl("updated")),e.push(new hl("md5Hash",null,!0)),e.push(new hl("cacheControl",null,!0)),e.push(new hl("contentDisposition",null,!0)),e.push(new hl("contentEncoding",null,!0)),e.push(new hl("contentLanguage",null,!0)),e.push(new hl("contentType",null,!0)),e.push(new hl("metadata","customMetadata",!0)),IO=e,IO}function Ynr(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Sl(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Knr(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return Ynr(r,e),r}function Xet(e,t,n){const r=Mpe(t);return r===null?null:Knr(e,r,n)}function Xnr(e,t,n,r){const i=Mpe(t);if(i===null||!Dpe(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=c5(d,n,r),p=Het({alt:"media",token:l});return h+p})[0]}function Qnr(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6e="prefixes",M6e="items";function Jnr(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[L6e])for(const i of n[L6e]){const s=i.replace(/\/$/,""),o=e._makeStorageReference(new Sl(t,s));r.prefixes.push(o)}if(n[M6e])for(const i of n[M6e]){const s=e._makeStorageReference(new Sl(t,i.name));r.items.push(s)}return r}function Znr(e,t,n){const r=Mpe(n);return r===null?null:Jnr(e,t,r)}class Mz{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fpe(e){if(!e)throw Ope()}function err(e,t){function n(r,i){const s=Xet(e,i,t);return Fpe(s!==null),s}return n}function trr(e,t){function n(r,i){const s=Znr(e,t,i);return Fpe(s!==null),s}return n}function nrr(e,t){function n(r,i){const s=Xet(e,i,t);return Fpe(s!==null),Xnr(s,i,e.host,e._protocol)}return n}function Bpe(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=dnr():i=fnr():n.getStatus()===402?i=cnr(e.bucket):n.getStatus()===403?i=hnr(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function Qet(e){const t=Bpe(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=lnr(e.path)),s.serverResponse=i.serverResponse,s}return n}function rrr(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=t.bucketOnlyServerUrl(),a=c5(o,e.host,e._protocol),u="GET",l=e.maxOperationRetryTime,c=new Mz(a,u,trr(e,t.bucket),l);return c.urlParams=s,c.errorHandler=Bpe(t),c}function irr(e,t,n){const r=t.fullServerUrl(),i=c5(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Mz(i,s,nrr(e,n),o);return a.errorHandler=Qet(t),a}function srr(e,t){const n=t.fullServerUrl(),r=c5(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function o(u,l){}const a=new Mz(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Qet(t),a}function orr(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function arr(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=orr(null,t)),r}function urr(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let w=0;w<2;w++)b=b+Math.random().toString().slice(2);return b}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=arr(t,r,i),c=Qnr(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=wv.getBlob(f,r,d);if(h===null)throw bnr();const p={name:l.fullPath},m=c5(s,e.host,e._protocol),g="POST",y=e.maxUploadRetryTime,v=new Mz(m,g,err(e,n),y);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=Bpe(t),v}class lrr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wx.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wx.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wx.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw v4("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw v4("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw v4("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw v4("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw v4("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class crr extends lrr{initXhr(){this.xhr_.responseType="text"}}function Fz(){return new crr}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,n){this._service=t,n instanceof Sl?this._location=n:this._location=Sl.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new l2(t,n)}get root(){const t=new Sl(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yet(this._location.path)}get storage(){return this._service}get parent(){const t=Hnr(this._location.path);if(t===null)return null;const n=new Sl(this._location.bucket,t);return new l2(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw xnr(t)}}function frr(e,t,n){e._throwIfRoot("uploadBytes");const r=urr(e.storage,e._location,Ket(),new wv(t,!0),n);return e.storage.makeRequestWithTokens(r,Fz).then(i=>({metadata:i,ref:e}))}function drr(e){const t={prefixes:[],items:[]};return Jet(e,t).then(()=>t)}async function Jet(e,t,n){const i=await hrr(e,{pageToken:n});t.prefixes.push(...i.prefixes),t.items.push(...i.items),i.nextPageToken!=null&&await Jet(e,t,i.nextPageToken)}function hrr(e,t){t!=null&&typeof t.maxResults=="number"&&kte("options.maxResults",1,1e3,t.maxResults);const n=t,r=rrr(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Fz)}function prr(e){e._throwIfRoot("getDownloadURL");const t=irr(e.storage,e._location,Ket());return e.storage.makeRequestWithTokens(t,Fz).then(n=>{if(n===null)throw _nr();return n})}function mrr(e){e._throwIfRoot("deleteObject");const t=srr(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Fz)}function grr(e,t){const n=qnr(e._location.path,t),r=new Sl(e._location.bucket,n);return new l2(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yrr(e){return/^[A-Za-z]+:\/\//.test(e)}function vrr(e,t){return new l2(e,t)}function Zet(e,t){if(e instanceof jpe){const n=e;if(n._bucket==null)throw vnr();const r=new l2(n,n._bucket);return t!=null?Zet(r,t):r}else return t!==void 0?grr(e,t):e}function brr(e,t){if(t&&yrr(t)){if(e instanceof jpe)return vrr(e,t);throw Ite("To use ref(service, url), the first argument must be a Storage instance.")}else return Zet(e,t)}function F6e(e,t){const n=t==null?void 0:t[zet];return n==null?null:Sl.makeFromBucketSpec(n,e)}function _rr(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:$Jn(i,e.app.options.projectId))}class jpe{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Uet,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=anr,this._maxUploadRetryTime=unr,this._requests=new Set,i!=null?this._bucket=Sl.makeFromBucketSpec(i,this._host):this._bucket=F6e(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Sl.makeFromBucketSpec(this._url,t):this._bucket=F6e(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){kte("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){kte("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new l2(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Enr(Vet());{const o=Onr(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const B6e="@firebase/storage",j6e="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ett="storage";function kO(e,t,n){return e=ds(e),frr(e,t,n)}function b4(e){return e=ds(e),drr(e)}function RO(e){return e=ds(e),prr(e)}function U6e(e){return e=ds(e),mrr(e)}function mf(e,t){return e=ds(e),brr(e,t)}function z6e(e=Tpe(),t){e=ds(e);const r=L3(e,ett).getImmediate({identifier:t}),i=RJn("storage");return i&&wrr(r,...i),r}function wrr(e,t,n,r={}){_rr(e,t,n,r)}function xrr(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new jpe(n,r,i,t,uE)}function Err(){My(new Sm(ett,xrr,"PUBLIC").setMultipleInstances(!0)),_p(B6e,j6e,""),_p(B6e,j6e,"esm2017")}Err();var V6e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xx,ttt;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,C){function $(){}$.prototype=C.prototype,A.D=C.prototype,A.prototype=new $,A.prototype.constructor=A,A.C=function(k,P,L){for(var O=Array(arguments.length-2),B=2;B<arguments.length;B++)O[B-2]=arguments[B];return C.prototype[P].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,C,$){$||($=0);var k=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)k[P]=C.charCodeAt($++)|C.charCodeAt($++)<<8|C.charCodeAt($++)<<16|C.charCodeAt($++)<<24;else for(P=0;16>P;++P)k[P]=C[$++]|C[$++]<<8|C[$++]<<16|C[$++]<<24;C=A.g[0],$=A.g[1],P=A.g[2];var L=A.g[3],O=C+(L^$&(P^L))+k[0]+3614090360&4294967295;C=$+(O<<7&4294967295|O>>>25),O=L+(P^C&($^P))+k[1]+3905402710&4294967295,L=C+(O<<12&4294967295|O>>>20),O=P+($^L&(C^$))+k[2]+606105819&4294967295,P=L+(O<<17&4294967295|O>>>15),O=$+(C^P&(L^C))+k[3]+3250441966&4294967295,$=P+(O<<22&4294967295|O>>>10),O=C+(L^$&(P^L))+k[4]+4118548399&4294967295,C=$+(O<<7&4294967295|O>>>25),O=L+(P^C&($^P))+k[5]+1200080426&4294967295,L=C+(O<<12&4294967295|O>>>20),O=P+($^L&(C^$))+k[6]+2821735955&4294967295,P=L+(O<<17&4294967295|O>>>15),O=$+(C^P&(L^C))+k[7]+4249261313&4294967295,$=P+(O<<22&4294967295|O>>>10),O=C+(L^$&(P^L))+k[8]+1770035416&4294967295,C=$+(O<<7&4294967295|O>>>25),O=L+(P^C&($^P))+k[9]+2336552879&4294967295,L=C+(O<<12&4294967295|O>>>20),O=P+($^L&(C^$))+k[10]+4294925233&4294967295,P=L+(O<<17&4294967295|O>>>15),O=$+(C^P&(L^C))+k[11]+2304563134&4294967295,$=P+(O<<22&4294967295|O>>>10),O=C+(L^$&(P^L))+k[12]+1804603682&4294967295,C=$+(O<<7&4294967295|O>>>25),O=L+(P^C&($^P))+k[13]+4254626195&4294967295,L=C+(O<<12&4294967295|O>>>20),O=P+($^L&(C^$))+k[14]+2792965006&4294967295,P=L+(O<<17&4294967295|O>>>15),O=$+(C^P&(L^C))+k[15]+1236535329&4294967295,$=P+(O<<22&4294967295|O>>>10),O=C+(P^L&($^P))+k[1]+4129170786&4294967295,C=$+(O<<5&4294967295|O>>>27),O=L+($^P&(C^$))+k[6]+3225465664&4294967295,L=C+(O<<9&4294967295|O>>>23),O=P+(C^$&(L^C))+k[11]+643717713&4294967295,P=L+(O<<14&4294967295|O>>>18),O=$+(L^C&(P^L))+k[0]+3921069994&4294967295,$=P+(O<<20&4294967295|O>>>12),O=C+(P^L&($^P))+k[5]+3593408605&4294967295,C=$+(O<<5&4294967295|O>>>27),O=L+($^P&(C^$))+k[10]+38016083&4294967295,L=C+(O<<9&4294967295|O>>>23),O=P+(C^$&(L^C))+k[15]+3634488961&4294967295,P=L+(O<<14&4294967295|O>>>18),O=$+(L^C&(P^L))+k[4]+3889429448&4294967295,$=P+(O<<20&4294967295|O>>>12),O=C+(P^L&($^P))+k[9]+568446438&4294967295,C=$+(O<<5&4294967295|O>>>27),O=L+($^P&(C^$))+k[14]+3275163606&4294967295,L=C+(O<<9&4294967295|O>>>23),O=P+(C^$&(L^C))+k[3]+4107603335&4294967295,P=L+(O<<14&4294967295|O>>>18),O=$+(L^C&(P^L))+k[8]+1163531501&4294967295,$=P+(O<<20&4294967295|O>>>12),O=C+(P^L&($^P))+k[13]+2850285829&4294967295,C=$+(O<<5&4294967295|O>>>27),O=L+($^P&(C^$))+k[2]+4243563512&4294967295,L=C+(O<<9&4294967295|O>>>23),O=P+(C^$&(L^C))+k[7]+1735328473&4294967295,P=L+(O<<14&4294967295|O>>>18),O=$+(L^C&(P^L))+k[12]+2368359562&4294967295,$=P+(O<<20&4294967295|O>>>12),O=C+($^P^L)+k[5]+4294588738&4294967295,C=$+(O<<4&4294967295|O>>>28),O=L+(C^$^P)+k[8]+2272392833&4294967295,L=C+(O<<11&4294967295|O>>>21),O=P+(L^C^$)+k[11]+1839030562&4294967295,P=L+(O<<16&4294967295|O>>>16),O=$+(P^L^C)+k[14]+4259657740&4294967295,$=P+(O<<23&4294967295|O>>>9),O=C+($^P^L)+k[1]+2763975236&4294967295,C=$+(O<<4&4294967295|O>>>28),O=L+(C^$^P)+k[4]+1272893353&4294967295,L=C+(O<<11&4294967295|O>>>21),O=P+(L^C^$)+k[7]+4139469664&4294967295,P=L+(O<<16&4294967295|O>>>16),O=$+(P^L^C)+k[10]+3200236656&4294967295,$=P+(O<<23&4294967295|O>>>9),O=C+($^P^L)+k[13]+681279174&4294967295,C=$+(O<<4&4294967295|O>>>28),O=L+(C^$^P)+k[0]+3936430074&4294967295,L=C+(O<<11&4294967295|O>>>21),O=P+(L^C^$)+k[3]+3572445317&4294967295,P=L+(O<<16&4294967295|O>>>16),O=$+(P^L^C)+k[6]+76029189&4294967295,$=P+(O<<23&4294967295|O>>>9),O=C+($^P^L)+k[9]+3654602809&4294967295,C=$+(O<<4&4294967295|O>>>28),O=L+(C^$^P)+k[12]+3873151461&4294967295,L=C+(O<<11&4294967295|O>>>21),O=P+(L^C^$)+k[15]+530742520&4294967295,P=L+(O<<16&4294967295|O>>>16),O=$+(P^L^C)+k[2]+3299628645&4294967295,$=P+(O<<23&4294967295|O>>>9),O=C+(P^($|~L))+k[0]+4096336452&4294967295,C=$+(O<<6&4294967295|O>>>26),O=L+($^(C|~P))+k[7]+1126891415&4294967295,L=C+(O<<10&4294967295|O>>>22),O=P+(C^(L|~$))+k[14]+2878612391&4294967295,P=L+(O<<15&4294967295|O>>>17),O=$+(L^(P|~C))+k[5]+4237533241&4294967295,$=P+(O<<21&4294967295|O>>>11),O=C+(P^($|~L))+k[12]+1700485571&4294967295,C=$+(O<<6&4294967295|O>>>26),O=L+($^(C|~P))+k[3]+2399980690&4294967295,L=C+(O<<10&4294967295|O>>>22),O=P+(C^(L|~$))+k[10]+4293915773&4294967295,P=L+(O<<15&4294967295|O>>>17),O=$+(L^(P|~C))+k[1]+2240044497&4294967295,$=P+(O<<21&4294967295|O>>>11),O=C+(P^($|~L))+k[8]+1873313359&4294967295,C=$+(O<<6&4294967295|O>>>26),O=L+($^(C|~P))+k[15]+4264355552&4294967295,L=C+(O<<10&4294967295|O>>>22),O=P+(C^(L|~$))+k[6]+2734768916&4294967295,P=L+(O<<15&4294967295|O>>>17),O=$+(L^(P|~C))+k[13]+1309151649&4294967295,$=P+(O<<21&4294967295|O>>>11),O=C+(P^($|~L))+k[4]+4149444226&4294967295,C=$+(O<<6&4294967295|O>>>26),O=L+($^(C|~P))+k[11]+3174756917&4294967295,L=C+(O<<10&4294967295|O>>>22),O=P+(C^(L|~$))+k[2]+718787259&4294967295,P=L+(O<<15&4294967295|O>>>17),O=$+(L^(P|~C))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+L&4294967295}r.prototype.u=function(A,C){C===void 0&&(C=A.length);for(var $=C-this.blockSize,k=this.B,P=this.h,L=0;L<C;){if(P==0)for(;L<=$;)i(this,A,L),L+=this.blockSize;if(typeof A=="string"){for(;L<C;)if(k[P++]=A.charCodeAt(L++),P==this.blockSize){i(this,k),P=0;break}}else for(;L<C;)if(k[P++]=A[L++],P==this.blockSize){i(this,k),P=0;break}}this.h=P,this.o+=C},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;var $=8*this.o;for(C=A.length-8;C<A.length;++C)A[C]=$&255,$/=256;for(this.u(A),A=Array(16),C=$=0;4>C;++C)for(var k=0;32>k;k+=8)A[$++]=this.g[C]>>>k&255;return A};function s(A,C){var $=a;return Object.prototype.hasOwnProperty.call($,A)?$[A]:$[A]=C(A)}function o(A,C){this.h=C;for(var $=[],k=!0,P=A.length-1;0<=P;P--){var L=A[P]|0;k&&L==C||($[P]=L,k=!1)}this.g=$}var a={};function u(A){return-128<=A&&128>A?s(A,function(C){return new o([C|0],0>C?-1:0)}):new o([A|0],0>A?-1:0)}function l(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return g(l(-A));for(var C=[],$=1,k=0;A>=$;k++)C[k]=A/$|0,$*=4294967296;return new o(C,0)}function c(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return g(c(A.substring(1),C));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var $=l(Math.pow(C,8)),k=f,P=0;P<A.length;P+=8){var L=Math.min(8,A.length-P),O=parseInt(A.substring(P,P+L),C);8>L?(L=l(Math.pow(C,L)),k=k.j(L).add(l(O))):(k=k.j($),k=k.add(l(O)))}return k}var f=u(0),d=u(1),h=u(16777216);e=o.prototype,e.m=function(){if(m(this))return-g(this).m();for(var A=0,C=1,$=0;$<this.g.length;$++){var k=this.i($);A+=(0<=k?k:4294967296+k)*C,C*=4294967296}return A},e.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(p(this))return"0";if(m(this))return"-"+g(this).toString(A);for(var C=l(Math.pow(A,6)),$=this,k="";;){var P=w($,C).g;$=y($,P.j(C));var L=((0<$.g.length?$.g[0]:$.h)>>>0).toString(A);if($=P,p($))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},e.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function p(A){if(A.h!=0)return!1;for(var C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function m(A){return A.h==-1}e.l=function(A){return A=y(this,A),m(A)?-1:p(A)?0:1};function g(A){for(var C=A.g.length,$=[],k=0;k<C;k++)$[k]=~A.g[k];return new o($,~A.h).add(d)}e.abs=function(){return m(this)?g(this):this},e.add=function(A){for(var C=Math.max(this.g.length,A.g.length),$=[],k=0,P=0;P<=C;P++){var L=k+(this.i(P)&65535)+(A.i(P)&65535),O=(L>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);k=O>>>16,L&=65535,O&=65535,$[P]=O<<16|L}return new o($,$[$.length-1]&-2147483648?-1:0)};function y(A,C){return A.add(g(C))}e.j=function(A){if(p(this)||p(A))return f;if(m(this))return m(A)?g(this).j(g(A)):g(g(this).j(A));if(m(A))return g(this.j(g(A)));if(0>this.l(h)&&0>A.l(h))return l(this.m()*A.m());for(var C=this.g.length+A.g.length,$=[],k=0;k<2*C;k++)$[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<A.g.length;P++){var L=this.i(k)>>>16,O=this.i(k)&65535,B=A.i(P)>>>16,q=A.i(P)&65535;$[2*k+2*P]+=O*q,v($,2*k+2*P),$[2*k+2*P+1]+=L*q,v($,2*k+2*P+1),$[2*k+2*P+1]+=O*B,v($,2*k+2*P+1),$[2*k+2*P+2]+=L*B,v($,2*k+2*P+2)}for(k=0;k<C;k++)$[k]=$[2*k+1]<<16|$[2*k];for(k=C;k<2*C;k++)$[k]=0;return new o($,0)};function v(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function b(A,C){this.g=A,this.h=C}function w(A,C){if(p(C))throw Error("division by zero");if(p(A))return new b(f,f);if(m(A))return C=w(g(A),C),new b(g(C.g),g(C.h));if(m(C))return C=w(A,g(C)),new b(g(C.g),C.h);if(30<A.g.length){if(m(A)||m(C))throw Error("slowDivide_ only works with positive integers.");for(var $=d,k=C;0>=k.l(A);)$=x($),k=x(k);var P=S($,1),L=S(k,1);for(k=S(k,2),$=S($,2);!p(k);){var O=L.add(k);0>=O.l(A)&&(P=P.add($),L=O),k=S(k,1),$=S($,1)}return C=y(A,P.j(C)),new b(P,C)}for(P=f;0<=A.l(C);){for($=Math.max(1,Math.floor(A.m()/C.m())),k=Math.ceil(Math.log($)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=l($),O=L.j(C);m(O)||0<O.l(A);)$-=k,L=l($),O=L.j(C);p(L)&&(L=d),P=P.add(L),A=y(A,O)}return new b(P,A)}e.A=function(A){return w(this,A).h},e.and=function(A){for(var C=Math.max(this.g.length,A.g.length),$=[],k=0;k<C;k++)$[k]=this.i(k)&A.i(k);return new o($,this.h&A.h)},e.or=function(A){for(var C=Math.max(this.g.length,A.g.length),$=[],k=0;k<C;k++)$[k]=this.i(k)|A.i(k);return new o($,this.h|A.h)},e.xor=function(A){for(var C=Math.max(this.g.length,A.g.length),$=[],k=0;k<C;k++)$[k]=this.i(k)^A.i(k);return new o($,this.h^A.h)};function x(A){for(var C=A.g.length+1,$=[],k=0;k<C;k++)$[k]=A.i(k)<<1|A.i(k-1)>>>31;return new o($,A.h)}function S(A,C){var $=C>>5;C%=32;for(var k=A.g.length-$,P=[],L=0;L<k;L++)P[L]=0<C?A.i(L+$)>>>C|A.i(L+$+1)<<32-C:A.i(L+$);return new o(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ttt=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=c,xx=o}).apply(typeof V6e<"u"?V6e:typeof self<"u"?self:typeof window<"u"?window:{});var $O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ntt,rtt,h6,itt,o9,Rte,stt,ott,att;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(I,U,Y){return I==Array.prototype||I==Object.prototype||(I[U]=Y.value),I};function n(I){I=[typeof globalThis=="object"&&globalThis,I,typeof window=="object"&&window,typeof self=="object"&&self,typeof $O=="object"&&$O];for(var U=0;U<I.length;++U){var Y=I[U];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=n(this);function i(I,U){if(U)e:{var Y=r;I=I.split(".");for(var ne=0;ne<I.length-1;ne++){var $e=I[ne];if(!($e in Y))break e;Y=Y[$e]}I=I[I.length-1],ne=Y[I],U=U(ne),U!=ne&&U!=null&&t(Y,I,{configurable:!0,writable:!0,value:U})}}function s(I,U){I instanceof String&&(I+="");var Y=0,ne=!1,$e={next:function(){if(!ne&&Y<I.length){var Ve=Y++;return{value:U(Ve,I[Ve]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return $e[Symbol.iterator]=function(){return $e},$e}i("Array.prototype.values",function(I){return I||function(){return s(this,function(U,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(I){var U=typeof I;return U=U!="object"?U:I?Array.isArray(I)?"array":U:"null",U=="array"||U=="object"&&typeof I.length=="number"}function l(I){var U=typeof I;return U=="object"&&I!=null||U=="function"}function c(I,U,Y){return I.call.apply(I.bind,arguments)}function f(I,U,Y){if(!I)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var $e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($e,ne),I.apply(U,$e)}}return function(){return I.apply(U,arguments)}}function d(I,U,Y){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function h(I,U){var Y=Array.prototype.slice.call(arguments,1);return function(){var ne=Y.slice();return ne.push.apply(ne,arguments),I.apply(this,ne)}}function p(I,U){function Y(){}Y.prototype=U.prototype,I.aa=U.prototype,I.prototype=new Y,I.prototype.constructor=I,I.Qb=function(ne,$e,Ve){for(var Ct=Array(arguments.length-2),mi=2;mi<arguments.length;mi++)Ct[mi-2]=arguments[mi];return U.prototype[$e].apply(ne,Ct)}}function m(I){const U=I.length;if(0<U){const Y=Array(U);for(let ne=0;ne<U;ne++)Y[ne]=I[ne];return Y}return[]}function g(I,U){for(let Y=1;Y<arguments.length;Y++){const ne=arguments[Y];if(u(ne)){const $e=I.length||0,Ve=ne.length||0;I.length=$e+Ve;for(let Ct=0;Ct<Ve;Ct++)I[$e+Ct]=ne[Ct]}else I.push(ne)}}class y{constructor(U,Y){this.i=U,this.j=Y,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function v(I){return/^[\s\xa0]*$/.test(I)}function b(){var I=a.navigator;return I&&(I=I.userAgent)?I:""}function w(I){return w[" "](I),I}w[" "]=function(){};var x=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function S(I,U,Y){for(const ne in I)U.call(Y,I[ne],ne,I)}function A(I,U){for(const Y in I)U.call(void 0,I[Y],Y,I)}function C(I){const U={};for(const Y in I)U[Y]=I[Y];return U}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(I,U){let Y,ne;for(let $e=1;$e<arguments.length;$e++){ne=arguments[$e];for(Y in ne)I[Y]=ne[Y];for(let Ve=0;Ve<$.length;Ve++)Y=$[Ve],Object.prototype.hasOwnProperty.call(ne,Y)&&(I[Y]=ne[Y])}}function P(I){var U=1;I=I.split(":");const Y=[];for(;0<U&&I.length;)Y.push(I.shift()),U--;return I.length&&Y.push(I.join(":")),Y}function L(I){a.setTimeout(()=>{throw I},0)}function O(){var I=J;let U=null;return I.g&&(U=I.g,I.g=I.g.next,I.g||(I.h=null),U.next=null),U}class B{constructor(){this.h=this.g=null}add(U,Y){const ne=q.get();ne.set(U,Y),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var q=new y(()=>new H,I=>I.reset());class H{constructor(){this.next=this.g=this.h=null}set(U,Y){this.h=U,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let G,K=!1,J=new B,F=()=>{const I=a.Promise.resolve(void 0);G=()=>{I.then(j)}};var j=()=>{for(var I;I=O();){try{I.h.call(I.g)}catch(Y){L(Y)}var U=q;U.j(I),100>U.h&&(U.h++,I.next=U.g,U.g=I)}K=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(I,U){this.type=I,this.g=this.target=U,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var I=!1,U=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const Y=()=>{};a.addEventListener("test",Y,U),a.removeEventListener("test",Y,U)}catch{}return I}();function Q(I,U){if(M.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var Y=this.type=I.type,ne=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=U,U=I.relatedTarget){if(x){e:{try{w(U.nodeName);var $e=!0;break e}catch{}$e=!1}$e||(U=null)}}else Y=="mouseover"?U=I.fromElement:Y=="mouseout"&&(U=I.toElement);this.relatedTarget=U,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType=typeof I.pointerType=="string"?I.pointerType:se[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&Q.aa.h.call(this)}}p(Q,M);var se={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),he=0;function Ce(I,U,Y,ne,$e){this.listener=I,this.proxy=null,this.src=U,this.type=Y,this.capture=!!ne,this.ha=$e,this.key=++he,this.da=this.fa=!1}function Pe(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function rt(I){this.src=I,this.g={},this.h=0}rt.prototype.add=function(I,U,Y,ne,$e){var Ve=I.toString();I=this.g[Ve],I||(I=this.g[Ve]=[],this.h++);var Ct=Tt(I,U,ne,$e);return-1<Ct?(U=I[Ct],Y||(U.fa=!1)):(U=new Ce(U,this.src,Ve,!!ne,$e),U.fa=Y,I.push(U)),U};function Re(I,U){var Y=U.type;if(Y in I.g){var ne=I.g[Y],$e=Array.prototype.indexOf.call(ne,U,void 0),Ve;(Ve=0<=$e)&&Array.prototype.splice.call(ne,$e,1),Ve&&(Pe(U),I.g[Y].length==0&&(delete I.g[Y],I.h--))}}function Tt(I,U,Y,ne){for(var $e=0;$e<I.length;++$e){var Ve=I[$e];if(!Ve.da&&Ve.listener==U&&Ve.capture==!!Y&&Ve.ha==ne)return $e}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),It={};function mt(I,U,Y,ne,$e){if(Array.isArray(U)){for(var Ve=0;Ve<U.length;Ve++)mt(I,U[Ve],Y,ne,$e);return null}return Y=Rt(Y),I&&I[be]?I.K(U,Y,l(ne)?!!ne.capture:!1,$e):Se(I,U,Y,!1,ne,$e)}function Se(I,U,Y,ne,$e,Ve){if(!U)throw Error("Invalid event type");var Ct=l($e)?!!$e.capture:!!$e,mi=xe(I);if(mi||(I[Ze]=mi=new rt(I)),Y=mi.add(U,Y,ne,Ct,Ve),Y.proxy)return Y;if(ne=Fe(),Y.proxy=ne,ne.src=I,ne.listener=Y,I.addEventListener)V||($e=Ct),$e===void 0&&($e=!1),I.addEventListener(U.toString(),ne,$e);else if(I.attachEvent)I.attachEvent($t(U.toString()),ne);else if(I.addListener&&I.removeListener)I.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function Fe(){function I(Y){return U.call(I.src,I.listener,Y)}const U=Je;return I}function st(I,U,Y,ne,$e){if(Array.isArray(U))for(var Ve=0;Ve<U.length;Ve++)st(I,U[Ve],Y,ne,$e);else ne=l(ne)?!!ne.capture:!!ne,Y=Rt(Y),I&&I[be]?(I=I.i,U=String(U).toString(),U in I.g&&(Ve=I.g[U],Y=Tt(Ve,Y,ne,$e),-1<Y&&(Pe(Ve[Y]),Array.prototype.splice.call(Ve,Y,1),Ve.length==0&&(delete I.g[U],I.h--)))):I&&(I=xe(I))&&(U=I.g[U.toString()],I=-1,U&&(I=Tt(U,Y,ne,$e)),(Y=-1<I?U[I]:null)&&yt(Y))}function yt(I){if(typeof I!="number"&&I&&!I.da){var U=I.src;if(U&&U[be])Re(U.i,I);else{var Y=I.type,ne=I.proxy;U.removeEventListener?U.removeEventListener(Y,ne,I.capture):U.detachEvent?U.detachEvent($t(Y),ne):U.addListener&&U.removeListener&&U.removeListener(ne),(Y=xe(U))?(Re(Y,I),Y.h==0&&(Y.src=null,U[Ze]=null)):Pe(I)}}}function $t(I){return I in It?It[I]:It[I]="on"+I}function Je(I,U){if(I.da)I=!0;else{U=new Q(U,this);var Y=I.listener,ne=I.ha||I.src;I.fa&&yt(I),I=Y.call(ne,U)}return I}function xe(I){return I=I[Ze],I instanceof rt?I:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(I){return typeof I=="function"?I:(I[kt]||(I[kt]=function(U){return I.handleEvent(U)}),I[kt])}function Ee(){W.call(this),this.i=new rt(this),this.M=this,this.F=null}p(Ee,W),Ee.prototype[be]=!0,Ee.prototype.removeEventListener=function(I,U,Y,ne){st(this,I,U,Y,ne)};function Oe(I,U){var Y,ne=I.F;if(ne)for(Y=[];ne;ne=ne.F)Y.push(ne);if(I=I.M,ne=U.type||U,typeof U=="string")U=new M(U,I);else if(U instanceof M)U.target=U.target||I;else{var $e=U;U=new M(ne,I),k(U,$e)}if($e=!0,Y)for(var Ve=Y.length-1;0<=Ve;Ve--){var Ct=U.g=Y[Ve];$e=ot(Ct,ne,!0,U)&&$e}if(Ct=U.g=I,$e=ot(Ct,ne,!0,U)&&$e,$e=ot(Ct,ne,!1,U)&&$e,Y)for(Ve=0;Ve<Y.length;Ve++)Ct=U.g=Y[Ve],$e=ot(Ct,ne,!1,U)&&$e}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var I=this.i,U;for(U in I.g){for(var Y=I.g[U],ne=0;ne<Y.length;ne++)Pe(Y[ne]);delete I.g[U],I.h--}}this.F=null},Ee.prototype.K=function(I,U,Y,ne){return this.i.add(String(I),U,!1,Y,ne)},Ee.prototype.L=function(I,U,Y,ne){return this.i.add(String(I),U,!0,Y,ne)};function ot(I,U,Y,ne){if(U=I.i.g[String(U)],!U)return!0;U=U.concat();for(var $e=!0,Ve=0;Ve<U.length;++Ve){var Ct=U[Ve];if(Ct&&!Ct.da&&Ct.capture==Y){var mi=Ct.listener,Vo=Ct.ha||Ct.src;Ct.fa&&Re(I.i,Ct),$e=mi.call(Vo,ne)!==!1&&$e}}return $e&&!ne.defaultPrevented}function _t(I,U,Y){if(typeof I=="function")Y&&(I=d(I,Y));else if(I&&typeof I.handleEvent=="function")I=d(I.handleEvent,I);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:a.setTimeout(I,U||0)}function jt(I){I.g=_t(()=>{I.g=null,I.i&&(I.i=!1,jt(I))},I.l);const U=I.h;I.h=null,I.m.apply(null,U)}class qn extends W{constructor(U,Y){super(),this.m=U,this.l=Y,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:jt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(I){W.call(this),this.h=I,this.g={}}p(yr,W);var $r=[];function Ci(I){S(I.g,function(U,Y){this.g.hasOwnProperty(Y)&&yt(U)},I),I.g={}}yr.prototype.N=function(){yr.aa.N.call(this),Ci(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=a.JSON.stringify,Wn=a.JSON.parse,vr=class{stringify(I){return a.JSON.stringify(I,void 0)}parse(I){return a.JSON.parse(I,void 0)}};function wr(){}wr.prototype.h=null;function da(I){return I.h||(I.h=I.i())}function hs(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qs(){M.call(this,"d")}p(qs,M);function Xr(){M.call(this,"c")}p(Xr,M);var As={},lf=null;function ha(){return lf=lf||new Ee}As.La="serverreachability";function rl(I){M.call(this,As.La,I)}p(rl,M);function qr(I){const U=ha();Oe(U,new rl(U))}As.STAT_EVENT="statevent";function Li(I,U){M.call(this,As.STAT_EVENT,I),this.stat=U}p(Li,M);function wi(I){const U=ha();Oe(U,new Li(U,I))}As.Ma="timingevent";function lo(I,U){M.call(this,As.Ma,I),this.size=U}p(lo,M);function di(I,U){if(typeof I!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){I()},U)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function me(I,U,Y,ne,$e,Ve){I.info(function(){if(I.g)if(Ve)for(var Ct="",mi=Ve.split("&"),Vo=0;Vo<mi.length;Vo++){var Dr=mi[Vo].split("=");if(1<Dr.length){var xi=Dr[0];Dr=Dr[1];var Ro=xi.split("_");Ct=2<=Ro.length&&Ro[1]=="type"?Ct+(xi+"="+Dr+"&"):Ct+(xi+"=redacted&")}}else Ct=null;else Ct=Ve;return"XMLHTTP REQ ("+ne+") [attempt "+$e+"]: "+U+`
`+Y+`
`+Ct})}function ue(I,U,Y,ne,$e,Ve,Ct){I.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+$e+"]: "+U+`
`+Y+`
`+Ve+" "+Ct})}function ge(I,U,Y,ne){I.info(function(){return"XMLHTTP TEXT ("+U+"): "+Le(I,Y)+(ne?" "+ne:"")})}function Me(I,U){I.info(function(){return"TIMEOUT: "+U})}Mi.prototype.info=function(){};function Le(I,U){if(!I.g)return U;if(!U)return null;try{var Y=JSON.parse(U);if(Y){for(I=0;I<Y.length;I++)if(Array.isArray(Y[I])){var ne=Y[I];if(!(2>ne.length)){var $e=ne[1];if(Array.isArray($e)&&!(1>$e.length)){var Ve=$e[0];if(Ve!="noop"&&Ve!="stop"&&Ve!="close")for(var Ct=1;Ct<$e.length;Ct++)$e[Ct]=""}}}}return Cn(Y)}catch{return U}}var wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ut={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pn;function rr(){}p(rr,wr),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},pn=new rr;function dr(I,U,Y,ne){this.j=I,this.i=U,this.l=Y,this.R=ne||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var Nr={},hi={};function an(I,U,Y){I.L=1,I.v=ir(ut(U)),I.m=Y,I.P=!0,Pr(I,null)}function Pr(I,U){I.F=Date.now(),Fi(I),I.A=ut(I.v);var Y=I.A,ne=I.R;Array.isArray(ne)||(ne=[String(ne)]),P_(Y.i,"t",ne),I.C=0,Y=I.j.J,I.h=new Ln,I.g=S5(I.j,Y?U:null,!I.m),0<I.O&&(I.M=new qn(d(I.Y,I,I.g),I.O)),U=I.U,Y=I.g,ne=I.ca;var $e="readystatechange";Array.isArray($e)||($e&&($r[0]=$e.toString()),$e=$r);for(var Ve=0;Ve<$e.length;Ve++){var Ct=mt(Y,$e[Ve],ne||U.handleEvent,!1,U.h||U);if(!Ct)break;U.g[Ct.key]=Ct}U=I.H?C(I.H):{},I.m?(I.u||(I.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,U)):(I.u="GET",I.g.ea(I.A,I.u,null,U)),qr(),me(I.i,I.u,I.A,I.l,I.R,I.m)}dr.prototype.ca=function(I){I=I.target;const U=this.M;U&&ki(I)==3?U.j():this.Y(I)},dr.prototype.Y=function(I){try{if(I==this.g)e:{const Ro=ki(this.g);var U=this.g.Ba();const ud=this.g.Z();if(!(3>Ro)&&(Ro!=3||this.g&&(this.h.h||this.g.oa()||zo(this.g)))){this.J||Ro!=4||U==7||(U==8||0>=ud?qr(3):qr(2)),Bi(this);var Y=this.g.Z();this.X=Y;t:if(ii(this)){var ne=zo(this.g);I="";var $e=ne.length,Ve=ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),Bo(this);var Ct="";break t}this.h.i=new a.TextDecoder}for(U=0;U<$e;U++)this.h.h=!0,I+=this.h.i.decode(ne[U],{stream:!(Ve&&U==$e-1)});ne.length=0,this.h.g+=I,this.C=0,Ct=this.h.g}else Ct=this.g.oa();if(this.o=Y==200,ue(this.i,this.u,this.A,this.l,this.R,Ro,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var mi,Vo=this.g;if((mi=Vo.g?Vo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(mi)){var Dr=mi;break t}}Dr=null}if(Y=Dr)ge(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ms(this,Y);else{this.o=!1,this.s=3,wi(12),ps(this),Bo(this);break e}}if(this.P){Y=!0;let Zl;for(;!this.J&&this.C<Ct.length;)if(Zl=xr(this,Ct),Zl==hi){Ro==4&&(this.s=4,wi(14),Y=!1),ge(this.i,this.l,null,"[Incomplete Response]");break}else if(Zl==Nr){this.s=4,wi(15),ge(this.i,this.l,Ct,"[Invalid Chunk]"),Y=!1;break}else ge(this.i,this.l,Zl,null),ms(this,Zl);if(ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ro!=4||Ct.length!=0||this.h.h||(this.s=1,wi(16),Y=!1),this.o=this.o&&Y,!Y)ge(this.i,this.l,Ct,"[Invalid Chunked Response]"),ps(this),Bo(this);else if(0<Ct.length&&!this.W){this.W=!0;var xi=this.j;xi.g==this&&xi.ba&&!xi.M&&(xi.j.info("Great, no buffering proxy detected. Bytes received: "+Ct.length),ad(xi),xi.M=!0,wi(11))}}else ge(this.i,this.l,Ct,null),ms(this,Ct);Ro==4&&ps(this),this.o&&!this.J&&(Ro==4?Ji(this.j,this):(this.o=!1,Fi(this)))}else xh(this.g),Y==400&&0<Ct.indexOf("Unknown SID")?(this.s=3,wi(12)):(this.s=0,wi(13)),ps(this),Bo(this)}}}catch{}finally{}};function ii(I){return I.g?I.u=="GET"&&I.L!=2&&I.j.Ca:!1}function xr(I,U){var Y=I.C,ne=U.indexOf(`
`,Y);return ne==-1?hi:(Y=Number(U.substring(Y,ne)),isNaN(Y)?Nr:(ne+=1,ne+Y>U.length?hi:(U=U.slice(ne,ne+Y),I.C=ne+Y,U)))}dr.prototype.cancel=function(){this.J=!0,ps(this)};function Fi(I){I.S=Date.now()+I.I,Io(I,I.I)}function Io(I,U){if(I.B!=null)throw Error("WatchDog timer not null");I.B=di(d(I.ba,I),U)}function Bi(I){I.B&&(a.clearTimeout(I.B),I.B=null)}dr.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(Me(this.i,this.A),this.L!=2&&(qr(),wi(17)),ps(this),this.s=2,Bo(this)):Io(this,this.S-I)};function Bo(I){I.j.G==0||I.J||Ji(I.j,I)}function ps(I){Bi(I);var U=I.M;U&&typeof U.ma=="function"&&U.ma(),I.M=null,Ci(I.U),I.g&&(U=I.g,I.g=null,U.abort(),U.ma())}function ms(I,U){try{var Y=I.j;if(Y.G!=0&&(Y.g==I||od(Y.h,I))){if(!I.K&&od(Y.h,I)&&Y.G==3){try{var ne=Y.Da.g.parse(U)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var $e=ne;if($e[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<I.F)v1(Y),D_(Y);else break e;yE(Y),wi(18)}}else Y.za=$e[1],0<Y.za-Y.T&&37500>$e[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=di(d(Y.Za,Y),6e3));if(1>=Jl(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Th(Y,11)}else if((I.K||Y.g==I)&&v1(Y),!v(U))for($e=Y.Da.g.parse(U),U=0;U<$e.length;U++){let Dr=$e[U];if(Y.T=Dr[0],Dr=Dr[1],Y.G==2)if(Dr[0]=="c"){Y.K=Dr[1],Y.ia=Dr[2];const xi=Dr[3];xi!=null&&(Y.la=xi,Y.j.info("VER="+Y.la));const Ro=Dr[4];Ro!=null&&(Y.Aa=Ro,Y.j.info("SVER="+Y.Aa));const ud=Dr[5];ud!=null&&typeof ud=="number"&&0<ud&&(ne=1.5*ud,Y.L=ne,Y.j.info("backChannelRequestTimeoutMs_="+ne)),ne=Y;const Zl=I.g;if(Zl){const j_=Zl.g?Zl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j_){var Ve=ne.h;Ve.g||j_.indexOf("spdy")==-1&&j_.indexOf("quic")==-1&&j_.indexOf("h2")==-1||(Ve.j=Ve.l,Ve.g=new Set,Ve.h&&(ee(Ve,Ve.h),Ve.h=null))}if(ne.D){const H3=Zl.g?Zl.g.getResponseHeader("X-HTTP-Session-Id"):null;H3&&(ne.ya=H3,Kt(ne.I,ne.D,H3))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-I.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ne=Y;var Ct=I;if(ne.qa=vE(ne,ne.J?ne.ia:null,ne.W),Ct.K){pe(ne.h,Ct);var mi=Ct,Vo=ne.L;Vo&&(mi.I=Vo),mi.B&&(Bi(mi),Fi(mi)),ne.g=Ct}else E5(ne);0<Y.i.length&&L_(Y)}else Dr[0]!="stop"&&Dr[0]!="close"||Th(Y,7);else Y.G==3&&(Dr[0]=="stop"||Dr[0]=="close"?Dr[0]=="stop"?Th(Y,7):Jm(Y):Dr[0]!="noop"&&Y.l&&Y.l.ta(Dr),Y.v=0)}}qr(4)}catch{}}var jo=class{constructor(I,U){this.g=I,this.map=U}};function Ba(I){this.l=I||10,a.PerformanceNavigationTiming?(I=a.performance.getEntriesByType("navigation"),I=0<I.length&&(I[0].nextHopProtocol=="hq"||I[0].nextHopProtocol=="h2")):I=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ko(I){return I.h?!0:I.g?I.g.size>=I.j:!1}function Jl(I){return I.h?1:I.g?I.g.size:0}function od(I,U){return I.h?I.h==U:I.g?I.g.has(U):!1}function ee(I,U){I.g?I.g.add(U):I.h=U}function pe(I,U){I.h&&I.h==U?I.h=null:I.g&&I.g.has(U)&&I.g.delete(U)}Ba.prototype.cancel=function(){if(this.i=oe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const I of this.g.values())I.cancel();this.g.clear()}};function oe(I){if(I.h!=null)return I.i.concat(I.h.D);if(I.g!=null&&I.g.size!==0){let U=I.i;for(const Y of I.g.values())U=U.concat(Y.D);return U}return m(I.i)}function we(I){if(I.V&&typeof I.V=="function")return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if(typeof I=="string")return I.split("");if(u(I)){for(var U=[],Y=I.length,ne=0;ne<Y;ne++)U.push(I[ne]);return U}U=[],Y=0;for(ne in I)U[Y++]=I[ne];return U}function Ae(I){if(I.na&&typeof I.na=="function")return I.na();if(!I.V||typeof I.V!="function"){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(u(I)||typeof I=="string"){var U=[];I=I.length;for(var Y=0;Y<I;Y++)U.push(Y);return U}U=[],Y=0;for(const ne in I)U[Y++]=ne;return U}}}function _e(I,U){if(I.forEach&&typeof I.forEach=="function")I.forEach(U,void 0);else if(u(I)||typeof I=="string")Array.prototype.forEach.call(I,U,void 0);else for(var Y=Ae(I),ne=we(I),$e=ne.length,Ve=0;Ve<$e;Ve++)U.call(void 0,ne[Ve],Y&&Y[Ve],I)}var qe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(I,U){if(I){I=I.split("&");for(var Y=0;Y<I.length;Y++){var ne=I[Y].indexOf("="),$e=null;if(0<=ne){var Ve=I[Y].substring(0,ne);$e=I[Y].substring(ne+1)}else Ve=I[Y];U(Ve,$e?decodeURIComponent($e.replace(/\+/g," ")):"")}}}function at(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof at){this.h=I.h,vt(this,I.j),this.o=I.o,this.g=I.g,Lt(this,I.s),this.l=I.l;var U=I.i,Y=new il;Y.i=U.i,U.g&&(Y.g=new Map(U.g),Y.h=U.h),Mn(this,Y),this.m=I.m}else I&&(U=String(I).match(qe))?(this.h=!1,vt(this,U[1]||"",!0),this.o=Qr(U[2]||""),this.g=Qr(U[3]||"",!0),Lt(this,U[4]),this.l=Qr(U[5]||"",!0),Mn(this,U[6]||"",!0),this.m=Qr(U[7]||"")):(this.h=!1,this.i=new il(null,this.h))}at.prototype.toString=function(){var I=[],U=this.j;U&&I.push(Er(U,cf,!0),":");var Y=this.g;return(Y||U=="file")&&(I.push("//"),(U=this.o)&&I.push(Er(U,cf,!0),"@"),I.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&I.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&I.push("/"),I.push(Er(Y,Y.charAt(0)=="/"?g1:vh,!0))),(Y=this.i.toString())&&I.push("?",Y),(Y=this.m)&&I.push("#",Er(Y,N_)),I.join("")};function ut(I){return new at(I)}function vt(I,U,Y){I.j=Y?Qr(U,!0):U,I.j&&(I.j=I.j.replace(/:$/,""))}function Lt(I,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);I.s=U}else I.s=null}function Mn(I,U,Y){U instanceof il?(I.i=U,O_(I.i,I.h)):(Y||(U=Er(U,Xp)),I.i=new il(U,I.h))}function Kt(I,U,Y){I.i.set(U,Y)}function ir(I){return Kt(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function Qr(I,U){return I?U?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function Er(I,U,Y){return typeof I=="string"?(I=encodeURI(I).replace(U,Uo),Y&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function Uo(I){return I=I.charCodeAt(0),"%"+(I>>4&15).toString(16)+(I&15).toString(16)}var cf=/[#\/\?@]/g,vh=/[#\?:]/g,g1=/[#\?]/g,Xp=/[#\?@]/g,N_=/#/g;function il(I,U){this.h=this.g=null,this.i=I||null,this.j=!!U}function gu(I){I.g||(I.g=new Map,I.h=0,I.i&&it(I.i,function(U,Y){I.add(decodeURIComponent(U.replace(/\+/g," ")),Y)}))}e=il.prototype,e.add=function(I,U){gu(this),this.i=null,I=_h(this,I);var Y=this.g.get(I);return Y||this.g.set(I,Y=[]),Y.push(U),this.h+=1,this};function bh(I,U){gu(I),U=_h(I,U),I.g.has(U)&&(I.i=null,I.h-=I.g.get(U).length,I.g.delete(U))}function y1(I,U){return gu(I),U=_h(I,U),I.g.has(U)}e.forEach=function(I,U){gu(this),this.g.forEach(function(Y,ne){Y.forEach(function($e){I.call(U,$e,ne,this)},this)},this)},e.na=function(){gu(this);const I=Array.from(this.g.values()),U=Array.from(this.g.keys()),Y=[];for(let ne=0;ne<U.length;ne++){const $e=I[ne];for(let Ve=0;Ve<$e.length;Ve++)Y.push(U[ne])}return Y},e.V=function(I){gu(this);let U=[];if(typeof I=="string")y1(this,I)&&(U=U.concat(this.g.get(_h(this,I))));else{I=Array.from(this.g.values());for(let Y=0;Y<I.length;Y++)U=U.concat(I[Y])}return U},e.set=function(I,U){return gu(this),this.i=null,I=_h(this,I),y1(this,I)&&(this.h-=this.g.get(I).length),this.g.set(I,[U]),this.h+=1,this},e.get=function(I,U){return I?(I=this.V(I),0<I.length?String(I[0]):U):U};function P_(I,U,Y){bh(I,U),0<Y.length&&(I.i=null,I.g.set(_h(I,U),m(Y)),I.h+=Y.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],U=Array.from(this.g.keys());for(var Y=0;Y<U.length;Y++){var ne=U[Y];const Ve=encodeURIComponent(String(ne)),Ct=this.V(ne);for(ne=0;ne<Ct.length;ne++){var $e=Ve;Ct[ne]!==""&&($e+="="+encodeURIComponent(String(Ct[ne]))),I.push($e)}}return this.i=I.join("&")};function _h(I,U){return U=String(U),I.j&&(U=U.toLowerCase()),U}function O_(I,U){U&&!I.j&&(gu(I),I.i=null,I.g.forEach(function(Y,ne){var $e=ne.toLowerCase();ne!=$e&&(bh(this,ne),P_(this,$e,Y))},I)),I.j=U}function hE(I,U){const Y=new Mi;if(a.Image){const ne=new Image;ne.onload=h(pa,Y,"TestLoadImage: loaded",!0,U,ne),ne.onerror=h(pa,Y,"TestLoadImage: error",!1,U,ne),ne.onabort=h(pa,Y,"TestLoadImage: abort",!1,U,ne),ne.ontimeout=h(pa,Y,"TestLoadImage: timeout",!1,U,ne),a.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=I}else U(!1)}function wh(I,U){const Y=new Mi,ne=new AbortController,$e=setTimeout(()=>{ne.abort(),pa(Y,"TestPingServer: timeout",!1,U)},1e4);fetch(I,{signal:ne.signal}).then(Ve=>{clearTimeout($e),Ve.ok?pa(Y,"TestPingServer: ok",!0,U):pa(Y,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout($e),pa(Y,"TestPingServer: error",!1,U)})}function pa(I,U,Y,ne,$e){try{$e&&($e.onload=null,$e.onerror=null,$e.onabort=null,$e.ontimeout=null),ne(Y)}catch{}}function z3(){this.g=new vr}function pE(I,U,Y){const ne=Y||"";try{_e(I,function($e,Ve){let Ct=$e;l($e)&&(Ct=Cn($e)),U.push(ne+Ve+"="+encodeURIComponent(Ct))})}catch($e){throw U.push(ne+"type="+encodeURIComponent("_badmap")),$e}}function Km(I){this.l=I.Ub||null,this.j=I.eb||!1}p(Km,wr),Km.prototype.g=function(){return new Xm(this.l,this.j)},Km.prototype.i=function(I){return function(){return I}}({});function Xm(I,U){Ee.call(this),this.D=I,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Xm,Ee),e=Xm.prototype,e.open=function(I,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=U,this.readyState=1,Or(this)},e.send=function(I){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(U.body=I),(this.D||a).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jr(this)),this.readyState=0},e.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mE(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))};function mE(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}e.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var U=I.value?I.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!I.done}))&&(this.response=this.responseText+=U)}I.done?Jr(this):Or(this),this.readyState==3&&mE(this)}},e.Ra=function(I){this.g&&(this.response=this.responseText=I,Jr(this))},e.Qa=function(I){this.g&&(this.response=I,Jr(this))},e.ga=function(){this.g&&Jr(this)};function Jr(I){I.readyState=4,I.l=null,I.j=null,I.v=null,Or(I)}e.setRequestHeader=function(I,U){this.u.append(I,U)},e.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],U=this.h.entries();for(var Y=U.next();!Y.done;)Y=Y.value,I.push(Y[0]+": "+Y[1]),Y=U.next();return I.join(`\r
`)};function Or(I){I.onreadystatechange&&I.onreadystatechange.call(I)}Object.defineProperty(Xm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(I){this.m=I?"include":"same-origin"}});function gE(I){let U="";return S(I,function(Y,ne){U+=ne,U+=":",U+=Y,U+=`\r
`}),U}function le(I,U,Y){e:{for(ne in Y){var ne=!1;break e}ne=!0}ne||(Y=gE(Y),typeof I=="string"?Y!=null&&encodeURIComponent(String(Y)):Kt(I,U,Y))}function ye(I){Ee.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(ye,Ee);var Be=/^https?$/i,Ht=["POST","PUT"];e=ye.prototype,e.Ha=function(I){this.J=I},e.ea=function(I,U,Y,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);U=U?U.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pn.g(),this.v=this.o?da(this.o):da(pn),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(U,String(I),!0),this.B=!1}catch(Ve){ur(this,Ve);return}if(I=Y||"",Y=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var $e in ne)Y.set($e,ne[$e]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Ve of ne.keys())Y.set(Ve,ne.get(Ve));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(Y.keys()).find(Ve=>Ve.toLowerCase()=="content-type"),$e=a.FormData&&I instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ht,U,void 0))||ne||$e||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ve,Ct]of Y)this.g.setRequestHeader(Ve,Ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pi(this),this.u=!0,this.g.send(I),this.u=!1}catch(Ve){ur(this,Ve)}};function ur(I,U){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=U,I.m=5,Zr(I),un(I)}function Zr(I){I.A||(I.A=!0,Oe(I,"complete"),Oe(I,"error"))}e.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,Oe(this,"complete"),Oe(this,"abort"),un(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),un(this,!0)),ye.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ii(this):this.bb())},e.bb=function(){Ii(this)};function Ii(I){if(I.h&&typeof o<"u"&&(!I.v[1]||ki(I)!=4||I.Z()!=2)){if(I.u&&ki(I)==4)_t(I.Ea,0,I);else if(Oe(I,"readystatechange"),ki(I)==4){I.h=!1;try{const Ct=I.Z();e:switch(Ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var Y;if(!(Y=U)){var ne;if(ne=Ct===0){var $e=String(I.D).match(qe)[1]||null;!$e&&a.self&&a.self.location&&($e=a.self.location.protocol.slice(0,-1)),ne=!Be.test($e?$e.toLowerCase():"")}Y=ne}if(Y)Oe(I,"complete"),Oe(I,"success");else{I.m=6;try{var Ve=2<ki(I)?I.g.statusText:""}catch{Ve=""}I.l=Ve+" ["+I.Z()+"]",Zr(I)}}finally{un(I)}}}}function un(I,U){if(I.g){pi(I);const Y=I.g,ne=I.v[0]?()=>{}:null;I.g=null,I.v=null,U||Oe(I,"ready");try{Y.onreadystatechange=ne}catch{}}}function pi(I){I.I&&(a.clearTimeout(I.I),I.I=null)}e.isActive=function(){return!!this.g};function ki(I){return I.g?I.g.readyState:0}e.Z=function(){try{return 2<ki(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(I){if(this.g){var U=this.g.responseText;return I&&U.indexOf(I)==0&&(U=U.substring(I.length)),Wn(U)}};function zo(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function xh(I){const U={};I=(I.g&&2<=ki(I)&&I.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<I.length;ne++){if(v(I[ne]))continue;var Y=P(I[ne]);const $e=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Ve=U[$e]||[];U[$e]=Ve,Ve.push(Y)}A(U,function(ne){return ne.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(I,U,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[I]||U}function Qm(I){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,I),this.cb=Ws("retryDelaySeedMs",1e4,I),this.Wa=Ws("forwardChannelMaxRetries",2,I),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new Ba(I&&I.concurrentRequestLimit),this.Da=new z3,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Qm.prototype,e.la=8,e.G=1,e.connect=function(I,U,Y,ne){wi(0),this.W=I,this.H=U||{},Y&&ne!==void 0&&(this.H.OSID=Y,this.H.OAID=ne),this.F=this.X,this.I=vE(this,null,this.W),L_(this)};function Jm(I){if(V3(I),I.G==3){var U=I.U++,Y=ut(I.I);if(Kt(Y,"SID",I.K),Kt(Y,"RID",U),Kt(Y,"TYPE","terminate"),M_(I,Y),U=new dr(I,I.j,U),U.L=2,U.v=ir(ut(Y)),Y=!1,a.navigator&&a.navigator.sendBeacon)try{Y=a.navigator.sendBeacon(U.v.toString(),"")}catch{}!Y&&a.Image&&(new Image().src=U.v,Y=!0),Y||(U.g=S5(U.j,null),U.g.ea(U.v)),U.F=Date.now(),Fi(U)}T5(I)}function D_(I){I.g&&(ad(I),I.g.cancel(),I.g=null)}function V3(I){D_(I),I.u&&(a.clearTimeout(I.u),I.u=null),v1(I),I.h.cancel(),I.s&&(typeof I.s=="number"&&a.clearTimeout(I.s),I.s=null)}function L_(I){if(!ko(I.h)&&!I.s){I.s=!0;var U=I.Ga;G||F(),K||(G(),K=!0),J.add(U,I),I.B=0}}function x5(I,U){return Jl(I.h)>=I.h.j-(I.s?1:0)?!1:I.s?(I.i=U.D.concat(I.i),!0):I.G==1||I.G==2||I.B>=(I.Va?0:I.Wa)?!1:(I.s=di(d(I.Ga,I,U),Eh(I,I.B)),I.B++,!0)}e.Ga=function(I){if(this.s)if(this.s=null,this.G==1){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const $e=new dr(this,this.j,I);let Ve=this.o;if(this.S&&(Ve?(Ve=C(Ve),k(Ve,this.S)):Ve=this.S),this.m!==null||this.O||($e.H=Ve,Ve=null),this.P)e:{for(var U=0,Y=0;Y<this.i.length;Y++){t:{var ne=this.i[Y];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(U+=ne,4096<U){U=Y;break e}if(U===4096||Y===this.i.length-1){U=Y+1;break e}}U=1e3}else U=1e3;U=sl(this,$e,U),Y=ut(this.I),Kt(Y,"RID",I),Kt(Y,"CVER",22),this.D&&Kt(Y,"X-HTTP-Session-Id",this.D),M_(this,Y),Ve&&(this.O?U="headers="+encodeURIComponent(String(gE(Ve)))+"&"+U:this.m&&le(Y,this.m,Ve)),ee(this.h,$e),this.Ua&&Kt(Y,"TYPE","init"),this.P?(Kt(Y,"$req",U),Kt(Y,"SID","null"),$e.T=!0,an($e,Y,null)):an($e,Y,U),this.G=2}}else this.G==3&&(I?yu(this,I):this.i.length==0||ko(this.h)||yu(this))};function yu(I,U){var Y;U?Y=U.l:Y=I.U++;const ne=ut(I.I);Kt(ne,"SID",I.K),Kt(ne,"RID",Y),Kt(ne,"AID",I.T),M_(I,ne),I.m&&I.o&&le(ne,I.m,I.o),Y=new dr(I,I.j,Y,I.B+1),I.m===null&&(Y.H=I.o),U&&(I.i=U.D.concat(I.i)),U=sl(I,Y,1e3),Y.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),ee(I.h,Y),an(Y,ne,U)}function M_(I,U){I.H&&S(I.H,function(Y,ne){Kt(U,ne,Y)}),I.l&&_e({},function(Y,ne){Kt(U,ne,Y)})}function sl(I,U,Y){Y=Math.min(I.i.length,Y);var ne=I.l?d(I.l.Na,I.l,I):null;e:{var $e=I.i;let Ve=-1;for(;;){const Ct=["count="+Y];Ve==-1?0<Y?(Ve=$e[0].g,Ct.push("ofs="+Ve)):Ve=0:Ct.push("ofs="+Ve);let mi=!0;for(let Vo=0;Vo<Y;Vo++){let Dr=$e[Vo].g;const xi=$e[Vo].map;if(Dr-=Ve,0>Dr)Ve=Math.max(0,$e[Vo].g-100),mi=!1;else try{pE(xi,Ct,"req"+Dr+"_")}catch{ne&&ne(xi)}}if(mi){ne=Ct.join("&");break e}}}return I=I.i.splice(0,Y),U.D=I,ne}function E5(I){if(!I.g&&!I.u){I.Y=1;var U=I.Fa;G||F(),K||(G(),K=!0),J.add(U,I),I.v=0}}function yE(I){return I.g||I.u||3<=I.v?!1:(I.Y++,I.u=di(d(I.Fa,I),Eh(I,I.v)),I.v++,!0)}e.Fa=function(){if(this.u=null,F_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=di(d(this.ab,this),I)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wi(10),D_(this),F_(this))};function ad(I){I.A!=null&&(a.clearTimeout(I.A),I.A=null)}function F_(I){I.g=new dr(I,I.j,"rpc",I.Y),I.m===null&&(I.g.H=I.o),I.g.O=0;var U=ut(I.qa);Kt(U,"RID","rpc"),Kt(U,"SID",I.K),Kt(U,"AID",I.T),Kt(U,"CI",I.F?"0":"1"),!I.F&&I.ja&&Kt(U,"TO",I.ja),Kt(U,"TYPE","xmlhttp"),M_(I,U),I.m&&I.o&&le(U,I.m,I.o),I.L&&(I.g.I=I.L);var Y=I.g;I=I.ia,Y.L=1,Y.v=ir(ut(U)),Y.m=null,Y.P=!0,Pr(Y,I)}e.Za=function(){this.C!=null&&(this.C=null,D_(this),yE(this),wi(19))};function v1(I){I.C!=null&&(a.clearTimeout(I.C),I.C=null)}function Ji(I,U){var Y=null;if(I.g==U){v1(I),ad(I),I.g=null;var ne=2}else if(od(I.h,U))Y=U.D,pe(I.h,U),ne=1;else return;if(I.G!=0){if(U.o)if(ne==1){Y=U.m?U.m.length:0,U=Date.now()-U.F;var $e=I.B;ne=ha(),Oe(ne,new lo(ne,Y)),L_(I)}else E5(I);else if($e=U.s,$e==3||$e==0&&0<U.X||!(ne==1&&x5(I,U)||ne==2&&yE(I)))switch(Y&&0<Y.length&&(U=I.h,U.i=U.i.concat(Y)),$e){case 1:Th(I,5);break;case 4:Th(I,10);break;case 3:Th(I,6);break;default:Th(I,2)}}}function Eh(I,U){let Y=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(Y*=2),Y*U}function Th(I,U){if(I.j.info("Error code "+U),U==2){var Y=d(I.fb,I),ne=I.Xa;const $e=!ne;ne=new at(ne||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vt(ne,"https"),ir(ne),$e?hE(ne.toString(),Y):wh(ne.toString(),Y)}else wi(2);I.G=0,I.l&&I.l.sa(U),T5(I),V3(I)}e.fb=function(I){I?(this.j.info("Successfully pinged google.com"),wi(2)):(this.j.info("Failed to ping google.com"),wi(1))};function T5(I){if(I.G=0,I.ka=[],I.l){const U=oe(I.h);(U.length!=0||I.i.length!=0)&&(g(I.ka,U),g(I.ka,I.i),I.h.i.length=0,m(I.i),I.i.length=0),I.l.ra()}}function vE(I,U,Y){var ne=Y instanceof at?ut(Y):new at(Y);if(ne.g!="")U&&(ne.g=U+"."+ne.g),Lt(ne,ne.s);else{var $e=a.location;ne=$e.protocol,U=U?U+"."+$e.hostname:$e.hostname,$e=+$e.port;var Ve=new at(null);ne&&vt(Ve,ne),U&&(Ve.g=U),$e&&Lt(Ve,$e),Y&&(Ve.l=Y),ne=Ve}return Y=I.D,U=I.ya,Y&&U&&Kt(ne,Y,U),Kt(ne,"VER",I.la),M_(I,ne),ne}function S5(I,U,Y){if(U&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=I.Ca&&!I.pa?new ye(new Km({eb:Y})):new ye(I.pa),U.Ha(I.J),U}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function A5(){}e=A5.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function bE(){}bE.prototype.g=function(I,U){return new vu(I,U)};function vu(I,U){Ee.call(this),this.g=new Qm(U),this.l=I,this.h=U&&U.messageUrlParams||null,I=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(I?I["X-WebChannel-Content-Type"]=U.messageContentType:I={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(I?I["X-WebChannel-Client-Profile"]=U.va:I={"X-WebChannel-Client-Profile":U.va}),this.g.S=I,(I=U&&U.Sb)&&!v(I)&&(this.g.m=I),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!v(U)&&(this.g.D=U,I=this.h,I!==null&&U in I&&(I=this.h,U in I&&delete I[U])),this.j=new b1(this)}p(vu,Ee),vu.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vu.prototype.close=function(){Jm(this.g)},vu.prototype.o=function(I){var U=this.g;if(typeof I=="string"){var Y={};Y.__data__=I,I=Y}else this.u&&(Y={},Y.__data__=Cn(I),I=Y);U.i.push(new jo(U.Ya++,I)),U.G==3&&L_(U)},vu.prototype.N=function(){this.g.l=null,delete this.j,Jm(this.g),delete this.g,vu.aa.N.call(this)};function B_(I){qs.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var U=I.__sm__;if(U){e:{for(const Y in U){I=Y;break e}I=void 0}(this.i=I)&&(I=this.i,U=U!==null&&I in U?U[I]:void 0),this.data=U}else this.data=I}p(B_,qs);function Zm(){Xr.call(this),this.status=1}p(Zm,Xr);function b1(I){this.g=I}p(b1,A5),b1.prototype.ua=function(){Oe(this.g,"a")},b1.prototype.ta=function(I){Oe(this.g,new B_(I))},b1.prototype.sa=function(I){Oe(this.g,new Zm)},b1.prototype.ra=function(){Oe(this.g,"b")},bE.prototype.createWebChannel=bE.prototype.g,vu.prototype.send=vu.prototype.o,vu.prototype.open=vu.prototype.m,vu.prototype.close=vu.prototype.close,att=function(){return new bE},ott=function(){return ha()},stt=As,Rte={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wt.NO_ERROR=0,wt.TIMEOUT=8,wt.HTTP_ERROR=6,o9=wt,Ut.COMPLETE="complete",itt=Ut,hs.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,h6=hs,rtt=Km,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,ntt=ye}).apply(typeof $O<"u"?$O:typeof self<"u"?self:typeof window<"u"?window:{});const H6e="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hc.UNAUTHENTICATED=new hc(null),hc.GOOGLE_CREDENTIALS=new hc("google-credentials-uid"),hc.FIRST_PARTY=new hc("first-party-uid"),hc.MOCK_USER=new hc("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F3="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Nz("@firebase/firestore");function _4(){return c2.logLevel}function Yt(e,...t){if(c2.logLevel<=Br.DEBUG){const n=t.map(Upe);c2.debug(`Firestore (${F3}): ${e}`,...n)}}function By(e,...t){if(c2.logLevel<=Br.ERROR){const n=t.map(Upe);c2.error(`Firestore (${F3}): ${e}`,...n)}}function n$(e,...t){if(c2.logLevel<=Br.WARN){const n=t.map(Upe);c2.warn(`Firestore (${F3}): ${e}`,...n)}}function Upe(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(e="Unexpected state"){const t=`FIRESTORE (${F3}) INTERNAL ASSERTION FAILED: `+e;throw By(t),new Error(t)}function cs(e,t){e||Pn()}function Hn(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends Ym{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Trr{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Srr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(hc.UNAUTHENTICATED))}shutdown(){}}class Arr{constructor(t){this.t=t,this.currentUser=hc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new dy;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dy,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dy)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cs(typeof r.accessToken=="string"),new Trr(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return cs(t===null||typeof t=="string"),new hc(t)}}class Crr{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=hc.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Irr{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Crr(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(hc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class krr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rrr{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Yt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(cs(typeof n.token=="string"),this.R=n.token,new krr(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $rr(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class utt{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=$rr(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function yi(e,t){return e<t?-1:e>t?1:0}function oC(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Mt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Mt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Mt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ia.fromMillis(Date.now())}static fromDate(t){return ia.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ia(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?yi(this.nanoseconds,t.nanoseconds):yi(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Un(t)}static min(){return new Un(new ia(0,0))}static max(){return new Un(new ia(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(t,n,r){n===void 0?n=0:n>t.length&&Pn(),r===void 0?r=t.length-n:r>t.length-n&&Pn(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return r$.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof r$?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class xs extends r${construct(t,n,r){return new xs(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Mt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xs(n)}static emptyPath(){return new xs([])}}const Nrr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ja extends r${construct(t,n,r){return new Ja(t,n,r)}static isValidIdentifier(t){return Nrr.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ja.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ja(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Mt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Mt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Mt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Mt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ja(n)}static emptyPath(){return new Ja([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.path=t}static fromPath(t){return new cn(xs.fromString(t))}static fromName(t){return new cn(xs.fromString(t).popFirst(5))}static empty(){return new cn(xs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xs.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xs.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new cn(new xs(t.slice()))}}function Prr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Un.fromTimestamp(r===1e9?new ia(n+1,0):new ia(n,r));return new qb(i,cn.empty(),t)}function Orr(e){return new qb(e.readTime,e.key,-1)}class qb{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new qb(Un.min(),cn.empty(),-1)}static max(){return new qb(Un.max(),cn.empty(),-1)}}function Drr(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=cn.comparator(e.documentKey,t.documentKey),n!==0?n:yi(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lrr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mrr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(e){if(e.code!==nt.FAILED_PRECONDITION||e.message!==Lrr)throw e;Yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Pn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new dt((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof dt?n:dt.resolve(n)}catch(n){return dt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):dt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):dt.reject(n)}static resolve(t){return new dt((n,r)=>{n(t)})}static reject(t){return new dt((n,r)=>{r(t)})}static waitFor(t){return new dt((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=dt.resolve(!1);for(const r of t)n=n.next(i=>i?dt.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new dt((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new dt((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Frr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function d5(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zpe{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}zpe.oe=-1;function Bz(e){return e==null}function XF(e){return e===0&&1/e==-1/0}function Brr(e){return typeof e=="number"&&Number.isInteger(e)&&!XF(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6e(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lE(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ltt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,n){this.comparator=t,this.root=n||Xa.EMPTY}insert(t,n){return new Hs(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xa.BLACK,null,null))}remove(t){return new Hs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xa.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new NO(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new NO(this.root,t,this.comparator,!1)}getReverseIterator(){return new NO(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new NO(this.root,t,this.comparator,!0)}}class NO{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xa{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Xa.RED,this.left=i??Xa.EMPTY,this.right=s??Xa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Xa(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Xa.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pn();const t=this.left.check();if(t!==this.right.check())throw Pn();return t+(this.isRed()?0:1)}}Xa.EMPTY=null,Xa.RED=!0,Xa.BLACK=!1;Xa.EMPTY=new class{constructor(){this.size=0}get key(){throw Pn()}get value(){throw Pn()}get color(){throw Pn()}get left(){throw Pn()}get right(){throw Pn()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Xa(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t){this.comparator=t,this.data=new Hs(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new W6e(this.data.getIterator())}getIteratorFrom(t){return new W6e(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof uu)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new uu(this.comparator);return n.data=t,n}}class W6e{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t){this.fields=t,t.sort(Ja.comparator)}static empty(){return new Df([])}unionWith(t){let n=new uu(Ja.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Df(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oC(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ctt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ctt("Invalid base64 string: "+s):s}}(t);return new Zu(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Zu(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return yi(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zu.EMPTY_BYTE_STRING=new Zu("");const jrr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wb(e){if(cs(!!e),typeof e=="string"){let t=0;const n=jrr.exec(e);if(cs(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Po(e.seconds),nanos:Po(e.nanos)}}function Po(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function f2(e){return typeof e=="string"?Zu.fromBase64String(e):Zu.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vpe(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hpe(e){const t=e.mapValue.fields.__previous_value__;return Vpe(t)?Hpe(t):t}function i$(e){const t=Wb(e.mapValue.fields.__local_write_time__.timestampValue);return new ia(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Urr{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class s${constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new s$("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof s$&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function d2(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vpe(e)?4:zrr(e)?9007199254740991:10:Pn()}function Cm(e,t){if(e===t)return!0;const n=d2(e);if(n!==d2(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return i$(e).isEqual(i$(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Wb(i.timestampValue),a=Wb(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return f2(i.bytesValue).isEqual(f2(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Po(i.geoPointValue.latitude)===Po(s.geoPointValue.latitude)&&Po(i.geoPointValue.longitude)===Po(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Po(i.integerValue)===Po(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Po(i.doubleValue),a=Po(s.doubleValue);return o===a?XF(o)===XF(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return oC(e.arrayValue.values||[],t.arrayValue.values||[],Cm);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(q6e(o)!==q6e(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Cm(o[u],a[u])))return!1;return!0}(e,t);default:return Pn()}}function o$(e,t){return(e.values||[]).find(n=>Cm(n,t))!==void 0}function aC(e,t){if(e===t)return 0;const n=d2(e),r=d2(t);if(n!==r)return yi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yi(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Po(s.integerValue||s.doubleValue),u=Po(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return G6e(e.timestampValue,t.timestampValue);case 4:return G6e(i$(e),i$(t));case 5:return yi(e.stringValue,t.stringValue);case 6:return function(s,o){const a=f2(s),u=f2(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=yi(a[l],u[l]);if(c!==0)return c}return yi(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=yi(Po(s.latitude),Po(o.latitude));return a!==0?a:yi(Po(s.longitude),Po(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=aC(a[l],u[l]);if(c)return c}return yi(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===PO.mapValue&&o===PO.mapValue)return 0;if(s===PO.mapValue)return 1;if(o===PO.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=yi(u[f],c[f]);if(d!==0)return d;const h=aC(a[u[f]],l[c[f]]);if(h!==0)return h}return yi(u.length,c.length)}(e.mapValue,t.mapValue);default:throw Pn()}}function G6e(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return yi(e,t);const n=Wb(e),r=Wb(t),i=yi(n.seconds,r.seconds);return i!==0?i:yi(n.nanos,r.nanos)}function uC(e){return $te(e)}function $te(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Wb(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return f2(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return cn.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=$te(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${$te(n.fields[o])}`;return i+"}"}(e.mapValue):Pn()}function Y6e(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Nte(e){return!!e&&"integerValue"in e}function qpe(e){return!!e&&"arrayValue"in e}function K6e(e){return!!e&&"nullValue"in e}function X6e(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function a9(e){return!!e&&"mapValue"in e}function gk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lE(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=gk(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gk(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zrr(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t){this.value=t}static empty(){return new Tc({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!a9(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gk(n)}setAll(t){let n=Ja.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gk(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());a9(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Cm(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];a9(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){lE(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Tc(gk(this.value))}}function ftt(e){const t=[];return lE(e.fields,(n,r)=>{const i=new Ja([n]);if(a9(r)){const s=ftt(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Df(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Mu(t,0,Un.min(),Un.min(),Un.min(),Tc.empty(),0)}static newFoundDocument(t,n,r,i){return new Mu(t,1,n,Un.min(),r,i,0)}static newNoDocument(t,n){return new Mu(t,2,n,Un.min(),Un.min(),Tc.empty(),0)}static newUnknownDocument(t,n){return new Mu(t,3,n,Un.min(),Un.min(),Tc.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Un.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tc.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Un.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Mu&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Mu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(t,n){this.position=t,this.inclusive=n}}function Q6e(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=cn.comparator(cn.fromName(o.referenceValue),n.key):r=aC(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function J6e(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Cm(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(t,n="asc"){this.field=t,this.dir=n}}function Vrr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dtt{}class Do extends dtt{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new qrr(t,n,r):n==="array-contains"?new Yrr(t,r):n==="in"?new Krr(t,r):n==="not-in"?new Xrr(t,r):n==="array-contains-any"?new Qrr(t,r):new Do(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Wrr(t,r):new Grr(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(aC(n,this.value)):n!==null&&d2(this.value)===d2(n)&&this.matchesComparison(aC(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Pn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pp extends dtt{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Pp(t,n)}matches(t){return htt(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function htt(e){return e.op==="and"}function ptt(e){return Hrr(e)&&htt(e)}function Hrr(e){for(const t of e.filters)if(t instanceof Pp)return!1;return!0}function Pte(e){if(e instanceof Do)return e.field.canonicalString()+e.op.toString()+uC(e.value);if(ptt(e))return e.filters.map(t=>Pte(t)).join(",");{const t=e.filters.map(n=>Pte(n)).join(",");return`${e.op}(${t})`}}function mtt(e,t){return e instanceof Do?function(r,i){return i instanceof Do&&r.op===i.op&&r.field.isEqual(i.field)&&Cm(r.value,i.value)}(e,t):e instanceof Pp?function(r,i){return i instanceof Pp&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mtt(o,i.filters[a]),!0):!1}(e,t):void Pn()}function gtt(e){return e instanceof Do?function(n){return`${n.field.canonicalString()} ${n.op} ${uC(n.value)}`}(e):e instanceof Pp?function(n){return n.op.toString()+" {"+n.getFilters().map(gtt).join(" ,")+"}"}(e):"Filter"}class qrr extends Do{constructor(t,n,r){super(t,n,r),this.key=cn.fromName(r.referenceValue)}matches(t){const n=cn.comparator(t.key,this.key);return this.matchesComparison(n)}}class Wrr extends Do{constructor(t,n){super(t,"in",n),this.keys=ytt("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Grr extends Do{constructor(t,n){super(t,"not-in",n),this.keys=ytt("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ytt(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>cn.fromName(r.referenceValue))}class Yrr extends Do{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return qpe(n)&&o$(n.arrayValue,this.value)}}class Krr extends Do{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&o$(this.value.arrayValue,n)}}class Xrr extends Do{constructor(t,n){super(t,"not-in",n)}matches(t){if(o$(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!o$(this.value.arrayValue,n)}}class Qrr extends Do{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!qpe(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>o$(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jrr{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Z6e(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Jrr(e,t,n,r,i,s,o)}function Wpe(e){const t=Hn(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Pte(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bz(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>uC(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>uC(r)).join(",")),t.ue=n}return t.ue}function Gpe(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Vrr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mtt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!J6e(e.startAt,t.startAt)&&J6e(e.endAt,t.endAt)}function Ote(e){return cn.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Zrr(e,t,n,r,i,s,o,a){return new B3(e,t,n,r,i,s,o,a)}function Ype(e){return new B3(e)}function eke(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function vtt(e){return e.collectionGroup!==null}function yk(e){const t=Hn(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new uu(Ja.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new a$(s,r))}),n.has(Ja.keyField().canonicalString())||t.ce.push(new a$(Ja.keyField(),r))}return t.ce}function nm(e){const t=Hn(e);return t.le||(t.le=eir(t,yk(e))),t.le}function eir(e,t){if(e.limitType==="F")return Z6e(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new a$(i.field,s)});const n=e.endAt?new QF(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new QF(e.startAt.position,e.startAt.inclusive):null;return Z6e(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Dte(e,t){const n=e.filters.concat([t]);return new B3(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Lte(e,t,n){return new B3(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jz(e,t){return Gpe(nm(e),nm(t))&&e.limitType===t.limitType}function btt(e){return`${Wpe(nm(e))}|lt:${e.limitType}`}function AT(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gtt(i)).join(", ")}]`),Bz(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>uC(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>uC(i)).join(",")),`Target(${r})`}(nm(e))}; limitType=${e.limitType})`}function Uz(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):cn.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of yk(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=Q6e(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,yk(r),i)||r.endAt&&!function(o,a,u){const l=Q6e(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,yk(r),i))}(e,t)}function tir(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _tt(e){return(t,n)=>{let r=!1;for(const i of yk(e)){const s=nir(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nir(e,t,n){const r=e.field.isKeyField()?cn.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?aC(u,l):Pn()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){lE(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return ltt(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rir=new Hs(cn.comparator);function jy(){return rir}const wtt=new Hs(cn.comparator);function p6(...e){let t=wtt;for(const n of e)t=t.insert(n.key,n);return t}function xtt(e){let t=wtt;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ax(){return vk()}function Ett(){return vk()}function vk(){return new j3(e=>e.toString(),(e,t)=>e.isEqual(t))}const iir=new Hs(cn.comparator),sir=new uu(cn.comparator);function Sr(...e){let t=sir;for(const n of e)t=t.add(n);return t}const oir=new uu(yi);function air(){return oir}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ttt(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:XF(t)?"-0":t}}function Stt(e){return{integerValue:""+e}}function uir(e,t){return Brr(t)?Stt(t):Ttt(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this._=void 0}}function lir(e,t,n){return e instanceof u$?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Vpe(s)&&(s=Hpe(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof l$?Ctt(e,t):e instanceof c$?Itt(e,t):function(i,s){const o=Att(i,s),a=tke(o)+tke(i.Pe);return Nte(o)&&Nte(i.Pe)?Stt(a):Ttt(i.serializer,a)}(e,t)}function cir(e,t,n){return e instanceof l$?Ctt(e,t):e instanceof c$?Itt(e,t):n}function Att(e,t){return e instanceof JF?function(r){return Nte(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class u$ extends zz{}class l$ extends zz{constructor(t){super(),this.elements=t}}function Ctt(e,t){const n=ktt(t);for(const r of e.elements)n.some(i=>Cm(i,r))||n.push(r);return{arrayValue:{values:n}}}class c$ extends zz{constructor(t){super(),this.elements=t}}function Itt(e,t){let n=ktt(t);for(const r of e.elements)n=n.filter(i=>!Cm(i,r));return{arrayValue:{values:n}}}class JF extends zz{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function tke(e){return Po(e.integerValue||e.doubleValue)}function ktt(e){return qpe(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fir{constructor(t,n){this.field=t,this.transform=n}}function dir(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof l$&&i instanceof l$||r instanceof c$&&i instanceof c$?oC(r.elements,i.elements,Cm):r instanceof JF&&i instanceof JF?Cm(r.Pe,i.Pe):r instanceof u$&&i instanceof u$}(e.transform,t.transform)}class hir{constructor(t,n){this.version=t,this.transformResults=n}}class Uf{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Uf}static exists(t){return new Uf(void 0,t)}static updateTime(t){return new Uf(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function u9(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Vz{}function Rtt(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Kpe(e.key,Uf.none()):new h5(e.key,e.data,Uf.none());{const n=e.data,r=Tc.empty();let i=new uu(Ja.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $_(e.key,r,new Df(i.toArray()),Uf.none())}}function pir(e,t,n){e instanceof h5?function(i,s,o){const a=i.value.clone(),u=rke(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof $_?function(i,s,o){if(!u9(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=rke(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll($tt(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function bk(e,t,n,r){return e instanceof h5?function(s,o,a,u){if(!u9(s.precondition,o))return a;const l=s.value.clone(),c=ike(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof $_?function(s,o,a,u){if(!u9(s.precondition,o))return a;const l=ike(s.fieldTransforms,u,o),c=o.data;return c.setAll($tt(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return u9(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function mir(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Att(r.transform,i||null);s!=null&&(n===null&&(n=Tc.empty()),n.set(r.field,s))}return n||null}function nke(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oC(r,i,(s,o)=>dir(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class h5 extends Vz{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $_ extends Vz{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $tt(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function rke(e,t,n){const r=new Map;cs(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,cir(o,a,n[i]))}return r}function ike(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,lir(s,o,t))}return r}class Kpe extends Vz{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gir extends Vz{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yir{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&pir(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=bk(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=bk(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Ett();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Rtt(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Un.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Sr())}isEqual(t){return this.batchId===t.batchId&&oC(this.mutations,t.mutations,(n,r)=>nke(n,r))&&oC(this.baseMutations,t.baseMutations,(n,r)=>nke(n,r))}}class Xpe{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){cs(t.mutations.length===r.length);let i=function(){return iir}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Xpe(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vir{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bir{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $o,Wr;function _ir(e){switch(e){default:return Pn();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0}}function Ntt(e){if(e===void 0)return By("GRPC error has no .code"),nt.UNKNOWN;switch(e){case $o.OK:return nt.OK;case $o.CANCELLED:return nt.CANCELLED;case $o.UNKNOWN:return nt.UNKNOWN;case $o.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case $o.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case $o.INTERNAL:return nt.INTERNAL;case $o.UNAVAILABLE:return nt.UNAVAILABLE;case $o.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case $o.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case $o.NOT_FOUND:return nt.NOT_FOUND;case $o.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case $o.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case $o.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case $o.ABORTED:return nt.ABORTED;case $o.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case $o.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case $o.DATA_LOSS:return nt.DATA_LOSS;default:return Pn()}}(Wr=$o||($o={}))[Wr.OK=0]="OK",Wr[Wr.CANCELLED=1]="CANCELLED",Wr[Wr.UNKNOWN=2]="UNKNOWN",Wr[Wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wr[Wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wr[Wr.NOT_FOUND=5]="NOT_FOUND",Wr[Wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wr[Wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wr[Wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wr[Wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wr[Wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wr[Wr.ABORTED=10]="ABORTED",Wr[Wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wr[Wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wr[Wr.INTERNAL=13]="INTERNAL",Wr[Wr.UNAVAILABLE=14]="UNAVAILABLE",Wr[Wr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wir(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xir=new xx([4294967295,4294967295],0);function ske(e){const t=wir().encode(e),n=new ttt;return n.update(t),new Uint8Array(n.digest())}function oke(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new xx([n,r],0),new xx([i,s],0)]}class Qpe{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new m6(`Invalid padding: ${n}`);if(r<0)throw new m6(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new m6(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new m6(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=xx.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(xx.fromNumber(r)));return i.compare(xir)===1&&(i=new xx([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=ske(t),[r,i]=oke(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Qpe(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=ske(t),[r,i]=oke(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class m6 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,p5.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Hz(Un.min(),i,new Hs(yi),jy(),Sr())}}class p5{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new p5(r,n,Sr(),Sr(),Sr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Ptt{constructor(t,n){this.targetId=t,this.me=n}}class Ott{constructor(t,n,r=Zu.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ake{constructor(){this.fe=0,this.ge=lke(),this.pe=Zu.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Sr(),n=Sr(),r=Sr();return this.ge.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pn()}}),new p5(this.pe,this.ye,t,n,r)}ve(){this.we=!1,this.ge=lke()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,cs(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Eir{constructor(t){this.Le=t,this.Be=new Map,this.ke=jy(),this.qe=uke(),this.Qe=new Hs(yi)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:Pn()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const s=i.target;if(Ote(s))if(r===0){const o=new cn(s.path);this.Ue(n,o,Mu.newNoDocument(o,Un.min()))}else cs(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(t),u=a?this.Xe(a,t,o):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=f2(r).toUint8Array()}catch(u){if(u instanceof ctt)return n$("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Qpe(o,i,s)}catch(u){return n$(u instanceof m6?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ote(a.target)){const u=new cn(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Mu.newNoDocument(u,t))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Sr();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const i=new Hz(t,n,this.Qe,this.ke,r);return this.ke=jy(),this.qe=uke(),this.Qe=new Hs(yi),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new ake,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new uu(yi),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Yt("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new ake),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function uke(){return new Hs(cn.comparator)}function lke(){return new Hs(cn.comparator)}const Tir={asc:"ASCENDING",desc:"DESCENDING"},Sir={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Air={and:"AND",or:"OR"};class Cir{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Mte(e,t){return e.useProto3Json||Bz(t)?t:{value:t}}function ZF(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dtt(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Iir(e,t){return ZF(e,t.toTimestamp())}function rm(e){return cs(!!e),Un.fromTimestamp(function(n){const r=Wb(n);return new ia(r.seconds,r.nanos)}(e))}function Jpe(e,t){return Fte(e,t).canonicalString()}function Fte(e,t){const n=function(i){return new xs(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Ltt(e){const t=xs.fromString(e);return cs(Utt(t)),t}function Bte(e,t){return Jpe(e.databaseId,t.path)}function bK(e,t){const n=Ltt(t);if(n.get(1)!==e.databaseId.projectId)throw new Mt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cn(Ftt(n))}function Mtt(e,t){return Jpe(e.databaseId,t)}function kir(e){const t=Ltt(e);return t.length===4?xs.emptyPath():Ftt(t)}function jte(e){return new xs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ftt(e){return cs(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function cke(e,t,n){return{name:Bte(e,t),fields:n.value.mapValue.fields}}function Rir(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Pn()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(cs(c===void 0||typeof c=="string"),Zu.fromBase64String(c||"")):(cs(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Zu.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?nt.UNKNOWN:Ntt(l.code);return new Mt(c,l.message||"")}(o);n=new Ott(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=bK(e,r.document.name),s=rm(r.document.updateTime),o=r.document.createTime?rm(r.document.createTime):Un.min(),a=new Tc({mapValue:{fields:r.document.fields}}),u=Mu.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new l9(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=bK(e,r.document),s=r.readTime?rm(r.readTime):Un.min(),o=Mu.newNoDocument(i,s),a=r.removedTargetIds||[];n=new l9([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=bK(e,r.document),s=r.removedTargetIds||[];n=new l9([],s,i,null)}else{if(!("filter"in t))return Pn();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new bir(i,s),a=r.targetId;n=new Ptt(a,o)}}return n}function $ir(e,t){let n;if(t instanceof h5)n={update:cke(e,t.key,t.value)};else if(t instanceof Kpe)n={delete:Bte(e,t.key)};else if(t instanceof $_)n={update:cke(e,t.key,t.data),updateMask:jir(t.fieldMask)};else{if(!(t instanceof gir))return Pn();n={verify:Bte(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof u$)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof l$)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof c$)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof JF)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Pn()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Iir(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Pn()}(e,t.precondition)),n}function Nir(e,t){return e&&e.length>0?(cs(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?rm(i.updateTime):rm(s);return o.isEqual(Un.min())&&(o=rm(s)),new hir(o,i.transformResults||[])}(n,t))):[]}function Pir(e,t){return{documents:[Mtt(e,t.path)]}}function Oir(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Mtt(e,i);const s=function(l){if(l.length!==0)return jtt(Pp.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:CT(d.field),direction:Mir(d.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mte(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:n,parent:i}}function Dir(e){let t=kir(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){cs(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=Btt(f);return d instanceof Pp&&ptt(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new a$(IT(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Bz(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new QF(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new QF(h,d)}(n.endAt)),Zrr(t,i,o,s,a,"F",u,l)}function Lir(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pn()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Btt(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=IT(n.unaryFilter.field);return Do.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=IT(n.unaryFilter.field);return Do.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=IT(n.unaryFilter.field);return Do.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=IT(n.unaryFilter.field);return Do.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Pn()}}(e):e.fieldFilter!==void 0?function(n){return Do.create(IT(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pn()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Pp.create(n.compositeFilter.filters.map(r=>Btt(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pn()}}(n.compositeFilter.op))}(e):Pn()}function Mir(e){return Tir[e]}function Fir(e){return Sir[e]}function Bir(e){return Air[e]}function CT(e){return{fieldPath:e.canonicalString()}}function IT(e){return Ja.fromServerFormat(e.fieldPath)}function jtt(e){return e instanceof Do?function(n){if(n.op==="=="){if(X6e(n.value))return{unaryFilter:{field:CT(n.field),op:"IS_NAN"}};if(K6e(n.value))return{unaryFilter:{field:CT(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X6e(n.value))return{unaryFilter:{field:CT(n.field),op:"IS_NOT_NAN"}};if(K6e(n.value))return{unaryFilter:{field:CT(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:CT(n.field),op:Fir(n.op),value:n.value}}}(e):e instanceof Pp?function(n){const r=n.getFilters().map(i=>jtt(i));return r.length===1?r[0]:{compositeFilter:{op:Bir(n.op),filters:r}}}(e):Pn()}function jir(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Utt(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,n,r,i,s=Un.min(),o=Un.min(),a=Zu.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Lv(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Lv(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uir{constructor(t){this.ct=t}}function zir(e){const t=Dir({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Lte(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vir{constructor(){this._n=new Hir}addToCollectionParentIndex(t,n){return this._n.add(n),dt.resolve()}getCollectionParents(t,n){return dt.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return dt.resolve()}deleteFieldIndex(t,n){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,n){return dt.resolve()}getDocumentsMatchingTarget(t,n){return dt.resolve(null)}getIndexType(t,n){return dt.resolve(0)}getFieldIndexes(t,n){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,n){return dt.resolve(qb.min())}getMinOffsetFromCollectionGroup(t,n){return dt.resolve(qb.min())}updateCollectionGroup(t,n,r){return dt.resolve()}updateIndexEntries(t,n){return dt.resolve()}}class Hir{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new uu(xs.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new uu(xs.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new lC(0)}static Ln(){return new lC(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qir{constructor(){this.changes=new j3(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Mu.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?dt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wir{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gir{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&bk(r.mutation,i,Df.empty(),ia.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Sr()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Sr()){const i=ax();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=p6();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=ax();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Sr()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=jy();const o=vk(),a=function(){return vk()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof $_)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),bk(c.mutation,l,c.mutation.getFieldMask(),ia.now())):o.set(l.key,Df.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new Wir(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=vk();let i=new Hs((o,a)=>o-a),s=Sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Df.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||Sr()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=Ett();c.forEach(d=>{if(!s.has(d)){const h=Rtt(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return dt.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return cn.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):vtt(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):dt.resolve(ax());let a=-1,u=s;return o.next(l=>dt.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?dt.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,Sr())).next(c=>({batchId:a,changes:xtt(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new cn(n)).next(r=>{let i=p6();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=p6();return this.indexManager.getCollectionParents(t,s).next(a=>dt.forEach(a,u=>{const l=function(f,d){return new B3(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Mu.newInvalidDocument(c)))});let a=p6();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&bk(c.mutation,l,Df.empty(),ia.now()),Uz(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yir{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return dt.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rm(i.createTime)}}(n)),dt.resolve()}getNamedQuery(t,n){return dt.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:zir(i.bundledQuery),readTime:rm(i.readTime)}}(n)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kir{constructor(){this.overlays=new Hs(cn.comparator),this.hr=new Map}getOverlay(t,n){return dt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ax();return dt.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),dt.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),dt.resolve()}getOverlaysForCollection(t,n,r){const i=ax(),s=n.length+1,o=new cn(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return dt.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Hs((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=ax(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=ax(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return dt.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vir(n,r));let s=this.hr.get(n);s===void 0&&(s=Sr(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zpe{constructor(){this.Pr=new uu(ba.Ir),this.Tr=new uu(ba.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new ba(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new ba(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new cn(new xs([])),r=new ba(n,t),i=new ba(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new cn(new xs([])),r=new ba(n,t),i=new ba(n,t+1);let s=Sr();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ba(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ba{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return cn.comparator(t.key,n.key)||yi(t.pr,n.pr)}static Er(t,n){return yi(t.pr,n.pr)||cn.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xir{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new uu(ba.Ir)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yir(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new ba(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return dt.resolve(o)}lookupMutationBatch(t,n){return dt.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return dt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ba(n,0),i=new ba(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),dt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new uu(yi);return n.forEach(i=>{const s=new ba(i,0),o=new ba(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),dt.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;cn.isDocumentKey(s)||(s=s.child(""));const o=new ba(new cn(s),0);let a=new uu(yi);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),dt.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){cs(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return dt.forEach(n.mutations,i=>{const s=new ba(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new ba(n,0),i=this.wr.firstAfterOrEqual(r);return dt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qir{constructor(t){this.vr=t,this.docs=function(){return new Hs(cn.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return dt.resolve(r?r.document.mutableCopy():Mu.newInvalidDocument(n))}getEntries(t,n){let r=jy();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mu.newInvalidDocument(i))}),dt.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=jy();const o=n.path,a=new cn(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Drr(Orr(c),r)<=0||(i.has(c.key)||Uz(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return dt.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Pn()}Fr(t,n){return dt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Jir(this)}getSize(t){return dt.resolve(this.size)}}class Jir extends qir{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),dt.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zir{constructor(t){this.persistence=t,this.Mr=new j3(n=>Wpe(n),Gpe),this.lastRemoteSnapshotVersion=Un.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Zpe,this.targetCount=0,this.Lr=lC.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),dt.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new lC(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,dt.resolve()}updateTargetData(t,n){return this.qn(n),dt.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),dt.waitFor(s).next(()=>i)}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return dt.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),dt.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),dt.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),dt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return dt.resolve(r)}containsKey(t,n){return dt.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class esr{constructor(t,n){this.Br={},this.overlays={},this.kr=new zpe(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Zir(this),this.indexManager=new Vir,this.remoteDocumentCache=function(i){return new Qir(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Uir(n),this.$r=new Yir(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Kir,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new Xir(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Yt("MemoryPersistence","Starting transaction:",t);const i=new tsr(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return dt.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class tsr extends Mrr{constructor(t){super(),this.currentSequenceNumber=t}}class e0e{constructor(t){this.persistence=t,this.zr=new Zpe,this.jr=null}static Hr(t){return new e0e(t)}get Jr(){if(this.jr)return this.jr;throw Pn()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),dt.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),dt.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),dt.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.Jr,r=>{const i=cn.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,Un.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return dt.or([()=>dt.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0e{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=Sr(),i=Sr();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t0e(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nsr{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rsr{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return MJn()?8:Frr(fu())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new nsr;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(_4()<=Br.DEBUG&&Yt("QueryEngine","SDK will not create cache indexes for query:",AT(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),dt.resolve()):(_4()<=Br.DEBUG&&Yt("QueryEngine","Query:",AT(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(_4()<=Br.DEBUG&&Yt("QueryEngine","The SDK decides to create cache indexes for query:",AT(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,nm(n))):dt.resolve())}ji(t,n){if(eke(n))return dt.resolve(null);let r=nm(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lte(n,null,"F"),r=nm(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Sr(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(t,Lte(n,null,"F")):this.es(t,l,n,u)}))})))}Hi(t,n,r,i){return eke(n)||i.isEqual(Un.min())?dt.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?dt.resolve(null):(_4()<=Br.DEBUG&&Yt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),AT(n)),this.es(t,o,n,Prr(i,-1)).next(a=>a))})}Zi(t,n){let r=new uu(_tt(t));return n.forEach((i,s)=>{Uz(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return _4()<=Br.DEBUG&&Yt("QueryEngine","Using full collection scan to execute query:",AT(n)),this.zi.getDocumentsMatchingQuery(t,n,qb.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class isr{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new Hs(yi),this.rs=new j3(s=>Wpe(s),Gpe),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Gir(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function ssr(e,t,n,r){return new isr(e,t,n,r)}async function ztt(e,t){const n=Hn(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Sr();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function osr(e,t){const n=Hn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=dt.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(m=>{const g=l.docVersions.get(p);cs(g!==null),m.version.compareTo(g)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Sr();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Vtt(e){const t=Hn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function asr(e,t){const n=Hn(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(Zu.EMPTY_BYTE_STRING,Un.min()).withLastLimboFreeSnapshotVersion(Un.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(s,h))});let u=jy(),l=Sr();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(usr(s,o,t.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(Un.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return dt.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function usr(e,t,n){let r=Sr(),i=Sr();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=jy();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Un.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Yt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function lsr(e,t){const n=Hn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function csr(e,t){const n=Hn(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,dt.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Lv(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function Ute(e,t,n){const r=Hn(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!d5(o))throw o;Yt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function fke(e,t,n){const r=Hn(e);let i=Un.min(),s=Sr();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Hn(u),d=f.rs.get(c);return d!==void 0?dt.resolve(f.ns.get(d)):f.Qr.getTargetData(l,c)}(r,o,nm(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:Un.min(),n?s:Sr())).next(a=>(fsr(r,tir(t),a),{documents:a,hs:s})))}function fsr(e,t,n){let r=e.ss.get(t)||Un.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class dke{constructor(){this.activeTargetIds=air()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dsr{constructor(){this.no=new dke,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new dke,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hsr{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hke{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OO=null;function _K(){return OO===null?OO=function(){return 268435456+Math.round(2147483648*Math.random())}():OO++,"0x"+OO.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const psr={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class msr{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="WebChannelConnection";class gsr extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=_K(),u=this.vo(n,r.toUriEncodedString());Yt("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,u,l,i).then(c=>(Yt("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw n$("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+F3}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=psr[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,n,r,i){const s=_K();return new Promise((o,a)=>{const u=new ntt;u.setWithCredentials(!0),u.listenOnce(itt.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case o9.NO_ERROR:const c=u.getResponseJson();Yt(Iu,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case o9.TIMEOUT:Yt(Iu,`RPC '${t}' ${s} timed out`),a(new Mt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case o9.HTTP_ERROR:const f=u.getStatus();if(Yt(Iu,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(y)>=0?y:nt.UNKNOWN}(h.status);a(new Mt(p,h.message))}else a(new Mt(nt.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Mt(nt.UNAVAILABLE,"Connection failed."));break;default:Pn()}}finally{Yt(Iu,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Yt(Iu,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(t,n,r){const i=_K(),s=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=att(),a=ott(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new rtt({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Yt(Iu,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new msr({lo:g=>{h?Yt(Iu,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(d||(Yt(Iu,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Yt(Iu,`RPC '${t}' stream ${i} sending:`,g),f.send(g))},ho:()=>f.close()}),m=(g,y,v)=>{g.listen(y,b=>{try{v(b)}catch(w){setTimeout(()=>{throw w},0)}})};return m(f,h6.EventType.OPEN,()=>{h||(Yt(Iu,`RPC '${t}' stream ${i} transport opened.`),p.mo())}),m(f,h6.EventType.CLOSE,()=>{h||(h=!0,Yt(Iu,`RPC '${t}' stream ${i} transport closed`),p.po())}),m(f,h6.EventType.ERROR,g=>{h||(h=!0,n$(Iu,`RPC '${t}' stream ${i} transport errored:`,g),p.po(new Mt(nt.UNAVAILABLE,"The operation could not be completed")))}),m(f,h6.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];cs(!!v);const b=v,w=b.error||((y=b[0])===null||y===void 0?void 0:y.error);if(w){Yt(Iu,`RPC '${t}' stream ${i} received error:`,w);const x=w.status;let S=function($){const k=$o[$];if(k!==void 0)return Ntt(k)}(x),A=w.message;S===void 0&&(S=nt.INTERNAL,A="Unknown error status: "+x+" with message "+w.message),h=!0,p.po(new Mt(S,A)),f.close()}else Yt(Iu,`RPC '${t}' stream ${i} received:`,v),p.yo(v)}}),m(a,stt.STAT_EVENT,g=>{g.stat===Rte.PROXY?Yt(Iu,`RPC '${t}' stream ${i} detected buffering proxy`):g.stat===Rte.NOPROXY&&Yt(Iu,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function wK(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(e){return new Cir(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Htt{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Yt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qtt{constructor(t,n,r,i,s,o,a,u){this.oi=t,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Htt(t,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(t,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(By(n.toString()),By("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ao(n)}__(){}auth(){this.state=1;const t=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{t(()=>{const i=new Mt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(t,n){const r=this.a_(this.jo);this.stream=this.l_(t,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(t){return Yt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return n=>{this.oi.enqueueAndForget(()=>this.jo===t?n():(Yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ysr extends qtt{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(t,n){return this.connection.Oo("Listen",t,n)}onMessage(t){this.Yo.reset();const n=Rir(this.serializer,t),r=function(s){if(!("targetChange"in s))return Un.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Un.min():o.readTime?rm(o.readTime):Un.min()}(t);return this.listener.h_(n,r)}P_(t){const n={};n.database=jte(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Ote(u)?{documents:Pir(s,u)}:{query:Oir(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Dtt(s,o.resumeToken);const l=Mte(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Un.min())>0){a.readTime=ZF(s,o.snapshotVersion.toTimestamp());const l=Mte(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=Lir(this.serializer,t);r&&(n.labels=r),this.i_(n)}I_(t){const n={};n.database=jte(this.serializer),n.removeTarget=t,this.i_(n)}}class vsr extends qtt{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,n){return this.connection.Oo("Write",t,n)}onMessage(t){if(cs(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const n=Nir(t.writeResults,t.commitTime),r=rm(t.commitTime);return this.listener.A_(r,n)}return cs(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=jte(this.serializer),this.i_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>$ir(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bsr extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Mt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,Fte(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Mt(nt.UNKNOWN,s.toString())})}xo(t,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(t,Fte(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Mt(nt.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class _sr{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(By(n),this.y_=!1):Yt("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wsr{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{cE(this)&&(Yt("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Hn(u);l.M_.add(4),await g5(l),l.N_.set("Unknown"),l.M_.delete(4),await m5(l)}(this))})}),this.N_=new _sr(r,i)}}async function m5(e){if(cE(e))for(const t of e.x_)await t(!0)}async function g5(e){for(const t of e.x_)await t(!1)}function Wtt(e,t){const n=Hn(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),s0e(n)?i0e(n):U3(n).Xo()&&r0e(n,t))}function n0e(e,t){const n=Hn(e),r=U3(n);n.F_.delete(t),r.Xo()&&Gtt(n,t),n.F_.size===0&&(r.Xo()?r.n_():cE(n)&&n.N_.set("Unknown"))}function r0e(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Un.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}U3(e).P_(t)}function Gtt(e,t){e.L_.xe(t),U3(e).I_(t)}function i0e(e){e.L_=new Eir({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),U3(e).start(),e.N_.w_()}function s0e(e){return cE(e)&&!U3(e).Zo()&&e.F_.size>0}function cE(e){return Hn(e).M_.size===0}function Ytt(e){e.L_=void 0}async function xsr(e){e.N_.set("Online")}async function Esr(e){e.F_.forEach((t,n)=>{r0e(e,t)})}async function Tsr(e,t){Ytt(e),s0e(e)?(e.N_.D_(t),i0e(e)):e.N_.set("Unknown")}async function Ssr(e,t,n){if(e.N_.set("Online"),t instanceof Ott&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(e,t)}catch(r){Yt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await e7(e,r)}else if(t instanceof l9?e.L_.Ke(t):t instanceof Ptt?e.L_.He(t):e.L_.We(t),!n.isEqual(Un.min()))try{const r=await Vtt(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.F_.get(l);c&&s.F_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.F_.get(u);if(!c)return;s.F_.set(u,c.withResumeToken(Zu.EMPTY_BYTE_STRING,c.snapshotVersion)),Gtt(s,u);const f=new Lv(c.target,u,l,c.sequenceNumber);r0e(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Yt("RemoteStore","Failed to raise snapshot:",r),await e7(e,r)}}async function e7(e,t,n){if(!d5(t))throw t;e.M_.add(1),await g5(e),e.N_.set("Offline"),n||(n=()=>Vtt(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Yt("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await m5(e)})}function Ktt(e,t){return t().catch(n=>e7(e,n,t))}async function Wz(e){const t=Hn(e),n=Gb(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Asr(t);)try{const i=await lsr(t.localStore,r);if(i===null){t.v_.length===0&&n.n_();break}r=i.batchId,Csr(t,i)}catch(i){await e7(t,i)}Xtt(t)&&Qtt(t)}function Asr(e){return cE(e)&&e.v_.length<10}function Csr(e,t){e.v_.push(t);const n=Gb(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function Xtt(e){return cE(e)&&!Gb(e).Zo()&&e.v_.length>0}function Qtt(e){Gb(e).start()}async function Isr(e){Gb(e).V_()}async function ksr(e){const t=Gb(e);for(const n of e.v_)t.d_(n.mutations)}async function Rsr(e,t,n){const r=e.v_.shift(),i=Xpe.from(r,t,n);await Ktt(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Wz(e)}async function $sr(e,t){t&&Gb(e).E_&&await async function(r,i){if(function(o){return _ir(o)&&o!==nt.ABORTED}(i.code)){const s=r.v_.shift();Gb(r).t_(),await Ktt(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Wz(r)}}(e,t),Xtt(e)&&Qtt(e)}async function pke(e,t){const n=Hn(e);n.asyncQueue.verifyOperationInProgress(),Yt("RemoteStore","RemoteStore received new credentials");const r=cE(n);n.M_.add(3),await g5(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await m5(n)}async function Nsr(e,t){const n=Hn(e);t?(n.M_.delete(2),await m5(n)):t||(n.M_.add(2),await g5(n),n.N_.set("Unknown"))}function U3(e){return e.B_||(e.B_=function(n,r,i){const s=Hn(n);return s.f_(),new ysr(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:xsr.bind(null,e),To:Esr.bind(null,e),Ao:Tsr.bind(null,e),h_:Ssr.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.t_(),s0e(e)?i0e(e):e.N_.set("Unknown")):(await e.B_.stop(),Ytt(e))})),e.B_}function Gb(e){return e.k_||(e.k_=function(n,r,i){const s=Hn(n);return s.f_(),new vsr(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:Isr.bind(null,e),Ao:$sr.bind(null,e),R_:ksr.bind(null,e),A_:Rsr.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.t_(),await Wz(e)):(await e.k_.stop(),e.v_.length>0&&(Yt("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0e{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new o0e(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Mt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a0e(e,t){if(By("AsyncQueue",`${t}: ${e}`),d5(e))return new Mt(nt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this.comparator=t?(n,r)=>t(n,r)||cn.comparator(n.key,r.key):(n,r)=>cn.comparator(n.key,r.key),this.keyedMap=p6(),this.sortedSet=new Hs(this.comparator)}static emptySet(t){return new HS(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof HS)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new HS;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mke{constructor(){this.q_=new Hs(cn.comparator)}track(t){const n=t.doc.key,r=this.q_.get(n);r?t.type!==0&&r.type===3?this.q_=this.q_.insert(n,t):t.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.q_=this.q_.remove(n):t.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):Pn():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,r)=>{t.push(r)}),t}}class cC{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new cC(t,n,HS.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jz(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Psr{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class Osr{constructor(){this.queries=new j3(t=>btt(t),jz),this.onlineState="Unknown",this.z_=new Set}}async function Jtt(e,t){const n=Hn(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new Psr,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=a0e(o,`Initialization of query '${AT(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&u0e(n)}async function Ztt(e,t){const n=Hn(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(t);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Dsr(e,t){const n=Hn(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&u0e(n)}function Lsr(e,t,n){const r=Hn(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function u0e(e){e.z_.forEach(t=>{t.next()})}var zte,gke;(gke=zte||(zte={})).J_="default",gke.Cache="cache";class ent{constructor(t,n,r){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new cC(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=cC.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==zte.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tnt{constructor(t){this.key=t}}class nnt{constructor(t){this.key=t}}class Msr{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Sr(),this.mutatedKeys=Sr(),this.Ia=_tt(t),this.Ta=new HS(this.Ia)}get Ea(){return this.la}da(t,n){const r=n?n.Aa:new mke,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=Uz(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.Ra(d,h)||(r.track({type:2,doc:h}),g=!0,(u&&this.Ia(h,u)>0||l&&this.Ia(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),g=!0):d&&!h&&(r.track({type:1,doc:d}),g=!0,(u||l)&&(a=!0)),g&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const o=t.Aa.Q_();o.sort((c,f)=>function(h,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pn()}};return m(h)-m(p)}(c.type,f.type)||this.Ia(c.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,o.length!==0||l?{snapshot:new cC(this.query,t.Ta,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new mke,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Sr(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return t.forEach(r=>{this.Pa.has(r)||n.push(new nnt(r))}),this.Pa.forEach(r=>{t.has(r)||n.push(new tnt(r))}),n}pa(t){this.la=t.hs,this.Pa=Sr();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return cC.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class Fsr{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Bsr{constructor(t){this.key=t,this.wa=!1}}class jsr{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new j3(a=>btt(a),jz),this.Da=new Map,this.Ca=new Set,this.va=new Hs(cn.comparator),this.Fa=new Map,this.Ma=new Zpe,this.xa={},this.Oa=new Map,this.Na=lC.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function Usr(e,t,n=!0){const r=unt(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await rnt(r,t,n,!0),i}async function zsr(e,t){const n=unt(e);await rnt(n,t,!0,!1)}async function rnt(e,t,n,r){const i=await csr(e.localStore,nm(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Vsr(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&Wtt(e.remoteStore,i),a}async function Vsr(e,t,n,r,i){e.Ba=(f,d,h)=>async function(m,g,y,v){let b=g.view.da(y);b.Xi&&(b=await fke(m.localStore,g.query,!1).then(({documents:A})=>g.view.da(A,b)));const w=v&&v.targetChanges.get(g.targetId),x=v&&v.targetMismatches.get(g.targetId)!=null,S=g.view.applyChanges(b,m.isPrimaryClient,w,x);return vke(m,g.targetId,S.fa),S.snapshot}(e,f,d,h);const s=await fke(e.localStore,t,!0),o=new Msr(t,s.hs),a=o.da(s.documents),u=p5.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);vke(e,n,l.fa);const c=new Fsr(t,n,o);return e.ba.set(t,c),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),l.snapshot}async function Hsr(e,t,n){const r=Hn(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!jz(o,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ute(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&n0e(r.remoteStore,i.targetId),Vte(r,i.targetId)}).catch(f5)):(Vte(r,i.targetId),await Ute(r.localStore,i.targetId,!0))}async function qsr(e,t){const n=Hn(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),n0e(n.remoteStore,r.targetId))}async function Wsr(e,t,n){const r=Zsr(e);try{const i=await function(o,a){const u=Hn(o),l=ia.now(),c=a.reduce((h,p)=>h.add(p.key),Sr());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=jy(),m=Sr();return u.os.getEntries(h,c).next(g=>{p=g,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(g=>{f=g;const y=[];for(const v of a){const b=mir(v,f.get(v.key).overlayedDocument);b!=null&&y.push(new $_(v.key,b,ftt(b.value.mapValue),Uf.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,y,a)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:xtt(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.xa[o.currentUser.toKey()];l||(l=new Hs(yi)),l=l.insert(a,u),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),await y5(r,i.changes),await Wz(r.remoteStore)}catch(i){const s=a0e(i,"Failed to persist write");n.reject(s)}}async function int(e,t){const n=Hn(e);try{const r=await asr(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(cs(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?cs(o.wa):i.removedDocuments.size>0&&(cs(o.wa),o.wa=!1))}),await y5(n,r,t)}catch(r){await f5(r)}}function yke(e,t,n){const r=Hn(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Hn(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.U_)d.j_(a)&&(l=!0)}),l&&u0e(u)}(r.eventManager,t),i.length&&r.Sa.h_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Gsr(e,t,n){const r=Hn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let o=new Hs(cn.comparator);o=o.insert(s,Mu.newNoDocument(s,Un.min()));const a=Sr().add(s),u=new Hz(Un.min(),new Map,new Hs(yi),o,a);await int(r,u),r.va=r.va.remove(s),r.Fa.delete(t),l0e(r)}else await Ute(r.localStore,t,!1).then(()=>Vte(r,t,n)).catch(f5)}async function Ysr(e,t){const n=Hn(e),r=t.batch.batchId;try{const i=await osr(n.localStore,t);ont(n,r,null),snt(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await y5(n,i)}catch(i){await f5(i)}}async function Ksr(e,t,n){const r=Hn(e);try{const i=await function(o,a){const u=Hn(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(cs(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);ont(r,t,n),snt(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await y5(r,i)}catch(i){await f5(i)}}function snt(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function ont(e,t,n){const r=Hn(e);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Vte(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach(r=>{e.Ma.containsKey(r)||ant(e,r)})}function ant(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&(n0e(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),l0e(e))}function vke(e,t,n){for(const r of n)r instanceof tnt?(e.Ma.addReference(r.key,t),Xsr(e,r)):r instanceof nnt?(Yt("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||ant(e,r.key)):Pn()}function Xsr(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Yt("SyncEngine","New document in limbo: "+n),e.Ca.add(r),l0e(e))}function l0e(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new cn(xs.fromString(t)),r=e.Na.next();e.Fa.set(r,new Bsr(n)),e.va=e.va.insert(n,r),Wtt(e.remoteStore,new Lv(nm(Ype(n.path)),r,"TargetPurposeLimboResolution",zpe.oe))}}async function y5(e,t,n){const r=Hn(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient){const c=l&&!l.fromCache;r.sharedClientState.updateQueryState(u.targetId,c?"current":"not-current")}if(l){i.push(l);const c=t0e.Ki(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,l){const c=Hn(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>dt.forEach(l,d=>dt.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>dt.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!d5(f))throw f;Yt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(d,m)}}}(r.localStore,s))}async function Qsr(e,t){const n=Hn(e);if(!n.currentUser.isEqual(t)){Yt("SyncEngine","User change. New user:",t.toKey());const r=await ztt(n.localStore,t);n.currentUser=t,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new Mt(nt.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await y5(n,r.us)}}function Jsr(e,t){const n=Hn(e),r=n.Fa.get(t);if(r&&r.wa)return Sr().add(r.key);{let i=Sr();const s=n.Da.get(t);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function unt(e){const t=Hn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=int.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jsr.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gsr.bind(null,t),t.Sa.h_=Dsr.bind(null,t.eventManager),t.Sa.ka=Lsr.bind(null,t.eventManager),t}function Zsr(e){const t=Hn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ysr.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ksr.bind(null,t),t}class bke{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=qz(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return ssr(this.persistence,new rsr,t.initialUser,this.serializer)}createPersistence(t){return new esr(e0e.Hr,this.serializer)}createSharedClientState(t){return new dsr}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class eor{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yke(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qsr.bind(null,this.syncEngine),await Nsr(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Osr}()}createDatastore(t){const n=qz(t.databaseInfo.databaseId),r=function(s){return new gsr(s)}(t.databaseInfo);return function(s,o,a,u){return new bsr(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new wsr(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>yke(this.syncEngine,n,0),function(){return hke.D()?new hke:new hsr}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new jsr(i,s,o,a,u,l);return c&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=Hn(r);Yt("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await g5(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lnt{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):By("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tor{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hc.UNAUTHENTICATED,this.clientId=utt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Yt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Yt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=a0e(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function xK(e,t){e.asyncQueue.verifyOperationInProgress(),Yt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ztt(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _ke(e,t){e.asyncQueue.verifyOperationInProgress();const n=await cnt(e);Yt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>pke(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>pke(t.remoteStore,i)),e._onlineComponents=t}function nor(e){return e.name==="FirebaseError"?e.code===nt.FAILED_PRECONDITION||e.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function cnt(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Yt("FirestoreClient","Using user provided OfflineComponentProvider");try{await xK(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!nor(n))throw n;n$("Error using user provided cache. Falling back to memory cache: "+n),await xK(e,new bke)}}else Yt("FirestoreClient","Using default OfflineComponentProvider"),await xK(e,new bke);return e._offlineComponents}async function c0e(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Yt("FirestoreClient","Using user provided OnlineComponentProvider"),await _ke(e,e._uninitializedComponentsProvider._online)):(Yt("FirestoreClient","Using default OnlineComponentProvider"),await _ke(e,new eor))),e._onlineComponents}function ror(e){return cnt(e).then(t=>t.persistence)}function ior(e){return c0e(e).then(t=>t.remoteStore)}function sor(e){return c0e(e).then(t=>t.syncEngine)}async function fnt(e){const t=await c0e(e),n=t.eventManager;return n.onListen=Usr.bind(null,t.syncEngine),n.onUnlisten=Hsr.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zsr.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=qsr.bind(null,t.syncEngine),n}function oor(e){return e.asyncQueue.enqueue(async()=>{const t=await ror(e),n=await ior(e);return t.setNetworkEnabled(!0),function(i){const s=Hn(i);return s.M_.delete(0),m5(s)}(n)})}function aor(e,t,n={}){const r=new dy;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new lnt({next:d=>{o.enqueueAndForget(()=>Ztt(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new Mt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new Mt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new ent(Ype(a.path),c,{includeMetadataChanges:!0,ra:!0});return Jtt(s,f)}(await fnt(e),e.asyncQueue,t,n,r)),r.promise}function uor(e,t,n={}){const r=new dy;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new lnt({next:d=>{o.enqueueAndForget(()=>Ztt(s,f)),d.fromCache&&u.source==="server"?l.reject(new Mt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new ent(a,c,{includeMetadataChanges:!0,ra:!0});return Jtt(s,f)}(await fnt(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dnt(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wke=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hnt(e,t,n){if(!n)throw new Mt(nt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function lor(e,t,n,r){if(t===!0&&r===!0)throw new Mt(nt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function xke(e){if(!cn.isDocumentKey(e))throw new Mt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Eke(e){if(cn.isDocumentKey(e))throw new Mt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Gz(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Pn()}function Im(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gz(e);throw new Mt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tke{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Mt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Mt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lor("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dnt((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class f0e{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tke({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Mt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tke(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Srr;switch(r.type){case"firstParty":return new Irr(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Mt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wke.get(n);r&&(Yt("ComponentProvider","Removing Datastore"),wke.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new fE(this.firestore,t,this._query)}}class Rl{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ob(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rl(this.firestore,t,this._key)}}class ob extends fE{constructor(t,n,r){super(t,n,Ype(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rl(this.firestore,null,new cn(t))}withConverter(t){return new ob(this.firestore,t,this._path)}}function ac(e,t,...n){if(e=ds(e),hnt("collection","path",t),e instanceof f0e){const r=xs.fromString(t,...n);return Eke(r),new ob(e,null,r)}{if(!(e instanceof Rl||e instanceof ob))throw new Mt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xs.fromString(t,...n));return Eke(r),new ob(e.firestore,null,r)}}function gs(e,t,...n){if(e=ds(e),arguments.length===1&&(t=utt.newId()),hnt("doc","path",t),e instanceof f0e){const r=xs.fromString(t,...n);return xke(r),new Rl(e,null,new cn(r))}{if(!(e instanceof Rl||e instanceof ob))throw new Mt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xs.fromString(t,...n));return xke(r),new Rl(e.firestore,e instanceof ob?e.converter:null,new cn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cor{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Htt(this,"async_queue_retry"),this.hu=()=>{const n=wK();n&&Yt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const t=wK();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=wK();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new dy;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!d5(t))throw t;Yt("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw By("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const i=o0e.createAndSchedule(this,t,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Pn()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class dE extends f0e{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new cor}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pnt(this),this._firestoreClient.terminate()}}function dor(e,t,n){n||(n="(default)");const r=L3(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(ZR(s,t))return i;throw new Mt(nt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new Mt(nt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Mt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function v5(e){return e._firestoreClient||pnt(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pnt(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new Urr(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,dnt(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new tor(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function hor(e){return oor(v5(e=Im(e,dE)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fC(Zu.fromBase64String(t))}catch(n){throw new Mt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new fC(Zu.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Mt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ja(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0e{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Mt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Mt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return yi(this._lat,t._lat)||yi(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const por=/^__.*__$/;class mor{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new $_(t,this.data,this.fieldMask,n,this.fieldTransforms):new h5(t,this.data,n,this.fieldTransforms)}}class mnt{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new $_(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function gnt(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pn()}}class h0e{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new h0e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.wu(t),i}Su(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return t7(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(gnt(this.fu)&&por.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class gor{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||qz(t)}Fu(t,n,r,i=!1){return new h0e({fu:t,methodName:n,vu:r,path:Ja.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kz(e){const t=e._freezeSettings(),n=qz(e._databaseId);return new gor(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ynt(e,t,n,r,i,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);m0e("Data must be an object, but it was:",o,r);const a=_nt(r,o);let u,l;if(s.merge)u=new Df(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=Hte(t,f,n);if(!o.contains(d))throw new Mt(nt.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);xnt(c,d)||c.push(d)}u=new Df(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new mor(new Tc(a),u,l)}class Xz extends Yz{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xz}}class p0e extends Yz{_toFieldTransform(t){return new fir(t.path,new u$)}isEqual(t){return t instanceof p0e}}function vnt(e,t,n,r){const i=e.Fu(1,t,n);m0e("Data must be an object, but it was:",i,r);const s=[],o=Tc.empty();lE(r,(u,l)=>{const c=g0e(t,u,n);l=ds(l);const f=i.Su(c);if(l instanceof Xz)s.push(c);else{const d=_5(l,f);d!=null&&(s.push(c),o.set(c,d))}});const a=new Df(s);return new mnt(o,a,i.fieldTransforms)}function bnt(e,t,n,r,i,s){const o=e.Fu(1,t,n),a=[Hte(t,r,n)],u=[i];if(s.length%2!=0)throw new Mt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Hte(t,s[d])),u.push(s[d+1]);const l=[],c=Tc.empty();for(let d=a.length-1;d>=0;--d)if(!xnt(l,a[d])){const h=a[d];let p=u[d];p=ds(p);const m=o.Su(h);if(p instanceof Xz)l.push(h);else{const g=_5(p,m);g!=null&&(l.push(h),c.set(h,g))}}const f=new Df(l);return new mnt(c,f,o.fieldTransforms)}function yor(e,t,n,r=!1){return _5(n,e.Fu(r?4:3,t))}function _5(e,t){if(wnt(e=ds(e)))return m0e("Unsupported field value:",t,e),_nt(e,t);if(e instanceof Yz)return function(r,i){if(!gnt(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=_5(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=ds(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uir(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ia.fromDate(r);return{timestampValue:ZF(i.serializer,s)}}if(r instanceof ia){const s=new ia(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ZF(i.serializer,s)}}if(r instanceof d0e)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fC)return{bytesValue:Dtt(i.serializer,r._byteString)};if(r instanceof Rl){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Jpe(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Gz(r)}`)}(e,t)}function _nt(e,t){const n={};return ltt(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lE(e,(r,i)=>{const s=_5(i,t.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wnt(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ia||e instanceof d0e||e instanceof fC||e instanceof Rl||e instanceof Yz)}function m0e(e,t,n){if(!wnt(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Gz(n);throw r==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function Hte(e,t,n){if((t=ds(t))instanceof b5)return t._internalPath;if(typeof t=="string")return g0e(e,t);throw t7("Field path arguments must be of type string or ",e,!1,void 0,n)}const vor=new RegExp("[~\\*/\\[\\]]");function g0e(e,t,n){if(t.search(vor)>=0)throw t7(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new b5(...t.split("."))._internalPath}catch{throw t7(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function t7(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Mt(nt.INVALID_ARGUMENT,a+e+u)}function xnt(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ent{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rl(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new bor(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Qz("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bor extends Ent{data(){return super.data()}}function Qz(e,t){return typeof t=="string"?g0e(e,t):t instanceof b5?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _or(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Mt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y0e{}class Tnt extends y0e{}function EK(e,t,...n){let r=[];t instanceof y0e&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof v0e).length,a=s.filter(u=>u instanceof Jz).length;if(o>1||o>0&&a>0)throw new Mt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Jz extends Tnt{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Jz(t,n,r)}_apply(t){const n=this._parse(t);return Snt(t._query,n),new fE(t.firestore,t.converter,Dte(t._query,n))}_parse(t){const n=Kz(t.firestore);return function(s,o,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Mt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Ike(f,c);const h=[];for(const p of f)h.push(Cke(u,s,p));d={arrayValue:{values:h}}}else d=Cke(u,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Ike(f,c),d=yor(a,o,f,c==="in"||c==="not-in");return Do.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Ske(e,t,n){const r=t,i=Qz("where",e);return Jz._create(i,r,n)}class v0e extends y0e{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new v0e(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pp.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)Snt(o,u),o=Dte(o,u)}(t._query,n),new fE(t.firestore,t.converter,Dte(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class b0e extends Tnt{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new b0e(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new Mt(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Mt(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new a$(s,o)}(t._query,this._field,this._direction);return new fE(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new B3(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Ake(e,t="asc"){const n=t,r=Qz("orderBy",e);return b0e._create(r,n)}function Cke(e,t,n){if(typeof(n=ds(n))=="string"){if(n==="")throw new Mt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vtt(t)&&n.indexOf("/")!==-1)throw new Mt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(xs.fromString(n));if(!cn.isDocumentKey(r))throw new Mt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y6e(e,new cn(r))}if(n instanceof Rl)return Y6e(e,n._key);throw new Mt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gz(n)}.`)}function Ike(e,t){if(!Array.isArray(e)||e.length===0)throw new Mt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Snt(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Mt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Mt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class wor{convertValue(t,n="none"){switch(d2(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Po(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(f2(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Pn()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return lE(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new d0e(Po(t.latitude),Po(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Hpe(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(i$(t));default:return null}}convertTimestamp(t){const n=Wb(t);return new ia(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=xs.fromString(t);cs(Utt(r));const i=new s$(r.get(1),r.get(3)),s=new cn(r.popFirst(5));return i.isEqual(n)||By(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ant(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cnt extends Ent{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new c9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Qz("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class c9 extends Cnt{data(t={}){return super.data(t)}}class xor{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new g6(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new c9(this._firestore,this._userDataWriter,r.key,r,new g6(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Mt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new c9(i._firestore,i._userDataWriter,a.doc.key,a.doc,new g6(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new c9(i._firestore,i._userDataWriter,a.doc.key,a.doc,new g6(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Eor(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Eor(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pn()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(e){e=Im(e,Rl);const t=Im(e.firestore,dE);return aor(v5(t),e._key).then(n=>Tor(t,e,n))}class Int extends wor{constructor(t){super(),this.firestore=t}convertBytes(t){return new fC(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Rl(this.firestore,null,n)}}function pT(e){e=Im(e,fE);const t=Im(e.firestore,dE),n=v5(t),r=new Int(t);return _or(e._query),uor(n,e._query).then(i=>new xor(t,r,e,i))}function ku(e,t,n){e=Im(e,Rl);const r=Im(e.firestore,dE),i=Ant(e.converter,t,n);return _0e(r,[ynt(Kz(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Uf.none())])}function kke(e,t,n,...r){e=Im(e,Rl);const i=Im(e.firestore,dE),s=Kz(i);let o;return o=typeof(t=ds(t))=="string"||t instanceof b5?bnt(s,"updateDoc",e._key,t,n,r):vnt(s,"updateDoc",e._key,t),_0e(i,[o.toMutation(e._key,Uf.exists(!0))])}function _0e(e,t){return function(r,i){const s=new dy;return r.asyncQueue.enqueueAndForget(async()=>Wsr(await sor(r),i,s)),s.promise}(v5(e),t)}function Tor(e,t,n){const r=n.docs.get(t._key),i=new Int(e);return new Cnt(e,i,t._key,r,new g6(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sor{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kz(t)}set(t,n,r){this._verifyNotCommitted();const i=TK(t,this._firestore),s=Ant(i.converter,n,r),o=ynt(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Uf.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=TK(t,this._firestore);let o;return o=typeof(n=ds(n))=="string"||n instanceof b5?bnt(this._dataReader,"WriteBatch.update",s._key,n,r,i):vnt(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Uf.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=TK(t,this._firestore);return this._mutations=this._mutations.concat(new Kpe(n._key,Uf.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Mt(nt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function TK(e,t){if((e=ds(e)).firestore!==t)throw new Mt(nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Rke(){return new p0e("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ke(e){return v5(e=Im(e,dE)),new Sor(e,t=>_0e(e,t))}(function(t,n=!0){(function(i){F3=i})(uE),My(new Sm("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new dE(new Arr(r.getProvider("auth-internal")),new Rrr(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Mt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new s$(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),_p(H6e,"4.6.3",t),_p(H6e,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte=new Map,knt={activated:!1,tokenObservers:[]},Aor={initialized:!1,enabled:!1};function sa(e){return qte.get(e)||Object.assign({},knt)}function Cor(e,t){return qte.set(e,t),qte.get(e)}function Zz(){return Aor}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rnt="https://content-firebaseappcheck.googleapis.com/v1",Ior="exchangeRecaptchaV3Token",kor="exchangeDebugToken",Nke={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ror=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $or{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new JR,this.pending.promise.catch(n=>{}),await Nor(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new JR,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Nor(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Por={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},$c=new D3("appCheck","AppCheck",Por);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pke(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function w0e(e){if(!sa(e).activated)throw $c.create("use-before-activation",{appName:e.name})}function $nt(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=LO(n)+"d:"),r&&(o+=LO(r)+"h:"),o+=LO(i)+"m:"+LO(s)+"s",o}function LO(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0e({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw $c.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw $c.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw $c.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw $c.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function Oor(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Rnt}/projects/${n}/apps/${r}:${Ior}?key=${i}`,body:{recaptcha_v3_token:t}}}function Nnt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Rnt}/projects/${n}/apps/${r}:${kor}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dor="firebase-app-check-database",Lor=1,f$="firebase-app-check-store",Pnt="debug-token";let MO=null;function Ont(){return MO||(MO=new Promise((e,t)=>{try{const n=indexedDB.open(Dor,Lor);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t($c.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(f$,{keyPath:"compositeKey"})}}}catch(n){t($c.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),MO)}function Mor(e){return Lnt(Mnt(e))}function For(e,t){return Dnt(Mnt(e),t)}function Bor(e){return Dnt(Pnt,e)}function jor(){return Lnt(Pnt)}async function Dnt(e,t){const r=(await Ont()).transaction(f$,"readwrite"),s=r.objectStore(f$).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a($c.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function Lnt(e){const n=(await Ont()).transaction(f$,"readonly"),i=n.objectStore(f$).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o($c.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function Mnt(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=new Nz("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uor(e){if(xpe()){let t;try{t=await Mor(e)}catch(n){d$.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function SK(e,t){return xpe()?For(e,t).catch(n=>{d$.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function zor(){let e;try{e=await jor()}catch{}if(e)return e;{const t=WJn();return Bor(t).catch(n=>d$.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0e(){return Zz().enabled}async function T0e(){const e=Zz();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function Vor(){const e=JZe(),t=Zz();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new JR;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(zor())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hor={error:"UNKNOWN_ERROR"};function qor(e){return wpe.encodeString(JSON.stringify(e),!1)}async function Wte(e,t=!1){const n=e.app;w0e(n);const r=sa(n);let i=r.token,s;if(i&&!tS(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(tS(u)?i=u:await SK(n,void 0))}if(!t&&i&&tS(i))return{token:i.token};let o=!1;if(E0e()){r.exchangeTokenPromise||(r.exchangeTokenPromise=x0e(Nnt(n,await T0e()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await SK(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await sa(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?d$.warn(u.message):d$.error(u),s=u}let a;return i?s?tS(i)?a={token:i.token,internalError:s}:a=Dke(s):(a={token:i.token},r.token=i,await SK(n,i)):a=Dke(s),o&&jnt(n,a),a}async function Wor(e){const t=e.app;w0e(t);const{provider:n}=sa(t);if(E0e()){const r=await T0e(),{token:i}=await x0e(Nnt(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function Fnt(e,t,n,r){const{app:i}=e,s=sa(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&tS(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Oke(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Oke(e))}function Bnt(e,t){const n=sa(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Oke(e){const{app:t}=e,n=sa(t);let r=n.tokenRefresher;r||(r=Gor(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Gor(e){const{app:t}=e;return new $or(async()=>{const n=sa(t);let r;if(n.token?r=await Wte(e,!0):r=await Wte(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=sa(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Nke.RETRIAL_MIN_WAIT,Nke.RETRIAL_MAX_WAIT)}function jnt(e,t){const n=sa(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function tS(e){return e.expireTimeMillis-Date.now()>0}function Dke(e){return{token:qor(Hor),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yor{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=sa(this.app);for(const n of t)Bnt(this.app,n.next);return Promise.resolve()}}function Kor(e,t){return new Yor(e,t)}function Xor(e){return{getToken:t=>Wte(e,t),getLimitedUseToken:()=>Wor(e),addTokenListener:t=>Fnt(e,"INTERNAL",t),removeTokenListener:t=>Bnt(e.app,t)}}const Qor="@firebase/app-check",Jor="0.8.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zor="https://www.google.com/recaptcha/api.js";function ear(e,t){const n=new JR,r=sa(e);r.reCAPTCHAState={initialized:n};const i=tar(e),s=Pke(!1);return s?Lke(e,t,s,i,n):iar(()=>{const o=Pke(!1);if(!o)throw new Error("no recaptcha");Lke(e,t,o,i,n)}),n.promise}function Lke(e,t,n,r,i){n.ready(()=>{rar(e,t,n,r),i.resolve(n)})}function tar(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function nar(e){w0e(e);const n=await sa(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=sa(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function rar(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{sa(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{sa(e).reCAPTCHAState.succeeded=!1}}),s=sa(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function iar(e){const t=document.createElement("script");t.src=Zor,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0e{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;oar(this._throttleData);const i=await nar(this._app).catch(o=>{throw $c.create("recaptcha-error")});if(!(!((t=sa(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw $c.create("recaptcha-error");let s;try{s=await x0e(Oor(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=sar(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),$c.create("throttled",{time:$nt(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=L3(t,"heartbeat"),ear(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof S0e?this._siteKey===t._siteKey:!1}}function sar(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Ror,httpStatus:e};{const n=t?t.backoffCount:0,r=QJn(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function oar(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw $c.create("throttled",{time:$nt(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aar(e=Tpe(),t){e=ds(e);const n=L3(e,"app-check");if(Zz().initialized||Vor(),E0e()&&T0e().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw $c.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return uar(e,t.provider,t.isTokenAutoRefreshEnabled),sa(e).isTokenAutoRefreshEnabled&&Fnt(r,"INTERNAL",()=>{}),r}function uar(e,t,n){const r=Cor(e,Object.assign({},knt));r.activated=!0,r.provider=t,r.cachedTokenPromise=Uor(e).then(i=>(i&&tS(i)&&(r.token=i,jnt(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const lar="app-check",Mke="app-check-internal";function car(){My(new Sm(lar,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Kor(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Mke).initialize()})),My(new Sm(Mke,e=>{const t=e.getProvider("app-check").getImmediate();return Xor(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),_p(Qor,Jor)}car();var Unt={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof $4=="function"&&$4;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var m=r[l][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof $4=="function"&&$4,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var g,y,v=h.length;v;){for(y=h,h=[],g=-1;++g<v;)y[g]();v=h.length}d=!1}r.exports=m;function m(g){h.push(g)===1&&!d&&a()}}).call(this,typeof Jt<"u"?Jt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,x!==o&&m(this,x)}f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,S){if(typeof x!="function"&&this.state===l||typeof S!="function"&&this.state===u)return this;var A=new this.constructor(o);if(this.state!==c){var C=this.state===l?x:S;h(A,C,this.outcome)}else this.queue.push(new d(A,x,S));return A};function d(x,S,A){this.promise=x,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},d.prototype.otherCallFulfilled=function(x){h(this.promise,this.onFulfilled,x)},d.prototype.callRejected=function(x){a.reject(this.promise,x)},d.prototype.otherCallRejected=function(x){h(this.promise,this.onRejected,x)};function h(x,S,A){s(function(){var C;try{C=S(A)}catch($){return a.reject(x,$)}C===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,C)})}a.resolve=function(x,S){var A=g(p,S);if(A.status==="error")return a.reject(x,A.value);var C=A.value;if(C)m(x,C);else{x.state=l,x.outcome=S;for(var $=-1,k=x.queue.length;++$<k;)x.queue[$].callFulfilled(S)}return x},a.reject=function(x,S){x.state=u,x.outcome=S;for(var A=-1,C=x.queue.length;++A<C;)x.queue[A].callRejected(S);return x};function p(x){var S=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof S=="function")return function(){S.apply(x,arguments)}}function m(x,S){var A=!1;function C(L){A||(A=!0,a.reject(x,L))}function $(L){A||(A=!0,a.resolve(x,L))}function k(){S($,C)}var P=g(k);P.status==="error"&&C(P.value)}function g(x,S){var A={};try{A.value=x(S),A.status="success"}catch(C){A.status="error",A.value=C}return A}f.resolve=y;function y(x){return x instanceof this?x:a.resolve(new this(o),x)}f.reject=v;function v(x){var S=new this(o);return a.reject(S,x)}f.all=b;function b(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=x.length,C=!1;if(!A)return this.resolve([]);for(var $=new Array(A),k=0,P=-1,L=new this(o);++P<A;)O(x[P],P);return L;function O(B,q){S.resolve(B).then(H,function(G){C||(C=!0,a.reject(L,G))});function H(G){$[q]=G,++k===A&&!C&&(C=!0,a.resolve(L,$))}}}f.race=w;function w(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=x.length,C=!1;if(!A)return this.resolve([]);for(var $=-1,k=new this(o);++$<A;)P(x[$]);return k;function P(L){S.resolve(L).then(function(O){C||(C=!0,a.resolve(k,O))},function(O){C||(C=!0,a.reject(k,O))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Jt<"u"?Jt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee};function o(ee,pe){if(!(ee instanceof pe))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var ee=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),pe=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!ee||pe)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(ee,pe){ee=ee||[],pe=pe||{};try{return new Blob(ee,pe)}catch(_e){if(_e.name!=="TypeError")throw _e;for(var oe=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,we=new oe,Ae=0;Ae<ee.length;Ae+=1)we.append(ee[Ae]);return we.getBlob(pe.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(ee,pe){pe&&ee.then(function(oe){pe(null,oe)},function(oe){pe(oe)})}function h(ee,pe,oe){typeof pe=="function"&&ee.then(pe),typeof oe=="function"&&ee.catch(oe)}function p(ee){return typeof ee!="string"&&(console.warn(ee+" used as a key, but it is not a string."),ee=String(ee)),ee}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},b=Object.prototype.toString,w="readonly",x="readwrite";function S(ee){for(var pe=ee.length,oe=new ArrayBuffer(pe),we=new Uint8Array(oe),Ae=0;Ae<pe;Ae++)we[Ae]=ee.charCodeAt(Ae);return oe}function A(ee){return new f(function(pe){var oe=ee.transaction(g,x),we=c([""]);oe.objectStore(g).put(we,"key"),oe.onabort=function(Ae){Ae.preventDefault(),Ae.stopPropagation(),pe(!1)},oe.oncomplete=function(){var Ae=navigator.userAgent.match(/Chrome\/(\d+)/),_e=navigator.userAgent.match(/Edge\//);pe(_e||!Ae||parseInt(Ae[1],10)>=43)}}).catch(function(){return!1})}function C(ee){return typeof y=="boolean"?f.resolve(y):A(ee).then(function(pe){return y=pe,y})}function $(ee){var pe=v[ee.name],oe={};oe.promise=new f(function(we,Ae){oe.resolve=we,oe.reject=Ae}),pe.deferredOperations.push(oe),pe.dbReady?pe.dbReady=pe.dbReady.then(function(){return oe.promise}):pe.dbReady=oe.promise}function k(ee){var pe=v[ee.name],oe=pe.deferredOperations.pop();if(oe)return oe.resolve(),oe.promise}function P(ee,pe){var oe=v[ee.name],we=oe.deferredOperations.pop();if(we)return we.reject(pe),we.promise}function L(ee,pe){return new f(function(oe,we){if(v[ee.name]=v[ee.name]||W(),ee.db)if(pe)$(ee),ee.db.close();else return oe(ee.db);var Ae=[ee.name];pe&&Ae.push(ee.version);var _e=u.open.apply(u,Ae);pe&&(_e.onupgradeneeded=function(qe){var it=_e.result;try{it.createObjectStore(ee.storeName),qe.oldVersion<=1&&it.createObjectStore(g)}catch(at){if(at.name==="ConstraintError")console.warn('The database "'+ee.name+'" has been upgraded from version '+qe.oldVersion+" to version "+qe.newVersion+', but the storage "'+ee.storeName+'" already exists.');else throw at}}),_e.onerror=function(qe){qe.preventDefault(),we(_e.error)},_e.onsuccess=function(){var qe=_e.result;qe.onversionchange=function(it){it.target.close()},oe(qe),k(ee)}})}function O(ee){return L(ee,!1)}function B(ee){return L(ee,!0)}function q(ee,pe){if(!ee.db)return!0;var oe=!ee.db.objectStoreNames.contains(ee.storeName),we=ee.version<ee.db.version,Ae=ee.version>ee.db.version;if(we&&(ee.version!==pe&&console.warn('The database "'+ee.name+`" can't be downgraded from version `+ee.db.version+" to version "+ee.version+"."),ee.version=ee.db.version),Ae||oe){if(oe){var _e=ee.db.version+1;_e>ee.version&&(ee.version=_e)}return!0}return!1}function H(ee){return new f(function(pe,oe){var we=new FileReader;we.onerror=oe,we.onloadend=function(Ae){var _e=btoa(Ae.target.result||"");pe({__local_forage_encoded_blob:!0,data:_e,type:ee.type})},we.readAsBinaryString(ee)})}function G(ee){var pe=S(atob(ee.data));return c([pe],{type:ee.type})}function K(ee){return ee&&ee.__local_forage_encoded_blob}function J(ee){var pe=this,oe=pe._initReady().then(function(){var we=v[pe._dbInfo.name];if(we&&we.dbReady)return we.dbReady});return h(oe,ee,ee),oe}function F(ee){$(ee);for(var pe=v[ee.name],oe=pe.forages,we=0;we<oe.length;we++){var Ae=oe[we];Ae._dbInfo.db&&(Ae._dbInfo.db.close(),Ae._dbInfo.db=null)}return ee.db=null,O(ee).then(function(_e){return ee.db=_e,q(ee)?B(ee):_e}).then(function(_e){ee.db=pe.db=_e;for(var qe=0;qe<oe.length;qe++)oe[qe]._dbInfo.db=_e}).catch(function(_e){throw P(ee,_e),_e})}function j(ee,pe,oe,we){we===void 0&&(we=1);try{var Ae=ee.db.transaction(ee.storeName,pe);oe(null,Ae)}catch(_e){if(we>0&&(!ee.db||_e.name==="InvalidStateError"||_e.name==="NotFoundError"))return f.resolve().then(function(){if(!ee.db||_e.name==="NotFoundError"&&!ee.db.objectStoreNames.contains(ee.storeName)&&ee.version<=ee.db.version)return ee.db&&(ee.version=ee.db.version+1),B(ee)}).then(function(){return F(ee).then(function(){j(ee,pe,oe,we-1)})}).catch(oe);oe(_e)}}function W(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function M(ee){var pe=this,oe={db:null};if(ee)for(var we in ee)oe[we]=ee[we];var Ae=v[oe.name];Ae||(Ae=W(),v[oe.name]=Ae),Ae.forages.push(pe),pe._initReady||(pe._initReady=pe.ready,pe.ready=J);var _e=[];function qe(){return f.resolve()}for(var it=0;it<Ae.forages.length;it++){var at=Ae.forages[it];at!==pe&&_e.push(at._initReady().catch(qe))}var ut=Ae.forages.slice(0);return f.all(_e).then(function(){return oe.db=Ae.db,O(oe)}).then(function(vt){return oe.db=vt,q(oe,pe._defaultConfig.version)?B(oe):vt}).then(function(vt){oe.db=Ae.db=vt,pe._dbInfo=oe;for(var Lt=0;Lt<ut.length;Lt++){var Mn=ut[Lt];Mn!==pe&&(Mn._dbInfo.db=oe.db,Mn._dbInfo.version=oe.version)}})}function V(ee,pe){var oe=this;ee=p(ee);var we=new f(function(Ae,_e){oe.ready().then(function(){j(oe._dbInfo,w,function(qe,it){if(qe)return _e(qe);try{var at=it.objectStore(oe._dbInfo.storeName),ut=at.get(ee);ut.onsuccess=function(){var vt=ut.result;vt===void 0&&(vt=null),K(vt)&&(vt=G(vt)),Ae(vt)},ut.onerror=function(){_e(ut.error)}}catch(vt){_e(vt)}})}).catch(_e)});return d(we,pe),we}function Q(ee,pe){var oe=this,we=new f(function(Ae,_e){oe.ready().then(function(){j(oe._dbInfo,w,function(qe,it){if(qe)return _e(qe);try{var at=it.objectStore(oe._dbInfo.storeName),ut=at.openCursor(),vt=1;ut.onsuccess=function(){var Lt=ut.result;if(Lt){var Mn=Lt.value;K(Mn)&&(Mn=G(Mn));var Kt=ee(Mn,Lt.key,vt++);Kt!==void 0?Ae(Kt):Lt.continue()}else Ae()},ut.onerror=function(){_e(ut.error)}}catch(Lt){_e(Lt)}})}).catch(_e)});return d(we,pe),we}function se(ee,pe,oe){var we=this;ee=p(ee);var Ae=new f(function(_e,qe){var it;we.ready().then(function(){return it=we._dbInfo,b.call(pe)==="[object Blob]"?C(it.db).then(function(at){return at?pe:H(pe)}):pe}).then(function(at){j(we._dbInfo,x,function(ut,vt){if(ut)return qe(ut);try{var Lt=vt.objectStore(we._dbInfo.storeName);at===null&&(at=void 0);var Mn=Lt.put(at,ee);vt.oncomplete=function(){at===void 0&&(at=null),_e(at)},vt.onabort=vt.onerror=function(){var Kt=Mn.error?Mn.error:Mn.transaction.error;qe(Kt)}}catch(Kt){qe(Kt)}})}).catch(qe)});return d(Ae,oe),Ae}function be(ee,pe){var oe=this;ee=p(ee);var we=new f(function(Ae,_e){oe.ready().then(function(){j(oe._dbInfo,x,function(qe,it){if(qe)return _e(qe);try{var at=it.objectStore(oe._dbInfo.storeName),ut=at.delete(ee);it.oncomplete=function(){Ae()},it.onerror=function(){_e(ut.error)},it.onabort=function(){var vt=ut.error?ut.error:ut.transaction.error;_e(vt)}}catch(vt){_e(vt)}})}).catch(_e)});return d(we,pe),we}function he(ee){var pe=this,oe=new f(function(we,Ae){pe.ready().then(function(){j(pe._dbInfo,x,function(_e,qe){if(_e)return Ae(_e);try{var it=qe.objectStore(pe._dbInfo.storeName),at=it.clear();qe.oncomplete=function(){we()},qe.onabort=qe.onerror=function(){var ut=at.error?at.error:at.transaction.error;Ae(ut)}}catch(ut){Ae(ut)}})}).catch(Ae)});return d(oe,ee),oe}function Ce(ee){var pe=this,oe=new f(function(we,Ae){pe.ready().then(function(){j(pe._dbInfo,w,function(_e,qe){if(_e)return Ae(_e);try{var it=qe.objectStore(pe._dbInfo.storeName),at=it.count();at.onsuccess=function(){we(at.result)},at.onerror=function(){Ae(at.error)}}catch(ut){Ae(ut)}})}).catch(Ae)});return d(oe,ee),oe}function Pe(ee,pe){var oe=this,we=new f(function(Ae,_e){if(ee<0){Ae(null);return}oe.ready().then(function(){j(oe._dbInfo,w,function(qe,it){if(qe)return _e(qe);try{var at=it.objectStore(oe._dbInfo.storeName),ut=!1,vt=at.openKeyCursor();vt.onsuccess=function(){var Lt=vt.result;if(!Lt){Ae(null);return}ee===0||ut?Ae(Lt.key):(ut=!0,Lt.advance(ee))},vt.onerror=function(){_e(vt.error)}}catch(Lt){_e(Lt)}})}).catch(_e)});return d(we,pe),we}function rt(ee){var pe=this,oe=new f(function(we,Ae){pe.ready().then(function(){j(pe._dbInfo,w,function(_e,qe){if(_e)return Ae(_e);try{var it=qe.objectStore(pe._dbInfo.storeName),at=it.openKeyCursor(),ut=[];at.onsuccess=function(){var vt=at.result;if(!vt){we(ut);return}ut.push(vt.key),vt.continue()},at.onerror=function(){Ae(at.error)}}catch(vt){Ae(vt)}})}).catch(Ae)});return d(oe,ee),oe}function Re(ee,pe){pe=m.apply(this,arguments);var oe=this.config();ee=typeof ee!="function"&&ee||{},ee.name||(ee.name=ee.name||oe.name,ee.storeName=ee.storeName||oe.storeName);var we=this,Ae;if(!ee.name)Ae=f.reject("Invalid arguments");else{var _e=ee.name===oe.name&&we._dbInfo.db,qe=_e?f.resolve(we._dbInfo.db):O(ee).then(function(it){var at=v[ee.name],ut=at.forages;at.db=it;for(var vt=0;vt<ut.length;vt++)ut[vt]._dbInfo.db=it;return it});ee.storeName?Ae=qe.then(function(it){if(it.objectStoreNames.contains(ee.storeName)){var at=it.version+1;$(ee);var ut=v[ee.name],vt=ut.forages;it.close();for(var Lt=0;Lt<vt.length;Lt++){var Mn=vt[Lt];Mn._dbInfo.db=null,Mn._dbInfo.version=at}var Kt=new f(function(ir,Qr){var Er=u.open(ee.name,at);Er.onerror=function(Uo){var cf=Er.result;cf.close(),Qr(Uo)},Er.onupgradeneeded=function(){var Uo=Er.result;Uo.deleteObjectStore(ee.storeName)},Er.onsuccess=function(){var Uo=Er.result;Uo.close(),ir(Uo)}});return Kt.then(function(ir){ut.db=ir;for(var Qr=0;Qr<vt.length;Qr++){var Er=vt[Qr];Er._dbInfo.db=ir,k(Er._dbInfo)}}).catch(function(ir){throw(P(ee,ir)||f.resolve()).catch(function(){}),ir})}}):Ae=qe.then(function(it){$(ee);var at=v[ee.name],ut=at.forages;it.close();for(var vt=0;vt<ut.length;vt++){var Lt=ut[vt];Lt._dbInfo.db=null}var Mn=new f(function(Kt,ir){var Qr=u.deleteDatabase(ee.name);Qr.onerror=function(){var Er=Qr.result;Er&&Er.close(),ir(Qr.error)},Qr.onblocked=function(){console.warn('dropInstance blocked for database "'+ee.name+'" until all open connections are closed')},Qr.onsuccess=function(){var Er=Qr.result;Er&&Er.close(),Kt(Er)}});return Mn.then(function(Kt){at.db=Kt;for(var ir=0;ir<ut.length;ir++){var Qr=ut[ir];k(Qr._dbInfo)}}).catch(function(Kt){throw(P(ee,Kt)||f.resolve()).catch(function(){}),Kt})})}return d(Ae,pe),Ae}var Tt={_driver:"asyncStorage",_initStorage:M,_support:l(),iterate:Q,getItem:V,setItem:se,removeItem:be,clear:he,length:Ce,key:Pe,keys:rt,dropInstance:Re};function Ze(){return typeof openDatabase=="function"}var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mt="~~local_forage_type~",Se=/^~~local_forage_type~([^~]+)~/,Fe="__lfsc__:",st=Fe.length,yt="arbf",$t="blob",Je="si08",xe="ui08",kt="uic8",Rt="si16",Ee="si32",Oe="ur16",ot="ui32",_t="fl32",jt="fl64",qn=st+yt.length,yr=Object.prototype.toString;function $r(ee){var pe=ee.length*.75,oe=ee.length,we,Ae=0,_e,qe,it,at;ee[ee.length-1]==="="&&(pe--,ee[ee.length-2]==="="&&pe--);var ut=new ArrayBuffer(pe),vt=new Uint8Array(ut);for(we=0;we<oe;we+=4)_e=It.indexOf(ee[we]),qe=It.indexOf(ee[we+1]),it=It.indexOf(ee[we+2]),at=It.indexOf(ee[we+3]),vt[Ae++]=_e<<2|qe>>4,vt[Ae++]=(qe&15)<<4|it>>2,vt[Ae++]=(it&3)<<6|at&63;return ut}function Ci(ee){var pe=new Uint8Array(ee),oe="",we;for(we=0;we<pe.length;we+=3)oe+=It[pe[we]>>2],oe+=It[(pe[we]&3)<<4|pe[we+1]>>4],oe+=It[(pe[we+1]&15)<<2|pe[we+2]>>6],oe+=It[pe[we+2]&63];return pe.length%3===2?oe=oe.substring(0,oe.length-1)+"=":pe.length%3===1&&(oe=oe.substring(0,oe.length-2)+"=="),oe}function Cn(ee,pe){var oe="";if(ee&&(oe=yr.call(ee)),ee&&(oe==="[object ArrayBuffer]"||ee.buffer&&yr.call(ee.buffer)==="[object ArrayBuffer]")){var we,Ae=Fe;ee instanceof ArrayBuffer?(we=ee,Ae+=yt):(we=ee.buffer,oe==="[object Int8Array]"?Ae+=Je:oe==="[object Uint8Array]"?Ae+=xe:oe==="[object Uint8ClampedArray]"?Ae+=kt:oe==="[object Int16Array]"?Ae+=Rt:oe==="[object Uint16Array]"?Ae+=Oe:oe==="[object Int32Array]"?Ae+=Ee:oe==="[object Uint32Array]"?Ae+=ot:oe==="[object Float32Array]"?Ae+=_t:oe==="[object Float64Array]"?Ae+=jt:pe(new Error("Failed to get type for BinaryArray"))),pe(Ae+Ci(we))}else if(oe==="[object Blob]"){var _e=new FileReader;_e.onload=function(){var qe=mt+ee.type+"~"+Ci(this.result);pe(Fe+$t+qe)},_e.readAsArrayBuffer(ee)}else try{pe(JSON.stringify(ee))}catch(qe){console.error("Couldn't convert value into a JSON string: ",ee),pe(null,qe)}}function Wn(ee){if(ee.substring(0,st)!==Fe)return JSON.parse(ee);var pe=ee.substring(qn),oe=ee.substring(st,qn),we;if(oe===$t&&Se.test(pe)){var Ae=pe.match(Se);we=Ae[1],pe=pe.substring(Ae[0].length)}var _e=$r(pe);switch(oe){case yt:return _e;case $t:return c([_e],{type:we});case Je:return new Int8Array(_e);case xe:return new Uint8Array(_e);case kt:return new Uint8ClampedArray(_e);case Rt:return new Int16Array(_e);case Oe:return new Uint16Array(_e);case Ee:return new Int32Array(_e);case ot:return new Uint32Array(_e);case _t:return new Float32Array(_e);case jt:return new Float64Array(_e);default:throw new Error("Unkown type: "+oe)}}var vr={serialize:Cn,deserialize:Wn,stringToBuffer:$r,bufferToString:Ci};function wr(ee,pe,oe,we){ee.executeSql("CREATE TABLE IF NOT EXISTS "+pe.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],oe,we)}function da(ee){var pe=this,oe={db:null};if(ee)for(var we in ee)oe[we]=typeof ee[we]!="string"?ee[we].toString():ee[we];var Ae=new f(function(_e,qe){try{oe.db=openDatabase(oe.name,String(oe.version),oe.description,oe.size)}catch(it){return qe(it)}oe.db.transaction(function(it){wr(it,oe,function(){pe._dbInfo=oe,_e()},function(at,ut){qe(ut)})},qe)});return oe.serializer=vr,Ae}function hs(ee,pe,oe,we,Ae,_e){ee.executeSql(oe,we,Ae,function(qe,it){it.code===it.SYNTAX_ERR?qe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[pe.storeName],function(at,ut){ut.rows.length?_e(at,it):wr(at,pe,function(){at.executeSql(oe,we,Ae,_e)},_e)},_e):_e(qe,it)},_e)}function Ss(ee,pe){var oe=this;ee=p(ee);var we=new f(function(Ae,_e){oe.ready().then(function(){var qe=oe._dbInfo;qe.db.transaction(function(it){hs(it,qe,"SELECT * FROM "+qe.storeName+" WHERE key = ? LIMIT 1",[ee],function(at,ut){var vt=ut.rows.length?ut.rows.item(0).value:null;vt&&(vt=qe.serializer.deserialize(vt)),Ae(vt)},function(at,ut){_e(ut)})})}).catch(_e)});return d(we,pe),we}function qs(ee,pe){var oe=this,we=new f(function(Ae,_e){oe.ready().then(function(){var qe=oe._dbInfo;qe.db.transaction(function(it){hs(it,qe,"SELECT * FROM "+qe.storeName,[],function(at,ut){for(var vt=ut.rows,Lt=vt.length,Mn=0;Mn<Lt;Mn++){var Kt=vt.item(Mn),ir=Kt.value;if(ir&&(ir=qe.serializer.deserialize(ir)),ir=ee(ir,Kt.key,Mn+1),ir!==void 0){Ae(ir);return}}Ae()},function(at,ut){_e(ut)})})}).catch(_e)});return d(we,pe),we}function Xr(ee,pe,oe,we){var Ae=this;ee=p(ee);var _e=new f(function(qe,it){Ae.ready().then(function(){pe===void 0&&(pe=null);var at=pe,ut=Ae._dbInfo;ut.serializer.serialize(pe,function(vt,Lt){Lt?it(Lt):ut.db.transaction(function(Mn){hs(Mn,ut,"INSERT OR REPLACE INTO "+ut.storeName+" (key, value) VALUES (?, ?)",[ee,vt],function(){qe(at)},function(Kt,ir){it(ir)})},function(Mn){if(Mn.code===Mn.QUOTA_ERR){if(we>0){qe(Xr.apply(Ae,[ee,at,oe,we-1]));return}it(Mn)}})})}).catch(it)});return d(_e,oe),_e}function As(ee,pe,oe){return Xr.apply(this,[ee,pe,oe,1])}function lf(ee,pe){var oe=this;ee=p(ee);var we=new f(function(Ae,_e){oe.ready().then(function(){var qe=oe._dbInfo;qe.db.transaction(function(it){hs(it,qe,"DELETE FROM "+qe.storeName+" WHERE key = ?",[ee],function(){Ae()},function(at,ut){_e(ut)})})}).catch(_e)});return d(we,pe),we}function ha(ee){var pe=this,oe=new f(function(we,Ae){pe.ready().then(function(){var _e=pe._dbInfo;_e.db.transaction(function(qe){hs(qe,_e,"DELETE FROM "+_e.storeName,[],function(){we()},function(it,at){Ae(at)})})}).catch(Ae)});return d(oe,ee),oe}function rl(ee){var pe=this,oe=new f(function(we,Ae){pe.ready().then(function(){var _e=pe._dbInfo;_e.db.transaction(function(qe){hs(qe,_e,"SELECT COUNT(key) as c FROM "+_e.storeName,[],function(it,at){var ut=at.rows.item(0).c;we(ut)},function(it,at){Ae(at)})})}).catch(Ae)});return d(oe,ee),oe}function qr(ee,pe){var oe=this,we=new f(function(Ae,_e){oe.ready().then(function(){var qe=oe._dbInfo;qe.db.transaction(function(it){hs(it,qe,"SELECT key FROM "+qe.storeName+" WHERE id = ? LIMIT 1",[ee+1],function(at,ut){var vt=ut.rows.length?ut.rows.item(0).key:null;Ae(vt)},function(at,ut){_e(ut)})})}).catch(_e)});return d(we,pe),we}function Li(ee){var pe=this,oe=new f(function(we,Ae){pe.ready().then(function(){var _e=pe._dbInfo;_e.db.transaction(function(qe){hs(qe,_e,"SELECT key FROM "+_e.storeName,[],function(it,at){for(var ut=[],vt=0;vt<at.rows.length;vt++)ut.push(at.rows.item(vt).key);we(ut)},function(it,at){Ae(at)})})}).catch(Ae)});return d(oe,ee),oe}function wi(ee){return new f(function(pe,oe){ee.transaction(function(we){we.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ae,_e){for(var qe=[],it=0;it<_e.rows.length;it++)qe.push(_e.rows.item(it).name);pe({db:ee,storeNames:qe})},function(Ae,_e){oe(_e)})},function(we){oe(we)})})}function lo(ee,pe){pe=m.apply(this,arguments);var oe=this.config();ee=typeof ee!="function"&&ee||{},ee.name||(ee.name=ee.name||oe.name,ee.storeName=ee.storeName||oe.storeName);var we=this,Ae;return ee.name?Ae=new f(function(_e){var qe;ee.name===oe.name?qe=we._dbInfo.db:qe=openDatabase(ee.name,"","",0),ee.storeName?_e({db:qe,storeNames:[ee.storeName]}):_e(wi(qe))}).then(function(_e){return new f(function(qe,it){_e.db.transaction(function(at){function ut(Kt){return new f(function(ir,Qr){at.executeSql("DROP TABLE IF EXISTS "+Kt,[],function(){ir()},function(Er,Uo){Qr(Uo)})})}for(var vt=[],Lt=0,Mn=_e.storeNames.length;Lt<Mn;Lt++)vt.push(ut(_e.storeNames[Lt]));f.all(vt).then(function(){qe()}).catch(function(Kt){it(Kt)})},function(at){it(at)})})}):Ae=f.reject("Invalid arguments"),d(Ae,pe),Ae}var di={_driver:"webSQLStorage",_initStorage:da,_support:Ze(),iterate:qs,getItem:Ss,setItem:As,removeItem:lf,clear:ha,length:rl,key:qr,keys:Li,dropInstance:lo};function Mi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function me(ee,pe){var oe=ee.name+"/";return ee.storeName!==pe.storeName&&(oe+=ee.storeName+"/"),oe}function ue(){var ee="_localforage_support_test";try{return localStorage.setItem(ee,!0),localStorage.removeItem(ee),!1}catch{return!0}}function ge(){return!ue()||localStorage.length>0}function Me(ee){var pe=this,oe={};if(ee)for(var we in ee)oe[we]=ee[we];return oe.keyPrefix=me(ee,pe._defaultConfig),ge()?(pe._dbInfo=oe,oe.serializer=vr,f.resolve()):f.reject()}function Le(ee){var pe=this,oe=pe.ready().then(function(){for(var we=pe._dbInfo.keyPrefix,Ae=localStorage.length-1;Ae>=0;Ae--){var _e=localStorage.key(Ae);_e.indexOf(we)===0&&localStorage.removeItem(_e)}});return d(oe,ee),oe}function wt(ee,pe){var oe=this;ee=p(ee);var we=oe.ready().then(function(){var Ae=oe._dbInfo,_e=localStorage.getItem(Ae.keyPrefix+ee);return _e&&(_e=Ae.serializer.deserialize(_e)),_e});return d(we,pe),we}function Ut(ee,pe){var oe=this,we=oe.ready().then(function(){for(var Ae=oe._dbInfo,_e=Ae.keyPrefix,qe=_e.length,it=localStorage.length,at=1,ut=0;ut<it;ut++){var vt=localStorage.key(ut);if(vt.indexOf(_e)===0){var Lt=localStorage.getItem(vt);if(Lt&&(Lt=Ae.serializer.deserialize(Lt)),Lt=ee(Lt,vt.substring(qe),at++),Lt!==void 0)return Lt}}});return d(we,pe),we}function pn(ee,pe){var oe=this,we=oe.ready().then(function(){var Ae=oe._dbInfo,_e;try{_e=localStorage.key(ee)}catch{_e=null}return _e&&(_e=_e.substring(Ae.keyPrefix.length)),_e});return d(we,pe),we}function rr(ee){var pe=this,oe=pe.ready().then(function(){for(var we=pe._dbInfo,Ae=localStorage.length,_e=[],qe=0;qe<Ae;qe++){var it=localStorage.key(qe);it.indexOf(we.keyPrefix)===0&&_e.push(it.substring(we.keyPrefix.length))}return _e});return d(oe,ee),oe}function dr(ee){var pe=this,oe=pe.keys().then(function(we){return we.length});return d(oe,ee),oe}function Ln(ee,pe){var oe=this;ee=p(ee);var we=oe.ready().then(function(){var Ae=oe._dbInfo;localStorage.removeItem(Ae.keyPrefix+ee)});return d(we,pe),we}function Nr(ee,pe,oe){var we=this;ee=p(ee);var Ae=we.ready().then(function(){pe===void 0&&(pe=null);var _e=pe;return new f(function(qe,it){var at=we._dbInfo;at.serializer.serialize(pe,function(ut,vt){if(vt)it(vt);else try{localStorage.setItem(at.keyPrefix+ee,ut),qe(_e)}catch(Lt){(Lt.name==="QuotaExceededError"||Lt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&it(Lt),it(Lt)}})})});return d(Ae,oe),Ae}function hi(ee,pe){if(pe=m.apply(this,arguments),ee=typeof ee!="function"&&ee||{},!ee.name){var oe=this.config();ee.name=ee.name||oe.name,ee.storeName=ee.storeName||oe.storeName}var we=this,Ae;return ee.name?Ae=new f(function(_e){ee.storeName?_e(me(ee,we._defaultConfig)):_e(ee.name+"/")}).then(function(_e){for(var qe=localStorage.length-1;qe>=0;qe--){var it=localStorage.key(qe);it.indexOf(_e)===0&&localStorage.removeItem(it)}}):Ae=f.reject("Invalid arguments"),d(Ae,pe),Ae}var an={_driver:"localStorageWrapper",_initStorage:Me,_support:Mi(),iterate:Ut,getItem:wt,setItem:Nr,removeItem:Ln,clear:Le,length:dr,key:pn,keys:rr,dropInstance:hi},Pr=function(pe,oe){return pe===oe||typeof pe=="number"&&typeof oe=="number"&&isNaN(pe)&&isNaN(oe)},ii=function(pe,oe){for(var we=pe.length,Ae=0;Ae<we;){if(Pr(pe[Ae],oe))return!0;Ae++}return!1},xr=Array.isArray||function(ee){return Object.prototype.toString.call(ee)==="[object Array]"},Fi={},Io={},Bi={INDEXEDDB:Tt,WEBSQL:di,LOCALSTORAGE:an},Bo=[Bi.INDEXEDDB._driver,Bi.WEBSQL._driver,Bi.LOCALSTORAGE._driver],ps=["dropInstance"],ms=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ps),jo={description:"",driver:Bo.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ba(ee,pe){ee[pe]=function(){var oe=arguments;return ee.ready().then(function(){return ee[pe].apply(ee,oe)})}}function ko(){for(var ee=1;ee<arguments.length;ee++){var pe=arguments[ee];if(pe)for(var oe in pe)pe.hasOwnProperty(oe)&&(xr(pe[oe])?arguments[0][oe]=pe[oe].slice():arguments[0][oe]=pe[oe])}return arguments[0]}var Jl=function(){function ee(pe){o(this,ee);for(var oe in Bi)if(Bi.hasOwnProperty(oe)){var we=Bi[oe],Ae=we._driver;this[oe]=Ae,Fi[Ae]||this.defineDriver(we)}this._defaultConfig=ko({},jo),this._config=ko({},this._defaultConfig,pe),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ee.prototype.config=function(oe){if((typeof oe>"u"?"undefined":s(oe))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var we in oe){if(we==="storeName"&&(oe[we]=oe[we].replace(/\W/g,"_")),we==="version"&&typeof oe[we]!="number")return new Error("Database version must be a number.");this._config[we]=oe[we]}return"driver"in oe&&oe.driver?this.setDriver(this._config.driver):!0}else return typeof oe=="string"?this._config[oe]:this._config},ee.prototype.defineDriver=function(oe,we,Ae){var _e=new f(function(qe,it){try{var at=oe._driver,ut=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!oe._driver){it(ut);return}for(var vt=ms.concat("_initStorage"),Lt=0,Mn=vt.length;Lt<Mn;Lt++){var Kt=vt[Lt],ir=!ii(ps,Kt);if((ir||oe[Kt])&&typeof oe[Kt]!="function"){it(ut);return}}var Qr=function(){for(var cf=function(il){return function(){var gu=new Error("Method "+il+" is not implemented by the current driver"),bh=f.reject(gu);return d(bh,arguments[arguments.length-1]),bh}},vh=0,g1=ps.length;vh<g1;vh++){var Xp=ps[vh];oe[Xp]||(oe[Xp]=cf(Xp))}};Qr();var Er=function(cf){Fi[at]&&console.info("Redefining LocalForage driver: "+at),Fi[at]=oe,Io[at]=cf,qe()};"_support"in oe?oe._support&&typeof oe._support=="function"?oe._support().then(Er,it):Er(!!oe._support):Er(!0)}catch(Uo){it(Uo)}});return h(_e,we,Ae),_e},ee.prototype.driver=function(){return this._driver||null},ee.prototype.getDriver=function(oe,we,Ae){var _e=Fi[oe]?f.resolve(Fi[oe]):f.reject(new Error("Driver not found."));return h(_e,we,Ae),_e},ee.prototype.getSerializer=function(oe){var we=f.resolve(vr);return h(we,oe),we},ee.prototype.ready=function(oe){var we=this,Ae=we._driverSet.then(function(){return we._ready===null&&(we._ready=we._initDriver()),we._ready});return h(Ae,oe,oe),Ae},ee.prototype.setDriver=function(oe,we,Ae){var _e=this;xr(oe)||(oe=[oe]);var qe=this._getSupportedDrivers(oe);function it(){_e._config.driver=_e.driver()}function at(Lt){return _e._extend(Lt),it(),_e._ready=_e._initStorage(_e._config),_e._ready}function ut(Lt){return function(){var Mn=0;function Kt(){for(;Mn<Lt.length;){var ir=Lt[Mn];return Mn++,_e._dbInfo=null,_e._ready=null,_e.getDriver(ir).then(at).catch(Kt)}it();var Qr=new Error("No available storage method found.");return _e._driverSet=f.reject(Qr),_e._driverSet}return Kt()}}var vt=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=vt.then(function(){var Lt=qe[0];return _e._dbInfo=null,_e._ready=null,_e.getDriver(Lt).then(function(Mn){_e._driver=Mn._driver,it(),_e._wrapLibraryMethodsWithReady(),_e._initDriver=ut(qe)})}).catch(function(){it();var Lt=new Error("No available storage method found.");return _e._driverSet=f.reject(Lt),_e._driverSet}),h(this._driverSet,we,Ae),this._driverSet},ee.prototype.supports=function(oe){return!!Io[oe]},ee.prototype._extend=function(oe){ko(this,oe)},ee.prototype._getSupportedDrivers=function(oe){for(var we=[],Ae=0,_e=oe.length;Ae<_e;Ae++){var qe=oe[Ae];this.supports(qe)&&we.push(qe)}return we},ee.prototype._wrapLibraryMethodsWithReady=function(){for(var oe=0,we=ms.length;oe<we;oe++)Ba(this,ms[oe])},ee.prototype.createInstance=function(oe){return new ee(oe)},ee}(),od=new Jl;r.exports=od},{3:3}]},{},[4])(4)})})(Unt);var far=Unt.exports;const kT=tf(far);var Ha=[];for(var AK=0;AK<256;++AK)Ha.push((AK+256).toString(16).slice(1));function dar(e,t=0){return(Ha[e[t+0]]+Ha[e[t+1]]+Ha[e[t+2]]+Ha[e[t+3]]+"-"+Ha[e[t+4]]+Ha[e[t+5]]+"-"+Ha[e[t+6]]+Ha[e[t+7]]+"-"+Ha[e[t+8]]+Ha[e[t+9]]+"-"+Ha[e[t+10]]+Ha[e[t+11]]+Ha[e[t+12]]+Ha[e[t+13]]+Ha[e[t+14]]+Ha[e[t+15]]).toLowerCase()}var FO,har=new Uint8Array(16);function par(){if(!FO&&(FO=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!FO))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return FO(har)}var mar=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Fke={randomUUID:mar};function n7(e,t,n){if(Fke.randomUUID&&!e)return Fke.randomUUID();e=e||{};var r=e.random||(e.rng||par)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,dar(r)}class znt{constructor(t){ll(this,"engine");ll(this,"connected",!1);ll(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function r7(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function w4(e){return e.participantId!==void 0}class Xh extends znt{constructor(){super("firebase");ll(this,"RECAPTCHAV3TOKEN","6LdQ8qUqAAAAAPE14fuWshHdzOerFOSMhzEdA1Wp");ll(this,"firestore");ll(this,"collectionPrefix","prod-");ll(this,"studyCollection");ll(this,"storage");ll(this,"studyId","");ll(this,"localForage",kT.createInstance({name:"currentParticipantId"}));ll(this,"participantData",null);ll(this,"userManagementData",{});const n=Sz.parse(`
{
  apiKey: "AIzaSyBB3ZVfd5sNerH0LLPbe8Pn-NXtLOO4-8M",
  authDomain: "vis-decode-operator-1eb8d.firebaseapp.com",
  projectId: "vis-decode-operator-1eb8d",
  storageBucket: "vis-decode-operator-1eb8d.firebasestorage.app",
  messagingSenderId: "967262141033",
  appId: "1:967262141033:web:b1ed6ad992b441194440f8"
}
`),r=iet(n);this.firestore=dor(r,{}),this.storage=z6e();try{aar(r,{provider:new S0e(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{await hor(this.firestore),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){try{const i=KF();if(!i.currentUser&&(await jer(i),!i.currentUser))throw new Error("Login failed with firebase");this.studyCollection=ac(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=await this.getCurrentConfigHash(),o=await r7(JSON.stringify(r));if(await this._pushToFirebaseStorage(`configs/${o}`,"config",r),s&&s!==o){try{await this._deleteFromFirebaseStorage("","sequenceArray")}catch{}await this.clearCurrentParticipantId()}return await this._setCurrentConfigHash(o),Promise.resolve()}catch(i){return console.warn("Failed to connect to Firebase."),Promise.reject(i)}}async initializeParticipantSession(n,r,i,s,o){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(o),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this._getFromFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData"),u=await this.getModes(n);if(w4(a))return this.participantData=a,a;const l=await r7(JSON.stringify(i));return this.participantData={participantId:this.currentParticipantId,participantConfigHash:l,sequence:await this.getSequence(),answers:{},searchParams:r,metadata:s,completed:!1,rejected:!1,participantTags:[]},u.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getCurrentConfigHash(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=gs(this.studyCollection,"configHash"),r=await DO(n);return r.exists()?r.data().configHash:null}async _setCurrentConfigHash(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=gs(this.studyCollection,"configHash");await ku(r,{configHash:n})}async getAllConfigsFromHash(n,r){const i=n.map(a=>{const u=mf(this.storage,`${this.collectionPrefix}${r}/configs/${a}_config`);return this._getFromFirebaseStorageByRef(u,"config")}),s=await Promise.all(i),o={};return n.forEach((a,u)=>o[a]=s[u]),o}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return this.currentParticipantId=n7(),await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAudio(n,r){const i=s=>{this._pushToFirebaseStorage(`/audio/${this.currentParticipantId}`,r,s.data)};n.addEventListener("dataavailable",i),n.requestData(),setTimeout(()=>{n.removeEventListener("dataavailable",i)},0)}async saveAnswers(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId||this.participantData===null)throw new Error("Participant not initialized");this.participantData={...this.participantData,answers:n},await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this._pushToFirebaseStorage("","sequenceArray",n)}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this._getFromFirebaseStorage("","sequenceArray");return Array.isArray(n)?n:null}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=await this.getModes(this.studyId),i=gs(this.studyCollection,"sequenceAssignment");await ku(i,{});const s=ac(i,"sequenceAssignment"),o=gs(s,this.currentParticipantId),a=EK(s,Ske("rejected","==",!0),Ske("claimed","==",!1)),u=await pT(a);if(u.docs.length>0){const m=u.docs[0],g=m.data().timestamp;r.dataCollectionEnabled&&(await ku(m.ref,{claimed:!0}),await ku(o,{participantId:this.currentParticipantId,timestamp:g,rejected:!1,claimed:!1,completed:null}))}else r.dataCollectionEnabled&&await ku(o,{participantId:this.currentParticipantId,timestamp:Rke(),rejected:!1,claimed:!1,completed:null});const l=EK(s,Ake("timestamp","asc")),d=(await pT(l)).docs.map(m=>m.data()).filter(m=>!m.rejected).findIndex(m=>m.participantId===this.currentParticipantId)%n.length,h=d===-1?Math.floor(Math.random()*n.length-1):d,p=n[h];if(!p)throw new Error("Latin square is empty");return p}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=mf(this.storage,`${this.collectionPrefix}${this.studyId}/participants`),r=await b4(n),i=[],s=r.items.map(async o=>{const a=await this._getFromFirebaseStorageByRef(o,"participantData");w4(a)&&i.push(a)});return await Promise.all(s),i}async getAudio(n,r){const i=z6e(),s=await RO(mf(i,`${this.collectionPrefix}${this.studyId}/audio/${r}_${n}`));return new Promise(a=>{const u=new XMLHttpRequest;u.responseType="blob",u.onload=()=>{const l=u.response,c=URL.createObjectURL(l);a(c)},u.open("GET",s),u.send()})}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(this.currentParticipantId===null&&!n)throw new Error("Participant not initialized");const r=await this._getFromFirebaseStorage(`participants/${n||this.currentParticipantId}`,"participantData");return w4(r)?r:null}async getParticipantTags(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.participantTags}async addParticipantTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=[...new Set([...r.participantTags,...n])],await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",r)}async removeParticipantTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=r.participantTags.filter(i=>!n.includes(i)),await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",r)}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=n7();await this.localForage.setItem("currentParticipantId",n)}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");if(await this.getParticipantData(),!this.participantData)throw new Error("Participant not initialized");const n=await this.getModes(this.studyId);if(this.participantData.completed)return!0;this.participantData.completed=!0,n.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData);const r=gs(this.studyCollection,"sequenceAssignment"),i=ac(r,"sequenceAssignment"),s=gs(i,this.currentParticipantId);return await kke(s,{completed:Rke()}),!0}async getUserManagementData(n){if(Object.keys(this.userManagementData).length===0){const r=ac(this.firestore,"user-management"),i=await pT(r),s=Object.fromEntries(i.docs.map(o=>[o.id,o.data()]));this.userManagementData=s}return n in this.userManagementData?this.userManagementData[n]:null}async validateUser(n,r=!1){if(r&&(this.userManagementData={}),n!=null&&n.user){const i=await this.getUserManagementData("authentication");if(i!=null&&i.isEnabled){const s=await this.getUserManagementData("adminUsers");if(s&&s.adminUsersList){const o=Object.fromEntries(s.adminUsersList.map(u=>[u.email,u.uid]));if(n.user.email&&(o[n.user.email]===n.user.uid||o[n.user.email]===null)){if(n.user.email&&o[n.user.email]===null){const u=s.adminUsersList.find(l=>l.email===n.user.email);u&&(u.uid=n.user.uid),await ku(gs(this.firestore,"user-management","adminUsers"),{adminUsersList:s.adminUsersList})}return!0}return!1}}return!0}return!1}async changeAuth(n){await ku(gs(this.firestore,"user-management","authentication"),{isEnabled:n})}async addAdminUser(n){const r=await this.getUserManagementData("adminUsers");if(r!=null&&r.adminUsersList){const i=r.adminUsersList;i.find(o=>o.email===n.email)||(i.push({email:n.email,uid:n.uid}),await ku(gs(this.firestore,"user-management","adminUsers"),{adminUsersList:i}))}else await ku(gs(this.firestore,"user-management","adminUsers"),{adminUsersList:[{email:n.email,uid:n.uid}]})}async removeAdminUser(n){const r=await this.getUserManagementData("adminUsers");r!=null&&r.adminUsersList&&r.adminUsersList.length>1&&r.adminUsersList.find(i=>i.email===n)&&(r.adminUsersList=r==null?void 0:r.adminUsersList.filter(i=>i.email!==n),await ku(gs(this.firestore,"user-management","adminUsers"),{adminUsersList:r==null?void 0:r.adminUsersList}))}async getAllParticipantsDataByStudy(n){const r=mf(this.storage,`${this.collectionPrefix}${n}/participants`),i=await b4(r),s=[],o=i.items.map(async a=>{const u=await this._getFromFirebaseStorageByRef(a,"participantData");w4(u)&&s.push(u)});return await Promise.all(o),s}async rejectParticipant(n,r,i){const s=ac(this.firestore,`${this.collectionPrefix}${n}`),o=mf(this.storage,`${this.collectionPrefix}${n}/participants/${r}_participantData`),a=await this._getFromFirebaseStorageByRef(o,"participantData");try{if(!a||!w4(a)||a.rejected)return;a.rejected={reason:i,timestamp:new Date().getTime()},await this._pushToFirebaseStorageByRef(o,"participantData",a);const u=gs(s,"sequenceAssignment"),l=ac(u,"sequenceAssignment"),c=gs(l,r);await kke(c,{rejected:!0})}catch{console.warn("Failed to reject the participant.")}}async rejectCurrentParticipant(n,r){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.rejectParticipant(n,this.currentParticipantId,r)}async setMode(n,r,i){const s=gs(this.firestore,"metadata",`${this.collectionPrefix}${n}`);return await ku(s,{[r]:i},{merge:!0})}async getModes(n){const r=gs(this.firestore,"metadata",`${this.collectionPrefix}${n}`),i=await DO(r);if(i.exists())return i.data();const s={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return await ku(r,s),s}async getParticipantsStatusCounts(n){const r=ac(this.firestore,`${this.collectionPrefix}${n}`),i=gs(r,"sequenceAssignment"),s=ac(i,"sequenceAssignment"),o=EK(s,Ake("timestamp","asc")),u=(await pT(o)).docs.map(p=>p.data()),l=u.filter(p=>p.completed&&!p.rejected).length,c=u.filter(p=>p.rejected).length,f=u.length-l-c,d=u.length>0?u[0].timestamp:null,h=u.length>0?u.at(-1).timestamp:null;return{completed:l,rejected:c,inProgress:f,minTime:d,maxTime:h}}async createSnapshot(n,r){const i=`${this.collectionPrefix}${n}`;if(!await this._directoryExists(i))return console.warn(`Source directory ${i} does not exist.`),{status:"FAILED",error:{message:"There is currently no data in your study. A snapshot could not be created.",title:"Failed to Create Snapshot."}};const s=new Date,o=s.getUTCFullYear(),a=(s.getUTCMonth()+1).toString().padStart(2,"0"),u=s.getUTCDate().toString().padStart(2,"0"),l=s.getUTCHours().toString().padStart(2,"0"),c=s.getUTCMinutes().toString().padStart(2,"0"),f=s.getUTCSeconds().toString().padStart(2,"0"),d=`${o}-${a}-${u}T${l}:${c}:${f}`,h=`${this.collectionPrefix}${n}-snapshot-${d}`;await this._copyDirectory(`${i}/configs`,`${h}/configs`),await this._copyDirectory(`${i}/participants`,`${h}/participants`),await this._copyDirectory(i,h),await this._copyCollection(i,h),await this._addDirectoryNameToMetadata(h);const p=[];if(r){const m=await this.removeSnapshotOrLive(i,!1);m.status==="FAILED"?p.push({title:m.error.title,message:m.error.message,color:"red"}):p.push({title:"Success!",message:"Successfully deleted live data.",color:"green"})}return p.push({message:"Successfully created snapshot",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:p}}async removeSnapshotOrLive(n,r){try{const i=n.startsWith(this.collectionPrefix)?n:`${this.collectionPrefix}${n}`;return await this._deleteDirectory(`${i}/configs`),await this._deleteDirectory(`${i}/participants`),await this._deleteDirectory(i),await this._deleteCollection(i),r&&await this._removeNameFromMetadata(i),{status:"SUCCESS",notifications:[{message:"Successfully deleted snapshot or live data.",title:"Success!",color:"green"}]}}catch{return{status:"FAILED",error:{title:"Failed to delete live data or snapshot",message:"There was an unspecified error when trying to remove a snapshot or live data."}}}}async getSnapshots(n){try{const r=gs(this.firestore,"metadata","collections"),i=await DO(r);if(i.exists()){const s=i.data();return Object.keys(s).filter(u=>u.startsWith(`${this.collectionPrefix}${n}-snapshot`)).map(u=>{const l=s[u];let c;return typeof l=="boolean"?c=u:l&&typeof l=="object"&&l.enabled===!0?c=l.name:c=null,{originalName:u,alternateName:c}}).filter(u=>u.alternateName!==null).sort((u,l)=>u.originalName.localeCompare(l.originalName)).reverse()}return[]}catch(r){throw console.error("Error listing collections with prefix:",r),r}}async restoreSnapshot(n,r){const i=`${this.collectionPrefix}${n}`,s=[];try{const o=await this.createSnapshot(n,!0);return o.status==="FAILED"?(console.warn("No live data to capture."),s.push({title:o.error.title,message:o.error.message,color:"yellow"})):s.push({title:"Success!",message:"Successfully created snapshot of live data.",color:"green"}),await this._copyDirectory(`${r}/configs`,`${i}/configs`),await this._copyDirectory(`${r}/participants`,`${i}/participants`),await this._copyDirectory(r,i),await this._copyCollection(r,i),s.push({message:"Successfully restored snapshot to live data.",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:s}}catch(o){return console.error("Error trying to delete a snapshot",o),{status:"FAILED",error:{title:"Failed to restore a snapshot fully.",message:"There was an unspecified error when trying to restore this snapshot."}}}}async _addDirectoryNameToMetadata(n){try{const r=gs(this.firestore,"metadata","collections");await ku(r,{[n]:{enabled:!0,name:n}},{merge:!0})}catch(r){throw console.error("Error adding collection to metadata:",r),r}}async renameSnapshot(n,r){try{const i=gs(this.firestore,"metadata","collections");return await ku(i,{[n]:{enabled:!0,name:r}},{merge:!0}),{status:"SUCCESS",notifications:[{message:"Successfully renamed snapshot.",title:"Success!",color:"green"}]}}catch(i){return console.error("Error renaming collection in metadata",i),{status:"FAILED",error:{title:"Failed to Rename Snapshot.",message:"There was an error when trying to rename the snapshot."}}}}async _removeNameFromMetadata(n){try{const r=gs(this.firestore,"metadata","collections"),i=await DO(r);if(i.exists()){const s=i.data();s[n]?(delete s[n],await ku(r,s)):console.warn(`${n} does not exist in metadata.`)}else console.warn("No metadata found.")}catch(r){throw console.error("Error removing collection from metadata:",r),r}}async _deleteDirectory(n){try{const r=mf(this.storage,n),s=(await b4(r)).items.map(o=>U6e(o));await Promise.all(s)}catch(r){console.error("Error deleting files in directory:",r)}}async _copyDirectory(n,r){try{const i=mf(this.storage,n),o=(await b4(i)).items.map(a=>{const u=a.fullPath,l=u.replace(n,r);return this._copyFile(u,l)});await Promise.all(o)}catch(i){console.error("Error copying file:",i)}}async _copyFile(n,r){try{const i=mf(this.storage,n),s=mf(this.storage,r),o=await RO(i),u=await(await fetch(o)).blob();await kO(s,u)}catch(i){console.error("Error copying file:",i)}}async _copyCollection(n,r){const i=ac(this.firestore,n),s=gs(i,"sequenceAssignment"),o=ac(s,"sequenceAssignment"),a=ac(this.firestore,r),u=gs(a,"sequenceAssignment");await ku(u,{});const l=ac(u,"sequenceAssignment"),c=await pT(o),f=$ke(this.firestore);c.docs.forEach(d=>{const h=gs(l,d.id);f.set(h,d.data())}),await f.commit()}async _deleteCollection(n){const r=ac(this.firestore,n),i=gs(r,"sequenceAssignment"),s=ac(i,"sequenceAssignment"),o=await pT(s),a=$ke(this.firestore);o.forEach(u=>{const l=gs(s,u.id);a.delete(l)}),a.delete(i),await a.commit()}async _directoryExists(n){try{const r=mf(this.storage,n);return(await b4(r)).items.length>0}catch(r){if(r.code==="storage/object-not-found")return!1;throw console.error("Error checking if directory exists:",r),r}}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=mf(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);let s={};try{const o=await RO(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`${n} does not have ${r} for ${this.collectionPrefix}${this.studyId}.`)}return s}async _getFromFirebaseStorageByRef(n,r){let i={};try{const s=await RO(n),a=await(await fetch(s)).text();i=JSON.parse(a)}catch{console.warn(`${n} with type ${r} not found.`)}return i}async _pushToFirebaseStorage(n,r,i){const s=mf(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);if(i instanceof Blob)await kO(s,i);else if(Object.keys(i).length>0){const o=new Blob([JSON.stringify(i)],{type:"application/json"});await kO(s,o)}}async _pushToFirebaseStorageByRef(n,r,i){if(Object.keys(i).length>0){const s=new Blob([JSON.stringify(i)],{type:"application/json"});await kO(n,s)}}async _deleteFromFirebaseStorage(n,r){const i=mf(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);await U6e(i)}}const Vnt=R.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),w5=()=>R.useContext(Vnt);function gar({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{name:"fakeName",email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,s]=R.useState(t),[o,a]=R.useState(!1),{storageEngine:u}=Ao(),l=async()=>{const h=KF();try{await Ger(h)}catch(p){console.error(`There was an issue signing-out the user: ${p.message}`)}finally{s(n)}},c=()=>{a(!0)},f=async h=>u?await u.validateUser(h,!0):!1;R.useEffect(()=>{s(t);let h;if(u instanceof Xh)try{h=KF()}catch{console.warn("No firebase store.")}const p=async y=>{if(s(v=>({user:v.user,isAdmin:v.isAdmin,determiningStatus:!0,adminVerification:!1})),y){const v={user:y,determiningStatus:!1,isAdmin:!1,adminVerification:!0},b=await f(v);v.isAdmin=!!b,s(v)}else l()},g=(async()=>{if(u instanceof Xh){const y=await(u==null?void 0:u.getUserManagementData("authentication"));if(y!=null&&y.isEnabled){const v=Wer(h,async b=>await p(b));return()=>v()}s(r)}else u&&s(r);return()=>{}})();return()=>{g.then(y=>y())}},[u,o]);const d=R.useMemo(()=>({user:i,triggerAuth:c,logout:l,verifyAdminStatus:f}),[i]);return E.jsx(Vnt.Provider,{value:d,children:i.determiningStatus?E.jsx(qf,{visible:!0}):e})}function yar({cellData:e}){return Number.isFinite(e.endTime)&&Number.isFinite(e.startTime)?E.jsx(ln.Td,{children:E.jsx(zi,{miw:100,children:e.timedOut?E.jsx(Ue,{children:"Timed out"}):Object.entries(e.answer).map(([t,n])=>E.jsxs(ke,{children:[E.jsxs(Ue,{fw:700,span:!0,children:[" ",`${t}: `]}),typeof n=="object"?E.jsx(Ue,{size:"xs",component:"pre",span:!0,children:`${JSON.stringify(n,null,2)}`}):E.jsx(Ue,{span:!0,children:n})]},`cell-${t}`))})}):E.jsx(ln.Td,{children:"N/A"})}function Bke({cellData:e}){const t=(e.endTime-e.startTime)/1e3,n=IVe(e);return Number.isFinite(e.endTime)&&Number.isFinite(e.startTime)?E.jsxs(ln.Td,{children:[t.toFixed(1)," ","s",n&&E.jsxs(E.Fragment,{children:[E.jsx("br",{})," ","(",(n/1e3).toFixed(1)," ","s)"]})]}):E.jsx(ln.Td,{children:"N/A"})}function bar(e){const{metaData:t}=e;return E.jsx(ln.Td,{children:E.jsx(xie,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:E.jsxs(zi,{gap:"xs",children:[E.jsxs(ke,{children:["IP:"," ",t.ip]}),E.jsxs(ke,{children:["Language:"," ",t.language]}),E.jsxs(ke,{children:["Resolution:"," ",JSON.stringify(t.resolution)]}),E.jsxs(ke,{children:["User Agent:"," ",t.userAgent]})]})})})}function _ar({visibleParticipants:e,studyConfig:t,refresh:n}){const{storageEngine:r}=Ao(),{studyId:i}=sm(),{user:s}=w5(),o=async(w,x)=>{if(r&&i)if(s.isAdmin){const S=x===""?"Rejected by admin":x;await r.rejectParticipant(i,w,S),await n()}else console.warn("You are not authorized to perform this action.")},[a,u]=R.useState([]),[l,c]=R.useState(!1),[f,d]=R.useState(!1),[h,p]=R.useState(""),m=async()=>{c(!0),d(!1);const w=a.map(async x=>await o(x,h));await Promise.all(w),u([]),await n(),c(!1)};function g(w){w==="all"?a.length===e.length?u([]):u(e.map(x=>x.participantId)):a.includes(w)?u(a.filter(x=>x!==w)):u([...a,w])}const y=oDe(t.sequence),v=[E.jsx(ln.Th,{children:E.jsx(qt,{justify:"center",children:E.jsx(Ac,{mb:-4,checked:a.length===e.length,onChange:()=>g("all")})})},"action"),E.jsx(ln.Th,{children:"ID"},"ID"),E.jsx(ln.Th,{children:"Status"},"status"),E.jsx(ln.Th,{children:"Tags"},"tags"),E.jsx(ln.Th,{children:"Meta"},"meta"),...y.flatMap(w=>[E.jsx(ln.Th,{children:w.componentName},`header-${w.componentName}-${w.timesSeenInBlock}`),E.jsxs(ln.Th,{children:[E.jsx("span",{style:{whiteSpace:"nowrap"},children:w.componentName})," ","Duration (clean)"]},`header-${w.componentName}-${w.timesSeenInBlock}-duration`)]),E.jsx(ln.Th,{children:"Total Duration (clean)"},"total-duration")],b=e.map(w=>E.jsxs(ln.Tr,{children:[E.jsx(ln.Td,{children:E.jsx(qt,{justify:"center",children:E.jsx(Ac,{mb:-4,checked:a.includes(w.participantId),onChange:()=>g(w.participantId)})})}),E.jsx(ln.Td,{style:{whiteSpace:"nowrap"},children:w.participantId}),E.jsx(ln.Td,{children:E.jsxs(qt,{direction:"column",miw:100,children:[E.jsxs(qt,{direction:"row",align:"center",children:[w.rejected?E.jsx(vs,{label:"Rejected",children:E.jsx(Fie,{size:16,color:"red",style:{marginBottom:-3}})}):w.completed?E.jsx(vs,{label:"Completed",children:E.jsx(s8e,{size:16,color:"teal",style:{marginBottom:-3}})}):E.jsx(vs,{label:"In Progress",children:E.jsx(o8e,{size:16,color:"orange",style:{marginBottom:-3}})}),!w.completed&&E.jsxs(Ue,{size:"sm",mb:-1,ml:4,children:[(Object.entries(w.answers).filter(([x,S])=>S.endTime!==-1&&S.endTime!==void 0).length/(Tp(w.sequence).length-1)*100).toFixed(2),"%"]})]}),w.rejected&&E.jsx(Ue,{mt:5,fz:10,children:w.rejected.reason})]})}),E.jsx(ln.Td,{children:E.jsx(qt,{direction:"column",miw:100,children:(w.participantTags||[]).map(x=>E.jsxs(Ue,{fz:10,children:["-"," ",x]},`tag-${x}`))})}),w.metadata?E.jsx(bar,{metaData:w.metadata}):E.jsx(ln.Td,{children:"N/A"}),y.map(x=>{const S=cse(w.sequence,x.orderPath),A=S&&Object.entries(w.answers).sort((C,$)=>{const k=parseInt(C[0].slice(C[0].lastIndexOf("_")+1),10),P=parseInt($[0].slice($[0].lastIndexOf("_")+1),10);return k-P}).filter(([C])=>{const $=C.slice(0,C.lastIndexOf("_")),k=parseInt(C.slice(C.lastIndexOf("_")+1),10);return $===x.componentName&&k<=S[0].lastIndex&&k>=S[0].firstIndex});return A!==null&&A.length>=x.timesSeenInBlock+1&&A[x.timesSeenInBlock][1].endTime!==-1?E.jsxs(ui.Fragment,{children:[E.jsx(yar,{cellData:A[x.timesSeenInBlock][1]}),E.jsx(Bke,{cellData:A[x.timesSeenInBlock][1]})]},`cellgroup-${w.participantId}-${x.componentName}-${x.timesSeenInBlock}`):E.jsxs(ui.Fragment,{children:[E.jsx(ln.Td,{children:"N/A"}),E.jsx(ln.Td,{children:"N/A"})]},`cellgroup-${w.participantId}-${x.componentName}-${x.timesSeenInBlock}`)}),E.jsx(Bke,{cellData:{startTime:Math.min(...Object.values(w.answers).filter(x=>x.endTime!==-1&&x.endTime!==void 0).map(x=>x.startTime)),endTime:Math.max(...Object.values(w.answers).filter(x=>x.endTime!==-1&&x.endTime!==void 0).map(x=>x.endTime)),answer:{},helpButtonClickedCount:0,incorrectAnswers:{},windowEvents:Object.values(w.answers).flatMap(x=>x.windowEvents),timedOut:!1}},`cell-${w.participantId}-total-duration`)]},w.participantId));return e.length>0?E.jsxs(E.Fragment,{children:[E.jsx(qf,{visible:l,overlayProps:{blur:2}}),E.jsxs(qt,{justify:"space-between",mb:8,p:8,children:[E.jsx(Si,{children:E.jsx(IC,{w:350,variant:"filled",placeholder:"Search for a participant ID",data:[...new Set(e.map(w=>w.participantId))],searchable:!0,value:null,leftSection:E.jsx(Pwt,{size:14}),onChange:w=>w&&g(w)})}),E.jsxs(Si,{children:[E.jsx(KZe,{visibleParticipants:e,studyId:i||""}),E.jsxs(on,{disabled:a.length===0||!s.isAdmin,onClick:()=>d(!0),color:"red",children:["Reject Participants (",a.length,")"]})]})]}),E.jsx(qt,{direction:"column",style:{width:"100%",overflow:"auto"},children:E.jsxs(ln,{striped:!0,withTableBorder:!0,children:[E.jsx(ln.Thead,{children:E.jsx(ln.Tr,{children:v})}),E.jsx(ln.Tbody,{children:b})]})}),E.jsxs(io,{opened:f,onClose:()=>d(!1),title:E.jsxs(Ue,{children:["Reject Participants (",a.length,")"]}),children:[E.jsx(zg,{label:"Please enter the reason for rejection.",onChange:w=>p(w.target.value)}),E.jsxs(qt,{mt:"sm",justify:"right",children:[E.jsx(on,{mr:5,variant:"subtle",color:"dark",onClick:()=>{d(!1),p("")},children:"Cancel"}),E.jsx(on,{color:"red",onClick:()=>m(),children:"Reject Participants"})]})]})]}):E.jsxs(E.Fragment,{children:[E.jsx(iu,{h:"xl"}),E.jsx(qt,{justify:"center",align:"center",children:E.jsx(Ue,{children:"No data available"})})]})}function war({studyId:e,refresh:t}){const[n,r]=R.useState(!1),[i,s]=R.useState(!1),[o,a]=R.useState(!1),[u,l]=R.useState(!1),[c,f]=R.useState(""),[d,h]=R.useState([]),[p,m]=R.useState(""),[g,y]=R.useState(""),[v,b]=R.useState(!1),[w,x]=R.useState(!1),{storageEngine:S}=Ao(),A=S,C=R.useCallback(async()=>{x(!0);const F=await A.getSnapshots(e);h(F),x(!1)},[A,e]);R.useEffect(()=>{C()},[C]);const $=async(F,...j)=>{b(!0);const W=await F(...j);W.status==="SUCCESS"?(C(),b(!1),await t(),W.notifications&&W.notifications.forEach(M=>{CR(M)})):(b(!1),CR({title:W.error.title,message:W.error.message,color:"red"}))},k=async()=>{await $(A.createSnapshot.bind(A),e,!1)},P=async()=>{m(""),r(!1),await $(A.createSnapshot.bind(A),e,!0)},L=async()=>{a(!1),await $(A.renameSnapshot.bind(A),c,g)},O=async F=>{await $(A.restoreSnapshot.bind(A),e,F)},B=async()=>{m(""),s(!1),await $(A.removeSnapshotOrLive.bind(A),c,!0)},q=async()=>{m(""),l(!1),await $(A.removeSnapshotOrLive.bind(A),e,!0)},H=()=>U1e({title:"Create a Snapshot",children:E.jsx(Ue,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>k()}),G=F=>U1e({title:"Restore Snapshot",children:E.jsx(Ue,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>O(F)}),K=F=>{const j=/-snapshot-(.+)$/,W=F.match(j);return W&&W[1]?W[1].replace("T"," "):null},J=async F=>{const j=F.slice(F.indexOf("-")+1);return await A.getAllParticipantsDataByStudy(j)};return E.jsxs(E.Fragment,{children:[E.jsx(qf,{visible:v}),E.jsxs(qt,{justify:"space-between",align:"center",children:[E.jsxs(ke,{style:{width:"70%"},children:[E.jsx(to,{order:5,children:"Create a Snapshot"}),E.jsxs(Ue,{children:["This will create a snapshot of the live"," ",E.jsx(Ue,{span:!0,fw:700,children:e})," ","database. It will"," ",E.jsx(Ue,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),E.jsx(vs,{label:"Create a snapshot",children:E.jsx(on,{onClick:H,children:"Snapshot"})})]}),E.jsx(iu,{h:"lg"}),E.jsxs(qt,{justify:"space-between",align:"center",children:[E.jsxs(ke,{style:{width:"70%"},children:[E.jsx(to,{order:5,children:"Archive Data"}),E.jsxs(Ue,{children:["This will create a snapshot of the live"," ",E.jsx(Ue,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),E.jsx(vs,{label:"Snapshot and Delete Data",children:E.jsx(on,{color:"red",onClick:()=>r(!0),children:"Archive"})})]}),E.jsx(iu,{h:"lg"}),E.jsxs(qt,{justify:"space-between",align:"center",children:[E.jsxs(ke,{style:{width:"70%"},children:[E.jsx(to,{order:5,children:"Delete Data"}),E.jsxs(Ue,{children:["This will delete the live"," ",E.jsx(Ue,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),E.jsx(vs,{label:"Delete Data",children:E.jsx(on,{color:"red",onClick:()=>l(!0),children:"Delete"})})]}),E.jsx(iu,{h:"xl"}),E.jsxs(qt,{direction:"column",children:[E.jsx(qt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:"xs",pb:"sm",children:E.jsx(to,{order:5,children:"Snapshots"})}),E.jsxs(ke,{style:{position:"relative"},children:[E.jsx(qf,{visible:w}),d.length>0?E.jsxs(ln,{children:[E.jsx(ln.Thead,{children:E.jsxs(ln.Tr,{children:[E.jsx(ln.Th,{children:"Snapshot Name"}),E.jsx(ln.Th,{children:"Date Created"}),E.jsx(ln.Th,{children:"Actions"})]})}),E.jsx(ln.Tbody,{children:d.map(F=>E.jsxs(ln.Tr,{children:[E.jsx(ln.Td,{children:F.alternateName}),E.jsx(ln.Td,{children:K(F.originalName)}),E.jsx(ln.Td,{children:E.jsxs(qt,{children:[E.jsx(vs,{label:"Rename",children:E.jsx(on,{color:"green",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{a(!0),f(F.originalName)},children:E.jsx(Iwt,{})})}),E.jsx(vs,{label:"Restore Snapshot",children:E.jsx(on,{color:"blue",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{G(F.originalName)},children:E.jsx($wt,{})})}),E.jsx(vs,{label:"Delete Snapshot",children:E.jsx(on,{color:"red",px:4,variant:"light",style:{margin:"0px 10px 0px 5px"},onClick:()=>{s(!0),f(F.originalName)},children:E.jsx(l8e,{})})}),E.jsx(KZe,{visibleParticipants:()=>J(F.originalName),studyId:e,gap:"10px",fileName:F.alternateName})]})})]},F.originalName))})]}):E.jsx(Ue,{children:"No snapshots."})]})]}),E.jsxs(io,{opened:n,onClose:()=>{r(!1),m("")},title:E.jsx(Ue,{children:"Archive Data"}),children:[E.jsx(Ue,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),E.jsx(zg,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:F=>m(F.target.value)}),E.jsxs(qt,{mt:"sm",justify:"right",children:[E.jsx(on,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),m("")},children:"Cancel"}),E.jsx(on,{color:"red",onClick:P,disabled:p!==e,children:"Archive"})]})]}),E.jsxs(io,{opened:i,onClose:()=>{s(!1),m("")},title:E.jsx(Ue,{children:"Delete Snapshot"}),children:[E.jsxs(Ue,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",E.jsx(Ue,{span:!0,fw:700,children:"irreversible"}),"."]}),E.jsx(zg,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:F=>m(F.target.value)}),E.jsxs(qt,{mt:"sm",justify:"right",children:[E.jsx(on,{mr:5,variant:"subtle",color:"dark",onClick:()=>{s(!1),m("")},children:"Cancel"}),E.jsx(on,{color:"red",onClick:B,disabled:p!==e,children:"Delete"})]})]}),E.jsxs(io,{opened:o,onClose:()=>{a(!1),y("")},title:E.jsx(Ue,{children:"Rename Snapshot"}),children:[E.jsx(zg,{label:"Enter the new name of the snapshot.",placeholder:c,onChange:F=>y(F.target.value)}),E.jsxs(qt,{mt:"sm",justify:"right",children:[E.jsx(on,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),y("")},children:"Cancel"}),E.jsx(on,{color:"green",onClick:L,disabled:!g||g.length===0,children:"Rename"})]})]}),E.jsxs(io,{opened:u,onClose:()=>{l(!1),m("")},title:E.jsx(Ue,{children:"Delete Live Data"}),children:[E.jsxs(Ue,{mb:"sm",children:["This will permanently delete the live"," ",E.jsx(Ue,{span:!0,fw:700,children:e})," ","data. This action is"," ",E.jsx(Ue,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),E.jsx(zg,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:F=>m(F.target.value)}),E.jsxs(qt,{mt:"sm",justify:"right",children:[E.jsx(on,{mr:5,variant:"subtle",color:"dark",onClick:()=>{l(!1),m("")},children:"Cancel"}),E.jsx(on,{color:"red",onClick:q,disabled:p!==e,children:"Delete"})]})]})]})}function xar({studyId:e}){const{storageEngine:t}=Ao(),[n,r]=R.useState(!1),[i,s]=R.useState(!1),[o,a]=R.useState(!1),[u,l]=R.useState(!1);R.useEffect(()=>{(async()=>{if(t){const d=await t.getModes(e);s(d.dataCollectionEnabled),a(d.studyNavigatorEnabled),l(d.analyticsInterfacePubliclyAccessible),r(!0)}})()},[t,e]);const c=async(f,d)=>{t&&(await t.setMode(e,f,d),f==="dataCollectionEnabled"?s(d):f==="studyNavigatorEnabled"?a(d):f==="analyticsInterfacePubliclyAccessible"&&l(d))};return n&&E.jsxs(zi,{children:[E.jsx(dS,{label:"Data Collection Enabled",checked:i,onChange:f=>c("dataCollectionEnabled",f.currentTarget.checked)}),E.jsx(dS,{label:"Study Navigator Enabled",checked:o,onChange:f=>c("studyNavigatorEnabled",f.currentTarget.checked)}),E.jsx(dS,{label:"Analytics Interface Publicly Accessible",checked:u,onChange:f=>c("analyticsInterfacePubliclyAccessible",f.currentTarget.checked)})]})}function Ear({studyId:e,refresh:t}){const{storageEngine:n}=Ao();return E.jsx($l,{children:E.jsxs(pc,{multiple:!0,variant:"contained",children:[E.jsxs(pc.Item,{value:"ReVISit Modes",children:[E.jsx(pc.Control,{children:E.jsx(to,{order:5,children:"ReVISit Modes"})}),E.jsx(pc.Panel,{children:E.jsx(xar,{studyId:e})})]},"modes"),E.jsxs(pc.Item,{value:"Data Management",children:[E.jsx(pc.Control,{disabled:(n==null?void 0:n.getEngine())==="localStorage",children:E.jsx(to,{order:5,children:"Data Management"})}),E.jsx(pc.Panel,{children:(n==null?void 0:n.getEngine())!=="localStorage"&&E.jsx(war,{studyId:e,refresh:t})})]},"dataManagement")]})})}function Tar({response:e,participantData:t,trialId:n,trialConfig:r}){const[i,{toggle:s}]=Wne(!0),[o,a]=Mf(),u=R.useMemo(()=>e.type==="metadata"?[]:t.map(d=>Object.entries(d.answers).filter(([h])=>h.slice(0,h.lastIndexOf("_"))===n)).map(d=>d.map(([,h])=>h.answer)).flat(),[t,e.type,n]),l=R.useMemo(()=>{var d;return e.type==="metadata"||(d=r.correctAnswer)==null?void 0:d.find(h=>h.id===e.id)},[e.id,e.type,r.correctAnswer]),c=R.useMemo(()=>{const f={height:"container",width:"container"};if(e.type==="shortText"||e.type==="longText")return{};if(e.type==="metadata"){const h=t.map(m=>Object.entries(m.answers).filter(([g])=>g.slice(0,g.lastIndexOf("_"))===n)).map(m=>m.filter(([g,y])=>y.endTime!==-1).map(([g,y])=>(y.endTime-y.startTime)/1e3)).flat();return{...f,data:{values:h},mark:"bar",encoding:{x:{field:"data",bin:!0,type:"quantitative",title:"Time (s)"},y:{aggregate:"count",type:"quantitative",title:"Count"}}}}const d={params:[{name:"correctAnswer",value:l==null?void 0:l.answer},{name:"variable",value:e.id}],transform:[{calculate:"datum[variable] === correctAnswer ? 'correct' : 'incorrect'",as:"result"},{calculate:"if(datum.result === 'correct', 0, if(datum.result === 'incorrect', 1, 2))",as:"order"}],color:{field:"result",type:"nominal",scale:{domain:["correct","incorrect"],range:["#69DB7C","#ADB5BD"]}},order:{field:"order"}};if(e.type==="numerical"||e.type==="slider"||e.type==="likert"){let h,p;return e.type==="numerical"&&(h=e.min,p=e.max),e.type==="slider"&&(h=Math.min(...e.options.map(g=>g.value)),p=Math.max(...e.options.map(g=>g.value))),e.type==="likert"&&(h=1,p=e.numItems),{...f,data:{values:u},mark:"bar",params:l!==void 0?d.params:void 0,transform:[{bin:e.type==="likert"?{step:1}:{maxbins:10},field:e.id,as:"bins"},...l!==void 0?d.transform:[]],encoding:{x:{field:"bins",scale:h!==void 0&&p!==void 0?{domain:[h,p]}:void 0,type:"quantitative",title:"Answer"},x2:{field:"bins_end"},y:{aggregate:"count",type:"quantitative",title:"Count",stack:!0},color:l!==void 0?d.color:void 0,order:l!==void 0?d.order:void 0}}}if(e.type==="radio"||e.type==="dropdown"||e.type==="checkbox")return{...f,data:{values:u},mark:"bar",params:l!==void 0?d.params:void 0,transform:l!==void 0?d.transform:void 0,encoding:{x:{field:e.id,type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:l!==void 0?d.color:void 0}}},[t,u,e.id,e.max,e.min,e.numItems,e.options,e.type,n,l]);return E.jsxs(yC,{p:"lg",withBorder:!0,ref:o,children:[E.jsxs(qt,{direction:"row",justify:"space-between",onClick:s,children:[E.jsxs(qt,{align:"center",children:[e.type==="metadata"&&E.jsx(ywt,{size:20}),e.type==="numerical"&&E.jsx(Awt,{size:20}),(e.type==="shortText"||e.type==="longText")&&E.jsx(pwt,{size:20}),e.type==="likert"&&E.jsx(_wt,{size:20}),e.type==="dropdown"&&E.jsx(Owt,{size:20}),e.type==="slider"&&E.jsx(uwt,{size:20}),e.type==="radio"&&E.jsx(Rwt,{size:20}),e.type==="checkbox"&&E.jsx(Dwt,{size:20}),e.type==="iframe"&&E.jsx(xwt,{size:20}),E.jsx(to,{order:5,ml:4,children:e.id})]}),E.jsx(gwt,{style:{rotate:i?"180deg":"none",transition:"rotate 200ms"}})]}),E.jsxs(T7,{in:i,mah:400,children:[E.jsx(ke,{style:{top:0,position:"sticky",backgroundColor:"white",zIndex:2},py:"md",children:E.jsx(TC,{})}),E.jsxs(bie,{cols:2,h:360,children:[E.jsx(yy,{mih:200,children:e.type!=="metadata"&&e.type!=="shortText"&&e.type!=="longText"&&e.type!=="iframe"?E.jsx(S4e,{spec:c,actions:!1,height:270,width:a.width/2-60-(l===void 0?0:60),padding:0,style:{justifySelf:"center"},renderer:"svg"}):E.jsxs(qt,{direction:"column",gap:"xs",style:{overflowX:"clip"},children:[e.type==="metadata"&&E.jsx(C6,{block:!0,children:`${JSON.stringify(r,null,2)}`}),e.type!=="metadata"&&E.jsxs(E.Fragment,{children:[E.jsx(Ue,{fw:700,children:"Response Values: "}),u.map((f,d)=>E.jsx(qt,{align:"center",gap:"xs",children:E.jsx(Ue,{children:f[e.id]})},d))]})]})}),E.jsx(yy,{mih:200,children:e.type==="metadata"?E.jsx(S4e,{spec:c,actions:!1,width:a.width/2-60,height:270,padding:0,style:{justifySelf:"center"}}):E.jsxs(E.Fragment,{children:[E.jsx(Ue,{fw:700,children:"Response Specification: "}),E.jsx(C6,{block:!0,children:JSON.stringify(e,null,2)}),E.jsx("br",{}),l&&E.jsxs(E.Fragment,{children:[E.jsx(Ue,{fw:700,children:"Correct Answer: "}),E.jsx(C6,{block:!0,children:JSON.stringify(l,null,2)})]})]})})]})]})]})}function Sar({participantData:e,studyConfig:t,trialId:n}){const r=n&&n!=="end"&&XJe(t.components[n],t),i=R.useMemo(()=>[{id:"Config and Timing",type:"metadata"},...r?r.response:[]],[r]);return r?E.jsx(qt,{w:"100%",direction:"column",gap:"xs",children:i.map(s=>E.jsx(Tar,{response:s,participantData:e,trialId:n,trialConfig:r},s.id))}):E.jsx(qt,{justify:"center",align:"center",pt:"lg",pb:"md",w:"100%",children:E.jsx(Ue,{children:n!=="end"?"No trial selected":"The end component has no data."})})}function Aar({studyConfig:e,visibleParticipants:t}){const n=R.useMemo(()=>{let i=ty(e.sequence);return i=fse(i,"root"),i.components.push("end"),i},[e.sequence]),{trialId:r}=sm();return E.jsx(yC,{shadow:"sm",p:"md",withBorder:!0,children:t.length===0?E.jsx(qt,{justify:"center",align:"center",pt:"lg",pb:"md",children:E.jsx(Ue,{children:"No data available."})}):E.jsxs(qt,{direction:"row",children:[E.jsx(ke,{w:340,children:E.jsx(OF,{configSequence:n,participantSequence:n,fullSequence:n,participantView:!1,studyConfig:e,analysisNavigation:!0})}),E.jsx(TC,{orientation:"vertical",mx:"md"}),E.jsx(Sar,{participantData:t,studyConfig:e,trialId:r})]})})}function Car({xScale:e,answer:t,height:n,labelHeight:r=0}){return E.jsx("g",{children:E.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const BO=3,mT=25,jO=25,UO=20,jke=1;function Iar({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:s,labelHeight:o=0}){const[a,u]=R.useState(!1),[l,{width:c}]=Mf();return E.jsxs("g",{onClick:()=>i(n),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{cursor:"pointer"},children:[E.jsx("rect",{opacity:1,fill:a||s?"cornflowerblue":"lightgray",x:e(t.startTime)+jke,width:e(t.endTime)-e(t.startTime)-jke*2,y:r-mT,height:mT}),E.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-BO,width:c+BO*2,y:r-mT-jO-o,height:UO,fill:"whitesmoke"}),E.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-BO,x2:c+e(t.startTime)+BO,y1:r-mT-jO+UO-o,y2:r-mT-jO+UO-o}),E.jsx("foreignObject",{x:e(t.startTime),width:c,y:r-mT-jO-o,height:UO,children:E.jsx(oa,{style:{width:"fit-content"},children:E.jsx(Ue,{lineClamp:1,ref:l,mx:0,style:{width:"fit-content",fontWeight:600},size:"12px",children:n})})})]})}const Uke=25,kar=8,CK={left:20,top:0,right:20,bottom:0};function Rar({participantData:e,width:t,height:n,selectedTask:r,studyId:i}){const s=Dp(),o=R.useCallback(f=>{const d=f.split("_"),h=+d[d.length-1];s(`/${i}/${Jh(h)}?participantId=${e.participantId}`)},[s,e.participantId,i]),a=R.useMemo(()=>{const f=Object.values(e.answers||{}).filter(p=>p.startTime).map(p=>[p.startTime,p.endTime]).flat(),d=Jk(f);return Pa([CK.left,t-CK.left-CK.right]).domain(d).clamp(!0)},[e,t]),u=R.useMemo(()=>{let f=0;const d=Object.entries(e.answers||{}).filter(h=>!!h[1].startTime).sort((h,p)=>h[1].startTime-p[1].startTime);return d.map((h,p)=>{const[m,g]=h,y=p>0?d[p-f-1]:null;return y&&y[0].length*kar+a(y[1].startTime)>a(g.startTime)?f+=1:f=0,{line:E.jsx(Car,{labelHeight:f*Uke,answer:g,height:n,xScale:a},m),label:E.jsx(Iar,{labelHeight:f*Uke,isSelected:r===m,setSelectedTask:o,answer:g,height:n,name:m,xScale:a},m)}})},[n,e.answers,r,o,a]),l=R.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const f=Object.values(e.answers).filter(d=>d.startTime).sort((d,h)=>d.startTime-h.startTime);return new Date(f[f.length-1].endTime-(f[0]?f[0].startTime:0)).getTime()},[e]),c=R.useMemo(()=>Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime).map(d=>{const[h,p]=d,m=[];let g=[-1,-1],y="visible";if(p.windowEvents)for(let v=0;v<p.windowEvents.length;v+=1)p.windowEvents[v][1]==="visibility"&&(p.windowEvents[v][2]==="hidden"&&y==="visible"?(g=[p.windowEvents[v][0],-1],y="hidden"):p.windowEvents[v][2]==="visible"&&y==="hidden"&&(g[1]=p.windowEvents[v][0],m.push(g),g=[-1,-1],y="visible"));return m.map((v,b)=>E.jsx(vs,{withinPortal:!0,label:"Browsed away",children:E.jsx("rect",{x:a(v[0]),width:a(v[1])-a(v[0]),y:n-5,height:10})},b))}),[n,e,a]);return E.jsx(oa,{children:E.jsxs(zi,{gap:25,style:{width:"100%"},children:[E.jsx(TC,{size:"md"}),E.jsxs(Si,{justify:"center",children:[E.jsx(n_,{href:"",onClick:()=>s(`/${i}/${Jh(0)}?participantId=${e.participantId}`),children:e.participantId}),e.completed?null:E.jsx(Ue,{size:"xl",c:"red",children:"Not completed"}),E.jsx(Ue,{size:"xl",children:`${ute(l)}`})]}),e.completed?E.jsxs("svg",{style:{width:t,height:n,overflow:"visible"},children:[u.map(f=>f.line),u.map(f=>f.label),c]}):null]})})}function $ar({visibleParticipants:e}){const{studyId:t}=sm(),[n,{width:r}]=Mf();return E.jsx(zi,{ref:n,style:{width:"100%"},children:e.map(i=>E.jsx(Rar,{studyId:t||"",height:200,participantData:i,width:r},i.participantId))})}function Nar({globalConfig:e}){const{studyId:t}=sm(),[n,r]=R.useState([]),[i,s]=R.useState(void 0),[o,a]=R.useState(!1),{storageEngine:u}=Ao(),l=Dp(),{tab:c}=sm(),{user:f}=w5();R.useEffect(()=>{if(!t)return()=>{};if(t==="__revisit-widget"){const b=async w=>{if(w.data.type==="revisitWidget/CONFIG"&&u){const x=await bpe(w.data.payload);s(x)}};return window.addEventListener("message",b),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",b)}}return _pe(t,e).then(b=>{b&&s(b)}),()=>{}},[t,e,u]);const d=R.useCallback(async()=>{if(a(!0),t){if(!i||!u)return;await u.initializeStudyDb(t,i);const b=await u.getAllParticipantsData();r(b),a(!1)}},[u,t,i]);R.useEffect(()=>{d()},[e,u,t,d]);const[h,p]=R.useState([]),[m,g,y]=R.useMemo(()=>{const b=n.filter(S=>!S.rejected&&S.completed),w=n.filter(S=>!S.rejected&&!S.completed),x=n.filter(S=>S.rejected);return p([...b,...w,...x]),[b,w,x]},[n]),v=R.useCallback(b=>{const w=[];b.includes("completed")&&w.push(...m),b.includes("inprogress")&&w.push(...g),b.includes("rejected")&&w.push(...y),p(w)},[m,g,y]);return E.jsxs(E.Fragment,{children:[E.jsx(t9,{studyIds:e.configsList}),E.jsx(Ui.Main,{children:E.jsxs($l,{fluid:!0,style:{height:"100%",position:"relative"},children:[E.jsx(qf,{visible:o}),E.jsxs(qt,{direction:"row",align:"center",justify:"space-between",children:[E.jsx(to,{order:5,children:t}),E.jsxs(qt,{direction:"row",align:"center",children:[E.jsx(Ue,{mt:-2,size:"sm",children:"Participants: "}),E.jsx(Ac.Group,{defaultValue:["completed","inprogress","rejected"],onChange:v,mb:"xs",mt:8,ml:"xs",children:E.jsxs(Si,{children:[E.jsx(Ac,{value:"completed",label:"Completed"}),E.jsx(Ac,{value:"inprogress",label:"In Progress"}),E.jsx(Ac,{value:"rejected",label:"Rejected"})]})})]})]}),E.jsx(iu,{h:"xs"}),E.jsxs(Fr,{variant:"outline",value:c,onChange:b=>l(`/analysis/stats/${t}/${b}`),style:{height:"100%"},children:[E.jsxs(Fr.List,{children:[E.jsx(Fr.Tab,{value:"table",leftSection:E.jsx(Lwt,{size:16}),children:"Table View"}),E.jsx(Fr.Tab,{value:"stats",leftSection:E.jsx(mwt,{size:16}),children:"Trial Stats"}),E.jsx(Fr.Tab,{value:"replay",leftSection:E.jsx(kwt,{size:16}),children:"Participant Replay"}),E.jsx(Fr.Tab,{value:"manage",leftSection:E.jsx(a8e,{size:16}),disabled:!f.isAdmin,children:"Manage"})]}),E.jsx(Fr.Panel,{value:"table",pt:"xs",children:i&&E.jsx(_ar,{visibleParticipants:h,studyConfig:i,refresh:d})}),E.jsx(Fr.Panel,{value:"stats",pt:"xs",children:i&&E.jsx(Aar,{studyConfig:i,visibleParticipants:h})}),E.jsx(Fr.Panel,{value:"replay",pt:"xs",children:E.jsx($ar,{visibleParticipants:h})}),E.jsx(Fr.Panel,{value:"manage",pt:"xs",children:t&&f.isAdmin?E.jsx(Ear,{studyId:t,refresh:d}):E.jsx($l,{mt:20,children:E.jsx(ey,{title:"Unauthorized Access",variant:"light",color:"red",icon:E.jsx(Lie,{}),children:"You are not authorized to manage the data for this study."})})})]})]})})]})}function zke({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:s}=w5(),{storageEngine:o}=Ao(),[a,u]=R.useState(!1),l=sm();return R.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&l[t]){const f=await n(l[t]);f&&u(f)}else u(!0);if(a)try{r&&await i(r)||s()}catch(f){s(),console.warn(f)}})()},[r.isAdmin,a]),r.determiningStatus||!o?E.jsx(qf,{visible:r.determiningStatus||!(o!=null&&o.getEngine())}):a&&!r.isAdmin&&!r.determiningStatus?E.jsx(Oie,{to:"/login"}):E.jsx(E.Fragment,{children:e})}async function Hnt(e,t){if(e instanceof Xh){t(!0);const n=new Mg,r=KF();try{await ptr(r,n,jet)}catch(i){CR({title:"Error",message:i.message,color:"red"})}finally{t(!1)}return r.currentUser}return null}function Par(){const{user:e}=w5(),[t,n]=R.useState(!1),{storageEngine:r}=Ao();return R.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&CR({title:"Unauthorized",message:"You are not authorized to use this application.",color:"red"})},[e.adminVerification]),!e.determiningStatus&&e.isAdmin?E.jsx(Oie,{to:"/"}):E.jsx($l,{children:E.jsx(EC,{padding:"lg",children:E.jsxs(qt,{align:"center",direction:"column",justify:"center",children:[E.jsx(i_,{maw:200,mt:50,mb:100,src:`${Nl}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),E.jsxs(E.Fragment,{children:[E.jsx(Ue,{mb:20,children:"To access admin settings, please sign in using your Google account."}),E.jsx(on,{onClick:()=>Hnt(r,n),leftSection:E.jsx(Mwt,{}),variant:"filled",children:"Sign In With Google"})]}),E.jsx(qf,{visible:t})]})})})}function Oar(){const{user:e,triggerAuth:t}=w5(),{storageEngine:n}=Ao(),[r,i]=R.useState(!1),[s,o]=R.useState([]),[a,u]=R.useState(!1),[l,c]=R.useState(!1),[f,d]=R.useState(!1),[h,p]=R.useState(!1),[m,g]=R.useState(!1),[y,v]=R.useState(""),[b,w]=R.useState(null),x=gDe({initialValues:{email:""},validate:{email:q4t("Invalid email")}});R.useEffect(()=>{(async()=>{if(u(!0),n instanceof Xh){const O=await(n==null?void 0:n.getUserManagementData("authentication"));i((O==null?void 0:O.isEnabled)||!1);const B=await(n==null?void 0:n.getUserManagementData("adminUsers"));B&&B.adminUsersList&&o(B==null?void 0:B.adminUsersList.map(q=>q.email))}else i(!1);u(!1)})()},[n]);const S=async()=>{if(u(!0),n instanceof Xh){const L=await Hnt(n,u);L&&L.email?(w({email:L.email,uid:L.uid}),p(!0)):g(!0)}u(!1)},A=async L=>{u(!0),n instanceof Xh&&L&&(await n.changeAuth(!0),await n.addAdminUser(L),o([L.email]),i(!0),t()),p(!1),u(!1)},C=async()=>{if(u(!0),n instanceof Xh){await n.addAdminUser({email:x.values.email,uid:null});const L=await n.getUserManagementData("adminUsers");o((L==null?void 0:L.adminUsersList.map(O=>O.email))||[])}u(!1),c(!1),x.setValues({email:""})},$=L=>{d(!0),v(L)},k=async()=>{if(u(!0),n instanceof Xh){await n.removeAdminUser(y);const L=await n.getUserManagementData("adminUsers");o((L==null?void 0:L.adminUsersList.map(O=>O.email))||[])}d(!1),u(!1)},P=R.useMemo(()=>n instanceof Xh,[n]);return E.jsxs(E.Fragment,{children:[E.jsx($l,{children:E.jsxs(EC,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[E.jsx(to,{mb:20,order:3,children:"Authentication"}),r?E.jsx(qt,{children:E.jsx(Ue,{children:"Authentication is enabled."})}):E.jsxs(qt,{justify:"space-between",children:[E.jsx(ke,{children:E.jsx(Ue,{children:"Authentication is currently disabled."})}),E.jsx(vs,{label:"You can only enable auth when using Firebase",disabled:P,children:E.jsx(on,{onClick:L=>P?S():L.preventDefault(),color:"green","data-disabled":P?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),r?E.jsxs(qt,{mt:40,direction:"column",children:[E.jsxs(qt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[E.jsx(to,{order:6,children:"Enabled Users"}),E.jsx(Mie,{style:{cursor:"pointer"},onClick:()=>c(!0)})]}),s.length>0?s.map(L=>{var O;return E.jsxs(qt,{justify:"space-between",mb:10,children:[E.jsx(Ue,{children:L}),L===((O=e.user)==null?void 0:O.email)?E.jsx(Ue,{color:"blue",size:"xs",children:"You"}):E.jsx(b2,{variant:"subtle",onClick:()=>$(L),children:E.jsx(l8e,{color:"red"})})]},L)}):null]}):null]})}),E.jsx(io,{opened:l,onClose:()=>c(!1),title:"Add Admin User",children:E.jsxs(ke,{component:"form",onSubmit:x.onSubmit(()=>C()),children:[E.jsx(zg,{leftSection:E.jsx(fwt,{}),placeholder:"User Gmail Account",...x.getInputProps("email")}),E.jsxs(qt,{mt:30,justify:"right",children:[E.jsx(on,{mr:5,variant:"subtle",color:"red",onClick:()=>c(!1),children:"Cancel"}),E.jsx(on,{type:"submit",children:"Save"})]})]})}),E.jsxs(io,{opened:f,size:"large",onClose:()=>d(!1),title:E.jsxs(Ue,{fw:700,children:["Remove",y,"?"]}),children:[E.jsxs(Ue,{mt:40,children:["Are you sure you want to remove",E.jsx("b",{children:y})," ","as an administrator?"]}),E.jsxs(qt,{mt:40,justify:"right",children:[E.jsx(on,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),E.jsx(on,{onClick:()=>k(),children:"Yes, I'm sure."})]})]}),E.jsxs(io,{opened:h,size:"md",onClose:()=>p(!1),title:E.jsx(Ue,{fw:700,children:"Enable Authentication?"}),children:[E.jsxs(Ue,{mt:40,children:["User"," ",E.jsx("b",{children:b==null?void 0:b.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),E.jsxs(qt,{mt:40,justify:"right",children:[E.jsx(on,{mr:5,variant:"subtle",color:"red",onClick:()=>p(!1),children:"Cancel"}),E.jsx(on,{onClick:()=>A(b),children:"Yes, I'm sure."})]})]}),E.jsxs(io,{opened:m,size:"md",onClose:()=>g(!1),title:E.jsx(Ue,{fw:700,children:"An Error Occurred."}),children:[E.jsxs(Ue,{mt:40,children:["An error has occurred when trying to enable authentication. Please consult the"," ",E.jsx("a",{href:"https://revisit.dev/docs/data-and-deployment/authentication-authorization/adding-removing-ui/",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),E.jsx(qt,{mt:40,justify:"right",children:E.jsx(on,{mr:5,onClick:()=>g(!1),children:"Okay"})})]}),E.jsx(qf,{visible:a})]})}class Dar extends znt{constructor(){super("localStorage");ll(this,"studyDatabase");ll(this,"studyId")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyId=n,this.studyDatabase=await kT.createInstance({name:n});const i=await this.getCurrentConfigHash(),s=await r7(JSON.stringify(r));i&&i!==s&&(await this.studyDatabase.removeItem("sequenceArray"),await this.clearCurrentParticipantId()),this.studyDatabase.setItem("currentConfigHash",s);const o=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...o,[s]:r})}getAudio(n,r){return console.warn("not yet implemented",r),Promise.resolve(void 0)}async saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async initializeParticipantSession(n,r,i,s,o){var f;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(o),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this.studyDatabase.getItem(this.currentParticipantId);if(a)return a;const u=await this.getModes(n),l=await r7(JSON.stringify(i)),c={participantId:this.currentParticipantId,participantConfigHash:l,sequence:await this.getSequence(),answers:{},searchParams:r,metadata:s,completed:!1,rejected:!1,participantTags:[]};return u.dataCollectionEnabled&&await((f=this.studyDatabase)==null?void 0:f.setItem(this.currentParticipantId,c)),c}async getCurrentConfigHash(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("currentConfigHash")}async getAllConfigsFromHash(n,r){return await kT.createInstance({name:r}).getItem("configs")||{}}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=n7();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswers(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const r=await this.studyDatabase.getItem(this.currentParticipantId);if(!r)throw new Error("Participant not initialized");r.answers=n,await this.studyDatabase.setItem(this.currentParticipantId,r)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");if(!this.studyId)throw new Error("Study ID not initialized");const r=await this.getModes(this.studyId),i=r.dataCollectionEnabled?n.pop():n[Math.floor(Math.random()*n.length-1)];if(!i)throw new Error("Latin square is empty");return r.dataCollectionEnabled&&await this.studyDatabase.setItem("sequenceArray",n),i}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&i!=="configs"&&i!=="currentConfigHash"&&i!=="modes"&&n.push(r)}),n}async getAllParticipantsDataByStudy(n){const r=kT.createInstance({name:n}),i=[];return await r.iterate((s,o)=>{o!=="config"&&o!=="currentParticipant"&&o!=="sequenceArray"&&o!=="configs"&&o!=="currentConfigHash"&&o!=="modes"&&i.push(s)}),i}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=n||await this.studyDatabase.getItem("currentParticipant");return r?await this.studyDatabase.getItem(r):null}async getParticipantTags(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.participantTags}async addParticipantTags(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=[...new Set([...r.participantTags,...n])],await this.studyDatabase.setItem(this.currentParticipantId,r)}async removeParticipantTags(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=r.participantTags.filter(i=>!n.includes(i)),await this.studyDatabase.setItem(this.currentParticipantId,r)}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=n7();await this.studyDatabase.setItem("currentParticipant",n)}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.completed||(n.completed=!0,await this.studyDatabase.setItem(this.currentParticipantId,n)),!0}async validateUser(n){return!0}async rejectParticipant(n,r,i){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const s=await this.studyDatabase.getItem(r);if(!s)throw new Error("Participant not found");if(s.rejected)return;s.rejected={reason:i,timestamp:new Date().getTime()};const o=await this.studyDatabase.getItem("sequenceArray");o&&(o.unshift(s.sequence),this.setSequenceArray(o)),await this.studyDatabase.setItem(r,s)}async rejectCurrentParticipant(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");await this.rejectParticipant(n,this.currentParticipantId,r)}async setMode(n,r,i){this.studyDatabase=await kT.createInstance({name:n});const s=await this.studyDatabase.getItem("modes");if(!s)throw new Error("Modes not initialized");s[r]=i,this.studyDatabase.setItem("modes",s)}async getModes(n){this.studyDatabase=await kT.createInstance({name:n});const r=await this.studyDatabase.getItem("modes");if(r)return r;const i={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return this.studyDatabase.setItem("modes",i),i}async getParticipantsStatusCounts(n){const r=await this.getAllParticipantsDataByStudy(n),i=r.filter(l=>l.completed&&!l.rejected).length,s=r.filter(l=>l.rejected).length,o=r.filter(l=>!l.completed&&!l.rejected).length,a=Math.min(...r.map(l=>Math.min(...Object.values(l.answers).map(c=>c.startTime)))),u=Math.max(...r.map(l=>Math.max(...Object.values(l.answers).map(c=>c.endTime))));return{completed:i,rejected:s,inProgress:o,minTime:a===1/0?null:a,maxTime:u===-1/0?null:u}}_verifyStudyDatabase(n){return n!==void 0}}async function Lar(){let e,t=!1;{const n=new Xh;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new Dar;await n.connect(),e=n}return e}function x4({title:e}){const t=o_();return R.useEffect(()=>{document.title=e},[t,e]),null}async function Mar(){const t=await(await fetch(`${Nl}global.json`)).text();return bJn(t)}function Far(){const[e,t]=R.useState(null),[n,r]=R.useState({});R.useEffect(()=>{async function a(){e&&r(await xJn(e))}a()},[e]),R.useEffect(()=>{e||Mar().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:s}=Ao();R.useEffect(()=>{if(i!==void 0)return;async function a(){const u=await Lar();s(u)}a()},[s,i]);const o=async a=>i instanceof Xh?!(await i.getModes(a)).analyticsInterfacePubliclyAccessible:!1;return e?E.jsx(ewt,{basename:Nl,children:E.jsx(gar,{children:E.jsx(owt,{children:E.jsxs(X_t,{children:[E.jsx(hw,{path:"/",element:E.jsxs(E.Fragment,{children:[E.jsx(x4,{title:"ReVISit | Home"}),E.jsxs(Ui,{padding:"md",header:{height:70},children:[E.jsx(t9,{studyIds:e.configsList}),E.jsx(T3t,{globalConfig:e,studyConfigs:n})]})]})}),E.jsx(hw,{path:"/:studyId/*",element:E.jsxs(E.Fragment,{children:[E.jsx(x4,{title:"ReVISit | Study"}),E.jsx(EJn,{globalConfig:e})]})}),E.jsx(hw,{path:"/analysis/stats/:studyId/:tab/:trialId?",element:E.jsxs(E.Fragment,{children:[E.jsx(x4,{title:"ReVISit | Analysis"}),E.jsx(zke,{paramToCheck:"studyId",paramCallback:o,children:E.jsx(Ui,{padding:"md",header:{height:70},children:E.jsx(Nar,{globalConfig:e})})})]})}),E.jsx(hw,{path:"/analysis/stats/:studyId",element:E.jsx(WJe,{to:"./table",replace:!0})}),E.jsx(hw,{path:"/settings",element:E.jsxs(zke,{children:[E.jsx(x4,{title:"ReVISit | Settings"}),E.jsxs(Ui,{padding:"md",header:{height:70},children:[E.jsx(t9,{studyIds:e.configsList}),E.jsx(Ui.Main,{children:E.jsx(Oar,{})})]})]})}),E.jsx(hw,{path:"/login",element:E.jsxs(E.Fragment,{children:[E.jsx(x4,{title:"ReVISit | Login"}),E.jsxs(Ui,{padding:"md",header:{height:70},children:[E.jsx(t9,{studyIds:e.configsList}),E.jsx(Ui.Main,{children:E.jsx(Par,{})})]})]})})]})})})}):null}IK.createRoot(document.getElementById("root")).render(E.jsx(ui.StrictMode,{children:E.jsx(o_t,{children:E.jsxs(TNe,{children:[E.jsx(Yy,{}),E.jsx(Far,{})]})})}))});export default Bar();
